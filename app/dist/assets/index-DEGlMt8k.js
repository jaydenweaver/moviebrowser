(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))s(n);new MutationObserver(n=>{for(const r of n)if(r.type==="childList")for(const o of r.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&s(o)}).observe(document,{childList:!0,subtree:!0});function i(n){const r={};return n.integrity&&(r.integrity=n.integrity),n.referrerPolicy&&(r.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?r.credentials="include":n.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function s(n){if(n.ep)return;n.ep=!0;const r=i(n);fetch(n.href,r)}})();function th(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Uw={exports:{}},Lg={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pL;function uj(){if(pL)return Lg;pL=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function i(s,n,r){var o=null;if(r!==void 0&&(o=""+r),n.key!==void 0&&(o=""+n.key),"key"in n){r={};for(var a in n)a!=="key"&&(r[a]=n[a])}else r=n;return n=r.ref,{$$typeof:e,type:s,key:o,ref:n!==void 0?n:null,props:r}}return Lg.Fragment=t,Lg.jsx=i,Lg.jsxs=i,Lg}var fL;function dj(){return fL||(fL=1,Uw.exports=uj()),Uw.exports}var oe=dj(),$w={exports:{}},Ke={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mL;function hj(){if(mL)return Ke;mL=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),n=Symbol.for("react.profiler"),r=Symbol.for("react.consumer"),o=Symbol.for("react.context"),a=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),p=Symbol.iterator;function f(B){return B===null||typeof B!="object"?null:(B=p&&B[p]||B["@@iterator"],typeof B=="function"?B:null)}var v={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},y=Object.assign,S={};function w(B,_,Y){this.props=B,this.context=_,this.refs=S,this.updater=Y||v}w.prototype.isReactComponent={},w.prototype.setState=function(B,_){if(typeof B!="object"&&typeof B!="function"&&B!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,B,_,"setState")},w.prototype.forceUpdate=function(B){this.updater.enqueueForceUpdate(this,B,"forceUpdate")};function b(){}b.prototype=w.prototype;function x(B,_,Y){this.props=B,this.context=_,this.refs=S,this.updater=Y||v}var D=x.prototype=new b;D.constructor=x,y(D,w.prototype),D.isPureReactComponent=!0;var E=Array.isArray,T={H:null,A:null,T:null,S:null,V:null},k=Object.prototype.hasOwnProperty;function P(B,_,Y,Z,ee,fe){return Y=fe.ref,{$$typeof:e,type:B,key:_,ref:Y!==void 0?Y:null,props:fe}}function O(B,_){return P(B.type,_,void 0,void 0,void 0,B.props)}function F(B){return typeof B=="object"&&B!==null&&B.$$typeof===e}function z(B){var _={"=":"=0",":":"=2"};return"$"+B.replace(/[=:]/g,function(Y){return _[Y]})}var V=/\/+/g;function U(B,_){return typeof B=="object"&&B!==null&&B.key!=null?z(""+B.key):_.toString(36)}function J(){}function ye(B){switch(B.status){case"fulfilled":return B.value;case"rejected":throw B.reason;default:switch(typeof B.status=="string"?B.then(J,J):(B.status="pending",B.then(function(_){B.status==="pending"&&(B.status="fulfilled",B.value=_)},function(_){B.status==="pending"&&(B.status="rejected",B.reason=_)})),B.status){case"fulfilled":return B.value;case"rejected":throw B.reason}}throw B}function Ce(B,_,Y,Z,ee){var fe=typeof B;(fe==="undefined"||fe==="boolean")&&(B=null);var ce=!1;if(B===null)ce=!0;else switch(fe){case"bigint":case"string":case"number":ce=!0;break;case"object":switch(B.$$typeof){case e:case t:ce=!0;break;case h:return ce=B._init,Ce(ce(B._payload),_,Y,Z,ee)}}if(ce)return ee=ee(B),ce=Z===""?"."+U(B,0):Z,E(ee)?(Y="",ce!=null&&(Y=ce.replace(V,"$&/")+"/"),Ce(ee,_,Y,"",function(ue){return ue})):ee!=null&&(F(ee)&&(ee=O(ee,Y+(ee.key==null||B&&B.key===ee.key?"":(""+ee.key).replace(V,"$&/")+"/")+ce)),_.push(ee)),1;ce=0;var we=Z===""?".":Z+":";if(E(B))for(var de=0;de<B.length;de++)Z=B[de],fe=we+U(Z,de),ce+=Ce(Z,_,Y,fe,ee);else if(de=f(B),typeof de=="function")for(B=de.call(B),de=0;!(Z=B.next()).done;)Z=Z.value,fe=we+U(Z,de++),ce+=Ce(Z,_,Y,fe,ee);else if(fe==="object"){if(typeof B.then=="function")return Ce(ye(B),_,Y,Z,ee);throw _=String(B),Error("Objects are not valid as a React child (found: "+(_==="[object Object]"?"object with keys {"+Object.keys(B).join(", ")+"}":_)+"). If you meant to render a collection of children, use an array instead.")}return ce}function G(B,_,Y){if(B==null)return B;var Z=[],ee=0;return Ce(B,Z,"","",function(fe){return _.call(Y,fe,ee++)}),Z}function K(B){if(B._status===-1){var _=B._result;_=_(),_.then(function(Y){(B._status===0||B._status===-1)&&(B._status=1,B._result=Y)},function(Y){(B._status===0||B._status===-1)&&(B._status=2,B._result=Y)}),B._status===-1&&(B._status=0,B._result=_)}if(B._status===1)return B._result.default;throw B._result}var ne=typeof reportError=="function"?reportError:function(B){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var _=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof B=="object"&&B!==null&&typeof B.message=="string"?String(B.message):String(B),error:B});if(!window.dispatchEvent(_))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",B);return}console.error(B)};function ge(){}return Ke.Children={map:G,forEach:function(B,_,Y){G(B,function(){_.apply(this,arguments)},Y)},count:function(B){var _=0;return G(B,function(){_++}),_},toArray:function(B){return G(B,function(_){return _})||[]},only:function(B){if(!F(B))throw Error("React.Children.only expected to receive a single React element child.");return B}},Ke.Component=w,Ke.Fragment=i,Ke.Profiler=n,Ke.PureComponent=x,Ke.StrictMode=s,Ke.Suspense=l,Ke.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=T,Ke.__COMPILER_RUNTIME={__proto__:null,c:function(B){return T.H.useMemoCache(B)}},Ke.cache=function(B){return function(){return B.apply(null,arguments)}},Ke.cloneElement=function(B,_,Y){if(B==null)throw Error("The argument must be a React element, but you passed "+B+".");var Z=y({},B.props),ee=B.key,fe=void 0;if(_!=null)for(ce in _.ref!==void 0&&(fe=void 0),_.key!==void 0&&(ee=""+_.key),_)!k.call(_,ce)||ce==="key"||ce==="__self"||ce==="__source"||ce==="ref"&&_.ref===void 0||(Z[ce]=_[ce]);var ce=arguments.length-2;if(ce===1)Z.children=Y;else if(1<ce){for(var we=Array(ce),de=0;de<ce;de++)we[de]=arguments[de+2];Z.children=we}return P(B.type,ee,void 0,void 0,fe,Z)},Ke.createContext=function(B){return B={$$typeof:o,_currentValue:B,_currentValue2:B,_threadCount:0,Provider:null,Consumer:null},B.Provider=B,B.Consumer={$$typeof:r,_context:B},B},Ke.createElement=function(B,_,Y){var Z,ee={},fe=null;if(_!=null)for(Z in _.key!==void 0&&(fe=""+_.key),_)k.call(_,Z)&&Z!=="key"&&Z!=="__self"&&Z!=="__source"&&(ee[Z]=_[Z]);var ce=arguments.length-2;if(ce===1)ee.children=Y;else if(1<ce){for(var we=Array(ce),de=0;de<ce;de++)we[de]=arguments[de+2];ee.children=we}if(B&&B.defaultProps)for(Z in ce=B.defaultProps,ce)ee[Z]===void 0&&(ee[Z]=ce[Z]);return P(B,fe,void 0,void 0,null,ee)},Ke.createRef=function(){return{current:null}},Ke.forwardRef=function(B){return{$$typeof:a,render:B}},Ke.isValidElement=F,Ke.lazy=function(B){return{$$typeof:h,_payload:{_status:-1,_result:B},_init:K}},Ke.memo=function(B,_){return{$$typeof:d,type:B,compare:_===void 0?null:_}},Ke.startTransition=function(B){var _=T.T,Y={};T.T=Y;try{var Z=B(),ee=T.S;ee!==null&&ee(Y,Z),typeof Z=="object"&&Z!==null&&typeof Z.then=="function"&&Z.then(ge,ne)}catch(fe){ne(fe)}finally{T.T=_}},Ke.unstable_useCacheRefresh=function(){return T.H.useCacheRefresh()},Ke.use=function(B){return T.H.use(B)},Ke.useActionState=function(B,_,Y){return T.H.useActionState(B,_,Y)},Ke.useCallback=function(B,_){return T.H.useCallback(B,_)},Ke.useContext=function(B){return T.H.useContext(B)},Ke.useDebugValue=function(){},Ke.useDeferredValue=function(B,_){return T.H.useDeferredValue(B,_)},Ke.useEffect=function(B,_,Y){var Z=T.H;if(typeof Y=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return Z.useEffect(B,_)},Ke.useId=function(){return T.H.useId()},Ke.useImperativeHandle=function(B,_,Y){return T.H.useImperativeHandle(B,_,Y)},Ke.useInsertionEffect=function(B,_){return T.H.useInsertionEffect(B,_)},Ke.useLayoutEffect=function(B,_){return T.H.useLayoutEffect(B,_)},Ke.useMemo=function(B,_){return T.H.useMemo(B,_)},Ke.useOptimistic=function(B,_){return T.H.useOptimistic(B,_)},Ke.useReducer=function(B,_,Y){return T.H.useReducer(B,_,Y)},Ke.useRef=function(B){return T.H.useRef(B)},Ke.useState=function(B){return T.H.useState(B)},Ke.useSyncExternalStore=function(B,_,Y){return T.H.useSyncExternalStore(B,_,Y)},Ke.useTransition=function(){return T.H.useTransition()},Ke.version="19.1.0",Ke}var vL;function uD(){return vL||(vL=1,$w.exports=hj()),$w.exports}var I=uD();const Q=th(I);var Yw={exports:{}},kg={},Kw={exports:{}},qw={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yL;function gj(){return yL||(yL=1,function(e){function t(G,K){var ne=G.length;G.push(K);e:for(;0<ne;){var ge=ne-1>>>1,B=G[ge];if(0<n(B,K))G[ge]=K,G[ne]=B,ne=ge;else break e}}function i(G){return G.length===0?null:G[0]}function s(G){if(G.length===0)return null;var K=G[0],ne=G.pop();if(ne!==K){G[0]=ne;e:for(var ge=0,B=G.length,_=B>>>1;ge<_;){var Y=2*(ge+1)-1,Z=G[Y],ee=Y+1,fe=G[ee];if(0>n(Z,ne))ee<B&&0>n(fe,Z)?(G[ge]=fe,G[ee]=ne,ge=ee):(G[ge]=Z,G[Y]=ne,ge=Y);else if(ee<B&&0>n(fe,ne))G[ge]=fe,G[ee]=ne,ge=ee;else break e}}return K}function n(G,K){var ne=G.sortIndex-K.sortIndex;return ne!==0?ne:G.id-K.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var r=performance;e.unstable_now=function(){return r.now()}}else{var o=Date,a=o.now();e.unstable_now=function(){return o.now()-a}}var l=[],d=[],h=1,p=null,f=3,v=!1,y=!1,S=!1,w=!1,b=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,D=typeof setImmediate<"u"?setImmediate:null;function E(G){for(var K=i(d);K!==null;){if(K.callback===null)s(d);else if(K.startTime<=G)s(d),K.sortIndex=K.expirationTime,t(l,K);else break;K=i(d)}}function T(G){if(S=!1,E(G),!y)if(i(l)!==null)y=!0,k||(k=!0,U());else{var K=i(d);K!==null&&Ce(T,K.startTime-G)}}var k=!1,P=-1,O=5,F=-1;function z(){return w?!0:!(e.unstable_now()-F<O)}function V(){if(w=!1,k){var G=e.unstable_now();F=G;var K=!0;try{e:{y=!1,S&&(S=!1,x(P),P=-1),v=!0;var ne=f;try{t:{for(E(G),p=i(l);p!==null&&!(p.expirationTime>G&&z());){var ge=p.callback;if(typeof ge=="function"){p.callback=null,f=p.priorityLevel;var B=ge(p.expirationTime<=G);if(G=e.unstable_now(),typeof B=="function"){p.callback=B,E(G),K=!0;break t}p===i(l)&&s(l),E(G)}else s(l);p=i(l)}if(p!==null)K=!0;else{var _=i(d);_!==null&&Ce(T,_.startTime-G),K=!1}}break e}finally{p=null,f=ne,v=!1}K=void 0}}finally{K?U():k=!1}}}var U;if(typeof D=="function")U=function(){D(V)};else if(typeof MessageChannel<"u"){var J=new MessageChannel,ye=J.port2;J.port1.onmessage=V,U=function(){ye.postMessage(null)}}else U=function(){b(V,0)};function Ce(G,K){P=b(function(){G(e.unstable_now())},K)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(G){G.callback=null},e.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<G?Math.floor(1e3/G):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_next=function(G){switch(f){case 1:case 2:case 3:var K=3;break;default:K=f}var ne=f;f=K;try{return G()}finally{f=ne}},e.unstable_requestPaint=function(){w=!0},e.unstable_runWithPriority=function(G,K){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var ne=f;f=G;try{return K()}finally{f=ne}},e.unstable_scheduleCallback=function(G,K,ne){var ge=e.unstable_now();switch(typeof ne=="object"&&ne!==null?(ne=ne.delay,ne=typeof ne=="number"&&0<ne?ge+ne:ge):ne=ge,G){case 1:var B=-1;break;case 2:B=250;break;case 5:B=1073741823;break;case 4:B=1e4;break;default:B=5e3}return B=ne+B,G={id:h++,callback:K,priorityLevel:G,startTime:ne,expirationTime:B,sortIndex:-1},ne>ge?(G.sortIndex=ne,t(d,G),i(l)===null&&G===i(d)&&(S?(x(P),P=-1):S=!0,Ce(T,ne-ge))):(G.sortIndex=B,t(l,G),y||v||(y=!0,k||(k=!0,U()))),G},e.unstable_shouldYield=z,e.unstable_wrapCallback=function(G){var K=f;return function(){var ne=f;f=K;try{return G.apply(this,arguments)}finally{f=ne}}}}(qw)),qw}var CL;function pj(){return CL||(CL=1,Kw.exports=gj()),Kw.exports}var Zw={exports:{}},ws={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bL;function fj(){if(bL)return ws;bL=1;var e=uD();function t(l){var d="https://react.dev/errors/"+l;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var h=2;h<arguments.length;h++)d+="&args[]="+encodeURIComponent(arguments[h])}return"Minified React error #"+l+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var s={d:{f:i,r:function(){throw Error(t(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},n=Symbol.for("react.portal");function r(l,d,h){var p=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:n,key:p==null?null:""+p,children:l,containerInfo:d,implementation:h}}var o=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function a(l,d){if(l==="font")return"";if(typeof d=="string")return d==="use-credentials"?d:""}return ws.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,ws.createPortal=function(l,d){var h=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)throw Error(t(299));return r(l,d,null,h)},ws.flushSync=function(l){var d=o.T,h=s.p;try{if(o.T=null,s.p=2,l)return l()}finally{o.T=d,s.p=h,s.d.f()}},ws.preconnect=function(l,d){typeof l=="string"&&(d?(d=d.crossOrigin,d=typeof d=="string"?d==="use-credentials"?d:"":void 0):d=null,s.d.C(l,d))},ws.prefetchDNS=function(l){typeof l=="string"&&s.d.D(l)},ws.preinit=function(l,d){if(typeof l=="string"&&d&&typeof d.as=="string"){var h=d.as,p=a(h,d.crossOrigin),f=typeof d.integrity=="string"?d.integrity:void 0,v=typeof d.fetchPriority=="string"?d.fetchPriority:void 0;h==="style"?s.d.S(l,typeof d.precedence=="string"?d.precedence:void 0,{crossOrigin:p,integrity:f,fetchPriority:v}):h==="script"&&s.d.X(l,{crossOrigin:p,integrity:f,fetchPriority:v,nonce:typeof d.nonce=="string"?d.nonce:void 0})}},ws.preinitModule=function(l,d){if(typeof l=="string")if(typeof d=="object"&&d!==null){if(d.as==null||d.as==="script"){var h=a(d.as,d.crossOrigin);s.d.M(l,{crossOrigin:h,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0})}}else d==null&&s.d.M(l)},ws.preload=function(l,d){if(typeof l=="string"&&typeof d=="object"&&d!==null&&typeof d.as=="string"){var h=d.as,p=a(h,d.crossOrigin);s.d.L(l,h,{crossOrigin:p,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0,type:typeof d.type=="string"?d.type:void 0,fetchPriority:typeof d.fetchPriority=="string"?d.fetchPriority:void 0,referrerPolicy:typeof d.referrerPolicy=="string"?d.referrerPolicy:void 0,imageSrcSet:typeof d.imageSrcSet=="string"?d.imageSrcSet:void 0,imageSizes:typeof d.imageSizes=="string"?d.imageSizes:void 0,media:typeof d.media=="string"?d.media:void 0})}},ws.preloadModule=function(l,d){if(typeof l=="string")if(d){var h=a(d.as,d.crossOrigin);s.d.m(l,{as:typeof d.as=="string"&&d.as!=="script"?d.as:void 0,crossOrigin:h,integrity:typeof d.integrity=="string"?d.integrity:void 0})}else s.d.m(l)},ws.requestFormReset=function(l){s.d.r(l)},ws.unstable_batchedUpdates=function(l,d){return l(d)},ws.useFormState=function(l,d,h){return o.H.useFormState(l,d,h)},ws.useFormStatus=function(){return o.H.useHostTransitionStatus()},ws.version="19.1.0",ws}var SL;function TO(){if(SL)return Zw.exports;SL=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Zw.exports=fj(),Zw.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wL;function mj(){if(wL)return kg;wL=1;var e=pj(),t=uD(),i=TO();function s(c){var u="https://react.dev/errors/"+c;if(1<arguments.length){u+="?args[]="+encodeURIComponent(arguments[1]);for(var g=2;g<arguments.length;g++)u+="&args[]="+encodeURIComponent(arguments[g])}return"Minified React error #"+c+"; visit "+u+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(c){return!(!c||c.nodeType!==1&&c.nodeType!==9&&c.nodeType!==11)}function r(c){var u=c,g=c;if(c.alternate)for(;u.return;)u=u.return;else{c=u;do u=c,(u.flags&4098)!==0&&(g=u.return),c=u.return;while(c)}return u.tag===3?g:null}function o(c){if(c.tag===13){var u=c.memoizedState;if(u===null&&(c=c.alternate,c!==null&&(u=c.memoizedState)),u!==null)return u.dehydrated}return null}function a(c){if(r(c)!==c)throw Error(s(188))}function l(c){var u=c.alternate;if(!u){if(u=r(c),u===null)throw Error(s(188));return u!==c?null:c}for(var g=c,m=u;;){var C=g.return;if(C===null)break;var M=C.alternate;if(M===null){if(m=C.return,m!==null){g=m;continue}break}if(C.child===M.child){for(M=C.child;M;){if(M===g)return a(C),c;if(M===m)return a(C),u;M=M.sibling}throw Error(s(188))}if(g.return!==m.return)g=C,m=M;else{for(var L=!1,N=C.child;N;){if(N===g){L=!0,g=C,m=M;break}if(N===m){L=!0,m=C,g=M;break}N=N.sibling}if(!L){for(N=M.child;N;){if(N===g){L=!0,g=M,m=C;break}if(N===m){L=!0,m=M,g=C;break}N=N.sibling}if(!L)throw Error(s(189))}}if(g.alternate!==m)throw Error(s(190))}if(g.tag!==3)throw Error(s(188));return g.stateNode.current===g?c:u}function d(c){var u=c.tag;if(u===5||u===26||u===27||u===6)return c;for(c=c.child;c!==null;){if(u=d(c),u!==null)return u;c=c.sibling}return null}var h=Object.assign,p=Symbol.for("react.element"),f=Symbol.for("react.transitional.element"),v=Symbol.for("react.portal"),y=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),w=Symbol.for("react.profiler"),b=Symbol.for("react.provider"),x=Symbol.for("react.consumer"),D=Symbol.for("react.context"),E=Symbol.for("react.forward_ref"),T=Symbol.for("react.suspense"),k=Symbol.for("react.suspense_list"),P=Symbol.for("react.memo"),O=Symbol.for("react.lazy"),F=Symbol.for("react.activity"),z=Symbol.for("react.memo_cache_sentinel"),V=Symbol.iterator;function U(c){return c===null||typeof c!="object"?null:(c=V&&c[V]||c["@@iterator"],typeof c=="function"?c:null)}var J=Symbol.for("react.client.reference");function ye(c){if(c==null)return null;if(typeof c=="function")return c.$$typeof===J?null:c.displayName||c.name||null;if(typeof c=="string")return c;switch(c){case y:return"Fragment";case w:return"Profiler";case S:return"StrictMode";case T:return"Suspense";case k:return"SuspenseList";case F:return"Activity"}if(typeof c=="object")switch(c.$$typeof){case v:return"Portal";case D:return(c.displayName||"Context")+".Provider";case x:return(c._context.displayName||"Context")+".Consumer";case E:var u=c.render;return c=c.displayName,c||(c=u.displayName||u.name||"",c=c!==""?"ForwardRef("+c+")":"ForwardRef"),c;case P:return u=c.displayName||null,u!==null?u:ye(c.type)||"Memo";case O:u=c._payload,c=c._init;try{return ye(c(u))}catch{}}return null}var Ce=Array.isArray,G=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,K=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ne={pending:!1,data:null,method:null,action:null},ge=[],B=-1;function _(c){return{current:c}}function Y(c){0>B||(c.current=ge[B],ge[B]=null,B--)}function Z(c,u){B++,ge[B]=c.current,c.current=u}var ee=_(null),fe=_(null),ce=_(null),we=_(null);function de(c,u){switch(Z(ce,u),Z(fe,c),Z(ee,null),u.nodeType){case 9:case 11:c=(c=u.documentElement)&&(c=c.namespaceURI)?VI(c):0;break;default:if(c=u.tagName,u=u.namespaceURI)u=VI(u),c=_I(u,c);else switch(c){case"svg":c=1;break;case"math":c=2;break;default:c=0}}Y(ee),Z(ee,c)}function ue(){Y(ee),Y(fe),Y(ce)}function xe(c){c.memoizedState!==null&&Z(we,c);var u=ee.current,g=_I(u,c.type);u!==g&&(Z(fe,c),Z(ee,g))}function Ee(c){fe.current===c&&(Y(ee),Y(fe)),we.current===c&&(Y(we),Rg._currentValue=ne)}var Ae=Object.prototype.hasOwnProperty,He=e.unstable_scheduleCallback,_e=e.unstable_cancelCallback,je=e.unstable_shouldYield,Dt=e.unstable_requestPaint,ut=e.unstable_now,xi=e.unstable_getCurrentPriorityLevel,Li=e.unstable_ImmediatePriority,tt=e.unstable_UserBlockingPriority,ot=e.unstable_NormalPriority,ti=e.unstable_LowPriority,_t=e.unstable_IdlePriority,fr=e.log,Fn=e.unstable_setDisableYieldValue,gt=null,Rt=null;function cn(c){if(typeof fr=="function"&&Fn(c),Rt&&typeof Rt.setStrictMode=="function")try{Rt.setStrictMode(gt,c)}catch{}}var un=Math.clz32?Math.clz32:ZG,KG=Math.log,qG=Math.LN2;function ZG(c){return c>>>=0,c===0?32:31-(KG(c)/qG|0)|0}var Jf=256,em=4194304;function Vl(c){var u=c&42;if(u!==0)return u;switch(c&-c){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return c&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return c&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return c}}function tm(c,u,g){var m=c.pendingLanes;if(m===0)return 0;var C=0,M=c.suspendedLanes,L=c.pingedLanes;c=c.warmLanes;var N=m&134217727;return N!==0?(m=N&~M,m!==0?C=Vl(m):(L&=N,L!==0?C=Vl(L):g||(g=N&~c,g!==0&&(C=Vl(g))))):(N=m&~M,N!==0?C=Vl(N):L!==0?C=Vl(L):g||(g=m&~c,g!==0&&(C=Vl(g)))),C===0?0:u!==0&&u!==C&&(u&M)===0&&(M=C&-C,g=u&-u,M>=g||M===32&&(g&4194048)!==0)?u:C}function Fh(c,u){return(c.pendingLanes&~(c.suspendedLanes&~c.pingedLanes)&u)===0}function XG(c,u){switch(c){case 1:case 2:case 4:case 8:case 64:return u+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return u+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function DA(){var c=Jf;return Jf<<=1,(Jf&4194048)===0&&(Jf=256),c}function RA(){var c=em;return em<<=1,(em&62914560)===0&&(em=4194304),c}function Ob(c){for(var u=[],g=0;31>g;g++)u.push(c);return u}function Nh(c,u){c.pendingLanes|=u,u!==268435456&&(c.suspendedLanes=0,c.pingedLanes=0,c.warmLanes=0)}function QG(c,u,g,m,C,M){var L=c.pendingLanes;c.pendingLanes=g,c.suspendedLanes=0,c.pingedLanes=0,c.warmLanes=0,c.expiredLanes&=g,c.entangledLanes&=g,c.errorRecoveryDisabledLanes&=g,c.shellSuspendCounter=0;var N=c.entanglements,H=c.expirationTimes,X=c.hiddenUpdates;for(g=L&~g;0<g;){var le=31-un(g),pe=1<<le;N[le]=0,H[le]=-1;var ie=X[le];if(ie!==null)for(X[le]=null,le=0;le<ie.length;le++){var se=ie[le];se!==null&&(se.lane&=-536870913)}g&=~pe}m!==0&&EA(c,m,0),M!==0&&C===0&&c.tag!==0&&(c.suspendedLanes|=M&~(L&~u))}function EA(c,u,g){c.pendingLanes|=u,c.suspendedLanes&=~u;var m=31-un(u);c.entangledLanes|=u,c.entanglements[m]=c.entanglements[m]|1073741824|g&4194090}function AA(c,u){var g=c.entangledLanes|=u;for(c=c.entanglements;g;){var m=31-un(g),C=1<<m;C&u|c[m]&u&&(c[m]|=u),g&=~C}}function Fb(c){switch(c){case 2:c=1;break;case 8:c=4;break;case 32:c=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:c=128;break;case 268435456:c=134217728;break;default:c=0}return c}function Nb(c){return c&=-c,2<c?8<c?(c&134217727)!==0?32:268435456:8:2}function TA(){var c=K.p;return c!==0?c:(c=window.event,c===void 0?32:lL(c.type))}function JG(c,u){var g=K.p;try{return K.p=c,u()}finally{K.p=g}}var Aa=Math.random().toString(36).slice(2),bs="__reactFiber$"+Aa,$s="__reactProps$"+Aa,vu="__reactContainer$"+Aa,zb="__reactEvents$"+Aa,e4="__reactListeners$"+Aa,t4="__reactHandles$"+Aa,IA="__reactResources$"+Aa,zh="__reactMarker$"+Aa;function Bb(c){delete c[bs],delete c[$s],delete c[zb],delete c[e4],delete c[t4]}function yu(c){var u=c[bs];if(u)return u;for(var g=c.parentNode;g;){if(u=g[vu]||g[bs]){if(g=u.alternate,u.child!==null||g!==null&&g.child!==null)for(c=YI(c);c!==null;){if(g=c[bs])return g;c=YI(c)}return u}c=g,g=c.parentNode}return null}function Cu(c){if(c=c[bs]||c[vu]){var u=c.tag;if(u===5||u===6||u===13||u===26||u===27||u===3)return c}return null}function Bh(c){var u=c.tag;if(u===5||u===26||u===27||u===6)return c.stateNode;throw Error(s(33))}function bu(c){var u=c[IA];return u||(u=c[IA]={hoistableStyles:new Map,hoistableScripts:new Map}),u}function Yi(c){c[zh]=!0}var LA=new Set,kA={};function _l(c,u){Su(c,u),Su(c+"Capture",u)}function Su(c,u){for(kA[c]=u,c=0;c<u.length;c++)LA.add(u[c])}var i4=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),PA={},OA={};function s4(c){return Ae.call(OA,c)?!0:Ae.call(PA,c)?!1:i4.test(c)?OA[c]=!0:(PA[c]=!0,!1)}function im(c,u,g){if(s4(u))if(g===null)c.removeAttribute(u);else{switch(typeof g){case"undefined":case"function":case"symbol":c.removeAttribute(u);return;case"boolean":var m=u.toLowerCase().slice(0,5);if(m!=="data-"&&m!=="aria-"){c.removeAttribute(u);return}}c.setAttribute(u,""+g)}}function sm(c,u,g){if(g===null)c.removeAttribute(u);else{switch(typeof g){case"undefined":case"function":case"symbol":case"boolean":c.removeAttribute(u);return}c.setAttribute(u,""+g)}}function Io(c,u,g,m){if(m===null)c.removeAttribute(g);else{switch(typeof m){case"undefined":case"function":case"symbol":case"boolean":c.removeAttribute(g);return}c.setAttributeNS(u,g,""+m)}}var Gb,FA;function wu(c){if(Gb===void 0)try{throw Error()}catch(g){var u=g.stack.trim().match(/\n( *(at )?)/);Gb=u&&u[1]||"",FA=-1<g.stack.indexOf(`
    at`)?" (<anonymous>)":-1<g.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Gb+c+FA}var Hb=!1;function jb(c,u){if(!c||Hb)return"";Hb=!0;var g=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var m={DetermineComponentFrameRoot:function(){try{if(u){var pe=function(){throw Error()};if(Object.defineProperty(pe.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(pe,[])}catch(se){var ie=se}Reflect.construct(c,[],pe)}else{try{pe.call()}catch(se){ie=se}c.call(pe.prototype)}}else{try{throw Error()}catch(se){ie=se}(pe=c())&&typeof pe.catch=="function"&&pe.catch(function(){})}}catch(se){if(se&&ie&&typeof se.stack=="string")return[se.stack,ie.stack]}return[null,null]}};m.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var C=Object.getOwnPropertyDescriptor(m.DetermineComponentFrameRoot,"name");C&&C.configurable&&Object.defineProperty(m.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var M=m.DetermineComponentFrameRoot(),L=M[0],N=M[1];if(L&&N){var H=L.split(`
`),X=N.split(`
`);for(C=m=0;m<H.length&&!H[m].includes("DetermineComponentFrameRoot");)m++;for(;C<X.length&&!X[C].includes("DetermineComponentFrameRoot");)C++;if(m===H.length||C===X.length)for(m=H.length-1,C=X.length-1;1<=m&&0<=C&&H[m]!==X[C];)C--;for(;1<=m&&0<=C;m--,C--)if(H[m]!==X[C]){if(m!==1||C!==1)do if(m--,C--,0>C||H[m]!==X[C]){var le=`
`+H[m].replace(" at new "," at ");return c.displayName&&le.includes("<anonymous>")&&(le=le.replace("<anonymous>",c.displayName)),le}while(1<=m&&0<=C);break}}}finally{Hb=!1,Error.prepareStackTrace=g}return(g=c?c.displayName||c.name:"")?wu(g):""}function n4(c){switch(c.tag){case 26:case 27:case 5:return wu(c.type);case 16:return wu("Lazy");case 13:return wu("Suspense");case 19:return wu("SuspenseList");case 0:case 15:return jb(c.type,!1);case 11:return jb(c.type.render,!1);case 1:return jb(c.type,!0);case 31:return wu("Activity");default:return""}}function NA(c){try{var u="";do u+=n4(c),c=c.return;while(c);return u}catch(g){return`
Error generating stack: `+g.message+`
`+g.stack}}function Nn(c){switch(typeof c){case"bigint":case"boolean":case"number":case"string":case"undefined":return c;case"object":return c;default:return""}}function zA(c){var u=c.type;return(c=c.nodeName)&&c.toLowerCase()==="input"&&(u==="checkbox"||u==="radio")}function r4(c){var u=zA(c)?"checked":"value",g=Object.getOwnPropertyDescriptor(c.constructor.prototype,u),m=""+c[u];if(!c.hasOwnProperty(u)&&typeof g<"u"&&typeof g.get=="function"&&typeof g.set=="function"){var C=g.get,M=g.set;return Object.defineProperty(c,u,{configurable:!0,get:function(){return C.call(this)},set:function(L){m=""+L,M.call(this,L)}}),Object.defineProperty(c,u,{enumerable:g.enumerable}),{getValue:function(){return m},setValue:function(L){m=""+L},stopTracking:function(){c._valueTracker=null,delete c[u]}}}}function nm(c){c._valueTracker||(c._valueTracker=r4(c))}function BA(c){if(!c)return!1;var u=c._valueTracker;if(!u)return!0;var g=u.getValue(),m="";return c&&(m=zA(c)?c.checked?"true":"false":c.value),c=m,c!==g?(u.setValue(c),!0):!1}function rm(c){if(c=c||(typeof document<"u"?document:void 0),typeof c>"u")return null;try{return c.activeElement||c.body}catch{return c.body}}var o4=/[\n"\\]/g;function zn(c){return c.replace(o4,function(u){return"\\"+u.charCodeAt(0).toString(16)+" "})}function Vb(c,u,g,m,C,M,L,N){c.name="",L!=null&&typeof L!="function"&&typeof L!="symbol"&&typeof L!="boolean"?c.type=L:c.removeAttribute("type"),u!=null?L==="number"?(u===0&&c.value===""||c.value!=u)&&(c.value=""+Nn(u)):c.value!==""+Nn(u)&&(c.value=""+Nn(u)):L!=="submit"&&L!=="reset"||c.removeAttribute("value"),u!=null?_b(c,L,Nn(u)):g!=null?_b(c,L,Nn(g)):m!=null&&c.removeAttribute("value"),C==null&&M!=null&&(c.defaultChecked=!!M),C!=null&&(c.checked=C&&typeof C!="function"&&typeof C!="symbol"),N!=null&&typeof N!="function"&&typeof N!="symbol"&&typeof N!="boolean"?c.name=""+Nn(N):c.removeAttribute("name")}function GA(c,u,g,m,C,M,L,N){if(M!=null&&typeof M!="function"&&typeof M!="symbol"&&typeof M!="boolean"&&(c.type=M),u!=null||g!=null){if(!(M!=="submit"&&M!=="reset"||u!=null))return;g=g!=null?""+Nn(g):"",u=u!=null?""+Nn(u):g,N||u===c.value||(c.value=u),c.defaultValue=u}m=m??C,m=typeof m!="function"&&typeof m!="symbol"&&!!m,c.checked=N?c.checked:!!m,c.defaultChecked=!!m,L!=null&&typeof L!="function"&&typeof L!="symbol"&&typeof L!="boolean"&&(c.name=L)}function _b(c,u,g){u==="number"&&rm(c.ownerDocument)===c||c.defaultValue===""+g||(c.defaultValue=""+g)}function xu(c,u,g,m){if(c=c.options,u){u={};for(var C=0;C<g.length;C++)u["$"+g[C]]=!0;for(g=0;g<c.length;g++)C=u.hasOwnProperty("$"+c[g].value),c[g].selected!==C&&(c[g].selected=C),C&&m&&(c[g].defaultSelected=!0)}else{for(g=""+Nn(g),u=null,C=0;C<c.length;C++){if(c[C].value===g){c[C].selected=!0,m&&(c[C].defaultSelected=!0);return}u!==null||c[C].disabled||(u=c[C])}u!==null&&(u.selected=!0)}}function HA(c,u,g){if(u!=null&&(u=""+Nn(u),u!==c.value&&(c.value=u),g==null)){c.defaultValue!==u&&(c.defaultValue=u);return}c.defaultValue=g!=null?""+Nn(g):""}function jA(c,u,g,m){if(u==null){if(m!=null){if(g!=null)throw Error(s(92));if(Ce(m)){if(1<m.length)throw Error(s(93));m=m[0]}g=m}g==null&&(g=""),u=g}g=Nn(u),c.defaultValue=g,m=c.textContent,m===g&&m!==""&&m!==null&&(c.value=m)}function Mu(c,u){if(u){var g=c.firstChild;if(g&&g===c.lastChild&&g.nodeType===3){g.nodeValue=u;return}}c.textContent=u}var a4=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function VA(c,u,g){var m=u.indexOf("--")===0;g==null||typeof g=="boolean"||g===""?m?c.setProperty(u,""):u==="float"?c.cssFloat="":c[u]="":m?c.setProperty(u,g):typeof g!="number"||g===0||a4.has(u)?u==="float"?c.cssFloat=g:c[u]=(""+g).trim():c[u]=g+"px"}function _A(c,u,g){if(u!=null&&typeof u!="object")throw Error(s(62));if(c=c.style,g!=null){for(var m in g)!g.hasOwnProperty(m)||u!=null&&u.hasOwnProperty(m)||(m.indexOf("--")===0?c.setProperty(m,""):m==="float"?c.cssFloat="":c[m]="");for(var C in u)m=u[C],u.hasOwnProperty(C)&&g[C]!==m&&VA(c,C,m)}else for(var M in u)u.hasOwnProperty(M)&&VA(c,M,u[M])}function Wb(c){if(c.indexOf("-")===-1)return!1;switch(c){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var l4=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),c4=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function om(c){return c4.test(""+c)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":c}var Ub=null;function $b(c){return c=c.target||c.srcElement||window,c.correspondingUseElement&&(c=c.correspondingUseElement),c.nodeType===3?c.parentNode:c}var Du=null,Ru=null;function WA(c){var u=Cu(c);if(u&&(c=u.stateNode)){var g=c[$s]||null;e:switch(c=u.stateNode,u.type){case"input":if(Vb(c,g.value,g.defaultValue,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name),u=g.name,g.type==="radio"&&u!=null){for(g=c;g.parentNode;)g=g.parentNode;for(g=g.querySelectorAll('input[name="'+zn(""+u)+'"][type="radio"]'),u=0;u<g.length;u++){var m=g[u];if(m!==c&&m.form===c.form){var C=m[$s]||null;if(!C)throw Error(s(90));Vb(m,C.value,C.defaultValue,C.defaultValue,C.checked,C.defaultChecked,C.type,C.name)}}for(u=0;u<g.length;u++)m=g[u],m.form===c.form&&BA(m)}break e;case"textarea":HA(c,g.value,g.defaultValue);break e;case"select":u=g.value,u!=null&&xu(c,!!g.multiple,u,!1)}}}var Yb=!1;function UA(c,u,g){if(Yb)return c(u,g);Yb=!0;try{var m=c(u);return m}finally{if(Yb=!1,(Du!==null||Ru!==null)&&(Um(),Du&&(u=Du,c=Ru,Ru=Du=null,WA(u),c)))for(u=0;u<c.length;u++)WA(c[u])}}function Gh(c,u){var g=c.stateNode;if(g===null)return null;var m=g[$s]||null;if(m===null)return null;g=m[u];e:switch(u){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(m=!m.disabled)||(c=c.type,m=!(c==="button"||c==="input"||c==="select"||c==="textarea")),c=!m;break e;default:c=!1}if(c)return null;if(g&&typeof g!="function")throw Error(s(231,u,typeof g));return g}var Lo=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Kb=!1;if(Lo)try{var Hh={};Object.defineProperty(Hh,"passive",{get:function(){Kb=!0}}),window.addEventListener("test",Hh,Hh),window.removeEventListener("test",Hh,Hh)}catch{Kb=!1}var Ta=null,qb=null,am=null;function $A(){if(am)return am;var c,u=qb,g=u.length,m,C="value"in Ta?Ta.value:Ta.textContent,M=C.length;for(c=0;c<g&&u[c]===C[c];c++);var L=g-c;for(m=1;m<=L&&u[g-m]===C[M-m];m++);return am=C.slice(c,1<m?1-m:void 0)}function lm(c){var u=c.keyCode;return"charCode"in c?(c=c.charCode,c===0&&u===13&&(c=13)):c=u,c===10&&(c=13),32<=c||c===13?c:0}function cm(){return!0}function YA(){return!1}function Ys(c){function u(g,m,C,M,L){this._reactName=g,this._targetInst=C,this.type=m,this.nativeEvent=M,this.target=L,this.currentTarget=null;for(var N in c)c.hasOwnProperty(N)&&(g=c[N],this[N]=g?g(M):M[N]);return this.isDefaultPrevented=(M.defaultPrevented!=null?M.defaultPrevented:M.returnValue===!1)?cm:YA,this.isPropagationStopped=YA,this}return h(u.prototype,{preventDefault:function(){this.defaultPrevented=!0;var g=this.nativeEvent;g&&(g.preventDefault?g.preventDefault():typeof g.returnValue!="unknown"&&(g.returnValue=!1),this.isDefaultPrevented=cm)},stopPropagation:function(){var g=this.nativeEvent;g&&(g.stopPropagation?g.stopPropagation():typeof g.cancelBubble!="unknown"&&(g.cancelBubble=!0),this.isPropagationStopped=cm)},persist:function(){},isPersistent:cm}),u}var Wl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(c){return c.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},um=Ys(Wl),jh=h({},Wl,{view:0,detail:0}),u4=Ys(jh),Zb,Xb,Vh,dm=h({},jh,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Jb,button:0,buttons:0,relatedTarget:function(c){return c.relatedTarget===void 0?c.fromElement===c.srcElement?c.toElement:c.fromElement:c.relatedTarget},movementX:function(c){return"movementX"in c?c.movementX:(c!==Vh&&(Vh&&c.type==="mousemove"?(Zb=c.screenX-Vh.screenX,Xb=c.screenY-Vh.screenY):Xb=Zb=0,Vh=c),Zb)},movementY:function(c){return"movementY"in c?c.movementY:Xb}}),KA=Ys(dm),d4=h({},dm,{dataTransfer:0}),h4=Ys(d4),g4=h({},jh,{relatedTarget:0}),Qb=Ys(g4),p4=h({},Wl,{animationName:0,elapsedTime:0,pseudoElement:0}),f4=Ys(p4),m4=h({},Wl,{clipboardData:function(c){return"clipboardData"in c?c.clipboardData:window.clipboardData}}),v4=Ys(m4),y4=h({},Wl,{data:0}),qA=Ys(y4),C4={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},b4={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},S4={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function w4(c){var u=this.nativeEvent;return u.getModifierState?u.getModifierState(c):(c=S4[c])?!!u[c]:!1}function Jb(){return w4}var x4=h({},jh,{key:function(c){if(c.key){var u=C4[c.key]||c.key;if(u!=="Unidentified")return u}return c.type==="keypress"?(c=lm(c),c===13?"Enter":String.fromCharCode(c)):c.type==="keydown"||c.type==="keyup"?b4[c.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Jb,charCode:function(c){return c.type==="keypress"?lm(c):0},keyCode:function(c){return c.type==="keydown"||c.type==="keyup"?c.keyCode:0},which:function(c){return c.type==="keypress"?lm(c):c.type==="keydown"||c.type==="keyup"?c.keyCode:0}}),M4=Ys(x4),D4=h({},dm,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ZA=Ys(D4),R4=h({},jh,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Jb}),E4=Ys(R4),A4=h({},Wl,{propertyName:0,elapsedTime:0,pseudoElement:0}),T4=Ys(A4),I4=h({},dm,{deltaX:function(c){return"deltaX"in c?c.deltaX:"wheelDeltaX"in c?-c.wheelDeltaX:0},deltaY:function(c){return"deltaY"in c?c.deltaY:"wheelDeltaY"in c?-c.wheelDeltaY:"wheelDelta"in c?-c.wheelDelta:0},deltaZ:0,deltaMode:0}),L4=Ys(I4),k4=h({},Wl,{newState:0,oldState:0}),P4=Ys(k4),O4=[9,13,27,32],eS=Lo&&"CompositionEvent"in window,_h=null;Lo&&"documentMode"in document&&(_h=document.documentMode);var F4=Lo&&"TextEvent"in window&&!_h,XA=Lo&&(!eS||_h&&8<_h&&11>=_h),QA=" ",JA=!1;function eT(c,u){switch(c){case"keyup":return O4.indexOf(u.keyCode)!==-1;case"keydown":return u.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function tT(c){return c=c.detail,typeof c=="object"&&"data"in c?c.data:null}var Eu=!1;function N4(c,u){switch(c){case"compositionend":return tT(u);case"keypress":return u.which!==32?null:(JA=!0,QA);case"textInput":return c=u.data,c===QA&&JA?null:c;default:return null}}function z4(c,u){if(Eu)return c==="compositionend"||!eS&&eT(c,u)?(c=$A(),am=qb=Ta=null,Eu=!1,c):null;switch(c){case"paste":return null;case"keypress":if(!(u.ctrlKey||u.altKey||u.metaKey)||u.ctrlKey&&u.altKey){if(u.char&&1<u.char.length)return u.char;if(u.which)return String.fromCharCode(u.which)}return null;case"compositionend":return XA&&u.locale!=="ko"?null:u.data;default:return null}}var B4={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function iT(c){var u=c&&c.nodeName&&c.nodeName.toLowerCase();return u==="input"?!!B4[c.type]:u==="textarea"}function sT(c,u,g,m){Du?Ru?Ru.push(m):Ru=[m]:Du=m,u=Xm(u,"onChange"),0<u.length&&(g=new um("onChange","change",null,g,m),c.push({event:g,listeners:u}))}var Wh=null,Uh=null;function G4(c){zI(c,0)}function hm(c){var u=Bh(c);if(BA(u))return c}function nT(c,u){if(c==="change")return u}var rT=!1;if(Lo){var tS;if(Lo){var iS="oninput"in document;if(!iS){var oT=document.createElement("div");oT.setAttribute("oninput","return;"),iS=typeof oT.oninput=="function"}tS=iS}else tS=!1;rT=tS&&(!document.documentMode||9<document.documentMode)}function aT(){Wh&&(Wh.detachEvent("onpropertychange",lT),Uh=Wh=null)}function lT(c){if(c.propertyName==="value"&&hm(Uh)){var u=[];sT(u,Uh,c,$b(c)),UA(G4,u)}}function H4(c,u,g){c==="focusin"?(aT(),Wh=u,Uh=g,Wh.attachEvent("onpropertychange",lT)):c==="focusout"&&aT()}function j4(c){if(c==="selectionchange"||c==="keyup"||c==="keydown")return hm(Uh)}function V4(c,u){if(c==="click")return hm(u)}function _4(c,u){if(c==="input"||c==="change")return hm(u)}function W4(c,u){return c===u&&(c!==0||1/c===1/u)||c!==c&&u!==u}var dn=typeof Object.is=="function"?Object.is:W4;function $h(c,u){if(dn(c,u))return!0;if(typeof c!="object"||c===null||typeof u!="object"||u===null)return!1;var g=Object.keys(c),m=Object.keys(u);if(g.length!==m.length)return!1;for(m=0;m<g.length;m++){var C=g[m];if(!Ae.call(u,C)||!dn(c[C],u[C]))return!1}return!0}function cT(c){for(;c&&c.firstChild;)c=c.firstChild;return c}function uT(c,u){var g=cT(c);c=0;for(var m;g;){if(g.nodeType===3){if(m=c+g.textContent.length,c<=u&&m>=u)return{node:g,offset:u-c};c=m}e:{for(;g;){if(g.nextSibling){g=g.nextSibling;break e}g=g.parentNode}g=void 0}g=cT(g)}}function dT(c,u){return c&&u?c===u?!0:c&&c.nodeType===3?!1:u&&u.nodeType===3?dT(c,u.parentNode):"contains"in c?c.contains(u):c.compareDocumentPosition?!!(c.compareDocumentPosition(u)&16):!1:!1}function hT(c){c=c!=null&&c.ownerDocument!=null&&c.ownerDocument.defaultView!=null?c.ownerDocument.defaultView:window;for(var u=rm(c.document);u instanceof c.HTMLIFrameElement;){try{var g=typeof u.contentWindow.location.href=="string"}catch{g=!1}if(g)c=u.contentWindow;else break;u=rm(c.document)}return u}function sS(c){var u=c&&c.nodeName&&c.nodeName.toLowerCase();return u&&(u==="input"&&(c.type==="text"||c.type==="search"||c.type==="tel"||c.type==="url"||c.type==="password")||u==="textarea"||c.contentEditable==="true")}var U4=Lo&&"documentMode"in document&&11>=document.documentMode,Au=null,nS=null,Yh=null,rS=!1;function gT(c,u,g){var m=g.window===g?g.document:g.nodeType===9?g:g.ownerDocument;rS||Au==null||Au!==rm(m)||(m=Au,"selectionStart"in m&&sS(m)?m={start:m.selectionStart,end:m.selectionEnd}:(m=(m.ownerDocument&&m.ownerDocument.defaultView||window).getSelection(),m={anchorNode:m.anchorNode,anchorOffset:m.anchorOffset,focusNode:m.focusNode,focusOffset:m.focusOffset}),Yh&&$h(Yh,m)||(Yh=m,m=Xm(nS,"onSelect"),0<m.length&&(u=new um("onSelect","select",null,u,g),c.push({event:u,listeners:m}),u.target=Au)))}function Ul(c,u){var g={};return g[c.toLowerCase()]=u.toLowerCase(),g["Webkit"+c]="webkit"+u,g["Moz"+c]="moz"+u,g}var Tu={animationend:Ul("Animation","AnimationEnd"),animationiteration:Ul("Animation","AnimationIteration"),animationstart:Ul("Animation","AnimationStart"),transitionrun:Ul("Transition","TransitionRun"),transitionstart:Ul("Transition","TransitionStart"),transitioncancel:Ul("Transition","TransitionCancel"),transitionend:Ul("Transition","TransitionEnd")},oS={},pT={};Lo&&(pT=document.createElement("div").style,"AnimationEvent"in window||(delete Tu.animationend.animation,delete Tu.animationiteration.animation,delete Tu.animationstart.animation),"TransitionEvent"in window||delete Tu.transitionend.transition);function $l(c){if(oS[c])return oS[c];if(!Tu[c])return c;var u=Tu[c],g;for(g in u)if(u.hasOwnProperty(g)&&g in pT)return oS[c]=u[g];return c}var fT=$l("animationend"),mT=$l("animationiteration"),vT=$l("animationstart"),$4=$l("transitionrun"),Y4=$l("transitionstart"),K4=$l("transitioncancel"),yT=$l("transitionend"),CT=new Map,aS="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");aS.push("scrollEnd");function mr(c,u){CT.set(c,u),_l(u,[c])}var bT=new WeakMap;function Bn(c,u){if(typeof c=="object"&&c!==null){var g=bT.get(c);return g!==void 0?g:(u={value:c,source:u,stack:NA(u)},bT.set(c,u),u)}return{value:c,source:u,stack:NA(u)}}var Gn=[],Iu=0,lS=0;function gm(){for(var c=Iu,u=lS=Iu=0;u<c;){var g=Gn[u];Gn[u++]=null;var m=Gn[u];Gn[u++]=null;var C=Gn[u];Gn[u++]=null;var M=Gn[u];if(Gn[u++]=null,m!==null&&C!==null){var L=m.pending;L===null?C.next=C:(C.next=L.next,L.next=C),m.pending=C}M!==0&&ST(g,C,M)}}function pm(c,u,g,m){Gn[Iu++]=c,Gn[Iu++]=u,Gn[Iu++]=g,Gn[Iu++]=m,lS|=m,c.lanes|=m,c=c.alternate,c!==null&&(c.lanes|=m)}function cS(c,u,g,m){return pm(c,u,g,m),fm(c)}function Lu(c,u){return pm(c,null,null,u),fm(c)}function ST(c,u,g){c.lanes|=g;var m=c.alternate;m!==null&&(m.lanes|=g);for(var C=!1,M=c.return;M!==null;)M.childLanes|=g,m=M.alternate,m!==null&&(m.childLanes|=g),M.tag===22&&(c=M.stateNode,c===null||c._visibility&1||(C=!0)),c=M,M=M.return;return c.tag===3?(M=c.stateNode,C&&u!==null&&(C=31-un(g),c=M.hiddenUpdates,m=c[C],m===null?c[C]=[u]:m.push(u),u.lane=g|536870912),M):null}function fm(c){if(50<yg)throw yg=0,fw=null,Error(s(185));for(var u=c.return;u!==null;)c=u,u=c.return;return c.tag===3?c.stateNode:null}var ku={};function q4(c,u,g,m){this.tag=c,this.key=g,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=u,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=m,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function hn(c,u,g,m){return new q4(c,u,g,m)}function uS(c){return c=c.prototype,!(!c||!c.isReactComponent)}function ko(c,u){var g=c.alternate;return g===null?(g=hn(c.tag,u,c.key,c.mode),g.elementType=c.elementType,g.type=c.type,g.stateNode=c.stateNode,g.alternate=c,c.alternate=g):(g.pendingProps=u,g.type=c.type,g.flags=0,g.subtreeFlags=0,g.deletions=null),g.flags=c.flags&65011712,g.childLanes=c.childLanes,g.lanes=c.lanes,g.child=c.child,g.memoizedProps=c.memoizedProps,g.memoizedState=c.memoizedState,g.updateQueue=c.updateQueue,u=c.dependencies,g.dependencies=u===null?null:{lanes:u.lanes,firstContext:u.firstContext},g.sibling=c.sibling,g.index=c.index,g.ref=c.ref,g.refCleanup=c.refCleanup,g}function wT(c,u){c.flags&=65011714;var g=c.alternate;return g===null?(c.childLanes=0,c.lanes=u,c.child=null,c.subtreeFlags=0,c.memoizedProps=null,c.memoizedState=null,c.updateQueue=null,c.dependencies=null,c.stateNode=null):(c.childLanes=g.childLanes,c.lanes=g.lanes,c.child=g.child,c.subtreeFlags=0,c.deletions=null,c.memoizedProps=g.memoizedProps,c.memoizedState=g.memoizedState,c.updateQueue=g.updateQueue,c.type=g.type,u=g.dependencies,c.dependencies=u===null?null:{lanes:u.lanes,firstContext:u.firstContext}),c}function mm(c,u,g,m,C,M){var L=0;if(m=c,typeof c=="function")uS(c)&&(L=1);else if(typeof c=="string")L=XH(c,g,ee.current)?26:c==="html"||c==="head"||c==="body"?27:5;else e:switch(c){case F:return c=hn(31,g,u,C),c.elementType=F,c.lanes=M,c;case y:return Yl(g.children,C,M,u);case S:L=8,C|=24;break;case w:return c=hn(12,g,u,C|2),c.elementType=w,c.lanes=M,c;case T:return c=hn(13,g,u,C),c.elementType=T,c.lanes=M,c;case k:return c=hn(19,g,u,C),c.elementType=k,c.lanes=M,c;default:if(typeof c=="object"&&c!==null)switch(c.$$typeof){case b:case D:L=10;break e;case x:L=9;break e;case E:L=11;break e;case P:L=14;break e;case O:L=16,m=null;break e}L=29,g=Error(s(130,c===null?"null":typeof c,"")),m=null}return u=hn(L,g,u,C),u.elementType=c,u.type=m,u.lanes=M,u}function Yl(c,u,g,m){return c=hn(7,c,m,u),c.lanes=g,c}function dS(c,u,g){return c=hn(6,c,null,u),c.lanes=g,c}function hS(c,u,g){return u=hn(4,c.children!==null?c.children:[],c.key,u),u.lanes=g,u.stateNode={containerInfo:c.containerInfo,pendingChildren:null,implementation:c.implementation},u}var Pu=[],Ou=0,vm=null,ym=0,Hn=[],jn=0,Kl=null,Po=1,Oo="";function ql(c,u){Pu[Ou++]=ym,Pu[Ou++]=vm,vm=c,ym=u}function xT(c,u,g){Hn[jn++]=Po,Hn[jn++]=Oo,Hn[jn++]=Kl,Kl=c;var m=Po;c=Oo;var C=32-un(m)-1;m&=~(1<<C),g+=1;var M=32-un(u)+C;if(30<M){var L=C-C%5;M=(m&(1<<L)-1).toString(32),m>>=L,C-=L,Po=1<<32-un(u)+C|g<<C|m,Oo=M+c}else Po=1<<M|g<<C|m,Oo=c}function gS(c){c.return!==null&&(ql(c,1),xT(c,1,0))}function pS(c){for(;c===vm;)vm=Pu[--Ou],Pu[Ou]=null,ym=Pu[--Ou],Pu[Ou]=null;for(;c===Kl;)Kl=Hn[--jn],Hn[jn]=null,Oo=Hn[--jn],Hn[jn]=null,Po=Hn[--jn],Hn[jn]=null}var Ls=null,pi=null,bt=!1,Zl=null,Wr=!1,fS=Error(s(519));function Xl(c){var u=Error(s(418,""));throw Zh(Bn(u,c)),fS}function MT(c){var u=c.stateNode,g=c.type,m=c.memoizedProps;switch(u[bs]=c,u[$s]=m,g){case"dialog":st("cancel",u),st("close",u);break;case"iframe":case"object":case"embed":st("load",u);break;case"video":case"audio":for(g=0;g<bg.length;g++)st(bg[g],u);break;case"source":st("error",u);break;case"img":case"image":case"link":st("error",u),st("load",u);break;case"details":st("toggle",u);break;case"input":st("invalid",u),GA(u,m.value,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name,!0),nm(u);break;case"select":st("invalid",u);break;case"textarea":st("invalid",u),jA(u,m.value,m.defaultValue,m.children),nm(u)}g=m.children,typeof g!="string"&&typeof g!="number"&&typeof g!="bigint"||u.textContent===""+g||m.suppressHydrationWarning===!0||jI(u.textContent,g)?(m.popover!=null&&(st("beforetoggle",u),st("toggle",u)),m.onScroll!=null&&st("scroll",u),m.onScrollEnd!=null&&st("scrollend",u),m.onClick!=null&&(u.onclick=Qm),u=!0):u=!1,u||Xl(c)}function DT(c){for(Ls=c.return;Ls;)switch(Ls.tag){case 5:case 13:Wr=!1;return;case 27:case 3:Wr=!0;return;default:Ls=Ls.return}}function Kh(c){if(c!==Ls)return!1;if(!bt)return DT(c),bt=!0,!1;var u=c.tag,g;if((g=u!==3&&u!==27)&&((g=u===5)&&(g=c.type,g=!(g!=="form"&&g!=="button")||Lw(c.type,c.memoizedProps)),g=!g),g&&pi&&Xl(c),DT(c),u===13){if(c=c.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(s(317));e:{for(c=c.nextSibling,u=0;c;){if(c.nodeType===8)if(g=c.data,g==="/$"){if(u===0){pi=yr(c.nextSibling);break e}u--}else g!=="$"&&g!=="$!"&&g!=="$?"||u++;c=c.nextSibling}pi=null}}else u===27?(u=pi,Ua(c.type)?(c=Fw,Fw=null,pi=c):pi=u):pi=Ls?yr(c.stateNode.nextSibling):null;return!0}function qh(){pi=Ls=null,bt=!1}function RT(){var c=Zl;return c!==null&&(Zs===null?Zs=c:Zs.push.apply(Zs,c),Zl=null),c}function Zh(c){Zl===null?Zl=[c]:Zl.push(c)}var mS=_(null),Ql=null,Fo=null;function Ia(c,u,g){Z(mS,u._currentValue),u._currentValue=g}function No(c){c._currentValue=mS.current,Y(mS)}function vS(c,u,g){for(;c!==null;){var m=c.alternate;if((c.childLanes&u)!==u?(c.childLanes|=u,m!==null&&(m.childLanes|=u)):m!==null&&(m.childLanes&u)!==u&&(m.childLanes|=u),c===g)break;c=c.return}}function yS(c,u,g,m){var C=c.child;for(C!==null&&(C.return=c);C!==null;){var M=C.dependencies;if(M!==null){var L=C.child;M=M.firstContext;e:for(;M!==null;){var N=M;M=C;for(var H=0;H<u.length;H++)if(N.context===u[H]){M.lanes|=g,N=M.alternate,N!==null&&(N.lanes|=g),vS(M.return,g,c),m||(L=null);break e}M=N.next}}else if(C.tag===18){if(L=C.return,L===null)throw Error(s(341));L.lanes|=g,M=L.alternate,M!==null&&(M.lanes|=g),vS(L,g,c),L=null}else L=C.child;if(L!==null)L.return=C;else for(L=C;L!==null;){if(L===c){L=null;break}if(C=L.sibling,C!==null){C.return=L.return,L=C;break}L=L.return}C=L}}function Xh(c,u,g,m){c=null;for(var C=u,M=!1;C!==null;){if(!M){if((C.flags&524288)!==0)M=!0;else if((C.flags&262144)!==0)break}if(C.tag===10){var L=C.alternate;if(L===null)throw Error(s(387));if(L=L.memoizedProps,L!==null){var N=C.type;dn(C.pendingProps.value,L.value)||(c!==null?c.push(N):c=[N])}}else if(C===we.current){if(L=C.alternate,L===null)throw Error(s(387));L.memoizedState.memoizedState!==C.memoizedState.memoizedState&&(c!==null?c.push(Rg):c=[Rg])}C=C.return}c!==null&&yS(u,c,g,m),u.flags|=262144}function Cm(c){for(c=c.firstContext;c!==null;){if(!dn(c.context._currentValue,c.memoizedValue))return!0;c=c.next}return!1}function Jl(c){Ql=c,Fo=null,c=c.dependencies,c!==null&&(c.firstContext=null)}function Ss(c){return ET(Ql,c)}function bm(c,u){return Ql===null&&Jl(c),ET(c,u)}function ET(c,u){var g=u._currentValue;if(u={context:u,memoizedValue:g,next:null},Fo===null){if(c===null)throw Error(s(308));Fo=u,c.dependencies={lanes:0,firstContext:u},c.flags|=524288}else Fo=Fo.next=u;return g}var Z4=typeof AbortController<"u"?AbortController:function(){var c=[],u=this.signal={aborted:!1,addEventListener:function(g,m){c.push(m)}};this.abort=function(){u.aborted=!0,c.forEach(function(g){return g()})}},X4=e.unstable_scheduleCallback,Q4=e.unstable_NormalPriority,Bi={$$typeof:D,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function CS(){return{controller:new Z4,data:new Map,refCount:0}}function Qh(c){c.refCount--,c.refCount===0&&X4(Q4,function(){c.controller.abort()})}var Jh=null,bS=0,Fu=0,Nu=null;function J4(c,u){if(Jh===null){var g=Jh=[];bS=0,Fu=ww(),Nu={status:"pending",value:void 0,then:function(m){g.push(m)}}}return bS++,u.then(AT,AT),u}function AT(){if(--bS===0&&Jh!==null){Nu!==null&&(Nu.status="fulfilled");var c=Jh;Jh=null,Fu=0,Nu=null;for(var u=0;u<c.length;u++)(0,c[u])()}}function eH(c,u){var g=[],m={status:"pending",value:null,reason:null,then:function(C){g.push(C)}};return c.then(function(){m.status="fulfilled",m.value=u;for(var C=0;C<g.length;C++)(0,g[C])(u)},function(C){for(m.status="rejected",m.reason=C,C=0;C<g.length;C++)(0,g[C])(void 0)}),m}var TT=G.S;G.S=function(c,u){typeof u=="object"&&u!==null&&typeof u.then=="function"&&J4(c,u),TT!==null&&TT(c,u)};var ec=_(null);function SS(){var c=ec.current;return c!==null?c:jt.pooledCache}function Sm(c,u){u===null?Z(ec,ec.current):Z(ec,u.pool)}function IT(){var c=SS();return c===null?null:{parent:Bi._currentValue,pool:c}}var eg=Error(s(460)),LT=Error(s(474)),wm=Error(s(542)),wS={then:function(){}};function kT(c){return c=c.status,c==="fulfilled"||c==="rejected"}function xm(){}function PT(c,u,g){switch(g=c[g],g===void 0?c.push(u):g!==u&&(u.then(xm,xm),u=g),u.status){case"fulfilled":return u.value;case"rejected":throw c=u.reason,FT(c),c;default:if(typeof u.status=="string")u.then(xm,xm);else{if(c=jt,c!==null&&100<c.shellSuspendCounter)throw Error(s(482));c=u,c.status="pending",c.then(function(m){if(u.status==="pending"){var C=u;C.status="fulfilled",C.value=m}},function(m){if(u.status==="pending"){var C=u;C.status="rejected",C.reason=m}})}switch(u.status){case"fulfilled":return u.value;case"rejected":throw c=u.reason,FT(c),c}throw tg=u,eg}}var tg=null;function OT(){if(tg===null)throw Error(s(459));var c=tg;return tg=null,c}function FT(c){if(c===eg||c===wm)throw Error(s(483))}var La=!1;function xS(c){c.updateQueue={baseState:c.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function MS(c,u){c=c.updateQueue,u.updateQueue===c&&(u.updateQueue={baseState:c.baseState,firstBaseUpdate:c.firstBaseUpdate,lastBaseUpdate:c.lastBaseUpdate,shared:c.shared,callbacks:null})}function ka(c){return{lane:c,tag:0,payload:null,callback:null,next:null}}function Pa(c,u,g){var m=c.updateQueue;if(m===null)return null;if(m=m.shared,(At&2)!==0){var C=m.pending;return C===null?u.next=u:(u.next=C.next,C.next=u),m.pending=u,u=fm(c),ST(c,null,g),u}return pm(c,m,u,g),fm(c)}function ig(c,u,g){if(u=u.updateQueue,u!==null&&(u=u.shared,(g&4194048)!==0)){var m=u.lanes;m&=c.pendingLanes,g|=m,u.lanes=g,AA(c,g)}}function DS(c,u){var g=c.updateQueue,m=c.alternate;if(m!==null&&(m=m.updateQueue,g===m)){var C=null,M=null;if(g=g.firstBaseUpdate,g!==null){do{var L={lane:g.lane,tag:g.tag,payload:g.payload,callback:null,next:null};M===null?C=M=L:M=M.next=L,g=g.next}while(g!==null);M===null?C=M=u:M=M.next=u}else C=M=u;g={baseState:m.baseState,firstBaseUpdate:C,lastBaseUpdate:M,shared:m.shared,callbacks:m.callbacks},c.updateQueue=g;return}c=g.lastBaseUpdate,c===null?g.firstBaseUpdate=u:c.next=u,g.lastBaseUpdate=u}var RS=!1;function sg(){if(RS){var c=Nu;if(c!==null)throw c}}function ng(c,u,g,m){RS=!1;var C=c.updateQueue;La=!1;var M=C.firstBaseUpdate,L=C.lastBaseUpdate,N=C.shared.pending;if(N!==null){C.shared.pending=null;var H=N,X=H.next;H.next=null,L===null?M=X:L.next=X,L=H;var le=c.alternate;le!==null&&(le=le.updateQueue,N=le.lastBaseUpdate,N!==L&&(N===null?le.firstBaseUpdate=X:N.next=X,le.lastBaseUpdate=H))}if(M!==null){var pe=C.baseState;L=0,le=X=H=null,N=M;do{var ie=N.lane&-536870913,se=ie!==N.lane;if(se?(dt&ie)===ie:(m&ie)===ie){ie!==0&&ie===Fu&&(RS=!0),le!==null&&(le=le.next={lane:0,tag:N.tag,payload:N.payload,callback:null,next:null});e:{var We=c,Fe=N;ie=u;var zt=g;switch(Fe.tag){case 1:if(We=Fe.payload,typeof We=="function"){pe=We.call(zt,pe,ie);break e}pe=We;break e;case 3:We.flags=We.flags&-65537|128;case 0:if(We=Fe.payload,ie=typeof We=="function"?We.call(zt,pe,ie):We,ie==null)break e;pe=h({},pe,ie);break e;case 2:La=!0}}ie=N.callback,ie!==null&&(c.flags|=64,se&&(c.flags|=8192),se=C.callbacks,se===null?C.callbacks=[ie]:se.push(ie))}else se={lane:ie,tag:N.tag,payload:N.payload,callback:N.callback,next:null},le===null?(X=le=se,H=pe):le=le.next=se,L|=ie;if(N=N.next,N===null){if(N=C.shared.pending,N===null)break;se=N,N=se.next,se.next=null,C.lastBaseUpdate=se,C.shared.pending=null}}while(!0);le===null&&(H=pe),C.baseState=H,C.firstBaseUpdate=X,C.lastBaseUpdate=le,M===null&&(C.shared.lanes=0),ja|=L,c.lanes=L,c.memoizedState=pe}}function NT(c,u){if(typeof c!="function")throw Error(s(191,c));c.call(u)}function zT(c,u){var g=c.callbacks;if(g!==null)for(c.callbacks=null,c=0;c<g.length;c++)NT(g[c],u)}var zu=_(null),Mm=_(0);function BT(c,u){c=_o,Z(Mm,c),Z(zu,u),_o=c|u.baseLanes}function ES(){Z(Mm,_o),Z(zu,zu.current)}function AS(){_o=Mm.current,Y(zu),Y(Mm)}var Oa=0,Ze=null,Ft=null,ki=null,Dm=!1,Bu=!1,tc=!1,Rm=0,rg=0,Gu=null,tH=0;function Mi(){throw Error(s(321))}function TS(c,u){if(u===null)return!1;for(var g=0;g<u.length&&g<c.length;g++)if(!dn(c[g],u[g]))return!1;return!0}function IS(c,u,g,m,C,M){return Oa=M,Ze=u,u.memoizedState=null,u.updateQueue=null,u.lanes=0,G.H=c===null||c.memoizedState===null?S1:w1,tc=!1,M=g(m,C),tc=!1,Bu&&(M=HT(u,g,m,C)),GT(c),M}function GT(c){G.H=km;var u=Ft!==null&&Ft.next!==null;if(Oa=0,ki=Ft=Ze=null,Dm=!1,rg=0,Gu=null,u)throw Error(s(300));c===null||Ki||(c=c.dependencies,c!==null&&Cm(c)&&(Ki=!0))}function HT(c,u,g,m){Ze=c;var C=0;do{if(Bu&&(Gu=null),rg=0,Bu=!1,25<=C)throw Error(s(301));if(C+=1,ki=Ft=null,c.updateQueue!=null){var M=c.updateQueue;M.lastEffect=null,M.events=null,M.stores=null,M.memoCache!=null&&(M.memoCache.index=0)}G.H=lH,M=u(g,m)}while(Bu);return M}function iH(){var c=G.H,u=c.useState()[0];return u=typeof u.then=="function"?og(u):u,c=c.useState()[0],(Ft!==null?Ft.memoizedState:null)!==c&&(Ze.flags|=1024),u}function LS(){var c=Rm!==0;return Rm=0,c}function kS(c,u,g){u.updateQueue=c.updateQueue,u.flags&=-2053,c.lanes&=~g}function PS(c){if(Dm){for(c=c.memoizedState;c!==null;){var u=c.queue;u!==null&&(u.pending=null),c=c.next}Dm=!1}Oa=0,ki=Ft=Ze=null,Bu=!1,rg=Rm=0,Gu=null}function Ks(){var c={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ki===null?Ze.memoizedState=ki=c:ki=ki.next=c,ki}function Pi(){if(Ft===null){var c=Ze.alternate;c=c!==null?c.memoizedState:null}else c=Ft.next;var u=ki===null?Ze.memoizedState:ki.next;if(u!==null)ki=u,Ft=c;else{if(c===null)throw Ze.alternate===null?Error(s(467)):Error(s(310));Ft=c,c={memoizedState:Ft.memoizedState,baseState:Ft.baseState,baseQueue:Ft.baseQueue,queue:Ft.queue,next:null},ki===null?Ze.memoizedState=ki=c:ki=ki.next=c}return ki}function OS(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function og(c){var u=rg;return rg+=1,Gu===null&&(Gu=[]),c=PT(Gu,c,u),u=Ze,(ki===null?u.memoizedState:ki.next)===null&&(u=u.alternate,G.H=u===null||u.memoizedState===null?S1:w1),c}function Em(c){if(c!==null&&typeof c=="object"){if(typeof c.then=="function")return og(c);if(c.$$typeof===D)return Ss(c)}throw Error(s(438,String(c)))}function FS(c){var u=null,g=Ze.updateQueue;if(g!==null&&(u=g.memoCache),u==null){var m=Ze.alternate;m!==null&&(m=m.updateQueue,m!==null&&(m=m.memoCache,m!=null&&(u={data:m.data.map(function(C){return C.slice()}),index:0})))}if(u==null&&(u={data:[],index:0}),g===null&&(g=OS(),Ze.updateQueue=g),g.memoCache=u,g=u.data[u.index],g===void 0)for(g=u.data[u.index]=Array(c),m=0;m<c;m++)g[m]=z;return u.index++,g}function zo(c,u){return typeof u=="function"?u(c):u}function Am(c){var u=Pi();return NS(u,Ft,c)}function NS(c,u,g){var m=c.queue;if(m===null)throw Error(s(311));m.lastRenderedReducer=g;var C=c.baseQueue,M=m.pending;if(M!==null){if(C!==null){var L=C.next;C.next=M.next,M.next=L}u.baseQueue=C=M,m.pending=null}if(M=c.baseState,C===null)c.memoizedState=M;else{u=C.next;var N=L=null,H=null,X=u,le=!1;do{var pe=X.lane&-536870913;if(pe!==X.lane?(dt&pe)===pe:(Oa&pe)===pe){var ie=X.revertLane;if(ie===0)H!==null&&(H=H.next={lane:0,revertLane:0,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null}),pe===Fu&&(le=!0);else if((Oa&ie)===ie){X=X.next,ie===Fu&&(le=!0);continue}else pe={lane:0,revertLane:X.revertLane,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null},H===null?(N=H=pe,L=M):H=H.next=pe,Ze.lanes|=ie,ja|=ie;pe=X.action,tc&&g(M,pe),M=X.hasEagerState?X.eagerState:g(M,pe)}else ie={lane:pe,revertLane:X.revertLane,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null},H===null?(N=H=ie,L=M):H=H.next=ie,Ze.lanes|=pe,ja|=pe;X=X.next}while(X!==null&&X!==u);if(H===null?L=M:H.next=N,!dn(M,c.memoizedState)&&(Ki=!0,le&&(g=Nu,g!==null)))throw g;c.memoizedState=M,c.baseState=L,c.baseQueue=H,m.lastRenderedState=M}return C===null&&(m.lanes=0),[c.memoizedState,m.dispatch]}function zS(c){var u=Pi(),g=u.queue;if(g===null)throw Error(s(311));g.lastRenderedReducer=c;var m=g.dispatch,C=g.pending,M=u.memoizedState;if(C!==null){g.pending=null;var L=C=C.next;do M=c(M,L.action),L=L.next;while(L!==C);dn(M,u.memoizedState)||(Ki=!0),u.memoizedState=M,u.baseQueue===null&&(u.baseState=M),g.lastRenderedState=M}return[M,m]}function jT(c,u,g){var m=Ze,C=Pi(),M=bt;if(M){if(g===void 0)throw Error(s(407));g=g()}else g=u();var L=!dn((Ft||C).memoizedState,g);L&&(C.memoizedState=g,Ki=!0),C=C.queue;var N=WT.bind(null,m,C,c);if(ag(2048,8,N,[c]),C.getSnapshot!==u||L||ki!==null&&ki.memoizedState.tag&1){if(m.flags|=2048,Hu(9,Tm(),_T.bind(null,m,C,g,u),null),jt===null)throw Error(s(349));M||(Oa&124)!==0||VT(m,u,g)}return g}function VT(c,u,g){c.flags|=16384,c={getSnapshot:u,value:g},u=Ze.updateQueue,u===null?(u=OS(),Ze.updateQueue=u,u.stores=[c]):(g=u.stores,g===null?u.stores=[c]:g.push(c))}function _T(c,u,g,m){u.value=g,u.getSnapshot=m,UT(u)&&$T(c)}function WT(c,u,g){return g(function(){UT(u)&&$T(c)})}function UT(c){var u=c.getSnapshot;c=c.value;try{var g=u();return!dn(c,g)}catch{return!0}}function $T(c){var u=Lu(c,2);u!==null&&vn(u,c,2)}function BS(c){var u=Ks();if(typeof c=="function"){var g=c;if(c=g(),tc){cn(!0);try{g()}finally{cn(!1)}}}return u.memoizedState=u.baseState=c,u.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:zo,lastRenderedState:c},u}function YT(c,u,g,m){return c.baseState=g,NS(c,Ft,typeof m=="function"?m:zo)}function sH(c,u,g,m,C){if(Lm(c))throw Error(s(485));if(c=u.action,c!==null){var M={payload:C,action:c,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(L){M.listeners.push(L)}};G.T!==null?g(!0):M.isTransition=!1,m(M),g=u.pending,g===null?(M.next=u.pending=M,KT(u,M)):(M.next=g.next,u.pending=g.next=M)}}function KT(c,u){var g=u.action,m=u.payload,C=c.state;if(u.isTransition){var M=G.T,L={};G.T=L;try{var N=g(C,m),H=G.S;H!==null&&H(L,N),qT(c,u,N)}catch(X){GS(c,u,X)}finally{G.T=M}}else try{M=g(C,m),qT(c,u,M)}catch(X){GS(c,u,X)}}function qT(c,u,g){g!==null&&typeof g=="object"&&typeof g.then=="function"?g.then(function(m){ZT(c,u,m)},function(m){return GS(c,u,m)}):ZT(c,u,g)}function ZT(c,u,g){u.status="fulfilled",u.value=g,XT(u),c.state=g,u=c.pending,u!==null&&(g=u.next,g===u?c.pending=null:(g=g.next,u.next=g,KT(c,g)))}function GS(c,u,g){var m=c.pending;if(c.pending=null,m!==null){m=m.next;do u.status="rejected",u.reason=g,XT(u),u=u.next;while(u!==m)}c.action=null}function XT(c){c=c.listeners;for(var u=0;u<c.length;u++)(0,c[u])()}function QT(c,u){return u}function JT(c,u){if(bt){var g=jt.formState;if(g!==null){e:{var m=Ze;if(bt){if(pi){t:{for(var C=pi,M=Wr;C.nodeType!==8;){if(!M){C=null;break t}if(C=yr(C.nextSibling),C===null){C=null;break t}}M=C.data,C=M==="F!"||M==="F"?C:null}if(C){pi=yr(C.nextSibling),m=C.data==="F!";break e}}Xl(m)}m=!1}m&&(u=g[0])}}return g=Ks(),g.memoizedState=g.baseState=u,m={pending:null,lanes:0,dispatch:null,lastRenderedReducer:QT,lastRenderedState:u},g.queue=m,g=y1.bind(null,Ze,m),m.dispatch=g,m=BS(!1),M=WS.bind(null,Ze,!1,m.queue),m=Ks(),C={state:u,dispatch:null,action:c,pending:null},m.queue=C,g=sH.bind(null,Ze,C,M,g),C.dispatch=g,m.memoizedState=c,[u,g,!1]}function e1(c){var u=Pi();return t1(u,Ft,c)}function t1(c,u,g){if(u=NS(c,u,QT)[0],c=Am(zo)[0],typeof u=="object"&&u!==null&&typeof u.then=="function")try{var m=og(u)}catch(L){throw L===eg?wm:L}else m=u;u=Pi();var C=u.queue,M=C.dispatch;return g!==u.memoizedState&&(Ze.flags|=2048,Hu(9,Tm(),nH.bind(null,C,g),null)),[m,M,c]}function nH(c,u){c.action=u}function i1(c){var u=Pi(),g=Ft;if(g!==null)return t1(u,g,c);Pi(),u=u.memoizedState,g=Pi();var m=g.queue.dispatch;return g.memoizedState=c,[u,m,!1]}function Hu(c,u,g,m){return c={tag:c,create:g,deps:m,inst:u,next:null},u=Ze.updateQueue,u===null&&(u=OS(),Ze.updateQueue=u),g=u.lastEffect,g===null?u.lastEffect=c.next=c:(m=g.next,g.next=c,c.next=m,u.lastEffect=c),c}function Tm(){return{destroy:void 0,resource:void 0}}function s1(){return Pi().memoizedState}function Im(c,u,g,m){var C=Ks();m=m===void 0?null:m,Ze.flags|=c,C.memoizedState=Hu(1|u,Tm(),g,m)}function ag(c,u,g,m){var C=Pi();m=m===void 0?null:m;var M=C.memoizedState.inst;Ft!==null&&m!==null&&TS(m,Ft.memoizedState.deps)?C.memoizedState=Hu(u,M,g,m):(Ze.flags|=c,C.memoizedState=Hu(1|u,M,g,m))}function n1(c,u){Im(8390656,8,c,u)}function r1(c,u){ag(2048,8,c,u)}function o1(c,u){return ag(4,2,c,u)}function a1(c,u){return ag(4,4,c,u)}function l1(c,u){if(typeof u=="function"){c=c();var g=u(c);return function(){typeof g=="function"?g():u(null)}}if(u!=null)return c=c(),u.current=c,function(){u.current=null}}function c1(c,u,g){g=g!=null?g.concat([c]):null,ag(4,4,l1.bind(null,u,c),g)}function HS(){}function u1(c,u){var g=Pi();u=u===void 0?null:u;var m=g.memoizedState;return u!==null&&TS(u,m[1])?m[0]:(g.memoizedState=[c,u],c)}function d1(c,u){var g=Pi();u=u===void 0?null:u;var m=g.memoizedState;if(u!==null&&TS(u,m[1]))return m[0];if(m=c(),tc){cn(!0);try{c()}finally{cn(!1)}}return g.memoizedState=[m,u],m}function jS(c,u,g){return g===void 0||(Oa&1073741824)!==0?c.memoizedState=u:(c.memoizedState=g,c=pI(),Ze.lanes|=c,ja|=c,g)}function h1(c,u,g,m){return dn(g,u)?g:zu.current!==null?(c=jS(c,g,m),dn(c,u)||(Ki=!0),c):(Oa&42)===0?(Ki=!0,c.memoizedState=g):(c=pI(),Ze.lanes|=c,ja|=c,u)}function g1(c,u,g,m,C){var M=K.p;K.p=M!==0&&8>M?M:8;var L=G.T,N={};G.T=N,WS(c,!1,u,g);try{var H=C(),X=G.S;if(X!==null&&X(N,H),H!==null&&typeof H=="object"&&typeof H.then=="function"){var le=eH(H,m);lg(c,u,le,mn(c))}else lg(c,u,m,mn(c))}catch(pe){lg(c,u,{then:function(){},status:"rejected",reason:pe},mn())}finally{K.p=M,G.T=L}}function rH(){}function VS(c,u,g,m){if(c.tag!==5)throw Error(s(476));var C=p1(c).queue;g1(c,C,u,ne,g===null?rH:function(){return f1(c),g(m)})}function p1(c){var u=c.memoizedState;if(u!==null)return u;u={memoizedState:ne,baseState:ne,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:zo,lastRenderedState:ne},next:null};var g={};return u.next={memoizedState:g,baseState:g,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:zo,lastRenderedState:g},next:null},c.memoizedState=u,c=c.alternate,c!==null&&(c.memoizedState=u),u}function f1(c){var u=p1(c).next.queue;lg(c,u,{},mn())}function _S(){return Ss(Rg)}function m1(){return Pi().memoizedState}function v1(){return Pi().memoizedState}function oH(c){for(var u=c.return;u!==null;){switch(u.tag){case 24:case 3:var g=mn();c=ka(g);var m=Pa(u,c,g);m!==null&&(vn(m,u,g),ig(m,u,g)),u={cache:CS()},c.payload=u;return}u=u.return}}function aH(c,u,g){var m=mn();g={lane:m,revertLane:0,action:g,hasEagerState:!1,eagerState:null,next:null},Lm(c)?C1(u,g):(g=cS(c,u,g,m),g!==null&&(vn(g,c,m),b1(g,u,m)))}function y1(c,u,g){var m=mn();lg(c,u,g,m)}function lg(c,u,g,m){var C={lane:m,revertLane:0,action:g,hasEagerState:!1,eagerState:null,next:null};if(Lm(c))C1(u,C);else{var M=c.alternate;if(c.lanes===0&&(M===null||M.lanes===0)&&(M=u.lastRenderedReducer,M!==null))try{var L=u.lastRenderedState,N=M(L,g);if(C.hasEagerState=!0,C.eagerState=N,dn(N,L))return pm(c,u,C,0),jt===null&&gm(),!1}catch{}finally{}if(g=cS(c,u,C,m),g!==null)return vn(g,c,m),b1(g,u,m),!0}return!1}function WS(c,u,g,m){if(m={lane:2,revertLane:ww(),action:m,hasEagerState:!1,eagerState:null,next:null},Lm(c)){if(u)throw Error(s(479))}else u=cS(c,g,m,2),u!==null&&vn(u,c,2)}function Lm(c){var u=c.alternate;return c===Ze||u!==null&&u===Ze}function C1(c,u){Bu=Dm=!0;var g=c.pending;g===null?u.next=u:(u.next=g.next,g.next=u),c.pending=u}function b1(c,u,g){if((g&4194048)!==0){var m=u.lanes;m&=c.pendingLanes,g|=m,u.lanes=g,AA(c,g)}}var km={readContext:Ss,use:Em,useCallback:Mi,useContext:Mi,useEffect:Mi,useImperativeHandle:Mi,useLayoutEffect:Mi,useInsertionEffect:Mi,useMemo:Mi,useReducer:Mi,useRef:Mi,useState:Mi,useDebugValue:Mi,useDeferredValue:Mi,useTransition:Mi,useSyncExternalStore:Mi,useId:Mi,useHostTransitionStatus:Mi,useFormState:Mi,useActionState:Mi,useOptimistic:Mi,useMemoCache:Mi,useCacheRefresh:Mi},S1={readContext:Ss,use:Em,useCallback:function(c,u){return Ks().memoizedState=[c,u===void 0?null:u],c},useContext:Ss,useEffect:n1,useImperativeHandle:function(c,u,g){g=g!=null?g.concat([c]):null,Im(4194308,4,l1.bind(null,u,c),g)},useLayoutEffect:function(c,u){return Im(4194308,4,c,u)},useInsertionEffect:function(c,u){Im(4,2,c,u)},useMemo:function(c,u){var g=Ks();u=u===void 0?null:u;var m=c();if(tc){cn(!0);try{c()}finally{cn(!1)}}return g.memoizedState=[m,u],m},useReducer:function(c,u,g){var m=Ks();if(g!==void 0){var C=g(u);if(tc){cn(!0);try{g(u)}finally{cn(!1)}}}else C=u;return m.memoizedState=m.baseState=C,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:c,lastRenderedState:C},m.queue=c,c=c.dispatch=aH.bind(null,Ze,c),[m.memoizedState,c]},useRef:function(c){var u=Ks();return c={current:c},u.memoizedState=c},useState:function(c){c=BS(c);var u=c.queue,g=y1.bind(null,Ze,u);return u.dispatch=g,[c.memoizedState,g]},useDebugValue:HS,useDeferredValue:function(c,u){var g=Ks();return jS(g,c,u)},useTransition:function(){var c=BS(!1);return c=g1.bind(null,Ze,c.queue,!0,!1),Ks().memoizedState=c,[!1,c]},useSyncExternalStore:function(c,u,g){var m=Ze,C=Ks();if(bt){if(g===void 0)throw Error(s(407));g=g()}else{if(g=u(),jt===null)throw Error(s(349));(dt&124)!==0||VT(m,u,g)}C.memoizedState=g;var M={value:g,getSnapshot:u};return C.queue=M,n1(WT.bind(null,m,M,c),[c]),m.flags|=2048,Hu(9,Tm(),_T.bind(null,m,M,g,u),null),g},useId:function(){var c=Ks(),u=jt.identifierPrefix;if(bt){var g=Oo,m=Po;g=(m&~(1<<32-un(m)-1)).toString(32)+g,u=""+u+"R"+g,g=Rm++,0<g&&(u+="H"+g.toString(32)),u+=""}else g=tH++,u=""+u+"r"+g.toString(32)+"";return c.memoizedState=u},useHostTransitionStatus:_S,useFormState:JT,useActionState:JT,useOptimistic:function(c){var u=Ks();u.memoizedState=u.baseState=c;var g={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return u.queue=g,u=WS.bind(null,Ze,!0,g),g.dispatch=u,[c,u]},useMemoCache:FS,useCacheRefresh:function(){return Ks().memoizedState=oH.bind(null,Ze)}},w1={readContext:Ss,use:Em,useCallback:u1,useContext:Ss,useEffect:r1,useImperativeHandle:c1,useInsertionEffect:o1,useLayoutEffect:a1,useMemo:d1,useReducer:Am,useRef:s1,useState:function(){return Am(zo)},useDebugValue:HS,useDeferredValue:function(c,u){var g=Pi();return h1(g,Ft.memoizedState,c,u)},useTransition:function(){var c=Am(zo)[0],u=Pi().memoizedState;return[typeof c=="boolean"?c:og(c),u]},useSyncExternalStore:jT,useId:m1,useHostTransitionStatus:_S,useFormState:e1,useActionState:e1,useOptimistic:function(c,u){var g=Pi();return YT(g,Ft,c,u)},useMemoCache:FS,useCacheRefresh:v1},lH={readContext:Ss,use:Em,useCallback:u1,useContext:Ss,useEffect:r1,useImperativeHandle:c1,useInsertionEffect:o1,useLayoutEffect:a1,useMemo:d1,useReducer:zS,useRef:s1,useState:function(){return zS(zo)},useDebugValue:HS,useDeferredValue:function(c,u){var g=Pi();return Ft===null?jS(g,c,u):h1(g,Ft.memoizedState,c,u)},useTransition:function(){var c=zS(zo)[0],u=Pi().memoizedState;return[typeof c=="boolean"?c:og(c),u]},useSyncExternalStore:jT,useId:m1,useHostTransitionStatus:_S,useFormState:i1,useActionState:i1,useOptimistic:function(c,u){var g=Pi();return Ft!==null?YT(g,Ft,c,u):(g.baseState=c,[c,g.queue.dispatch])},useMemoCache:FS,useCacheRefresh:v1},ju=null,cg=0;function Pm(c){var u=cg;return cg+=1,ju===null&&(ju=[]),PT(ju,c,u)}function ug(c,u){u=u.props.ref,c.ref=u!==void 0?u:null}function Om(c,u){throw u.$$typeof===p?Error(s(525)):(c=Object.prototype.toString.call(u),Error(s(31,c==="[object Object]"?"object with keys {"+Object.keys(u).join(", ")+"}":c)))}function x1(c){var u=c._init;return u(c._payload)}function M1(c){function u($,W){if(c){var q=$.deletions;q===null?($.deletions=[W],$.flags|=16):q.push(W)}}function g($,W){if(!c)return null;for(;W!==null;)u($,W),W=W.sibling;return null}function m($){for(var W=new Map;$!==null;)$.key!==null?W.set($.key,$):W.set($.index,$),$=$.sibling;return W}function C($,W){return $=ko($,W),$.index=0,$.sibling=null,$}function M($,W,q){return $.index=q,c?(q=$.alternate,q!==null?(q=q.index,q<W?($.flags|=67108866,W):q):($.flags|=67108866,W)):($.flags|=1048576,W)}function L($){return c&&$.alternate===null&&($.flags|=67108866),$}function N($,W,q,he){return W===null||W.tag!==6?(W=dS(q,$.mode,he),W.return=$,W):(W=C(W,q),W.return=$,W)}function H($,W,q,he){var Te=q.type;return Te===y?le($,W,q.props.children,he,q.key):W!==null&&(W.elementType===Te||typeof Te=="object"&&Te!==null&&Te.$$typeof===O&&x1(Te)===W.type)?(W=C(W,q.props),ug(W,q),W.return=$,W):(W=mm(q.type,q.key,q.props,null,$.mode,he),ug(W,q),W.return=$,W)}function X($,W,q,he){return W===null||W.tag!==4||W.stateNode.containerInfo!==q.containerInfo||W.stateNode.implementation!==q.implementation?(W=hS(q,$.mode,he),W.return=$,W):(W=C(W,q.children||[]),W.return=$,W)}function le($,W,q,he,Te){return W===null||W.tag!==7?(W=Yl(q,$.mode,he,Te),W.return=$,W):(W=C(W,q),W.return=$,W)}function pe($,W,q){if(typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint")return W=dS(""+W,$.mode,q),W.return=$,W;if(typeof W=="object"&&W!==null){switch(W.$$typeof){case f:return q=mm(W.type,W.key,W.props,null,$.mode,q),ug(q,W),q.return=$,q;case v:return W=hS(W,$.mode,q),W.return=$,W;case O:var he=W._init;return W=he(W._payload),pe($,W,q)}if(Ce(W)||U(W))return W=Yl(W,$.mode,q,null),W.return=$,W;if(typeof W.then=="function")return pe($,Pm(W),q);if(W.$$typeof===D)return pe($,bm($,W),q);Om($,W)}return null}function ie($,W,q,he){var Te=W!==null?W.key:null;if(typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint")return Te!==null?null:N($,W,""+q,he);if(typeof q=="object"&&q!==null){switch(q.$$typeof){case f:return q.key===Te?H($,W,q,he):null;case v:return q.key===Te?X($,W,q,he):null;case O:return Te=q._init,q=Te(q._payload),ie($,W,q,he)}if(Ce(q)||U(q))return Te!==null?null:le($,W,q,he,null);if(typeof q.then=="function")return ie($,W,Pm(q),he);if(q.$$typeof===D)return ie($,W,bm($,q),he);Om($,q)}return null}function se($,W,q,he,Te){if(typeof he=="string"&&he!==""||typeof he=="number"||typeof he=="bigint")return $=$.get(q)||null,N(W,$,""+he,Te);if(typeof he=="object"&&he!==null){switch(he.$$typeof){case f:return $=$.get(he.key===null?q:he.key)||null,H(W,$,he,Te);case v:return $=$.get(he.key===null?q:he.key)||null,X(W,$,he,Te);case O:var Qe=he._init;return he=Qe(he._payload),se($,W,q,he,Te)}if(Ce(he)||U(he))return $=$.get(q)||null,le(W,$,he,Te,null);if(typeof he.then=="function")return se($,W,q,Pm(he),Te);if(he.$$typeof===D)return se($,W,q,bm(W,he),Te);Om(W,he)}return null}function We($,W,q,he){for(var Te=null,Qe=null,Le=W,ze=W=0,Zi=null;Le!==null&&ze<q.length;ze++){Le.index>ze?(Zi=Le,Le=null):Zi=Le.sibling;var mt=ie($,Le,q[ze],he);if(mt===null){Le===null&&(Le=Zi);break}c&&Le&&mt.alternate===null&&u($,Le),W=M(mt,W,ze),Qe===null?Te=mt:Qe.sibling=mt,Qe=mt,Le=Zi}if(ze===q.length)return g($,Le),bt&&ql($,ze),Te;if(Le===null){for(;ze<q.length;ze++)Le=pe($,q[ze],he),Le!==null&&(W=M(Le,W,ze),Qe===null?Te=Le:Qe.sibling=Le,Qe=Le);return bt&&ql($,ze),Te}for(Le=m(Le);ze<q.length;ze++)Zi=se(Le,$,ze,q[ze],he),Zi!==null&&(c&&Zi.alternate!==null&&Le.delete(Zi.key===null?ze:Zi.key),W=M(Zi,W,ze),Qe===null?Te=Zi:Qe.sibling=Zi,Qe=Zi);return c&&Le.forEach(function(Za){return u($,Za)}),bt&&ql($,ze),Te}function Fe($,W,q,he){if(q==null)throw Error(s(151));for(var Te=null,Qe=null,Le=W,ze=W=0,Zi=null,mt=q.next();Le!==null&&!mt.done;ze++,mt=q.next()){Le.index>ze?(Zi=Le,Le=null):Zi=Le.sibling;var Za=ie($,Le,mt.value,he);if(Za===null){Le===null&&(Le=Zi);break}c&&Le&&Za.alternate===null&&u($,Le),W=M(Za,W,ze),Qe===null?Te=Za:Qe.sibling=Za,Qe=Za,Le=Zi}if(mt.done)return g($,Le),bt&&ql($,ze),Te;if(Le===null){for(;!mt.done;ze++,mt=q.next())mt=pe($,mt.value,he),mt!==null&&(W=M(mt,W,ze),Qe===null?Te=mt:Qe.sibling=mt,Qe=mt);return bt&&ql($,ze),Te}for(Le=m(Le);!mt.done;ze++,mt=q.next())mt=se(Le,$,ze,mt.value,he),mt!==null&&(c&&mt.alternate!==null&&Le.delete(mt.key===null?ze:mt.key),W=M(mt,W,ze),Qe===null?Te=mt:Qe.sibling=mt,Qe=mt);return c&&Le.forEach(function(cj){return u($,cj)}),bt&&ql($,ze),Te}function zt($,W,q,he){if(typeof q=="object"&&q!==null&&q.type===y&&q.key===null&&(q=q.props.children),typeof q=="object"&&q!==null){switch(q.$$typeof){case f:e:{for(var Te=q.key;W!==null;){if(W.key===Te){if(Te=q.type,Te===y){if(W.tag===7){g($,W.sibling),he=C(W,q.props.children),he.return=$,$=he;break e}}else if(W.elementType===Te||typeof Te=="object"&&Te!==null&&Te.$$typeof===O&&x1(Te)===W.type){g($,W.sibling),he=C(W,q.props),ug(he,q),he.return=$,$=he;break e}g($,W);break}else u($,W);W=W.sibling}q.type===y?(he=Yl(q.props.children,$.mode,he,q.key),he.return=$,$=he):(he=mm(q.type,q.key,q.props,null,$.mode,he),ug(he,q),he.return=$,$=he)}return L($);case v:e:{for(Te=q.key;W!==null;){if(W.key===Te)if(W.tag===4&&W.stateNode.containerInfo===q.containerInfo&&W.stateNode.implementation===q.implementation){g($,W.sibling),he=C(W,q.children||[]),he.return=$,$=he;break e}else{g($,W);break}else u($,W);W=W.sibling}he=hS(q,$.mode,he),he.return=$,$=he}return L($);case O:return Te=q._init,q=Te(q._payload),zt($,W,q,he)}if(Ce(q))return We($,W,q,he);if(U(q)){if(Te=U(q),typeof Te!="function")throw Error(s(150));return q=Te.call(q),Fe($,W,q,he)}if(typeof q.then=="function")return zt($,W,Pm(q),he);if(q.$$typeof===D)return zt($,W,bm($,q),he);Om($,q)}return typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint"?(q=""+q,W!==null&&W.tag===6?(g($,W.sibling),he=C(W,q),he.return=$,$=he):(g($,W),he=dS(q,$.mode,he),he.return=$,$=he),L($)):g($,W)}return function($,W,q,he){try{cg=0;var Te=zt($,W,q,he);return ju=null,Te}catch(Le){if(Le===eg||Le===wm)throw Le;var Qe=hn(29,Le,null,$.mode);return Qe.lanes=he,Qe.return=$,Qe}finally{}}}var Vu=M1(!0),D1=M1(!1),Vn=_(null),Ur=null;function Fa(c){var u=c.alternate;Z(Gi,Gi.current&1),Z(Vn,c),Ur===null&&(u===null||zu.current!==null||u.memoizedState!==null)&&(Ur=c)}function R1(c){if(c.tag===22){if(Z(Gi,Gi.current),Z(Vn,c),Ur===null){var u=c.alternate;u!==null&&u.memoizedState!==null&&(Ur=c)}}else Na()}function Na(){Z(Gi,Gi.current),Z(Vn,Vn.current)}function Bo(c){Y(Vn),Ur===c&&(Ur=null),Y(Gi)}var Gi=_(0);function Fm(c){for(var u=c;u!==null;){if(u.tag===13){var g=u.memoizedState;if(g!==null&&(g=g.dehydrated,g===null||g.data==="$?"||Ow(g)))return u}else if(u.tag===19&&u.memoizedProps.revealOrder!==void 0){if((u.flags&128)!==0)return u}else if(u.child!==null){u.child.return=u,u=u.child;continue}if(u===c)break;for(;u.sibling===null;){if(u.return===null||u.return===c)return null;u=u.return}u.sibling.return=u.return,u=u.sibling}return null}function US(c,u,g,m){u=c.memoizedState,g=g(m,u),g=g==null?u:h({},u,g),c.memoizedState=g,c.lanes===0&&(c.updateQueue.baseState=g)}var $S={enqueueSetState:function(c,u,g){c=c._reactInternals;var m=mn(),C=ka(m);C.payload=u,g!=null&&(C.callback=g),u=Pa(c,C,m),u!==null&&(vn(u,c,m),ig(u,c,m))},enqueueReplaceState:function(c,u,g){c=c._reactInternals;var m=mn(),C=ka(m);C.tag=1,C.payload=u,g!=null&&(C.callback=g),u=Pa(c,C,m),u!==null&&(vn(u,c,m),ig(u,c,m))},enqueueForceUpdate:function(c,u){c=c._reactInternals;var g=mn(),m=ka(g);m.tag=2,u!=null&&(m.callback=u),u=Pa(c,m,g),u!==null&&(vn(u,c,g),ig(u,c,g))}};function E1(c,u,g,m,C,M,L){return c=c.stateNode,typeof c.shouldComponentUpdate=="function"?c.shouldComponentUpdate(m,M,L):u.prototype&&u.prototype.isPureReactComponent?!$h(g,m)||!$h(C,M):!0}function A1(c,u,g,m){c=u.state,typeof u.componentWillReceiveProps=="function"&&u.componentWillReceiveProps(g,m),typeof u.UNSAFE_componentWillReceiveProps=="function"&&u.UNSAFE_componentWillReceiveProps(g,m),u.state!==c&&$S.enqueueReplaceState(u,u.state,null)}function ic(c,u){var g=u;if("ref"in u){g={};for(var m in u)m!=="ref"&&(g[m]=u[m])}if(c=c.defaultProps){g===u&&(g=h({},g));for(var C in c)g[C]===void 0&&(g[C]=c[C])}return g}var Nm=typeof reportError=="function"?reportError:function(c){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var u=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof c=="object"&&c!==null&&typeof c.message=="string"?String(c.message):String(c),error:c});if(!window.dispatchEvent(u))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",c);return}console.error(c)};function T1(c){Nm(c)}function I1(c){console.error(c)}function L1(c){Nm(c)}function zm(c,u){try{var g=c.onUncaughtError;g(u.value,{componentStack:u.stack})}catch(m){setTimeout(function(){throw m})}}function k1(c,u,g){try{var m=c.onCaughtError;m(g.value,{componentStack:g.stack,errorBoundary:u.tag===1?u.stateNode:null})}catch(C){setTimeout(function(){throw C})}}function YS(c,u,g){return g=ka(g),g.tag=3,g.payload={element:null},g.callback=function(){zm(c,u)},g}function P1(c){return c=ka(c),c.tag=3,c}function O1(c,u,g,m){var C=g.type.getDerivedStateFromError;if(typeof C=="function"){var M=m.value;c.payload=function(){return C(M)},c.callback=function(){k1(u,g,m)}}var L=g.stateNode;L!==null&&typeof L.componentDidCatch=="function"&&(c.callback=function(){k1(u,g,m),typeof C!="function"&&(Va===null?Va=new Set([this]):Va.add(this));var N=m.stack;this.componentDidCatch(m.value,{componentStack:N!==null?N:""})})}function cH(c,u,g,m,C){if(g.flags|=32768,m!==null&&typeof m=="object"&&typeof m.then=="function"){if(u=g.alternate,u!==null&&Xh(u,g,C,!0),g=Vn.current,g!==null){switch(g.tag){case 13:return Ur===null?vw():g.alternate===null&&fi===0&&(fi=3),g.flags&=-257,g.flags|=65536,g.lanes=C,m===wS?g.flags|=16384:(u=g.updateQueue,u===null?g.updateQueue=new Set([m]):u.add(m),Cw(c,m,C)),!1;case 22:return g.flags|=65536,m===wS?g.flags|=16384:(u=g.updateQueue,u===null?(u={transitions:null,markerInstances:null,retryQueue:new Set([m])},g.updateQueue=u):(g=u.retryQueue,g===null?u.retryQueue=new Set([m]):g.add(m)),Cw(c,m,C)),!1}throw Error(s(435,g.tag))}return Cw(c,m,C),vw(),!1}if(bt)return u=Vn.current,u!==null?((u.flags&65536)===0&&(u.flags|=256),u.flags|=65536,u.lanes=C,m!==fS&&(c=Error(s(422),{cause:m}),Zh(Bn(c,g)))):(m!==fS&&(u=Error(s(423),{cause:m}),Zh(Bn(u,g))),c=c.current.alternate,c.flags|=65536,C&=-C,c.lanes|=C,m=Bn(m,g),C=YS(c.stateNode,m,C),DS(c,C),fi!==4&&(fi=2)),!1;var M=Error(s(520),{cause:m});if(M=Bn(M,g),vg===null?vg=[M]:vg.push(M),fi!==4&&(fi=2),u===null)return!0;m=Bn(m,g),g=u;do{switch(g.tag){case 3:return g.flags|=65536,c=C&-C,g.lanes|=c,c=YS(g.stateNode,m,c),DS(g,c),!1;case 1:if(u=g.type,M=g.stateNode,(g.flags&128)===0&&(typeof u.getDerivedStateFromError=="function"||M!==null&&typeof M.componentDidCatch=="function"&&(Va===null||!Va.has(M))))return g.flags|=65536,C&=-C,g.lanes|=C,C=P1(C),O1(C,c,g,m),DS(g,C),!1}g=g.return}while(g!==null);return!1}var F1=Error(s(461)),Ki=!1;function os(c,u,g,m){u.child=c===null?D1(u,null,g,m):Vu(u,c.child,g,m)}function N1(c,u,g,m,C){g=g.render;var M=u.ref;if("ref"in m){var L={};for(var N in m)N!=="ref"&&(L[N]=m[N])}else L=m;return Jl(u),m=IS(c,u,g,L,M,C),N=LS(),c!==null&&!Ki?(kS(c,u,C),Go(c,u,C)):(bt&&N&&gS(u),u.flags|=1,os(c,u,m,C),u.child)}function z1(c,u,g,m,C){if(c===null){var M=g.type;return typeof M=="function"&&!uS(M)&&M.defaultProps===void 0&&g.compare===null?(u.tag=15,u.type=M,B1(c,u,M,m,C)):(c=mm(g.type,null,m,u,u.mode,C),c.ref=u.ref,c.return=u,u.child=c)}if(M=c.child,!tw(c,C)){var L=M.memoizedProps;if(g=g.compare,g=g!==null?g:$h,g(L,m)&&c.ref===u.ref)return Go(c,u,C)}return u.flags|=1,c=ko(M,m),c.ref=u.ref,c.return=u,u.child=c}function B1(c,u,g,m,C){if(c!==null){var M=c.memoizedProps;if($h(M,m)&&c.ref===u.ref)if(Ki=!1,u.pendingProps=m=M,tw(c,C))(c.flags&131072)!==0&&(Ki=!0);else return u.lanes=c.lanes,Go(c,u,C)}return KS(c,u,g,m,C)}function G1(c,u,g){var m=u.pendingProps,C=m.children,M=c!==null?c.memoizedState:null;if(m.mode==="hidden"){if((u.flags&128)!==0){if(m=M!==null?M.baseLanes|g:g,c!==null){for(C=u.child=c.child,M=0;C!==null;)M=M|C.lanes|C.childLanes,C=C.sibling;u.childLanes=M&~m}else u.childLanes=0,u.child=null;return H1(c,u,m,g)}if((g&536870912)!==0)u.memoizedState={baseLanes:0,cachePool:null},c!==null&&Sm(u,M!==null?M.cachePool:null),M!==null?BT(u,M):ES(),R1(u);else return u.lanes=u.childLanes=536870912,H1(c,u,M!==null?M.baseLanes|g:g,g)}else M!==null?(Sm(u,M.cachePool),BT(u,M),Na(),u.memoizedState=null):(c!==null&&Sm(u,null),ES(),Na());return os(c,u,C,g),u.child}function H1(c,u,g,m){var C=SS();return C=C===null?null:{parent:Bi._currentValue,pool:C},u.memoizedState={baseLanes:g,cachePool:C},c!==null&&Sm(u,null),ES(),R1(u),c!==null&&Xh(c,u,m,!0),null}function Bm(c,u){var g=u.ref;if(g===null)c!==null&&c.ref!==null&&(u.flags|=4194816);else{if(typeof g!="function"&&typeof g!="object")throw Error(s(284));(c===null||c.ref!==g)&&(u.flags|=4194816)}}function KS(c,u,g,m,C){return Jl(u),g=IS(c,u,g,m,void 0,C),m=LS(),c!==null&&!Ki?(kS(c,u,C),Go(c,u,C)):(bt&&m&&gS(u),u.flags|=1,os(c,u,g,C),u.child)}function j1(c,u,g,m,C,M){return Jl(u),u.updateQueue=null,g=HT(u,m,g,C),GT(c),m=LS(),c!==null&&!Ki?(kS(c,u,M),Go(c,u,M)):(bt&&m&&gS(u),u.flags|=1,os(c,u,g,M),u.child)}function V1(c,u,g,m,C){if(Jl(u),u.stateNode===null){var M=ku,L=g.contextType;typeof L=="object"&&L!==null&&(M=Ss(L)),M=new g(m,M),u.memoizedState=M.state!==null&&M.state!==void 0?M.state:null,M.updater=$S,u.stateNode=M,M._reactInternals=u,M=u.stateNode,M.props=m,M.state=u.memoizedState,M.refs={},xS(u),L=g.contextType,M.context=typeof L=="object"&&L!==null?Ss(L):ku,M.state=u.memoizedState,L=g.getDerivedStateFromProps,typeof L=="function"&&(US(u,g,L,m),M.state=u.memoizedState),typeof g.getDerivedStateFromProps=="function"||typeof M.getSnapshotBeforeUpdate=="function"||typeof M.UNSAFE_componentWillMount!="function"&&typeof M.componentWillMount!="function"||(L=M.state,typeof M.componentWillMount=="function"&&M.componentWillMount(),typeof M.UNSAFE_componentWillMount=="function"&&M.UNSAFE_componentWillMount(),L!==M.state&&$S.enqueueReplaceState(M,M.state,null),ng(u,m,M,C),sg(),M.state=u.memoizedState),typeof M.componentDidMount=="function"&&(u.flags|=4194308),m=!0}else if(c===null){M=u.stateNode;var N=u.memoizedProps,H=ic(g,N);M.props=H;var X=M.context,le=g.contextType;L=ku,typeof le=="object"&&le!==null&&(L=Ss(le));var pe=g.getDerivedStateFromProps;le=typeof pe=="function"||typeof M.getSnapshotBeforeUpdate=="function",N=u.pendingProps!==N,le||typeof M.UNSAFE_componentWillReceiveProps!="function"&&typeof M.componentWillReceiveProps!="function"||(N||X!==L)&&A1(u,M,m,L),La=!1;var ie=u.memoizedState;M.state=ie,ng(u,m,M,C),sg(),X=u.memoizedState,N||ie!==X||La?(typeof pe=="function"&&(US(u,g,pe,m),X=u.memoizedState),(H=La||E1(u,g,H,m,ie,X,L))?(le||typeof M.UNSAFE_componentWillMount!="function"&&typeof M.componentWillMount!="function"||(typeof M.componentWillMount=="function"&&M.componentWillMount(),typeof M.UNSAFE_componentWillMount=="function"&&M.UNSAFE_componentWillMount()),typeof M.componentDidMount=="function"&&(u.flags|=4194308)):(typeof M.componentDidMount=="function"&&(u.flags|=4194308),u.memoizedProps=m,u.memoizedState=X),M.props=m,M.state=X,M.context=L,m=H):(typeof M.componentDidMount=="function"&&(u.flags|=4194308),m=!1)}else{M=u.stateNode,MS(c,u),L=u.memoizedProps,le=ic(g,L),M.props=le,pe=u.pendingProps,ie=M.context,X=g.contextType,H=ku,typeof X=="object"&&X!==null&&(H=Ss(X)),N=g.getDerivedStateFromProps,(X=typeof N=="function"||typeof M.getSnapshotBeforeUpdate=="function")||typeof M.UNSAFE_componentWillReceiveProps!="function"&&typeof M.componentWillReceiveProps!="function"||(L!==pe||ie!==H)&&A1(u,M,m,H),La=!1,ie=u.memoizedState,M.state=ie,ng(u,m,M,C),sg();var se=u.memoizedState;L!==pe||ie!==se||La||c!==null&&c.dependencies!==null&&Cm(c.dependencies)?(typeof N=="function"&&(US(u,g,N,m),se=u.memoizedState),(le=La||E1(u,g,le,m,ie,se,H)||c!==null&&c.dependencies!==null&&Cm(c.dependencies))?(X||typeof M.UNSAFE_componentWillUpdate!="function"&&typeof M.componentWillUpdate!="function"||(typeof M.componentWillUpdate=="function"&&M.componentWillUpdate(m,se,H),typeof M.UNSAFE_componentWillUpdate=="function"&&M.UNSAFE_componentWillUpdate(m,se,H)),typeof M.componentDidUpdate=="function"&&(u.flags|=4),typeof M.getSnapshotBeforeUpdate=="function"&&(u.flags|=1024)):(typeof M.componentDidUpdate!="function"||L===c.memoizedProps&&ie===c.memoizedState||(u.flags|=4),typeof M.getSnapshotBeforeUpdate!="function"||L===c.memoizedProps&&ie===c.memoizedState||(u.flags|=1024),u.memoizedProps=m,u.memoizedState=se),M.props=m,M.state=se,M.context=H,m=le):(typeof M.componentDidUpdate!="function"||L===c.memoizedProps&&ie===c.memoizedState||(u.flags|=4),typeof M.getSnapshotBeforeUpdate!="function"||L===c.memoizedProps&&ie===c.memoizedState||(u.flags|=1024),m=!1)}return M=m,Bm(c,u),m=(u.flags&128)!==0,M||m?(M=u.stateNode,g=m&&typeof g.getDerivedStateFromError!="function"?null:M.render(),u.flags|=1,c!==null&&m?(u.child=Vu(u,c.child,null,C),u.child=Vu(u,null,g,C)):os(c,u,g,C),u.memoizedState=M.state,c=u.child):c=Go(c,u,C),c}function _1(c,u,g,m){return qh(),u.flags|=256,os(c,u,g,m),u.child}var qS={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function ZS(c){return{baseLanes:c,cachePool:IT()}}function XS(c,u,g){return c=c!==null?c.childLanes&~g:0,u&&(c|=_n),c}function W1(c,u,g){var m=u.pendingProps,C=!1,M=(u.flags&128)!==0,L;if((L=M)||(L=c!==null&&c.memoizedState===null?!1:(Gi.current&2)!==0),L&&(C=!0,u.flags&=-129),L=(u.flags&32)!==0,u.flags&=-33,c===null){if(bt){if(C?Fa(u):Na(),bt){var N=pi,H;if(H=N){e:{for(H=N,N=Wr;H.nodeType!==8;){if(!N){N=null;break e}if(H=yr(H.nextSibling),H===null){N=null;break e}}N=H}N!==null?(u.memoizedState={dehydrated:N,treeContext:Kl!==null?{id:Po,overflow:Oo}:null,retryLane:536870912,hydrationErrors:null},H=hn(18,null,null,0),H.stateNode=N,H.return=u,u.child=H,Ls=u,pi=null,H=!0):H=!1}H||Xl(u)}if(N=u.memoizedState,N!==null&&(N=N.dehydrated,N!==null))return Ow(N)?u.lanes=32:u.lanes=536870912,null;Bo(u)}return N=m.children,m=m.fallback,C?(Na(),C=u.mode,N=Gm({mode:"hidden",children:N},C),m=Yl(m,C,g,null),N.return=u,m.return=u,N.sibling=m,u.child=N,C=u.child,C.memoizedState=ZS(g),C.childLanes=XS(c,L,g),u.memoizedState=qS,m):(Fa(u),QS(u,N))}if(H=c.memoizedState,H!==null&&(N=H.dehydrated,N!==null)){if(M)u.flags&256?(Fa(u),u.flags&=-257,u=JS(c,u,g)):u.memoizedState!==null?(Na(),u.child=c.child,u.flags|=128,u=null):(Na(),C=m.fallback,N=u.mode,m=Gm({mode:"visible",children:m.children},N),C=Yl(C,N,g,null),C.flags|=2,m.return=u,C.return=u,m.sibling=C,u.child=m,Vu(u,c.child,null,g),m=u.child,m.memoizedState=ZS(g),m.childLanes=XS(c,L,g),u.memoizedState=qS,u=C);else if(Fa(u),Ow(N)){if(L=N.nextSibling&&N.nextSibling.dataset,L)var X=L.dgst;L=X,m=Error(s(419)),m.stack="",m.digest=L,Zh({value:m,source:null,stack:null}),u=JS(c,u,g)}else if(Ki||Xh(c,u,g,!1),L=(g&c.childLanes)!==0,Ki||L){if(L=jt,L!==null&&(m=g&-g,m=(m&42)!==0?1:Fb(m),m=(m&(L.suspendedLanes|g))!==0?0:m,m!==0&&m!==H.retryLane))throw H.retryLane=m,Lu(c,m),vn(L,c,m),F1;N.data==="$?"||vw(),u=JS(c,u,g)}else N.data==="$?"?(u.flags|=192,u.child=c.child,u=null):(c=H.treeContext,pi=yr(N.nextSibling),Ls=u,bt=!0,Zl=null,Wr=!1,c!==null&&(Hn[jn++]=Po,Hn[jn++]=Oo,Hn[jn++]=Kl,Po=c.id,Oo=c.overflow,Kl=u),u=QS(u,m.children),u.flags|=4096);return u}return C?(Na(),C=m.fallback,N=u.mode,H=c.child,X=H.sibling,m=ko(H,{mode:"hidden",children:m.children}),m.subtreeFlags=H.subtreeFlags&65011712,X!==null?C=ko(X,C):(C=Yl(C,N,g,null),C.flags|=2),C.return=u,m.return=u,m.sibling=C,u.child=m,m=C,C=u.child,N=c.child.memoizedState,N===null?N=ZS(g):(H=N.cachePool,H!==null?(X=Bi._currentValue,H=H.parent!==X?{parent:X,pool:X}:H):H=IT(),N={baseLanes:N.baseLanes|g,cachePool:H}),C.memoizedState=N,C.childLanes=XS(c,L,g),u.memoizedState=qS,m):(Fa(u),g=c.child,c=g.sibling,g=ko(g,{mode:"visible",children:m.children}),g.return=u,g.sibling=null,c!==null&&(L=u.deletions,L===null?(u.deletions=[c],u.flags|=16):L.push(c)),u.child=g,u.memoizedState=null,g)}function QS(c,u){return u=Gm({mode:"visible",children:u},c.mode),u.return=c,c.child=u}function Gm(c,u){return c=hn(22,c,null,u),c.lanes=0,c.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},c}function JS(c,u,g){return Vu(u,c.child,null,g),c=QS(u,u.pendingProps.children),c.flags|=2,u.memoizedState=null,c}function U1(c,u,g){c.lanes|=u;var m=c.alternate;m!==null&&(m.lanes|=u),vS(c.return,u,g)}function ew(c,u,g,m,C){var M=c.memoizedState;M===null?c.memoizedState={isBackwards:u,rendering:null,renderingStartTime:0,last:m,tail:g,tailMode:C}:(M.isBackwards=u,M.rendering=null,M.renderingStartTime=0,M.last=m,M.tail=g,M.tailMode=C)}function $1(c,u,g){var m=u.pendingProps,C=m.revealOrder,M=m.tail;if(os(c,u,m.children,g),m=Gi.current,(m&2)!==0)m=m&1|2,u.flags|=128;else{if(c!==null&&(c.flags&128)!==0)e:for(c=u.child;c!==null;){if(c.tag===13)c.memoizedState!==null&&U1(c,g,u);else if(c.tag===19)U1(c,g,u);else if(c.child!==null){c.child.return=c,c=c.child;continue}if(c===u)break e;for(;c.sibling===null;){if(c.return===null||c.return===u)break e;c=c.return}c.sibling.return=c.return,c=c.sibling}m&=1}switch(Z(Gi,m),C){case"forwards":for(g=u.child,C=null;g!==null;)c=g.alternate,c!==null&&Fm(c)===null&&(C=g),g=g.sibling;g=C,g===null?(C=u.child,u.child=null):(C=g.sibling,g.sibling=null),ew(u,!1,C,g,M);break;case"backwards":for(g=null,C=u.child,u.child=null;C!==null;){if(c=C.alternate,c!==null&&Fm(c)===null){u.child=C;break}c=C.sibling,C.sibling=g,g=C,C=c}ew(u,!0,g,null,M);break;case"together":ew(u,!1,null,null,void 0);break;default:u.memoizedState=null}return u.child}function Go(c,u,g){if(c!==null&&(u.dependencies=c.dependencies),ja|=u.lanes,(g&u.childLanes)===0)if(c!==null){if(Xh(c,u,g,!1),(g&u.childLanes)===0)return null}else return null;if(c!==null&&u.child!==c.child)throw Error(s(153));if(u.child!==null){for(c=u.child,g=ko(c,c.pendingProps),u.child=g,g.return=u;c.sibling!==null;)c=c.sibling,g=g.sibling=ko(c,c.pendingProps),g.return=u;g.sibling=null}return u.child}function tw(c,u){return(c.lanes&u)!==0?!0:(c=c.dependencies,!!(c!==null&&Cm(c)))}function uH(c,u,g){switch(u.tag){case 3:de(u,u.stateNode.containerInfo),Ia(u,Bi,c.memoizedState.cache),qh();break;case 27:case 5:xe(u);break;case 4:de(u,u.stateNode.containerInfo);break;case 10:Ia(u,u.type,u.memoizedProps.value);break;case 13:var m=u.memoizedState;if(m!==null)return m.dehydrated!==null?(Fa(u),u.flags|=128,null):(g&u.child.childLanes)!==0?W1(c,u,g):(Fa(u),c=Go(c,u,g),c!==null?c.sibling:null);Fa(u);break;case 19:var C=(c.flags&128)!==0;if(m=(g&u.childLanes)!==0,m||(Xh(c,u,g,!1),m=(g&u.childLanes)!==0),C){if(m)return $1(c,u,g);u.flags|=128}if(C=u.memoizedState,C!==null&&(C.rendering=null,C.tail=null,C.lastEffect=null),Z(Gi,Gi.current),m)break;return null;case 22:case 23:return u.lanes=0,G1(c,u,g);case 24:Ia(u,Bi,c.memoizedState.cache)}return Go(c,u,g)}function Y1(c,u,g){if(c!==null)if(c.memoizedProps!==u.pendingProps)Ki=!0;else{if(!tw(c,g)&&(u.flags&128)===0)return Ki=!1,uH(c,u,g);Ki=(c.flags&131072)!==0}else Ki=!1,bt&&(u.flags&1048576)!==0&&xT(u,ym,u.index);switch(u.lanes=0,u.tag){case 16:e:{c=u.pendingProps;var m=u.elementType,C=m._init;if(m=C(m._payload),u.type=m,typeof m=="function")uS(m)?(c=ic(m,c),u.tag=1,u=V1(null,u,m,c,g)):(u.tag=0,u=KS(null,u,m,c,g));else{if(m!=null){if(C=m.$$typeof,C===E){u.tag=11,u=N1(null,u,m,c,g);break e}else if(C===P){u.tag=14,u=z1(null,u,m,c,g);break e}}throw u=ye(m)||m,Error(s(306,u,""))}}return u;case 0:return KS(c,u,u.type,u.pendingProps,g);case 1:return m=u.type,C=ic(m,u.pendingProps),V1(c,u,m,C,g);case 3:e:{if(de(u,u.stateNode.containerInfo),c===null)throw Error(s(387));m=u.pendingProps;var M=u.memoizedState;C=M.element,MS(c,u),ng(u,m,null,g);var L=u.memoizedState;if(m=L.cache,Ia(u,Bi,m),m!==M.cache&&yS(u,[Bi],g,!0),sg(),m=L.element,M.isDehydrated)if(M={element:m,isDehydrated:!1,cache:L.cache},u.updateQueue.baseState=M,u.memoizedState=M,u.flags&256){u=_1(c,u,m,g);break e}else if(m!==C){C=Bn(Error(s(424)),u),Zh(C),u=_1(c,u,m,g);break e}else{switch(c=u.stateNode.containerInfo,c.nodeType){case 9:c=c.body;break;default:c=c.nodeName==="HTML"?c.ownerDocument.body:c}for(pi=yr(c.firstChild),Ls=u,bt=!0,Zl=null,Wr=!0,g=D1(u,null,m,g),u.child=g;g;)g.flags=g.flags&-3|4096,g=g.sibling}else{if(qh(),m===C){u=Go(c,u,g);break e}os(c,u,m,g)}u=u.child}return u;case 26:return Bm(c,u),c===null?(g=XI(u.type,null,u.pendingProps,null))?u.memoizedState=g:bt||(g=u.type,c=u.pendingProps,m=Jm(ce.current).createElement(g),m[bs]=u,m[$s]=c,ls(m,g,c),Yi(m),u.stateNode=m):u.memoizedState=XI(u.type,c.memoizedProps,u.pendingProps,c.memoizedState),null;case 27:return xe(u),c===null&&bt&&(m=u.stateNode=KI(u.type,u.pendingProps,ce.current),Ls=u,Wr=!0,C=pi,Ua(u.type)?(Fw=C,pi=yr(m.firstChild)):pi=C),os(c,u,u.pendingProps.children,g),Bm(c,u),c===null&&(u.flags|=4194304),u.child;case 5:return c===null&&bt&&((C=m=pi)&&(m=BH(m,u.type,u.pendingProps,Wr),m!==null?(u.stateNode=m,Ls=u,pi=yr(m.firstChild),Wr=!1,C=!0):C=!1),C||Xl(u)),xe(u),C=u.type,M=u.pendingProps,L=c!==null?c.memoizedProps:null,m=M.children,Lw(C,M)?m=null:L!==null&&Lw(C,L)&&(u.flags|=32),u.memoizedState!==null&&(C=IS(c,u,iH,null,null,g),Rg._currentValue=C),Bm(c,u),os(c,u,m,g),u.child;case 6:return c===null&&bt&&((c=g=pi)&&(g=GH(g,u.pendingProps,Wr),g!==null?(u.stateNode=g,Ls=u,pi=null,c=!0):c=!1),c||Xl(u)),null;case 13:return W1(c,u,g);case 4:return de(u,u.stateNode.containerInfo),m=u.pendingProps,c===null?u.child=Vu(u,null,m,g):os(c,u,m,g),u.child;case 11:return N1(c,u,u.type,u.pendingProps,g);case 7:return os(c,u,u.pendingProps,g),u.child;case 8:return os(c,u,u.pendingProps.children,g),u.child;case 12:return os(c,u,u.pendingProps.children,g),u.child;case 10:return m=u.pendingProps,Ia(u,u.type,m.value),os(c,u,m.children,g),u.child;case 9:return C=u.type._context,m=u.pendingProps.children,Jl(u),C=Ss(C),m=m(C),u.flags|=1,os(c,u,m,g),u.child;case 14:return z1(c,u,u.type,u.pendingProps,g);case 15:return B1(c,u,u.type,u.pendingProps,g);case 19:return $1(c,u,g);case 31:return m=u.pendingProps,g=u.mode,m={mode:m.mode,children:m.children},c===null?(g=Gm(m,g),g.ref=u.ref,u.child=g,g.return=u,u=g):(g=ko(c.child,m),g.ref=u.ref,u.child=g,g.return=u,u=g),u;case 22:return G1(c,u,g);case 24:return Jl(u),m=Ss(Bi),c===null?(C=SS(),C===null&&(C=jt,M=CS(),C.pooledCache=M,M.refCount++,M!==null&&(C.pooledCacheLanes|=g),C=M),u.memoizedState={parent:m,cache:C},xS(u),Ia(u,Bi,C)):((c.lanes&g)!==0&&(MS(c,u),ng(u,null,null,g),sg()),C=c.memoizedState,M=u.memoizedState,C.parent!==m?(C={parent:m,cache:m},u.memoizedState=C,u.lanes===0&&(u.memoizedState=u.updateQueue.baseState=C),Ia(u,Bi,m)):(m=M.cache,Ia(u,Bi,m),m!==C.cache&&yS(u,[Bi],g,!0))),os(c,u,u.pendingProps.children,g),u.child;case 29:throw u.pendingProps}throw Error(s(156,u.tag))}function Ho(c){c.flags|=4}function K1(c,u){if(u.type!=="stylesheet"||(u.state.loading&4)!==0)c.flags&=-16777217;else if(c.flags|=16777216,!iL(u)){if(u=Vn.current,u!==null&&((dt&4194048)===dt?Ur!==null:(dt&62914560)!==dt&&(dt&536870912)===0||u!==Ur))throw tg=wS,LT;c.flags|=8192}}function Hm(c,u){u!==null&&(c.flags|=4),c.flags&16384&&(u=c.tag!==22?RA():536870912,c.lanes|=u,$u|=u)}function dg(c,u){if(!bt)switch(c.tailMode){case"hidden":u=c.tail;for(var g=null;u!==null;)u.alternate!==null&&(g=u),u=u.sibling;g===null?c.tail=null:g.sibling=null;break;case"collapsed":g=c.tail;for(var m=null;g!==null;)g.alternate!==null&&(m=g),g=g.sibling;m===null?u||c.tail===null?c.tail=null:c.tail.sibling=null:m.sibling=null}}function ii(c){var u=c.alternate!==null&&c.alternate.child===c.child,g=0,m=0;if(u)for(var C=c.child;C!==null;)g|=C.lanes|C.childLanes,m|=C.subtreeFlags&65011712,m|=C.flags&65011712,C.return=c,C=C.sibling;else for(C=c.child;C!==null;)g|=C.lanes|C.childLanes,m|=C.subtreeFlags,m|=C.flags,C.return=c,C=C.sibling;return c.subtreeFlags|=m,c.childLanes=g,u}function dH(c,u,g){var m=u.pendingProps;switch(pS(u),u.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ii(u),null;case 1:return ii(u),null;case 3:return g=u.stateNode,m=null,c!==null&&(m=c.memoizedState.cache),u.memoizedState.cache!==m&&(u.flags|=2048),No(Bi),ue(),g.pendingContext&&(g.context=g.pendingContext,g.pendingContext=null),(c===null||c.child===null)&&(Kh(u)?Ho(u):c===null||c.memoizedState.isDehydrated&&(u.flags&256)===0||(u.flags|=1024,RT())),ii(u),null;case 26:return g=u.memoizedState,c===null?(Ho(u),g!==null?(ii(u),K1(u,g)):(ii(u),u.flags&=-16777217)):g?g!==c.memoizedState?(Ho(u),ii(u),K1(u,g)):(ii(u),u.flags&=-16777217):(c.memoizedProps!==m&&Ho(u),ii(u),u.flags&=-16777217),null;case 27:Ee(u),g=ce.current;var C=u.type;if(c!==null&&u.stateNode!=null)c.memoizedProps!==m&&Ho(u);else{if(!m){if(u.stateNode===null)throw Error(s(166));return ii(u),null}c=ee.current,Kh(u)?MT(u):(c=KI(C,m,g),u.stateNode=c,Ho(u))}return ii(u),null;case 5:if(Ee(u),g=u.type,c!==null&&u.stateNode!=null)c.memoizedProps!==m&&Ho(u);else{if(!m){if(u.stateNode===null)throw Error(s(166));return ii(u),null}if(c=ee.current,Kh(u))MT(u);else{switch(C=Jm(ce.current),c){case 1:c=C.createElementNS("http://www.w3.org/2000/svg",g);break;case 2:c=C.createElementNS("http://www.w3.org/1998/Math/MathML",g);break;default:switch(g){case"svg":c=C.createElementNS("http://www.w3.org/2000/svg",g);break;case"math":c=C.createElementNS("http://www.w3.org/1998/Math/MathML",g);break;case"script":c=C.createElement("div"),c.innerHTML="<script><\/script>",c=c.removeChild(c.firstChild);break;case"select":c=typeof m.is=="string"?C.createElement("select",{is:m.is}):C.createElement("select"),m.multiple?c.multiple=!0:m.size&&(c.size=m.size);break;default:c=typeof m.is=="string"?C.createElement(g,{is:m.is}):C.createElement(g)}}c[bs]=u,c[$s]=m;e:for(C=u.child;C!==null;){if(C.tag===5||C.tag===6)c.appendChild(C.stateNode);else if(C.tag!==4&&C.tag!==27&&C.child!==null){C.child.return=C,C=C.child;continue}if(C===u)break e;for(;C.sibling===null;){if(C.return===null||C.return===u)break e;C=C.return}C.sibling.return=C.return,C=C.sibling}u.stateNode=c;e:switch(ls(c,g,m),g){case"button":case"input":case"select":case"textarea":c=!!m.autoFocus;break e;case"img":c=!0;break e;default:c=!1}c&&Ho(u)}}return ii(u),u.flags&=-16777217,null;case 6:if(c&&u.stateNode!=null)c.memoizedProps!==m&&Ho(u);else{if(typeof m!="string"&&u.stateNode===null)throw Error(s(166));if(c=ce.current,Kh(u)){if(c=u.stateNode,g=u.memoizedProps,m=null,C=Ls,C!==null)switch(C.tag){case 27:case 5:m=C.memoizedProps}c[bs]=u,c=!!(c.nodeValue===g||m!==null&&m.suppressHydrationWarning===!0||jI(c.nodeValue,g)),c||Xl(u)}else c=Jm(c).createTextNode(m),c[bs]=u,u.stateNode=c}return ii(u),null;case 13:if(m=u.memoizedState,c===null||c.memoizedState!==null&&c.memoizedState.dehydrated!==null){if(C=Kh(u),m!==null&&m.dehydrated!==null){if(c===null){if(!C)throw Error(s(318));if(C=u.memoizedState,C=C!==null?C.dehydrated:null,!C)throw Error(s(317));C[bs]=u}else qh(),(u.flags&128)===0&&(u.memoizedState=null),u.flags|=4;ii(u),C=!1}else C=RT(),c!==null&&c.memoizedState!==null&&(c.memoizedState.hydrationErrors=C),C=!0;if(!C)return u.flags&256?(Bo(u),u):(Bo(u),null)}if(Bo(u),(u.flags&128)!==0)return u.lanes=g,u;if(g=m!==null,c=c!==null&&c.memoizedState!==null,g){m=u.child,C=null,m.alternate!==null&&m.alternate.memoizedState!==null&&m.alternate.memoizedState.cachePool!==null&&(C=m.alternate.memoizedState.cachePool.pool);var M=null;m.memoizedState!==null&&m.memoizedState.cachePool!==null&&(M=m.memoizedState.cachePool.pool),M!==C&&(m.flags|=2048)}return g!==c&&g&&(u.child.flags|=8192),Hm(u,u.updateQueue),ii(u),null;case 4:return ue(),c===null&&Rw(u.stateNode.containerInfo),ii(u),null;case 10:return No(u.type),ii(u),null;case 19:if(Y(Gi),C=u.memoizedState,C===null)return ii(u),null;if(m=(u.flags&128)!==0,M=C.rendering,M===null)if(m)dg(C,!1);else{if(fi!==0||c!==null&&(c.flags&128)!==0)for(c=u.child;c!==null;){if(M=Fm(c),M!==null){for(u.flags|=128,dg(C,!1),c=M.updateQueue,u.updateQueue=c,Hm(u,c),u.subtreeFlags=0,c=g,g=u.child;g!==null;)wT(g,c),g=g.sibling;return Z(Gi,Gi.current&1|2),u.child}c=c.sibling}C.tail!==null&&ut()>_m&&(u.flags|=128,m=!0,dg(C,!1),u.lanes=4194304)}else{if(!m)if(c=Fm(M),c!==null){if(u.flags|=128,m=!0,c=c.updateQueue,u.updateQueue=c,Hm(u,c),dg(C,!0),C.tail===null&&C.tailMode==="hidden"&&!M.alternate&&!bt)return ii(u),null}else 2*ut()-C.renderingStartTime>_m&&g!==536870912&&(u.flags|=128,m=!0,dg(C,!1),u.lanes=4194304);C.isBackwards?(M.sibling=u.child,u.child=M):(c=C.last,c!==null?c.sibling=M:u.child=M,C.last=M)}return C.tail!==null?(u=C.tail,C.rendering=u,C.tail=u.sibling,C.renderingStartTime=ut(),u.sibling=null,c=Gi.current,Z(Gi,m?c&1|2:c&1),u):(ii(u),null);case 22:case 23:return Bo(u),AS(),m=u.memoizedState!==null,c!==null?c.memoizedState!==null!==m&&(u.flags|=8192):m&&(u.flags|=8192),m?(g&536870912)!==0&&(u.flags&128)===0&&(ii(u),u.subtreeFlags&6&&(u.flags|=8192)):ii(u),g=u.updateQueue,g!==null&&Hm(u,g.retryQueue),g=null,c!==null&&c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(g=c.memoizedState.cachePool.pool),m=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(m=u.memoizedState.cachePool.pool),m!==g&&(u.flags|=2048),c!==null&&Y(ec),null;case 24:return g=null,c!==null&&(g=c.memoizedState.cache),u.memoizedState.cache!==g&&(u.flags|=2048),No(Bi),ii(u),null;case 25:return null;case 30:return null}throw Error(s(156,u.tag))}function hH(c,u){switch(pS(u),u.tag){case 1:return c=u.flags,c&65536?(u.flags=c&-65537|128,u):null;case 3:return No(Bi),ue(),c=u.flags,(c&65536)!==0&&(c&128)===0?(u.flags=c&-65537|128,u):null;case 26:case 27:case 5:return Ee(u),null;case 13:if(Bo(u),c=u.memoizedState,c!==null&&c.dehydrated!==null){if(u.alternate===null)throw Error(s(340));qh()}return c=u.flags,c&65536?(u.flags=c&-65537|128,u):null;case 19:return Y(Gi),null;case 4:return ue(),null;case 10:return No(u.type),null;case 22:case 23:return Bo(u),AS(),c!==null&&Y(ec),c=u.flags,c&65536?(u.flags=c&-65537|128,u):null;case 24:return No(Bi),null;case 25:return null;default:return null}}function q1(c,u){switch(pS(u),u.tag){case 3:No(Bi),ue();break;case 26:case 27:case 5:Ee(u);break;case 4:ue();break;case 13:Bo(u);break;case 19:Y(Gi);break;case 10:No(u.type);break;case 22:case 23:Bo(u),AS(),c!==null&&Y(ec);break;case 24:No(Bi)}}function hg(c,u){try{var g=u.updateQueue,m=g!==null?g.lastEffect:null;if(m!==null){var C=m.next;g=C;do{if((g.tag&c)===c){m=void 0;var M=g.create,L=g.inst;m=M(),L.destroy=m}g=g.next}while(g!==C)}}catch(N){Gt(u,u.return,N)}}function za(c,u,g){try{var m=u.updateQueue,C=m!==null?m.lastEffect:null;if(C!==null){var M=C.next;m=M;do{if((m.tag&c)===c){var L=m.inst,N=L.destroy;if(N!==void 0){L.destroy=void 0,C=u;var H=g,X=N;try{X()}catch(le){Gt(C,H,le)}}}m=m.next}while(m!==M)}}catch(le){Gt(u,u.return,le)}}function Z1(c){var u=c.updateQueue;if(u!==null){var g=c.stateNode;try{zT(u,g)}catch(m){Gt(c,c.return,m)}}}function X1(c,u,g){g.props=ic(c.type,c.memoizedProps),g.state=c.memoizedState;try{g.componentWillUnmount()}catch(m){Gt(c,u,m)}}function gg(c,u){try{var g=c.ref;if(g!==null){switch(c.tag){case 26:case 27:case 5:var m=c.stateNode;break;case 30:m=c.stateNode;break;default:m=c.stateNode}typeof g=="function"?c.refCleanup=g(m):g.current=m}}catch(C){Gt(c,u,C)}}function $r(c,u){var g=c.ref,m=c.refCleanup;if(g!==null)if(typeof m=="function")try{m()}catch(C){Gt(c,u,C)}finally{c.refCleanup=null,c=c.alternate,c!=null&&(c.refCleanup=null)}else if(typeof g=="function")try{g(null)}catch(C){Gt(c,u,C)}else g.current=null}function Q1(c){var u=c.type,g=c.memoizedProps,m=c.stateNode;try{e:switch(u){case"button":case"input":case"select":case"textarea":g.autoFocus&&m.focus();break e;case"img":g.src?m.src=g.src:g.srcSet&&(m.srcset=g.srcSet)}}catch(C){Gt(c,c.return,C)}}function iw(c,u,g){try{var m=c.stateNode;PH(m,c.type,g,u),m[$s]=u}catch(C){Gt(c,c.return,C)}}function J1(c){return c.tag===5||c.tag===3||c.tag===26||c.tag===27&&Ua(c.type)||c.tag===4}function sw(c){e:for(;;){for(;c.sibling===null;){if(c.return===null||J1(c.return))return null;c=c.return}for(c.sibling.return=c.return,c=c.sibling;c.tag!==5&&c.tag!==6&&c.tag!==18;){if(c.tag===27&&Ua(c.type)||c.flags&2||c.child===null||c.tag===4)continue e;c.child.return=c,c=c.child}if(!(c.flags&2))return c.stateNode}}function nw(c,u,g){var m=c.tag;if(m===5||m===6)c=c.stateNode,u?(g.nodeType===9?g.body:g.nodeName==="HTML"?g.ownerDocument.body:g).insertBefore(c,u):(u=g.nodeType===9?g.body:g.nodeName==="HTML"?g.ownerDocument.body:g,u.appendChild(c),g=g._reactRootContainer,g!=null||u.onclick!==null||(u.onclick=Qm));else if(m!==4&&(m===27&&Ua(c.type)&&(g=c.stateNode,u=null),c=c.child,c!==null))for(nw(c,u,g),c=c.sibling;c!==null;)nw(c,u,g),c=c.sibling}function jm(c,u,g){var m=c.tag;if(m===5||m===6)c=c.stateNode,u?g.insertBefore(c,u):g.appendChild(c);else if(m!==4&&(m===27&&Ua(c.type)&&(g=c.stateNode),c=c.child,c!==null))for(jm(c,u,g),c=c.sibling;c!==null;)jm(c,u,g),c=c.sibling}function eI(c){var u=c.stateNode,g=c.memoizedProps;try{for(var m=c.type,C=u.attributes;C.length;)u.removeAttributeNode(C[0]);ls(u,m,g),u[bs]=c,u[$s]=g}catch(M){Gt(c,c.return,M)}}var jo=!1,Di=!1,rw=!1,tI=typeof WeakSet=="function"?WeakSet:Set,qi=null;function gH(c,u){if(c=c.containerInfo,Tw=rv,c=hT(c),sS(c)){if("selectionStart"in c)var g={start:c.selectionStart,end:c.selectionEnd};else e:{g=(g=c.ownerDocument)&&g.defaultView||window;var m=g.getSelection&&g.getSelection();if(m&&m.rangeCount!==0){g=m.anchorNode;var C=m.anchorOffset,M=m.focusNode;m=m.focusOffset;try{g.nodeType,M.nodeType}catch{g=null;break e}var L=0,N=-1,H=-1,X=0,le=0,pe=c,ie=null;t:for(;;){for(var se;pe!==g||C!==0&&pe.nodeType!==3||(N=L+C),pe!==M||m!==0&&pe.nodeType!==3||(H=L+m),pe.nodeType===3&&(L+=pe.nodeValue.length),(se=pe.firstChild)!==null;)ie=pe,pe=se;for(;;){if(pe===c)break t;if(ie===g&&++X===C&&(N=L),ie===M&&++le===m&&(H=L),(se=pe.nextSibling)!==null)break;pe=ie,ie=pe.parentNode}pe=se}g=N===-1||H===-1?null:{start:N,end:H}}else g=null}g=g||{start:0,end:0}}else g=null;for(Iw={focusedElem:c,selectionRange:g},rv=!1,qi=u;qi!==null;)if(u=qi,c=u.child,(u.subtreeFlags&1024)!==0&&c!==null)c.return=u,qi=c;else for(;qi!==null;){switch(u=qi,M=u.alternate,c=u.flags,u.tag){case 0:break;case 11:case 15:break;case 1:if((c&1024)!==0&&M!==null){c=void 0,g=u,C=M.memoizedProps,M=M.memoizedState,m=g.stateNode;try{var We=ic(g.type,C,g.elementType===g.type);c=m.getSnapshotBeforeUpdate(We,M),m.__reactInternalSnapshotBeforeUpdate=c}catch(Fe){Gt(g,g.return,Fe)}}break;case 3:if((c&1024)!==0){if(c=u.stateNode.containerInfo,g=c.nodeType,g===9)Pw(c);else if(g===1)switch(c.nodeName){case"HEAD":case"HTML":case"BODY":Pw(c);break;default:c.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((c&1024)!==0)throw Error(s(163))}if(c=u.sibling,c!==null){c.return=u.return,qi=c;break}qi=u.return}}function iI(c,u,g){var m=g.flags;switch(g.tag){case 0:case 11:case 15:Ba(c,g),m&4&&hg(5,g);break;case 1:if(Ba(c,g),m&4)if(c=g.stateNode,u===null)try{c.componentDidMount()}catch(L){Gt(g,g.return,L)}else{var C=ic(g.type,u.memoizedProps);u=u.memoizedState;try{c.componentDidUpdate(C,u,c.__reactInternalSnapshotBeforeUpdate)}catch(L){Gt(g,g.return,L)}}m&64&&Z1(g),m&512&&gg(g,g.return);break;case 3:if(Ba(c,g),m&64&&(c=g.updateQueue,c!==null)){if(u=null,g.child!==null)switch(g.child.tag){case 27:case 5:u=g.child.stateNode;break;case 1:u=g.child.stateNode}try{zT(c,u)}catch(L){Gt(g,g.return,L)}}break;case 27:u===null&&m&4&&eI(g);case 26:case 5:Ba(c,g),u===null&&m&4&&Q1(g),m&512&&gg(g,g.return);break;case 12:Ba(c,g);break;case 13:Ba(c,g),m&4&&rI(c,g),m&64&&(c=g.memoizedState,c!==null&&(c=c.dehydrated,c!==null&&(g=wH.bind(null,g),HH(c,g))));break;case 22:if(m=g.memoizedState!==null||jo,!m){u=u!==null&&u.memoizedState!==null||Di,C=jo;var M=Di;jo=m,(Di=u)&&!M?Ga(c,g,(g.subtreeFlags&8772)!==0):Ba(c,g),jo=C,Di=M}break;case 30:break;default:Ba(c,g)}}function sI(c){var u=c.alternate;u!==null&&(c.alternate=null,sI(u)),c.child=null,c.deletions=null,c.sibling=null,c.tag===5&&(u=c.stateNode,u!==null&&Bb(u)),c.stateNode=null,c.return=null,c.dependencies=null,c.memoizedProps=null,c.memoizedState=null,c.pendingProps=null,c.stateNode=null,c.updateQueue=null}var Zt=null,qs=!1;function Vo(c,u,g){for(g=g.child;g!==null;)nI(c,u,g),g=g.sibling}function nI(c,u,g){if(Rt&&typeof Rt.onCommitFiberUnmount=="function")try{Rt.onCommitFiberUnmount(gt,g)}catch{}switch(g.tag){case 26:Di||$r(g,u),Vo(c,u,g),g.memoizedState?g.memoizedState.count--:g.stateNode&&(g=g.stateNode,g.parentNode.removeChild(g));break;case 27:Di||$r(g,u);var m=Zt,C=qs;Ua(g.type)&&(Zt=g.stateNode,qs=!1),Vo(c,u,g),wg(g.stateNode),Zt=m,qs=C;break;case 5:Di||$r(g,u);case 6:if(m=Zt,C=qs,Zt=null,Vo(c,u,g),Zt=m,qs=C,Zt!==null)if(qs)try{(Zt.nodeType===9?Zt.body:Zt.nodeName==="HTML"?Zt.ownerDocument.body:Zt).removeChild(g.stateNode)}catch(M){Gt(g,u,M)}else try{Zt.removeChild(g.stateNode)}catch(M){Gt(g,u,M)}break;case 18:Zt!==null&&(qs?(c=Zt,$I(c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c,g.stateNode),Ig(c)):$I(Zt,g.stateNode));break;case 4:m=Zt,C=qs,Zt=g.stateNode.containerInfo,qs=!0,Vo(c,u,g),Zt=m,qs=C;break;case 0:case 11:case 14:case 15:Di||za(2,g,u),Di||za(4,g,u),Vo(c,u,g);break;case 1:Di||($r(g,u),m=g.stateNode,typeof m.componentWillUnmount=="function"&&X1(g,u,m)),Vo(c,u,g);break;case 21:Vo(c,u,g);break;case 22:Di=(m=Di)||g.memoizedState!==null,Vo(c,u,g),Di=m;break;default:Vo(c,u,g)}}function rI(c,u){if(u.memoizedState===null&&(c=u.alternate,c!==null&&(c=c.memoizedState,c!==null&&(c=c.dehydrated,c!==null))))try{Ig(c)}catch(g){Gt(u,u.return,g)}}function pH(c){switch(c.tag){case 13:case 19:var u=c.stateNode;return u===null&&(u=c.stateNode=new tI),u;case 22:return c=c.stateNode,u=c._retryCache,u===null&&(u=c._retryCache=new tI),u;default:throw Error(s(435,c.tag))}}function ow(c,u){var g=pH(c);u.forEach(function(m){var C=xH.bind(null,c,m);g.has(m)||(g.add(m),m.then(C,C))})}function gn(c,u){var g=u.deletions;if(g!==null)for(var m=0;m<g.length;m++){var C=g[m],M=c,L=u,N=L;e:for(;N!==null;){switch(N.tag){case 27:if(Ua(N.type)){Zt=N.stateNode,qs=!1;break e}break;case 5:Zt=N.stateNode,qs=!1;break e;case 3:case 4:Zt=N.stateNode.containerInfo,qs=!0;break e}N=N.return}if(Zt===null)throw Error(s(160));nI(M,L,C),Zt=null,qs=!1,M=C.alternate,M!==null&&(M.return=null),C.return=null}if(u.subtreeFlags&13878)for(u=u.child;u!==null;)oI(u,c),u=u.sibling}var vr=null;function oI(c,u){var g=c.alternate,m=c.flags;switch(c.tag){case 0:case 11:case 14:case 15:gn(u,c),pn(c),m&4&&(za(3,c,c.return),hg(3,c),za(5,c,c.return));break;case 1:gn(u,c),pn(c),m&512&&(Di||g===null||$r(g,g.return)),m&64&&jo&&(c=c.updateQueue,c!==null&&(m=c.callbacks,m!==null&&(g=c.shared.hiddenCallbacks,c.shared.hiddenCallbacks=g===null?m:g.concat(m))));break;case 26:var C=vr;if(gn(u,c),pn(c),m&512&&(Di||g===null||$r(g,g.return)),m&4){var M=g!==null?g.memoizedState:null;if(m=c.memoizedState,g===null)if(m===null)if(c.stateNode===null){e:{m=c.type,g=c.memoizedProps,C=C.ownerDocument||C;t:switch(m){case"title":M=C.getElementsByTagName("title")[0],(!M||M[zh]||M[bs]||M.namespaceURI==="http://www.w3.org/2000/svg"||M.hasAttribute("itemprop"))&&(M=C.createElement(m),C.head.insertBefore(M,C.querySelector("head > title"))),ls(M,m,g),M[bs]=c,Yi(M),m=M;break e;case"link":var L=eL("link","href",C).get(m+(g.href||""));if(L){for(var N=0;N<L.length;N++)if(M=L[N],M.getAttribute("href")===(g.href==null||g.href===""?null:g.href)&&M.getAttribute("rel")===(g.rel==null?null:g.rel)&&M.getAttribute("title")===(g.title==null?null:g.title)&&M.getAttribute("crossorigin")===(g.crossOrigin==null?null:g.crossOrigin)){L.splice(N,1);break t}}M=C.createElement(m),ls(M,m,g),C.head.appendChild(M);break;case"meta":if(L=eL("meta","content",C).get(m+(g.content||""))){for(N=0;N<L.length;N++)if(M=L[N],M.getAttribute("content")===(g.content==null?null:""+g.content)&&M.getAttribute("name")===(g.name==null?null:g.name)&&M.getAttribute("property")===(g.property==null?null:g.property)&&M.getAttribute("http-equiv")===(g.httpEquiv==null?null:g.httpEquiv)&&M.getAttribute("charset")===(g.charSet==null?null:g.charSet)){L.splice(N,1);break t}}M=C.createElement(m),ls(M,m,g),C.head.appendChild(M);break;default:throw Error(s(468,m))}M[bs]=c,Yi(M),m=M}c.stateNode=m}else tL(C,c.type,c.stateNode);else c.stateNode=JI(C,m,c.memoizedProps);else M!==m?(M===null?g.stateNode!==null&&(g=g.stateNode,g.parentNode.removeChild(g)):M.count--,m===null?tL(C,c.type,c.stateNode):JI(C,m,c.memoizedProps)):m===null&&c.stateNode!==null&&iw(c,c.memoizedProps,g.memoizedProps)}break;case 27:gn(u,c),pn(c),m&512&&(Di||g===null||$r(g,g.return)),g!==null&&m&4&&iw(c,c.memoizedProps,g.memoizedProps);break;case 5:if(gn(u,c),pn(c),m&512&&(Di||g===null||$r(g,g.return)),c.flags&32){C=c.stateNode;try{Mu(C,"")}catch(se){Gt(c,c.return,se)}}m&4&&c.stateNode!=null&&(C=c.memoizedProps,iw(c,C,g!==null?g.memoizedProps:C)),m&1024&&(rw=!0);break;case 6:if(gn(u,c),pn(c),m&4){if(c.stateNode===null)throw Error(s(162));m=c.memoizedProps,g=c.stateNode;try{g.nodeValue=m}catch(se){Gt(c,c.return,se)}}break;case 3:if(iv=null,C=vr,vr=ev(u.containerInfo),gn(u,c),vr=C,pn(c),m&4&&g!==null&&g.memoizedState.isDehydrated)try{Ig(u.containerInfo)}catch(se){Gt(c,c.return,se)}rw&&(rw=!1,aI(c));break;case 4:m=vr,vr=ev(c.stateNode.containerInfo),gn(u,c),pn(c),vr=m;break;case 12:gn(u,c),pn(c);break;case 13:gn(u,c),pn(c),c.child.flags&8192&&c.memoizedState!==null!=(g!==null&&g.memoizedState!==null)&&(hw=ut()),m&4&&(m=c.updateQueue,m!==null&&(c.updateQueue=null,ow(c,m)));break;case 22:C=c.memoizedState!==null;var H=g!==null&&g.memoizedState!==null,X=jo,le=Di;if(jo=X||C,Di=le||H,gn(u,c),Di=le,jo=X,pn(c),m&8192)e:for(u=c.stateNode,u._visibility=C?u._visibility&-2:u._visibility|1,C&&(g===null||H||jo||Di||sc(c)),g=null,u=c;;){if(u.tag===5||u.tag===26){if(g===null){H=g=u;try{if(M=H.stateNode,C)L=M.style,typeof L.setProperty=="function"?L.setProperty("display","none","important"):L.display="none";else{N=H.stateNode;var pe=H.memoizedProps.style,ie=pe!=null&&pe.hasOwnProperty("display")?pe.display:null;N.style.display=ie==null||typeof ie=="boolean"?"":(""+ie).trim()}}catch(se){Gt(H,H.return,se)}}}else if(u.tag===6){if(g===null){H=u;try{H.stateNode.nodeValue=C?"":H.memoizedProps}catch(se){Gt(H,H.return,se)}}}else if((u.tag!==22&&u.tag!==23||u.memoizedState===null||u===c)&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===c)break e;for(;u.sibling===null;){if(u.return===null||u.return===c)break e;g===u&&(g=null),u=u.return}g===u&&(g=null),u.sibling.return=u.return,u=u.sibling}m&4&&(m=c.updateQueue,m!==null&&(g=m.retryQueue,g!==null&&(m.retryQueue=null,ow(c,g))));break;case 19:gn(u,c),pn(c),m&4&&(m=c.updateQueue,m!==null&&(c.updateQueue=null,ow(c,m)));break;case 30:break;case 21:break;default:gn(u,c),pn(c)}}function pn(c){var u=c.flags;if(u&2){try{for(var g,m=c.return;m!==null;){if(J1(m)){g=m;break}m=m.return}if(g==null)throw Error(s(160));switch(g.tag){case 27:var C=g.stateNode,M=sw(c);jm(c,M,C);break;case 5:var L=g.stateNode;g.flags&32&&(Mu(L,""),g.flags&=-33);var N=sw(c);jm(c,N,L);break;case 3:case 4:var H=g.stateNode.containerInfo,X=sw(c);nw(c,X,H);break;default:throw Error(s(161))}}catch(le){Gt(c,c.return,le)}c.flags&=-3}u&4096&&(c.flags&=-4097)}function aI(c){if(c.subtreeFlags&1024)for(c=c.child;c!==null;){var u=c;aI(u),u.tag===5&&u.flags&1024&&u.stateNode.reset(),c=c.sibling}}function Ba(c,u){if(u.subtreeFlags&8772)for(u=u.child;u!==null;)iI(c,u.alternate,u),u=u.sibling}function sc(c){for(c=c.child;c!==null;){var u=c;switch(u.tag){case 0:case 11:case 14:case 15:za(4,u,u.return),sc(u);break;case 1:$r(u,u.return);var g=u.stateNode;typeof g.componentWillUnmount=="function"&&X1(u,u.return,g),sc(u);break;case 27:wg(u.stateNode);case 26:case 5:$r(u,u.return),sc(u);break;case 22:u.memoizedState===null&&sc(u);break;case 30:sc(u);break;default:sc(u)}c=c.sibling}}function Ga(c,u,g){for(g=g&&(u.subtreeFlags&8772)!==0,u=u.child;u!==null;){var m=u.alternate,C=c,M=u,L=M.flags;switch(M.tag){case 0:case 11:case 15:Ga(C,M,g),hg(4,M);break;case 1:if(Ga(C,M,g),m=M,C=m.stateNode,typeof C.componentDidMount=="function")try{C.componentDidMount()}catch(X){Gt(m,m.return,X)}if(m=M,C=m.updateQueue,C!==null){var N=m.stateNode;try{var H=C.shared.hiddenCallbacks;if(H!==null)for(C.shared.hiddenCallbacks=null,C=0;C<H.length;C++)NT(H[C],N)}catch(X){Gt(m,m.return,X)}}g&&L&64&&Z1(M),gg(M,M.return);break;case 27:eI(M);case 26:case 5:Ga(C,M,g),g&&m===null&&L&4&&Q1(M),gg(M,M.return);break;case 12:Ga(C,M,g);break;case 13:Ga(C,M,g),g&&L&4&&rI(C,M);break;case 22:M.memoizedState===null&&Ga(C,M,g),gg(M,M.return);break;case 30:break;default:Ga(C,M,g)}u=u.sibling}}function aw(c,u){var g=null;c!==null&&c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(g=c.memoizedState.cachePool.pool),c=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(c=u.memoizedState.cachePool.pool),c!==g&&(c!=null&&c.refCount++,g!=null&&Qh(g))}function lw(c,u){c=null,u.alternate!==null&&(c=u.alternate.memoizedState.cache),u=u.memoizedState.cache,u!==c&&(u.refCount++,c!=null&&Qh(c))}function Yr(c,u,g,m){if(u.subtreeFlags&10256)for(u=u.child;u!==null;)lI(c,u,g,m),u=u.sibling}function lI(c,u,g,m){var C=u.flags;switch(u.tag){case 0:case 11:case 15:Yr(c,u,g,m),C&2048&&hg(9,u);break;case 1:Yr(c,u,g,m);break;case 3:Yr(c,u,g,m),C&2048&&(c=null,u.alternate!==null&&(c=u.alternate.memoizedState.cache),u=u.memoizedState.cache,u!==c&&(u.refCount++,c!=null&&Qh(c)));break;case 12:if(C&2048){Yr(c,u,g,m),c=u.stateNode;try{var M=u.memoizedProps,L=M.id,N=M.onPostCommit;typeof N=="function"&&N(L,u.alternate===null?"mount":"update",c.passiveEffectDuration,-0)}catch(H){Gt(u,u.return,H)}}else Yr(c,u,g,m);break;case 13:Yr(c,u,g,m);break;case 23:break;case 22:M=u.stateNode,L=u.alternate,u.memoizedState!==null?M._visibility&2?Yr(c,u,g,m):pg(c,u):M._visibility&2?Yr(c,u,g,m):(M._visibility|=2,_u(c,u,g,m,(u.subtreeFlags&10256)!==0)),C&2048&&aw(L,u);break;case 24:Yr(c,u,g,m),C&2048&&lw(u.alternate,u);break;default:Yr(c,u,g,m)}}function _u(c,u,g,m,C){for(C=C&&(u.subtreeFlags&10256)!==0,u=u.child;u!==null;){var M=c,L=u,N=g,H=m,X=L.flags;switch(L.tag){case 0:case 11:case 15:_u(M,L,N,H,C),hg(8,L);break;case 23:break;case 22:var le=L.stateNode;L.memoizedState!==null?le._visibility&2?_u(M,L,N,H,C):pg(M,L):(le._visibility|=2,_u(M,L,N,H,C)),C&&X&2048&&aw(L.alternate,L);break;case 24:_u(M,L,N,H,C),C&&X&2048&&lw(L.alternate,L);break;default:_u(M,L,N,H,C)}u=u.sibling}}function pg(c,u){if(u.subtreeFlags&10256)for(u=u.child;u!==null;){var g=c,m=u,C=m.flags;switch(m.tag){case 22:pg(g,m),C&2048&&aw(m.alternate,m);break;case 24:pg(g,m),C&2048&&lw(m.alternate,m);break;default:pg(g,m)}u=u.sibling}}var fg=8192;function Wu(c){if(c.subtreeFlags&fg)for(c=c.child;c!==null;)cI(c),c=c.sibling}function cI(c){switch(c.tag){case 26:Wu(c),c.flags&fg&&c.memoizedState!==null&&JH(vr,c.memoizedState,c.memoizedProps);break;case 5:Wu(c);break;case 3:case 4:var u=vr;vr=ev(c.stateNode.containerInfo),Wu(c),vr=u;break;case 22:c.memoizedState===null&&(u=c.alternate,u!==null&&u.memoizedState!==null?(u=fg,fg=16777216,Wu(c),fg=u):Wu(c));break;default:Wu(c)}}function uI(c){var u=c.alternate;if(u!==null&&(c=u.child,c!==null)){u.child=null;do u=c.sibling,c.sibling=null,c=u;while(c!==null)}}function mg(c){var u=c.deletions;if((c.flags&16)!==0){if(u!==null)for(var g=0;g<u.length;g++){var m=u[g];qi=m,hI(m,c)}uI(c)}if(c.subtreeFlags&10256)for(c=c.child;c!==null;)dI(c),c=c.sibling}function dI(c){switch(c.tag){case 0:case 11:case 15:mg(c),c.flags&2048&&za(9,c,c.return);break;case 3:mg(c);break;case 12:mg(c);break;case 22:var u=c.stateNode;c.memoizedState!==null&&u._visibility&2&&(c.return===null||c.return.tag!==13)?(u._visibility&=-3,Vm(c)):mg(c);break;default:mg(c)}}function Vm(c){var u=c.deletions;if((c.flags&16)!==0){if(u!==null)for(var g=0;g<u.length;g++){var m=u[g];qi=m,hI(m,c)}uI(c)}for(c=c.child;c!==null;){switch(u=c,u.tag){case 0:case 11:case 15:za(8,u,u.return),Vm(u);break;case 22:g=u.stateNode,g._visibility&2&&(g._visibility&=-3,Vm(u));break;default:Vm(u)}c=c.sibling}}function hI(c,u){for(;qi!==null;){var g=qi;switch(g.tag){case 0:case 11:case 15:za(8,g,u);break;case 23:case 22:if(g.memoizedState!==null&&g.memoizedState.cachePool!==null){var m=g.memoizedState.cachePool.pool;m!=null&&m.refCount++}break;case 24:Qh(g.memoizedState.cache)}if(m=g.child,m!==null)m.return=g,qi=m;else e:for(g=c;qi!==null;){m=qi;var C=m.sibling,M=m.return;if(sI(m),m===g){qi=null;break e}if(C!==null){C.return=M,qi=C;break e}qi=M}}}var fH={getCacheForType:function(c){var u=Ss(Bi),g=u.data.get(c);return g===void 0&&(g=c(),u.data.set(c,g)),g}},mH=typeof WeakMap=="function"?WeakMap:Map,At=0,jt=null,it=null,dt=0,Tt=0,fn=null,Ha=!1,Uu=!1,cw=!1,_o=0,fi=0,ja=0,nc=0,uw=0,_n=0,$u=0,vg=null,Zs=null,dw=!1,hw=0,_m=1/0,Wm=null,Va=null,as=0,_a=null,Yu=null,Ku=0,gw=0,pw=null,gI=null,yg=0,fw=null;function mn(){if((At&2)!==0&&dt!==0)return dt&-dt;if(G.T!==null){var c=Fu;return c!==0?c:ww()}return TA()}function pI(){_n===0&&(_n=(dt&536870912)===0||bt?DA():536870912);var c=Vn.current;return c!==null&&(c.flags|=32),_n}function vn(c,u,g){(c===jt&&(Tt===2||Tt===9)||c.cancelPendingCommit!==null)&&(qu(c,0),Wa(c,dt,_n,!1)),Nh(c,g),((At&2)===0||c!==jt)&&(c===jt&&((At&2)===0&&(nc|=g),fi===4&&Wa(c,dt,_n,!1)),Kr(c))}function fI(c,u,g){if((At&6)!==0)throw Error(s(327));var m=!g&&(u&124)===0&&(u&c.expiredLanes)===0||Fh(c,u),C=m?CH(c,u):yw(c,u,!0),M=m;do{if(C===0){Uu&&!m&&Wa(c,u,0,!1);break}else{if(g=c.current.alternate,M&&!vH(g)){C=yw(c,u,!1),M=!1;continue}if(C===2){if(M=u,c.errorRecoveryDisabledLanes&M)var L=0;else L=c.pendingLanes&-536870913,L=L!==0?L:L&536870912?536870912:0;if(L!==0){u=L;e:{var N=c;C=vg;var H=N.current.memoizedState.isDehydrated;if(H&&(qu(N,L).flags|=256),L=yw(N,L,!1),L!==2){if(cw&&!H){N.errorRecoveryDisabledLanes|=M,nc|=M,C=4;break e}M=Zs,Zs=C,M!==null&&(Zs===null?Zs=M:Zs.push.apply(Zs,M))}C=L}if(M=!1,C!==2)continue}}if(C===1){qu(c,0),Wa(c,u,0,!0);break}e:{switch(m=c,M=C,M){case 0:case 1:throw Error(s(345));case 4:if((u&4194048)!==u)break;case 6:Wa(m,u,_n,!Ha);break e;case 2:Zs=null;break;case 3:case 5:break;default:throw Error(s(329))}if((u&62914560)===u&&(C=hw+300-ut(),10<C)){if(Wa(m,u,_n,!Ha),tm(m,0,!0)!==0)break e;m.timeoutHandle=WI(mI.bind(null,m,g,Zs,Wm,dw,u,_n,nc,$u,Ha,M,2,-0,0),C);break e}mI(m,g,Zs,Wm,dw,u,_n,nc,$u,Ha,M,0,-0,0)}}break}while(!0);Kr(c)}function mI(c,u,g,m,C,M,L,N,H,X,le,pe,ie,se){if(c.timeoutHandle=-1,pe=u.subtreeFlags,(pe&8192||(pe&16785408)===16785408)&&(Dg={stylesheets:null,count:0,unsuspend:QH},cI(u),pe=ej(),pe!==null)){c.cancelPendingCommit=pe(xI.bind(null,c,u,M,g,m,C,L,N,H,le,1,ie,se)),Wa(c,M,L,!X);return}xI(c,u,M,g,m,C,L,N,H)}function vH(c){for(var u=c;;){var g=u.tag;if((g===0||g===11||g===15)&&u.flags&16384&&(g=u.updateQueue,g!==null&&(g=g.stores,g!==null)))for(var m=0;m<g.length;m++){var C=g[m],M=C.getSnapshot;C=C.value;try{if(!dn(M(),C))return!1}catch{return!1}}if(g=u.child,u.subtreeFlags&16384&&g!==null)g.return=u,u=g;else{if(u===c)break;for(;u.sibling===null;){if(u.return===null||u.return===c)return!0;u=u.return}u.sibling.return=u.return,u=u.sibling}}return!0}function Wa(c,u,g,m){u&=~uw,u&=~nc,c.suspendedLanes|=u,c.pingedLanes&=~u,m&&(c.warmLanes|=u),m=c.expirationTimes;for(var C=u;0<C;){var M=31-un(C),L=1<<M;m[M]=-1,C&=~L}g!==0&&EA(c,g,u)}function Um(){return(At&6)===0?(Cg(0),!1):!0}function mw(){if(it!==null){if(Tt===0)var c=it.return;else c=it,Fo=Ql=null,PS(c),ju=null,cg=0,c=it;for(;c!==null;)q1(c.alternate,c),c=c.return;it=null}}function qu(c,u){var g=c.timeoutHandle;g!==-1&&(c.timeoutHandle=-1,FH(g)),g=c.cancelPendingCommit,g!==null&&(c.cancelPendingCommit=null,g()),mw(),jt=c,it=g=ko(c.current,null),dt=u,Tt=0,fn=null,Ha=!1,Uu=Fh(c,u),cw=!1,$u=_n=uw=nc=ja=fi=0,Zs=vg=null,dw=!1,(u&8)!==0&&(u|=u&32);var m=c.entangledLanes;if(m!==0)for(c=c.entanglements,m&=u;0<m;){var C=31-un(m),M=1<<C;u|=c[C],m&=~M}return _o=u,gm(),g}function vI(c,u){Ze=null,G.H=km,u===eg||u===wm?(u=OT(),Tt=3):u===LT?(u=OT(),Tt=4):Tt=u===F1?8:u!==null&&typeof u=="object"&&typeof u.then=="function"?6:1,fn=u,it===null&&(fi=1,zm(c,Bn(u,c.current)))}function yI(){var c=G.H;return G.H=km,c===null?km:c}function CI(){var c=G.A;return G.A=fH,c}function vw(){fi=4,Ha||(dt&4194048)!==dt&&Vn.current!==null||(Uu=!0),(ja&134217727)===0&&(nc&134217727)===0||jt===null||Wa(jt,dt,_n,!1)}function yw(c,u,g){var m=At;At|=2;var C=yI(),M=CI();(jt!==c||dt!==u)&&(Wm=null,qu(c,u)),u=!1;var L=fi;e:do try{if(Tt!==0&&it!==null){var N=it,H=fn;switch(Tt){case 8:mw(),L=6;break e;case 3:case 2:case 9:case 6:Vn.current===null&&(u=!0);var X=Tt;if(Tt=0,fn=null,Zu(c,N,H,X),g&&Uu){L=0;break e}break;default:X=Tt,Tt=0,fn=null,Zu(c,N,H,X)}}yH(),L=fi;break}catch(le){vI(c,le)}while(!0);return u&&c.shellSuspendCounter++,Fo=Ql=null,At=m,G.H=C,G.A=M,it===null&&(jt=null,dt=0,gm()),L}function yH(){for(;it!==null;)bI(it)}function CH(c,u){var g=At;At|=2;var m=yI(),C=CI();jt!==c||dt!==u?(Wm=null,_m=ut()+500,qu(c,u)):Uu=Fh(c,u);e:do try{if(Tt!==0&&it!==null){u=it;var M=fn;t:switch(Tt){case 1:Tt=0,fn=null,Zu(c,u,M,1);break;case 2:case 9:if(kT(M)){Tt=0,fn=null,SI(u);break}u=function(){Tt!==2&&Tt!==9||jt!==c||(Tt=7),Kr(c)},M.then(u,u);break e;case 3:Tt=7;break e;case 4:Tt=5;break e;case 7:kT(M)?(Tt=0,fn=null,SI(u)):(Tt=0,fn=null,Zu(c,u,M,7));break;case 5:var L=null;switch(it.tag){case 26:L=it.memoizedState;case 5:case 27:var N=it;if(!L||iL(L)){Tt=0,fn=null;var H=N.sibling;if(H!==null)it=H;else{var X=N.return;X!==null?(it=X,$m(X)):it=null}break t}}Tt=0,fn=null,Zu(c,u,M,5);break;case 6:Tt=0,fn=null,Zu(c,u,M,6);break;case 8:mw(),fi=6;break e;default:throw Error(s(462))}}bH();break}catch(le){vI(c,le)}while(!0);return Fo=Ql=null,G.H=m,G.A=C,At=g,it!==null?0:(jt=null,dt=0,gm(),fi)}function bH(){for(;it!==null&&!je();)bI(it)}function bI(c){var u=Y1(c.alternate,c,_o);c.memoizedProps=c.pendingProps,u===null?$m(c):it=u}function SI(c){var u=c,g=u.alternate;switch(u.tag){case 15:case 0:u=j1(g,u,u.pendingProps,u.type,void 0,dt);break;case 11:u=j1(g,u,u.pendingProps,u.type.render,u.ref,dt);break;case 5:PS(u);default:q1(g,u),u=it=wT(u,_o),u=Y1(g,u,_o)}c.memoizedProps=c.pendingProps,u===null?$m(c):it=u}function Zu(c,u,g,m){Fo=Ql=null,PS(u),ju=null,cg=0;var C=u.return;try{if(cH(c,C,u,g,dt)){fi=1,zm(c,Bn(g,c.current)),it=null;return}}catch(M){if(C!==null)throw it=C,M;fi=1,zm(c,Bn(g,c.current)),it=null;return}u.flags&32768?(bt||m===1?c=!0:Uu||(dt&536870912)!==0?c=!1:(Ha=c=!0,(m===2||m===9||m===3||m===6)&&(m=Vn.current,m!==null&&m.tag===13&&(m.flags|=16384))),wI(u,c)):$m(u)}function $m(c){var u=c;do{if((u.flags&32768)!==0){wI(u,Ha);return}c=u.return;var g=dH(u.alternate,u,_o);if(g!==null){it=g;return}if(u=u.sibling,u!==null){it=u;return}it=u=c}while(u!==null);fi===0&&(fi=5)}function wI(c,u){do{var g=hH(c.alternate,c);if(g!==null){g.flags&=32767,it=g;return}if(g=c.return,g!==null&&(g.flags|=32768,g.subtreeFlags=0,g.deletions=null),!u&&(c=c.sibling,c!==null)){it=c;return}it=c=g}while(c!==null);fi=6,it=null}function xI(c,u,g,m,C,M,L,N,H){c.cancelPendingCommit=null;do Ym();while(as!==0);if((At&6)!==0)throw Error(s(327));if(u!==null){if(u===c.current)throw Error(s(177));if(M=u.lanes|u.childLanes,M|=lS,QG(c,g,M,L,N,H),c===jt&&(it=jt=null,dt=0),Yu=u,_a=c,Ku=g,gw=M,pw=C,gI=m,(u.subtreeFlags&10256)!==0||(u.flags&10256)!==0?(c.callbackNode=null,c.callbackPriority=0,MH(ot,function(){return AI(),null})):(c.callbackNode=null,c.callbackPriority=0),m=(u.flags&13878)!==0,(u.subtreeFlags&13878)!==0||m){m=G.T,G.T=null,C=K.p,K.p=2,L=At,At|=4;try{gH(c,u,g)}finally{At=L,K.p=C,G.T=m}}as=1,MI(),DI(),RI()}}function MI(){if(as===1){as=0;var c=_a,u=Yu,g=(u.flags&13878)!==0;if((u.subtreeFlags&13878)!==0||g){g=G.T,G.T=null;var m=K.p;K.p=2;var C=At;At|=4;try{oI(u,c);var M=Iw,L=hT(c.containerInfo),N=M.focusedElem,H=M.selectionRange;if(L!==N&&N&&N.ownerDocument&&dT(N.ownerDocument.documentElement,N)){if(H!==null&&sS(N)){var X=H.start,le=H.end;if(le===void 0&&(le=X),"selectionStart"in N)N.selectionStart=X,N.selectionEnd=Math.min(le,N.value.length);else{var pe=N.ownerDocument||document,ie=pe&&pe.defaultView||window;if(ie.getSelection){var se=ie.getSelection(),We=N.textContent.length,Fe=Math.min(H.start,We),zt=H.end===void 0?Fe:Math.min(H.end,We);!se.extend&&Fe>zt&&(L=zt,zt=Fe,Fe=L);var $=uT(N,Fe),W=uT(N,zt);if($&&W&&(se.rangeCount!==1||se.anchorNode!==$.node||se.anchorOffset!==$.offset||se.focusNode!==W.node||se.focusOffset!==W.offset)){var q=pe.createRange();q.setStart($.node,$.offset),se.removeAllRanges(),Fe>zt?(se.addRange(q),se.extend(W.node,W.offset)):(q.setEnd(W.node,W.offset),se.addRange(q))}}}}for(pe=[],se=N;se=se.parentNode;)se.nodeType===1&&pe.push({element:se,left:se.scrollLeft,top:se.scrollTop});for(typeof N.focus=="function"&&N.focus(),N=0;N<pe.length;N++){var he=pe[N];he.element.scrollLeft=he.left,he.element.scrollTop=he.top}}rv=!!Tw,Iw=Tw=null}finally{At=C,K.p=m,G.T=g}}c.current=u,as=2}}function DI(){if(as===2){as=0;var c=_a,u=Yu,g=(u.flags&8772)!==0;if((u.subtreeFlags&8772)!==0||g){g=G.T,G.T=null;var m=K.p;K.p=2;var C=At;At|=4;try{iI(c,u.alternate,u)}finally{At=C,K.p=m,G.T=g}}as=3}}function RI(){if(as===4||as===3){as=0,Dt();var c=_a,u=Yu,g=Ku,m=gI;(u.subtreeFlags&10256)!==0||(u.flags&10256)!==0?as=5:(as=0,Yu=_a=null,EI(c,c.pendingLanes));var C=c.pendingLanes;if(C===0&&(Va=null),Nb(g),u=u.stateNode,Rt&&typeof Rt.onCommitFiberRoot=="function")try{Rt.onCommitFiberRoot(gt,u,void 0,(u.current.flags&128)===128)}catch{}if(m!==null){u=G.T,C=K.p,K.p=2,G.T=null;try{for(var M=c.onRecoverableError,L=0;L<m.length;L++){var N=m[L];M(N.value,{componentStack:N.stack})}}finally{G.T=u,K.p=C}}(Ku&3)!==0&&Ym(),Kr(c),C=c.pendingLanes,(g&4194090)!==0&&(C&42)!==0?c===fw?yg++:(yg=0,fw=c):yg=0,Cg(0)}}function EI(c,u){(c.pooledCacheLanes&=u)===0&&(u=c.pooledCache,u!=null&&(c.pooledCache=null,Qh(u)))}function Ym(c){return MI(),DI(),RI(),AI()}function AI(){if(as!==5)return!1;var c=_a,u=gw;gw=0;var g=Nb(Ku),m=G.T,C=K.p;try{K.p=32>g?32:g,G.T=null,g=pw,pw=null;var M=_a,L=Ku;if(as=0,Yu=_a=null,Ku=0,(At&6)!==0)throw Error(s(331));var N=At;if(At|=4,dI(M.current),lI(M,M.current,L,g),At=N,Cg(0,!1),Rt&&typeof Rt.onPostCommitFiberRoot=="function")try{Rt.onPostCommitFiberRoot(gt,M)}catch{}return!0}finally{K.p=C,G.T=m,EI(c,u)}}function TI(c,u,g){u=Bn(g,u),u=YS(c.stateNode,u,2),c=Pa(c,u,2),c!==null&&(Nh(c,2),Kr(c))}function Gt(c,u,g){if(c.tag===3)TI(c,c,g);else for(;u!==null;){if(u.tag===3){TI(u,c,g);break}else if(u.tag===1){var m=u.stateNode;if(typeof u.type.getDerivedStateFromError=="function"||typeof m.componentDidCatch=="function"&&(Va===null||!Va.has(m))){c=Bn(g,c),g=P1(2),m=Pa(u,g,2),m!==null&&(O1(g,m,u,c),Nh(m,2),Kr(m));break}}u=u.return}}function Cw(c,u,g){var m=c.pingCache;if(m===null){m=c.pingCache=new mH;var C=new Set;m.set(u,C)}else C=m.get(u),C===void 0&&(C=new Set,m.set(u,C));C.has(g)||(cw=!0,C.add(g),c=SH.bind(null,c,u,g),u.then(c,c))}function SH(c,u,g){var m=c.pingCache;m!==null&&m.delete(u),c.pingedLanes|=c.suspendedLanes&g,c.warmLanes&=~g,jt===c&&(dt&g)===g&&(fi===4||fi===3&&(dt&62914560)===dt&&300>ut()-hw?(At&2)===0&&qu(c,0):uw|=g,$u===dt&&($u=0)),Kr(c)}function II(c,u){u===0&&(u=RA()),c=Lu(c,u),c!==null&&(Nh(c,u),Kr(c))}function wH(c){var u=c.memoizedState,g=0;u!==null&&(g=u.retryLane),II(c,g)}function xH(c,u){var g=0;switch(c.tag){case 13:var m=c.stateNode,C=c.memoizedState;C!==null&&(g=C.retryLane);break;case 19:m=c.stateNode;break;case 22:m=c.stateNode._retryCache;break;default:throw Error(s(314))}m!==null&&m.delete(u),II(c,g)}function MH(c,u){return He(c,u)}var Km=null,Xu=null,bw=!1,qm=!1,Sw=!1,rc=0;function Kr(c){c!==Xu&&c.next===null&&(Xu===null?Km=Xu=c:Xu=Xu.next=c),qm=!0,bw||(bw=!0,RH())}function Cg(c,u){if(!Sw&&qm){Sw=!0;do for(var g=!1,m=Km;m!==null;){if(c!==0){var C=m.pendingLanes;if(C===0)var M=0;else{var L=m.suspendedLanes,N=m.pingedLanes;M=(1<<31-un(42|c)+1)-1,M&=C&~(L&~N),M=M&201326741?M&201326741|1:M?M|2:0}M!==0&&(g=!0,OI(m,M))}else M=dt,M=tm(m,m===jt?M:0,m.cancelPendingCommit!==null||m.timeoutHandle!==-1),(M&3)===0||Fh(m,M)||(g=!0,OI(m,M));m=m.next}while(g);Sw=!1}}function DH(){LI()}function LI(){qm=bw=!1;var c=0;rc!==0&&(OH()&&(c=rc),rc=0);for(var u=ut(),g=null,m=Km;m!==null;){var C=m.next,M=kI(m,u);M===0?(m.next=null,g===null?Km=C:g.next=C,C===null&&(Xu=g)):(g=m,(c!==0||(M&3)!==0)&&(qm=!0)),m=C}Cg(c)}function kI(c,u){for(var g=c.suspendedLanes,m=c.pingedLanes,C=c.expirationTimes,M=c.pendingLanes&-62914561;0<M;){var L=31-un(M),N=1<<L,H=C[L];H===-1?((N&g)===0||(N&m)!==0)&&(C[L]=XG(N,u)):H<=u&&(c.expiredLanes|=N),M&=~N}if(u=jt,g=dt,g=tm(c,c===u?g:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),m=c.callbackNode,g===0||c===u&&(Tt===2||Tt===9)||c.cancelPendingCommit!==null)return m!==null&&m!==null&&_e(m),c.callbackNode=null,c.callbackPriority=0;if((g&3)===0||Fh(c,g)){if(u=g&-g,u===c.callbackPriority)return u;switch(m!==null&&_e(m),Nb(g)){case 2:case 8:g=tt;break;case 32:g=ot;break;case 268435456:g=_t;break;default:g=ot}return m=PI.bind(null,c),g=He(g,m),c.callbackPriority=u,c.callbackNode=g,u}return m!==null&&m!==null&&_e(m),c.callbackPriority=2,c.callbackNode=null,2}function PI(c,u){if(as!==0&&as!==5)return c.callbackNode=null,c.callbackPriority=0,null;var g=c.callbackNode;if(Ym()&&c.callbackNode!==g)return null;var m=dt;return m=tm(c,c===jt?m:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),m===0?null:(fI(c,m,u),kI(c,ut()),c.callbackNode!=null&&c.callbackNode===g?PI.bind(null,c):null)}function OI(c,u){if(Ym())return null;fI(c,u,!0)}function RH(){NH(function(){(At&6)!==0?He(Li,DH):LI()})}function ww(){return rc===0&&(rc=DA()),rc}function FI(c){return c==null||typeof c=="symbol"||typeof c=="boolean"?null:typeof c=="function"?c:om(""+c)}function NI(c,u){var g=u.ownerDocument.createElement("input");return g.name=u.name,g.value=u.value,c.id&&g.setAttribute("form",c.id),u.parentNode.insertBefore(g,u),c=new FormData(c),g.parentNode.removeChild(g),c}function EH(c,u,g,m,C){if(u==="submit"&&g&&g.stateNode===C){var M=FI((C[$s]||null).action),L=m.submitter;L&&(u=(u=L[$s]||null)?FI(u.formAction):L.getAttribute("formAction"),u!==null&&(M=u,L=null));var N=new um("action","action",null,m,C);c.push({event:N,listeners:[{instance:null,listener:function(){if(m.defaultPrevented){if(rc!==0){var H=L?NI(C,L):new FormData(C);VS(g,{pending:!0,data:H,method:C.method,action:M},null,H)}}else typeof M=="function"&&(N.preventDefault(),H=L?NI(C,L):new FormData(C),VS(g,{pending:!0,data:H,method:C.method,action:M},M,H))},currentTarget:C}]})}}for(var xw=0;xw<aS.length;xw++){var Mw=aS[xw],AH=Mw.toLowerCase(),TH=Mw[0].toUpperCase()+Mw.slice(1);mr(AH,"on"+TH)}mr(fT,"onAnimationEnd"),mr(mT,"onAnimationIteration"),mr(vT,"onAnimationStart"),mr("dblclick","onDoubleClick"),mr("focusin","onFocus"),mr("focusout","onBlur"),mr($4,"onTransitionRun"),mr(Y4,"onTransitionStart"),mr(K4,"onTransitionCancel"),mr(yT,"onTransitionEnd"),Su("onMouseEnter",["mouseout","mouseover"]),Su("onMouseLeave",["mouseout","mouseover"]),Su("onPointerEnter",["pointerout","pointerover"]),Su("onPointerLeave",["pointerout","pointerover"]),_l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),_l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),_l("onBeforeInput",["compositionend","keypress","textInput","paste"]),_l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),_l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),_l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var bg="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),IH=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(bg));function zI(c,u){u=(u&4)!==0;for(var g=0;g<c.length;g++){var m=c[g],C=m.event;m=m.listeners;e:{var M=void 0;if(u)for(var L=m.length-1;0<=L;L--){var N=m[L],H=N.instance,X=N.currentTarget;if(N=N.listener,H!==M&&C.isPropagationStopped())break e;M=N,C.currentTarget=X;try{M(C)}catch(le){Nm(le)}C.currentTarget=null,M=H}else for(L=0;L<m.length;L++){if(N=m[L],H=N.instance,X=N.currentTarget,N=N.listener,H!==M&&C.isPropagationStopped())break e;M=N,C.currentTarget=X;try{M(C)}catch(le){Nm(le)}C.currentTarget=null,M=H}}}}function st(c,u){var g=u[zb];g===void 0&&(g=u[zb]=new Set);var m=c+"__bubble";g.has(m)||(BI(u,c,2,!1),g.add(m))}function Dw(c,u,g){var m=0;u&&(m|=4),BI(g,c,m,u)}var Zm="_reactListening"+Math.random().toString(36).slice(2);function Rw(c){if(!c[Zm]){c[Zm]=!0,LA.forEach(function(g){g!=="selectionchange"&&(IH.has(g)||Dw(g,!1,c),Dw(g,!0,c))});var u=c.nodeType===9?c:c.ownerDocument;u===null||u[Zm]||(u[Zm]=!0,Dw("selectionchange",!1,u))}}function BI(c,u,g,m){switch(lL(u)){case 2:var C=sj;break;case 8:C=nj;break;default:C=Hw}g=C.bind(null,u,g,c),C=void 0,!Kb||u!=="touchstart"&&u!=="touchmove"&&u!=="wheel"||(C=!0),m?C!==void 0?c.addEventListener(u,g,{capture:!0,passive:C}):c.addEventListener(u,g,!0):C!==void 0?c.addEventListener(u,g,{passive:C}):c.addEventListener(u,g,!1)}function Ew(c,u,g,m,C){var M=m;if((u&1)===0&&(u&2)===0&&m!==null)e:for(;;){if(m===null)return;var L=m.tag;if(L===3||L===4){var N=m.stateNode.containerInfo;if(N===C)break;if(L===4)for(L=m.return;L!==null;){var H=L.tag;if((H===3||H===4)&&L.stateNode.containerInfo===C)return;L=L.return}for(;N!==null;){if(L=yu(N),L===null)return;if(H=L.tag,H===5||H===6||H===26||H===27){m=M=L;continue e}N=N.parentNode}}m=m.return}UA(function(){var X=M,le=$b(g),pe=[];e:{var ie=CT.get(c);if(ie!==void 0){var se=um,We=c;switch(c){case"keypress":if(lm(g)===0)break e;case"keydown":case"keyup":se=M4;break;case"focusin":We="focus",se=Qb;break;case"focusout":We="blur",se=Qb;break;case"beforeblur":case"afterblur":se=Qb;break;case"click":if(g.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":se=KA;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":se=h4;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":se=E4;break;case fT:case mT:case vT:se=f4;break;case yT:se=T4;break;case"scroll":case"scrollend":se=u4;break;case"wheel":se=L4;break;case"copy":case"cut":case"paste":se=v4;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":se=ZA;break;case"toggle":case"beforetoggle":se=P4}var Fe=(u&4)!==0,zt=!Fe&&(c==="scroll"||c==="scrollend"),$=Fe?ie!==null?ie+"Capture":null:ie;Fe=[];for(var W=X,q;W!==null;){var he=W;if(q=he.stateNode,he=he.tag,he!==5&&he!==26&&he!==27||q===null||$===null||(he=Gh(W,$),he!=null&&Fe.push(Sg(W,he,q))),zt)break;W=W.return}0<Fe.length&&(ie=new se(ie,We,null,g,le),pe.push({event:ie,listeners:Fe}))}}if((u&7)===0){e:{if(ie=c==="mouseover"||c==="pointerover",se=c==="mouseout"||c==="pointerout",ie&&g!==Ub&&(We=g.relatedTarget||g.fromElement)&&(yu(We)||We[vu]))break e;if((se||ie)&&(ie=le.window===le?le:(ie=le.ownerDocument)?ie.defaultView||ie.parentWindow:window,se?(We=g.relatedTarget||g.toElement,se=X,We=We?yu(We):null,We!==null&&(zt=r(We),Fe=We.tag,We!==zt||Fe!==5&&Fe!==27&&Fe!==6)&&(We=null)):(se=null,We=X),se!==We)){if(Fe=KA,he="onMouseLeave",$="onMouseEnter",W="mouse",(c==="pointerout"||c==="pointerover")&&(Fe=ZA,he="onPointerLeave",$="onPointerEnter",W="pointer"),zt=se==null?ie:Bh(se),q=We==null?ie:Bh(We),ie=new Fe(he,W+"leave",se,g,le),ie.target=zt,ie.relatedTarget=q,he=null,yu(le)===X&&(Fe=new Fe($,W+"enter",We,g,le),Fe.target=q,Fe.relatedTarget=zt,he=Fe),zt=he,se&&We)t:{for(Fe=se,$=We,W=0,q=Fe;q;q=Qu(q))W++;for(q=0,he=$;he;he=Qu(he))q++;for(;0<W-q;)Fe=Qu(Fe),W--;for(;0<q-W;)$=Qu($),q--;for(;W--;){if(Fe===$||$!==null&&Fe===$.alternate)break t;Fe=Qu(Fe),$=Qu($)}Fe=null}else Fe=null;se!==null&&GI(pe,ie,se,Fe,!1),We!==null&&zt!==null&&GI(pe,zt,We,Fe,!0)}}e:{if(ie=X?Bh(X):window,se=ie.nodeName&&ie.nodeName.toLowerCase(),se==="select"||se==="input"&&ie.type==="file")var Te=nT;else if(iT(ie))if(rT)Te=_4;else{Te=j4;var Qe=H4}else se=ie.nodeName,!se||se.toLowerCase()!=="input"||ie.type!=="checkbox"&&ie.type!=="radio"?X&&Wb(X.elementType)&&(Te=nT):Te=V4;if(Te&&(Te=Te(c,X))){sT(pe,Te,g,le);break e}Qe&&Qe(c,ie,X),c==="focusout"&&X&&ie.type==="number"&&X.memoizedProps.value!=null&&_b(ie,"number",ie.value)}switch(Qe=X?Bh(X):window,c){case"focusin":(iT(Qe)||Qe.contentEditable==="true")&&(Au=Qe,nS=X,Yh=null);break;case"focusout":Yh=nS=Au=null;break;case"mousedown":rS=!0;break;case"contextmenu":case"mouseup":case"dragend":rS=!1,gT(pe,g,le);break;case"selectionchange":if(U4)break;case"keydown":case"keyup":gT(pe,g,le)}var Le;if(eS)e:{switch(c){case"compositionstart":var ze="onCompositionStart";break e;case"compositionend":ze="onCompositionEnd";break e;case"compositionupdate":ze="onCompositionUpdate";break e}ze=void 0}else Eu?eT(c,g)&&(ze="onCompositionEnd"):c==="keydown"&&g.keyCode===229&&(ze="onCompositionStart");ze&&(XA&&g.locale!=="ko"&&(Eu||ze!=="onCompositionStart"?ze==="onCompositionEnd"&&Eu&&(Le=$A()):(Ta=le,qb="value"in Ta?Ta.value:Ta.textContent,Eu=!0)),Qe=Xm(X,ze),0<Qe.length&&(ze=new qA(ze,c,null,g,le),pe.push({event:ze,listeners:Qe}),Le?ze.data=Le:(Le=tT(g),Le!==null&&(ze.data=Le)))),(Le=F4?N4(c,g):z4(c,g))&&(ze=Xm(X,"onBeforeInput"),0<ze.length&&(Qe=new qA("onBeforeInput","beforeinput",null,g,le),pe.push({event:Qe,listeners:ze}),Qe.data=Le)),EH(pe,c,X,g,le)}zI(pe,u)})}function Sg(c,u,g){return{instance:c,listener:u,currentTarget:g}}function Xm(c,u){for(var g=u+"Capture",m=[];c!==null;){var C=c,M=C.stateNode;if(C=C.tag,C!==5&&C!==26&&C!==27||M===null||(C=Gh(c,g),C!=null&&m.unshift(Sg(c,C,M)),C=Gh(c,u),C!=null&&m.push(Sg(c,C,M))),c.tag===3)return m;c=c.return}return[]}function Qu(c){if(c===null)return null;do c=c.return;while(c&&c.tag!==5&&c.tag!==27);return c||null}function GI(c,u,g,m,C){for(var M=u._reactName,L=[];g!==null&&g!==m;){var N=g,H=N.alternate,X=N.stateNode;if(N=N.tag,H!==null&&H===m)break;N!==5&&N!==26&&N!==27||X===null||(H=X,C?(X=Gh(g,M),X!=null&&L.unshift(Sg(g,X,H))):C||(X=Gh(g,M),X!=null&&L.push(Sg(g,X,H)))),g=g.return}L.length!==0&&c.push({event:u,listeners:L})}var LH=/\r\n?/g,kH=/\u0000|\uFFFD/g;function HI(c){return(typeof c=="string"?c:""+c).replace(LH,`
`).replace(kH,"")}function jI(c,u){return u=HI(u),HI(c)===u}function Qm(){}function Nt(c,u,g,m,C,M){switch(g){case"children":typeof m=="string"?u==="body"||u==="textarea"&&m===""||Mu(c,m):(typeof m=="number"||typeof m=="bigint")&&u!=="body"&&Mu(c,""+m);break;case"className":sm(c,"class",m);break;case"tabIndex":sm(c,"tabindex",m);break;case"dir":case"role":case"viewBox":case"width":case"height":sm(c,g,m);break;case"style":_A(c,m,M);break;case"data":if(u!=="object"){sm(c,"data",m);break}case"src":case"href":if(m===""&&(u!=="a"||g!=="href")){c.removeAttribute(g);break}if(m==null||typeof m=="function"||typeof m=="symbol"||typeof m=="boolean"){c.removeAttribute(g);break}m=om(""+m),c.setAttribute(g,m);break;case"action":case"formAction":if(typeof m=="function"){c.setAttribute(g,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof M=="function"&&(g==="formAction"?(u!=="input"&&Nt(c,u,"name",C.name,C,null),Nt(c,u,"formEncType",C.formEncType,C,null),Nt(c,u,"formMethod",C.formMethod,C,null),Nt(c,u,"formTarget",C.formTarget,C,null)):(Nt(c,u,"encType",C.encType,C,null),Nt(c,u,"method",C.method,C,null),Nt(c,u,"target",C.target,C,null)));if(m==null||typeof m=="symbol"||typeof m=="boolean"){c.removeAttribute(g);break}m=om(""+m),c.setAttribute(g,m);break;case"onClick":m!=null&&(c.onclick=Qm);break;case"onScroll":m!=null&&st("scroll",c);break;case"onScrollEnd":m!=null&&st("scrollend",c);break;case"dangerouslySetInnerHTML":if(m!=null){if(typeof m!="object"||!("__html"in m))throw Error(s(61));if(g=m.__html,g!=null){if(C.children!=null)throw Error(s(60));c.innerHTML=g}}break;case"multiple":c.multiple=m&&typeof m!="function"&&typeof m!="symbol";break;case"muted":c.muted=m&&typeof m!="function"&&typeof m!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(m==null||typeof m=="function"||typeof m=="boolean"||typeof m=="symbol"){c.removeAttribute("xlink:href");break}g=om(""+m),c.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",g);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":m!=null&&typeof m!="function"&&typeof m!="symbol"?c.setAttribute(g,""+m):c.removeAttribute(g);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":m&&typeof m!="function"&&typeof m!="symbol"?c.setAttribute(g,""):c.removeAttribute(g);break;case"capture":case"download":m===!0?c.setAttribute(g,""):m!==!1&&m!=null&&typeof m!="function"&&typeof m!="symbol"?c.setAttribute(g,m):c.removeAttribute(g);break;case"cols":case"rows":case"size":case"span":m!=null&&typeof m!="function"&&typeof m!="symbol"&&!isNaN(m)&&1<=m?c.setAttribute(g,m):c.removeAttribute(g);break;case"rowSpan":case"start":m==null||typeof m=="function"||typeof m=="symbol"||isNaN(m)?c.removeAttribute(g):c.setAttribute(g,m);break;case"popover":st("beforetoggle",c),st("toggle",c),im(c,"popover",m);break;case"xlinkActuate":Io(c,"http://www.w3.org/1999/xlink","xlink:actuate",m);break;case"xlinkArcrole":Io(c,"http://www.w3.org/1999/xlink","xlink:arcrole",m);break;case"xlinkRole":Io(c,"http://www.w3.org/1999/xlink","xlink:role",m);break;case"xlinkShow":Io(c,"http://www.w3.org/1999/xlink","xlink:show",m);break;case"xlinkTitle":Io(c,"http://www.w3.org/1999/xlink","xlink:title",m);break;case"xlinkType":Io(c,"http://www.w3.org/1999/xlink","xlink:type",m);break;case"xmlBase":Io(c,"http://www.w3.org/XML/1998/namespace","xml:base",m);break;case"xmlLang":Io(c,"http://www.w3.org/XML/1998/namespace","xml:lang",m);break;case"xmlSpace":Io(c,"http://www.w3.org/XML/1998/namespace","xml:space",m);break;case"is":im(c,"is",m);break;case"innerText":case"textContent":break;default:(!(2<g.length)||g[0]!=="o"&&g[0]!=="O"||g[1]!=="n"&&g[1]!=="N")&&(g=l4.get(g)||g,im(c,g,m))}}function Aw(c,u,g,m,C,M){switch(g){case"style":_A(c,m,M);break;case"dangerouslySetInnerHTML":if(m!=null){if(typeof m!="object"||!("__html"in m))throw Error(s(61));if(g=m.__html,g!=null){if(C.children!=null)throw Error(s(60));c.innerHTML=g}}break;case"children":typeof m=="string"?Mu(c,m):(typeof m=="number"||typeof m=="bigint")&&Mu(c,""+m);break;case"onScroll":m!=null&&st("scroll",c);break;case"onScrollEnd":m!=null&&st("scrollend",c);break;case"onClick":m!=null&&(c.onclick=Qm);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!kA.hasOwnProperty(g))e:{if(g[0]==="o"&&g[1]==="n"&&(C=g.endsWith("Capture"),u=g.slice(2,C?g.length-7:void 0),M=c[$s]||null,M=M!=null?M[g]:null,typeof M=="function"&&c.removeEventListener(u,M,C),typeof m=="function")){typeof M!="function"&&M!==null&&(g in c?c[g]=null:c.hasAttribute(g)&&c.removeAttribute(g)),c.addEventListener(u,m,C);break e}g in c?c[g]=m:m===!0?c.setAttribute(g,""):im(c,g,m)}}}function ls(c,u,g){switch(u){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":st("error",c),st("load",c);var m=!1,C=!1,M;for(M in g)if(g.hasOwnProperty(M)){var L=g[M];if(L!=null)switch(M){case"src":m=!0;break;case"srcSet":C=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,u));default:Nt(c,u,M,L,g,null)}}C&&Nt(c,u,"srcSet",g.srcSet,g,null),m&&Nt(c,u,"src",g.src,g,null);return;case"input":st("invalid",c);var N=M=L=C=null,H=null,X=null;for(m in g)if(g.hasOwnProperty(m)){var le=g[m];if(le!=null)switch(m){case"name":C=le;break;case"type":L=le;break;case"checked":H=le;break;case"defaultChecked":X=le;break;case"value":M=le;break;case"defaultValue":N=le;break;case"children":case"dangerouslySetInnerHTML":if(le!=null)throw Error(s(137,u));break;default:Nt(c,u,m,le,g,null)}}GA(c,M,N,H,X,L,C,!1),nm(c);return;case"select":st("invalid",c),m=L=M=null;for(C in g)if(g.hasOwnProperty(C)&&(N=g[C],N!=null))switch(C){case"value":M=N;break;case"defaultValue":L=N;break;case"multiple":m=N;default:Nt(c,u,C,N,g,null)}u=M,g=L,c.multiple=!!m,u!=null?xu(c,!!m,u,!1):g!=null&&xu(c,!!m,g,!0);return;case"textarea":st("invalid",c),M=C=m=null;for(L in g)if(g.hasOwnProperty(L)&&(N=g[L],N!=null))switch(L){case"value":m=N;break;case"defaultValue":C=N;break;case"children":M=N;break;case"dangerouslySetInnerHTML":if(N!=null)throw Error(s(91));break;default:Nt(c,u,L,N,g,null)}jA(c,m,C,M),nm(c);return;case"option":for(H in g)if(g.hasOwnProperty(H)&&(m=g[H],m!=null))switch(H){case"selected":c.selected=m&&typeof m!="function"&&typeof m!="symbol";break;default:Nt(c,u,H,m,g,null)}return;case"dialog":st("beforetoggle",c),st("toggle",c),st("cancel",c),st("close",c);break;case"iframe":case"object":st("load",c);break;case"video":case"audio":for(m=0;m<bg.length;m++)st(bg[m],c);break;case"image":st("error",c),st("load",c);break;case"details":st("toggle",c);break;case"embed":case"source":case"link":st("error",c),st("load",c);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(X in g)if(g.hasOwnProperty(X)&&(m=g[X],m!=null))switch(X){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,u));default:Nt(c,u,X,m,g,null)}return;default:if(Wb(u)){for(le in g)g.hasOwnProperty(le)&&(m=g[le],m!==void 0&&Aw(c,u,le,m,g,void 0));return}}for(N in g)g.hasOwnProperty(N)&&(m=g[N],m!=null&&Nt(c,u,N,m,g,null))}function PH(c,u,g,m){switch(u){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var C=null,M=null,L=null,N=null,H=null,X=null,le=null;for(se in g){var pe=g[se];if(g.hasOwnProperty(se)&&pe!=null)switch(se){case"checked":break;case"value":break;case"defaultValue":H=pe;default:m.hasOwnProperty(se)||Nt(c,u,se,null,m,pe)}}for(var ie in m){var se=m[ie];if(pe=g[ie],m.hasOwnProperty(ie)&&(se!=null||pe!=null))switch(ie){case"type":M=se;break;case"name":C=se;break;case"checked":X=se;break;case"defaultChecked":le=se;break;case"value":L=se;break;case"defaultValue":N=se;break;case"children":case"dangerouslySetInnerHTML":if(se!=null)throw Error(s(137,u));break;default:se!==pe&&Nt(c,u,ie,se,m,pe)}}Vb(c,L,N,H,X,le,M,C);return;case"select":se=L=N=ie=null;for(M in g)if(H=g[M],g.hasOwnProperty(M)&&H!=null)switch(M){case"value":break;case"multiple":se=H;default:m.hasOwnProperty(M)||Nt(c,u,M,null,m,H)}for(C in m)if(M=m[C],H=g[C],m.hasOwnProperty(C)&&(M!=null||H!=null))switch(C){case"value":ie=M;break;case"defaultValue":N=M;break;case"multiple":L=M;default:M!==H&&Nt(c,u,C,M,m,H)}u=N,g=L,m=se,ie!=null?xu(c,!!g,ie,!1):!!m!=!!g&&(u!=null?xu(c,!!g,u,!0):xu(c,!!g,g?[]:"",!1));return;case"textarea":se=ie=null;for(N in g)if(C=g[N],g.hasOwnProperty(N)&&C!=null&&!m.hasOwnProperty(N))switch(N){case"value":break;case"children":break;default:Nt(c,u,N,null,m,C)}for(L in m)if(C=m[L],M=g[L],m.hasOwnProperty(L)&&(C!=null||M!=null))switch(L){case"value":ie=C;break;case"defaultValue":se=C;break;case"children":break;case"dangerouslySetInnerHTML":if(C!=null)throw Error(s(91));break;default:C!==M&&Nt(c,u,L,C,m,M)}HA(c,ie,se);return;case"option":for(var We in g)if(ie=g[We],g.hasOwnProperty(We)&&ie!=null&&!m.hasOwnProperty(We))switch(We){case"selected":c.selected=!1;break;default:Nt(c,u,We,null,m,ie)}for(H in m)if(ie=m[H],se=g[H],m.hasOwnProperty(H)&&ie!==se&&(ie!=null||se!=null))switch(H){case"selected":c.selected=ie&&typeof ie!="function"&&typeof ie!="symbol";break;default:Nt(c,u,H,ie,m,se)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Fe in g)ie=g[Fe],g.hasOwnProperty(Fe)&&ie!=null&&!m.hasOwnProperty(Fe)&&Nt(c,u,Fe,null,m,ie);for(X in m)if(ie=m[X],se=g[X],m.hasOwnProperty(X)&&ie!==se&&(ie!=null||se!=null))switch(X){case"children":case"dangerouslySetInnerHTML":if(ie!=null)throw Error(s(137,u));break;default:Nt(c,u,X,ie,m,se)}return;default:if(Wb(u)){for(var zt in g)ie=g[zt],g.hasOwnProperty(zt)&&ie!==void 0&&!m.hasOwnProperty(zt)&&Aw(c,u,zt,void 0,m,ie);for(le in m)ie=m[le],se=g[le],!m.hasOwnProperty(le)||ie===se||ie===void 0&&se===void 0||Aw(c,u,le,ie,m,se);return}}for(var $ in g)ie=g[$],g.hasOwnProperty($)&&ie!=null&&!m.hasOwnProperty($)&&Nt(c,u,$,null,m,ie);for(pe in m)ie=m[pe],se=g[pe],!m.hasOwnProperty(pe)||ie===se||ie==null&&se==null||Nt(c,u,pe,ie,m,se)}var Tw=null,Iw=null;function Jm(c){return c.nodeType===9?c:c.ownerDocument}function VI(c){switch(c){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function _I(c,u){if(c===0)switch(u){case"svg":return 1;case"math":return 2;default:return 0}return c===1&&u==="foreignObject"?0:c}function Lw(c,u){return c==="textarea"||c==="noscript"||typeof u.children=="string"||typeof u.children=="number"||typeof u.children=="bigint"||typeof u.dangerouslySetInnerHTML=="object"&&u.dangerouslySetInnerHTML!==null&&u.dangerouslySetInnerHTML.__html!=null}var kw=null;function OH(){var c=window.event;return c&&c.type==="popstate"?c===kw?!1:(kw=c,!0):(kw=null,!1)}var WI=typeof setTimeout=="function"?setTimeout:void 0,FH=typeof clearTimeout=="function"?clearTimeout:void 0,UI=typeof Promise=="function"?Promise:void 0,NH=typeof queueMicrotask=="function"?queueMicrotask:typeof UI<"u"?function(c){return UI.resolve(null).then(c).catch(zH)}:WI;function zH(c){setTimeout(function(){throw c})}function Ua(c){return c==="head"}function $I(c,u){var g=u,m=0,C=0;do{var M=g.nextSibling;if(c.removeChild(g),M&&M.nodeType===8)if(g=M.data,g==="/$"){if(0<m&&8>m){g=m;var L=c.ownerDocument;if(g&1&&wg(L.documentElement),g&2&&wg(L.body),g&4)for(g=L.head,wg(g),L=g.firstChild;L;){var N=L.nextSibling,H=L.nodeName;L[zh]||H==="SCRIPT"||H==="STYLE"||H==="LINK"&&L.rel.toLowerCase()==="stylesheet"||g.removeChild(L),L=N}}if(C===0){c.removeChild(M),Ig(u);return}C--}else g==="$"||g==="$?"||g==="$!"?C++:m=g.charCodeAt(0)-48;else m=0;g=M}while(g);Ig(u)}function Pw(c){var u=c.firstChild;for(u&&u.nodeType===10&&(u=u.nextSibling);u;){var g=u;switch(u=u.nextSibling,g.nodeName){case"HTML":case"HEAD":case"BODY":Pw(g),Bb(g);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(g.rel.toLowerCase()==="stylesheet")continue}c.removeChild(g)}}function BH(c,u,g,m){for(;c.nodeType===1;){var C=g;if(c.nodeName.toLowerCase()!==u.toLowerCase()){if(!m&&(c.nodeName!=="INPUT"||c.type!=="hidden"))break}else if(m){if(!c[zh])switch(u){case"meta":if(!c.hasAttribute("itemprop"))break;return c;case"link":if(M=c.getAttribute("rel"),M==="stylesheet"&&c.hasAttribute("data-precedence"))break;if(M!==C.rel||c.getAttribute("href")!==(C.href==null||C.href===""?null:C.href)||c.getAttribute("crossorigin")!==(C.crossOrigin==null?null:C.crossOrigin)||c.getAttribute("title")!==(C.title==null?null:C.title))break;return c;case"style":if(c.hasAttribute("data-precedence"))break;return c;case"script":if(M=c.getAttribute("src"),(M!==(C.src==null?null:C.src)||c.getAttribute("type")!==(C.type==null?null:C.type)||c.getAttribute("crossorigin")!==(C.crossOrigin==null?null:C.crossOrigin))&&M&&c.hasAttribute("async")&&!c.hasAttribute("itemprop"))break;return c;default:return c}}else if(u==="input"&&c.type==="hidden"){var M=C.name==null?null:""+C.name;if(C.type==="hidden"&&c.getAttribute("name")===M)return c}else return c;if(c=yr(c.nextSibling),c===null)break}return null}function GH(c,u,g){if(u==="")return null;for(;c.nodeType!==3;)if((c.nodeType!==1||c.nodeName!=="INPUT"||c.type!=="hidden")&&!g||(c=yr(c.nextSibling),c===null))return null;return c}function Ow(c){return c.data==="$!"||c.data==="$?"&&c.ownerDocument.readyState==="complete"}function HH(c,u){var g=c.ownerDocument;if(c.data!=="$?"||g.readyState==="complete")u();else{var m=function(){u(),g.removeEventListener("DOMContentLoaded",m)};g.addEventListener("DOMContentLoaded",m),c._reactRetry=m}}function yr(c){for(;c!=null;c=c.nextSibling){var u=c.nodeType;if(u===1||u===3)break;if(u===8){if(u=c.data,u==="$"||u==="$!"||u==="$?"||u==="F!"||u==="F")break;if(u==="/$")return null}}return c}var Fw=null;function YI(c){c=c.previousSibling;for(var u=0;c;){if(c.nodeType===8){var g=c.data;if(g==="$"||g==="$!"||g==="$?"){if(u===0)return c;u--}else g==="/$"&&u++}c=c.previousSibling}return null}function KI(c,u,g){switch(u=Jm(g),c){case"html":if(c=u.documentElement,!c)throw Error(s(452));return c;case"head":if(c=u.head,!c)throw Error(s(453));return c;case"body":if(c=u.body,!c)throw Error(s(454));return c;default:throw Error(s(451))}}function wg(c){for(var u=c.attributes;u.length;)c.removeAttributeNode(u[0]);Bb(c)}var Wn=new Map,qI=new Set;function ev(c){return typeof c.getRootNode=="function"?c.getRootNode():c.nodeType===9?c:c.ownerDocument}var Wo=K.d;K.d={f:jH,r:VH,D:_H,C:WH,L:UH,m:$H,X:KH,S:YH,M:qH};function jH(){var c=Wo.f(),u=Um();return c||u}function VH(c){var u=Cu(c);u!==null&&u.tag===5&&u.type==="form"?f1(u):Wo.r(c)}var Ju=typeof document>"u"?null:document;function ZI(c,u,g){var m=Ju;if(m&&typeof u=="string"&&u){var C=zn(u);C='link[rel="'+c+'"][href="'+C+'"]',typeof g=="string"&&(C+='[crossorigin="'+g+'"]'),qI.has(C)||(qI.add(C),c={rel:c,crossOrigin:g,href:u},m.querySelector(C)===null&&(u=m.createElement("link"),ls(u,"link",c),Yi(u),m.head.appendChild(u)))}}function _H(c){Wo.D(c),ZI("dns-prefetch",c,null)}function WH(c,u){Wo.C(c,u),ZI("preconnect",c,u)}function UH(c,u,g){Wo.L(c,u,g);var m=Ju;if(m&&c&&u){var C='link[rel="preload"][as="'+zn(u)+'"]';u==="image"&&g&&g.imageSrcSet?(C+='[imagesrcset="'+zn(g.imageSrcSet)+'"]',typeof g.imageSizes=="string"&&(C+='[imagesizes="'+zn(g.imageSizes)+'"]')):C+='[href="'+zn(c)+'"]';var M=C;switch(u){case"style":M=ed(c);break;case"script":M=td(c)}Wn.has(M)||(c=h({rel:"preload",href:u==="image"&&g&&g.imageSrcSet?void 0:c,as:u},g),Wn.set(M,c),m.querySelector(C)!==null||u==="style"&&m.querySelector(xg(M))||u==="script"&&m.querySelector(Mg(M))||(u=m.createElement("link"),ls(u,"link",c),Yi(u),m.head.appendChild(u)))}}function $H(c,u){Wo.m(c,u);var g=Ju;if(g&&c){var m=u&&typeof u.as=="string"?u.as:"script",C='link[rel="modulepreload"][as="'+zn(m)+'"][href="'+zn(c)+'"]',M=C;switch(m){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":M=td(c)}if(!Wn.has(M)&&(c=h({rel:"modulepreload",href:c},u),Wn.set(M,c),g.querySelector(C)===null)){switch(m){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(g.querySelector(Mg(M)))return}m=g.createElement("link"),ls(m,"link",c),Yi(m),g.head.appendChild(m)}}}function YH(c,u,g){Wo.S(c,u,g);var m=Ju;if(m&&c){var C=bu(m).hoistableStyles,M=ed(c);u=u||"default";var L=C.get(M);if(!L){var N={loading:0,preload:null};if(L=m.querySelector(xg(M)))N.loading=5;else{c=h({rel:"stylesheet",href:c,"data-precedence":u},g),(g=Wn.get(M))&&Nw(c,g);var H=L=m.createElement("link");Yi(H),ls(H,"link",c),H._p=new Promise(function(X,le){H.onload=X,H.onerror=le}),H.addEventListener("load",function(){N.loading|=1}),H.addEventListener("error",function(){N.loading|=2}),N.loading|=4,tv(L,u,m)}L={type:"stylesheet",instance:L,count:1,state:N},C.set(M,L)}}}function KH(c,u){Wo.X(c,u);var g=Ju;if(g&&c){var m=bu(g).hoistableScripts,C=td(c),M=m.get(C);M||(M=g.querySelector(Mg(C)),M||(c=h({src:c,async:!0},u),(u=Wn.get(C))&&zw(c,u),M=g.createElement("script"),Yi(M),ls(M,"link",c),g.head.appendChild(M)),M={type:"script",instance:M,count:1,state:null},m.set(C,M))}}function qH(c,u){Wo.M(c,u);var g=Ju;if(g&&c){var m=bu(g).hoistableScripts,C=td(c),M=m.get(C);M||(M=g.querySelector(Mg(C)),M||(c=h({src:c,async:!0,type:"module"},u),(u=Wn.get(C))&&zw(c,u),M=g.createElement("script"),Yi(M),ls(M,"link",c),g.head.appendChild(M)),M={type:"script",instance:M,count:1,state:null},m.set(C,M))}}function XI(c,u,g,m){var C=(C=ce.current)?ev(C):null;if(!C)throw Error(s(446));switch(c){case"meta":case"title":return null;case"style":return typeof g.precedence=="string"&&typeof g.href=="string"?(u=ed(g.href),g=bu(C).hoistableStyles,m=g.get(u),m||(m={type:"style",instance:null,count:0,state:null},g.set(u,m)),m):{type:"void",instance:null,count:0,state:null};case"link":if(g.rel==="stylesheet"&&typeof g.href=="string"&&typeof g.precedence=="string"){c=ed(g.href);var M=bu(C).hoistableStyles,L=M.get(c);if(L||(C=C.ownerDocument||C,L={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},M.set(c,L),(M=C.querySelector(xg(c)))&&!M._p&&(L.instance=M,L.state.loading=5),Wn.has(c)||(g={rel:"preload",as:"style",href:g.href,crossOrigin:g.crossOrigin,integrity:g.integrity,media:g.media,hrefLang:g.hrefLang,referrerPolicy:g.referrerPolicy},Wn.set(c,g),M||ZH(C,c,g,L.state))),u&&m===null)throw Error(s(528,""));return L}if(u&&m!==null)throw Error(s(529,""));return null;case"script":return u=g.async,g=g.src,typeof g=="string"&&u&&typeof u!="function"&&typeof u!="symbol"?(u=td(g),g=bu(C).hoistableScripts,m=g.get(u),m||(m={type:"script",instance:null,count:0,state:null},g.set(u,m)),m):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,c))}}function ed(c){return'href="'+zn(c)+'"'}function xg(c){return'link[rel="stylesheet"]['+c+"]"}function QI(c){return h({},c,{"data-precedence":c.precedence,precedence:null})}function ZH(c,u,g,m){c.querySelector('link[rel="preload"][as="style"]['+u+"]")?m.loading=1:(u=c.createElement("link"),m.preload=u,u.addEventListener("load",function(){return m.loading|=1}),u.addEventListener("error",function(){return m.loading|=2}),ls(u,"link",g),Yi(u),c.head.appendChild(u))}function td(c){return'[src="'+zn(c)+'"]'}function Mg(c){return"script[async]"+c}function JI(c,u,g){if(u.count++,u.instance===null)switch(u.type){case"style":var m=c.querySelector('style[data-href~="'+zn(g.href)+'"]');if(m)return u.instance=m,Yi(m),m;var C=h({},g,{"data-href":g.href,"data-precedence":g.precedence,href:null,precedence:null});return m=(c.ownerDocument||c).createElement("style"),Yi(m),ls(m,"style",C),tv(m,g.precedence,c),u.instance=m;case"stylesheet":C=ed(g.href);var M=c.querySelector(xg(C));if(M)return u.state.loading|=4,u.instance=M,Yi(M),M;m=QI(g),(C=Wn.get(C))&&Nw(m,C),M=(c.ownerDocument||c).createElement("link"),Yi(M);var L=M;return L._p=new Promise(function(N,H){L.onload=N,L.onerror=H}),ls(M,"link",m),u.state.loading|=4,tv(M,g.precedence,c),u.instance=M;case"script":return M=td(g.src),(C=c.querySelector(Mg(M)))?(u.instance=C,Yi(C),C):(m=g,(C=Wn.get(M))&&(m=h({},g),zw(m,C)),c=c.ownerDocument||c,C=c.createElement("script"),Yi(C),ls(C,"link",m),c.head.appendChild(C),u.instance=C);case"void":return null;default:throw Error(s(443,u.type))}else u.type==="stylesheet"&&(u.state.loading&4)===0&&(m=u.instance,u.state.loading|=4,tv(m,g.precedence,c));return u.instance}function tv(c,u,g){for(var m=g.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),C=m.length?m[m.length-1]:null,M=C,L=0;L<m.length;L++){var N=m[L];if(N.dataset.precedence===u)M=N;else if(M!==C)break}M?M.parentNode.insertBefore(c,M.nextSibling):(u=g.nodeType===9?g.head:g,u.insertBefore(c,u.firstChild))}function Nw(c,u){c.crossOrigin==null&&(c.crossOrigin=u.crossOrigin),c.referrerPolicy==null&&(c.referrerPolicy=u.referrerPolicy),c.title==null&&(c.title=u.title)}function zw(c,u){c.crossOrigin==null&&(c.crossOrigin=u.crossOrigin),c.referrerPolicy==null&&(c.referrerPolicy=u.referrerPolicy),c.integrity==null&&(c.integrity=u.integrity)}var iv=null;function eL(c,u,g){if(iv===null){var m=new Map,C=iv=new Map;C.set(g,m)}else C=iv,m=C.get(g),m||(m=new Map,C.set(g,m));if(m.has(c))return m;for(m.set(c,null),g=g.getElementsByTagName(c),C=0;C<g.length;C++){var M=g[C];if(!(M[zh]||M[bs]||c==="link"&&M.getAttribute("rel")==="stylesheet")&&M.namespaceURI!=="http://www.w3.org/2000/svg"){var L=M.getAttribute(u)||"";L=c+L;var N=m.get(L);N?N.push(M):m.set(L,[M])}}return m}function tL(c,u,g){c=c.ownerDocument||c,c.head.insertBefore(g,u==="title"?c.querySelector("head > title"):null)}function XH(c,u,g){if(g===1||u.itemProp!=null)return!1;switch(c){case"meta":case"title":return!0;case"style":if(typeof u.precedence!="string"||typeof u.href!="string"||u.href==="")break;return!0;case"link":if(typeof u.rel!="string"||typeof u.href!="string"||u.href===""||u.onLoad||u.onError)break;switch(u.rel){case"stylesheet":return c=u.disabled,typeof u.precedence=="string"&&c==null;default:return!0}case"script":if(u.async&&typeof u.async!="function"&&typeof u.async!="symbol"&&!u.onLoad&&!u.onError&&u.src&&typeof u.src=="string")return!0}return!1}function iL(c){return!(c.type==="stylesheet"&&(c.state.loading&3)===0)}var Dg=null;function QH(){}function JH(c,u,g){if(Dg===null)throw Error(s(475));var m=Dg;if(u.type==="stylesheet"&&(typeof g.media!="string"||matchMedia(g.media).matches!==!1)&&(u.state.loading&4)===0){if(u.instance===null){var C=ed(g.href),M=c.querySelector(xg(C));if(M){c=M._p,c!==null&&typeof c=="object"&&typeof c.then=="function"&&(m.count++,m=sv.bind(m),c.then(m,m)),u.state.loading|=4,u.instance=M,Yi(M);return}M=c.ownerDocument||c,g=QI(g),(C=Wn.get(C))&&Nw(g,C),M=M.createElement("link"),Yi(M);var L=M;L._p=new Promise(function(N,H){L.onload=N,L.onerror=H}),ls(M,"link",g),u.instance=M}m.stylesheets===null&&(m.stylesheets=new Map),m.stylesheets.set(u,c),(c=u.state.preload)&&(u.state.loading&3)===0&&(m.count++,u=sv.bind(m),c.addEventListener("load",u),c.addEventListener("error",u))}}function ej(){if(Dg===null)throw Error(s(475));var c=Dg;return c.stylesheets&&c.count===0&&Bw(c,c.stylesheets),0<c.count?function(u){var g=setTimeout(function(){if(c.stylesheets&&Bw(c,c.stylesheets),c.unsuspend){var m=c.unsuspend;c.unsuspend=null,m()}},6e4);return c.unsuspend=u,function(){c.unsuspend=null,clearTimeout(g)}}:null}function sv(){if(this.count--,this.count===0){if(this.stylesheets)Bw(this,this.stylesheets);else if(this.unsuspend){var c=this.unsuspend;this.unsuspend=null,c()}}}var nv=null;function Bw(c,u){c.stylesheets=null,c.unsuspend!==null&&(c.count++,nv=new Map,u.forEach(tj,c),nv=null,sv.call(c))}function tj(c,u){if(!(u.state.loading&4)){var g=nv.get(c);if(g)var m=g.get(null);else{g=new Map,nv.set(c,g);for(var C=c.querySelectorAll("link[data-precedence],style[data-precedence]"),M=0;M<C.length;M++){var L=C[M];(L.nodeName==="LINK"||L.getAttribute("media")!=="not all")&&(g.set(L.dataset.precedence,L),m=L)}m&&g.set(null,m)}C=u.instance,L=C.getAttribute("data-precedence"),M=g.get(L)||m,M===m&&g.set(null,C),g.set(L,C),this.count++,m=sv.bind(this),C.addEventListener("load",m),C.addEventListener("error",m),M?M.parentNode.insertBefore(C,M.nextSibling):(c=c.nodeType===9?c.head:c,c.insertBefore(C,c.firstChild)),u.state.loading|=4}}var Rg={$$typeof:D,Provider:null,Consumer:null,_currentValue:ne,_currentValue2:ne,_threadCount:0};function ij(c,u,g,m,C,M,L,N){this.tag=1,this.containerInfo=c,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ob(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ob(0),this.hiddenUpdates=Ob(null),this.identifierPrefix=m,this.onUncaughtError=C,this.onCaughtError=M,this.onRecoverableError=L,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=N,this.incompleteTransitions=new Map}function sL(c,u,g,m,C,M,L,N,H,X,le,pe){return c=new ij(c,u,g,L,N,H,X,pe),u=1,M===!0&&(u|=24),M=hn(3,null,null,u),c.current=M,M.stateNode=c,u=CS(),u.refCount++,c.pooledCache=u,u.refCount++,M.memoizedState={element:m,isDehydrated:g,cache:u},xS(M),c}function nL(c){return c?(c=ku,c):ku}function rL(c,u,g,m,C,M){C=nL(C),m.context===null?m.context=C:m.pendingContext=C,m=ka(u),m.payload={element:g},M=M===void 0?null:M,M!==null&&(m.callback=M),g=Pa(c,m,u),g!==null&&(vn(g,c,u),ig(g,c,u))}function oL(c,u){if(c=c.memoizedState,c!==null&&c.dehydrated!==null){var g=c.retryLane;c.retryLane=g!==0&&g<u?g:u}}function Gw(c,u){oL(c,u),(c=c.alternate)&&oL(c,u)}function aL(c){if(c.tag===13){var u=Lu(c,67108864);u!==null&&vn(u,c,67108864),Gw(c,67108864)}}var rv=!0;function sj(c,u,g,m){var C=G.T;G.T=null;var M=K.p;try{K.p=2,Hw(c,u,g,m)}finally{K.p=M,G.T=C}}function nj(c,u,g,m){var C=G.T;G.T=null;var M=K.p;try{K.p=8,Hw(c,u,g,m)}finally{K.p=M,G.T=C}}function Hw(c,u,g,m){if(rv){var C=jw(m);if(C===null)Ew(c,u,m,ov,g),cL(c,m);else if(oj(C,c,u,g,m))m.stopPropagation();else if(cL(c,m),u&4&&-1<rj.indexOf(c)){for(;C!==null;){var M=Cu(C);if(M!==null)switch(M.tag){case 3:if(M=M.stateNode,M.current.memoizedState.isDehydrated){var L=Vl(M.pendingLanes);if(L!==0){var N=M;for(N.pendingLanes|=2,N.entangledLanes|=2;L;){var H=1<<31-un(L);N.entanglements[1]|=H,L&=~H}Kr(M),(At&6)===0&&(_m=ut()+500,Cg(0))}}break;case 13:N=Lu(M,2),N!==null&&vn(N,M,2),Um(),Gw(M,2)}if(M=jw(m),M===null&&Ew(c,u,m,ov,g),M===C)break;C=M}C!==null&&m.stopPropagation()}else Ew(c,u,m,null,g)}}function jw(c){return c=$b(c),Vw(c)}var ov=null;function Vw(c){if(ov=null,c=yu(c),c!==null){var u=r(c);if(u===null)c=null;else{var g=u.tag;if(g===13){if(c=o(u),c!==null)return c;c=null}else if(g===3){if(u.stateNode.current.memoizedState.isDehydrated)return u.tag===3?u.stateNode.containerInfo:null;c=null}else u!==c&&(c=null)}}return ov=c,null}function lL(c){switch(c){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(xi()){case Li:return 2;case tt:return 8;case ot:case ti:return 32;case _t:return 268435456;default:return 32}default:return 32}}var _w=!1,$a=null,Ya=null,Ka=null,Eg=new Map,Ag=new Map,qa=[],rj="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function cL(c,u){switch(c){case"focusin":case"focusout":$a=null;break;case"dragenter":case"dragleave":Ya=null;break;case"mouseover":case"mouseout":Ka=null;break;case"pointerover":case"pointerout":Eg.delete(u.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ag.delete(u.pointerId)}}function Tg(c,u,g,m,C,M){return c===null||c.nativeEvent!==M?(c={blockedOn:u,domEventName:g,eventSystemFlags:m,nativeEvent:M,targetContainers:[C]},u!==null&&(u=Cu(u),u!==null&&aL(u)),c):(c.eventSystemFlags|=m,u=c.targetContainers,C!==null&&u.indexOf(C)===-1&&u.push(C),c)}function oj(c,u,g,m,C){switch(u){case"focusin":return $a=Tg($a,c,u,g,m,C),!0;case"dragenter":return Ya=Tg(Ya,c,u,g,m,C),!0;case"mouseover":return Ka=Tg(Ka,c,u,g,m,C),!0;case"pointerover":var M=C.pointerId;return Eg.set(M,Tg(Eg.get(M)||null,c,u,g,m,C)),!0;case"gotpointercapture":return M=C.pointerId,Ag.set(M,Tg(Ag.get(M)||null,c,u,g,m,C)),!0}return!1}function uL(c){var u=yu(c.target);if(u!==null){var g=r(u);if(g!==null){if(u=g.tag,u===13){if(u=o(g),u!==null){c.blockedOn=u,JG(c.priority,function(){if(g.tag===13){var m=mn();m=Fb(m);var C=Lu(g,m);C!==null&&vn(C,g,m),Gw(g,m)}});return}}else if(u===3&&g.stateNode.current.memoizedState.isDehydrated){c.blockedOn=g.tag===3?g.stateNode.containerInfo:null;return}}}c.blockedOn=null}function av(c){if(c.blockedOn!==null)return!1;for(var u=c.targetContainers;0<u.length;){var g=jw(c.nativeEvent);if(g===null){g=c.nativeEvent;var m=new g.constructor(g.type,g);Ub=m,g.target.dispatchEvent(m),Ub=null}else return u=Cu(g),u!==null&&aL(u),c.blockedOn=g,!1;u.shift()}return!0}function dL(c,u,g){av(c)&&g.delete(u)}function aj(){_w=!1,$a!==null&&av($a)&&($a=null),Ya!==null&&av(Ya)&&(Ya=null),Ka!==null&&av(Ka)&&(Ka=null),Eg.forEach(dL),Ag.forEach(dL)}function lv(c,u){c.blockedOn===u&&(c.blockedOn=null,_w||(_w=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,aj)))}var cv=null;function hL(c){cv!==c&&(cv=c,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){cv===c&&(cv=null);for(var u=0;u<c.length;u+=3){var g=c[u],m=c[u+1],C=c[u+2];if(typeof m!="function"){if(Vw(m||g)===null)continue;break}var M=Cu(g);M!==null&&(c.splice(u,3),u-=3,VS(M,{pending:!0,data:C,method:g.method,action:m},m,C))}}))}function Ig(c){function u(H){return lv(H,c)}$a!==null&&lv($a,c),Ya!==null&&lv(Ya,c),Ka!==null&&lv(Ka,c),Eg.forEach(u),Ag.forEach(u);for(var g=0;g<qa.length;g++){var m=qa[g];m.blockedOn===c&&(m.blockedOn=null)}for(;0<qa.length&&(g=qa[0],g.blockedOn===null);)uL(g),g.blockedOn===null&&qa.shift();if(g=(c.ownerDocument||c).$$reactFormReplay,g!=null)for(m=0;m<g.length;m+=3){var C=g[m],M=g[m+1],L=C[$s]||null;if(typeof M=="function")L||hL(g);else if(L){var N=null;if(M&&M.hasAttribute("formAction")){if(C=M,L=M[$s]||null)N=L.formAction;else if(Vw(C)!==null)continue}else N=L.action;typeof N=="function"?g[m+1]=N:(g.splice(m,3),m-=3),hL(g)}}}function Ww(c){this._internalRoot=c}uv.prototype.render=Ww.prototype.render=function(c){var u=this._internalRoot;if(u===null)throw Error(s(409));var g=u.current,m=mn();rL(g,m,c,u,null,null)},uv.prototype.unmount=Ww.prototype.unmount=function(){var c=this._internalRoot;if(c!==null){this._internalRoot=null;var u=c.containerInfo;rL(c.current,2,null,c,null,null),Um(),u[vu]=null}};function uv(c){this._internalRoot=c}uv.prototype.unstable_scheduleHydration=function(c){if(c){var u=TA();c={blockedOn:null,target:c,priority:u};for(var g=0;g<qa.length&&u!==0&&u<qa[g].priority;g++);qa.splice(g,0,c),g===0&&uL(c)}};var gL=t.version;if(gL!=="19.1.0")throw Error(s(527,gL,"19.1.0"));K.findDOMNode=function(c){var u=c._reactInternals;if(u===void 0)throw typeof c.render=="function"?Error(s(188)):(c=Object.keys(c).join(","),Error(s(268,c)));return c=l(u),c=c!==null?d(c):null,c=c===null?null:c.stateNode,c};var lj={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:G,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var dv=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!dv.isDisabled&&dv.supportsFiber)try{gt=dv.inject(lj),Rt=dv}catch{}}return kg.createRoot=function(c,u){if(!n(c))throw Error(s(299));var g=!1,m="",C=T1,M=I1,L=L1,N=null;return u!=null&&(u.unstable_strictMode===!0&&(g=!0),u.identifierPrefix!==void 0&&(m=u.identifierPrefix),u.onUncaughtError!==void 0&&(C=u.onUncaughtError),u.onCaughtError!==void 0&&(M=u.onCaughtError),u.onRecoverableError!==void 0&&(L=u.onRecoverableError),u.unstable_transitionCallbacks!==void 0&&(N=u.unstable_transitionCallbacks)),u=sL(c,1,!1,null,null,g,m,C,M,L,N,null),c[vu]=u.current,Rw(c),new Ww(u)},kg.hydrateRoot=function(c,u,g){if(!n(c))throw Error(s(299));var m=!1,C="",M=T1,L=I1,N=L1,H=null,X=null;return g!=null&&(g.unstable_strictMode===!0&&(m=!0),g.identifierPrefix!==void 0&&(C=g.identifierPrefix),g.onUncaughtError!==void 0&&(M=g.onUncaughtError),g.onCaughtError!==void 0&&(L=g.onCaughtError),g.onRecoverableError!==void 0&&(N=g.onRecoverableError),g.unstable_transitionCallbacks!==void 0&&(H=g.unstable_transitionCallbacks),g.formState!==void 0&&(X=g.formState)),u=sL(c,1,!0,u,g??null,m,C,M,L,N,H,X),u.context=nL(null),g=u.current,m=mn(),m=Fb(m),C=ka(m),C.callback=null,Pa(g,C,m),g=m,u.current.lanes=g,Nh(u,g),Kr(u),c[vu]=u.current,Rw(c),new uv(u)},kg.version="19.1.0",kg}var xL;function vj(){if(xL)return Yw.exports;xL=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Yw.exports=mj(),Yw.exports}var yj=vj(),Xw={exports:{}},Qw,ML;function Cj(){if(ML)return Qw;ML=1;var e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return Qw=e,Qw}var Jw,DL;function bj(){if(DL)return Jw;DL=1;var e=Cj();function t(){}function i(){}return i.resetWarningCache=t,Jw=function(){function s(o,a,l,d,h,p){if(p!==e){var f=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw f.name="Invariant Violation",f}}s.isRequired=s;function n(){return s}var r={array:s,bigint:s,bool:s,func:s,number:s,object:s,string:s,symbol:s,any:s,arrayOf:n,element:s,elementType:s,instanceOf:n,node:s,objectOf:n,oneOf:n,oneOfType:n,shape:n,exact:n,checkPropTypes:i,resetWarningCache:t};return r.PropTypes=r,r},Jw}var RL;function Sj(){return RL||(RL=1,Xw.exports=bj()()),Xw.exports}var wj=Sj();const j=th(wj);var e0={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/var EL;function xj(){return EL||(EL=1,function(e){(function(){var t={}.hasOwnProperty;function i(){for(var r="",o=0;o<arguments.length;o++){var a=arguments[o];a&&(r=n(r,s(a)))}return r}function s(r){if(typeof r=="string"||typeof r=="number")return r;if(typeof r!="object")return"";if(Array.isArray(r))return i.apply(null,r);if(r.toString!==Object.prototype.toString&&!r.toString.toString().includes("[native code]"))return r.toString();var o="";for(var a in r)t.call(r,a)&&r[a]&&(o=n(o,a));return o}function n(r,o){return o?r?r+" "+o:r+o:r}e.exports?(i.default=i,e.exports=i):window.classNames=i})()}(e0)),e0.exports}var Mj=xj();const Qt=th(Mj);function AL(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),i.push.apply(i,s)}return i}function Dj(e){for(var t=1;t<arguments.length;t++){var i=arguments[t]!=null?arguments[t]:{};t%2?AL(Object(i),!0).forEach(function(s){Rj(e,s,i[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):AL(Object(i)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(i,s))})}return e}function Rj(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function Nd(e){"@babel/helpers - typeof";return Nd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Nd(e)}function Ej(){var e=document.createElement("div");e.style.position="absolute",e.style.top="-9999px",e.style.width="50px",e.style.height="50px",e.style.overflow="scroll",document.body.appendChild(e);var t=e.offsetWidth-e.clientWidth;return document.body.removeChild(e),t}function IO(e){document.body.style.paddingRight=e>0?"".concat(e,"px"):null}function Aj(){return document.body.clientWidth<window.innerWidth}function Tj(){var e=window.getComputedStyle(document.body,null);return parseInt(e&&e.getPropertyValue("padding-right")||0,10)}function Ij(){var e=Ej(),t=document.querySelectorAll(".fixed-top, .fixed-bottom, .is-fixed, .sticky-top")[0],i=t?parseInt(t.style.paddingRight||0,10):0;Aj()&&IO(i+e)}var Lj;function Lt(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Lj;return t?e.split(" ").map(function(i){return t[i]||i}).join(" "):e}function lC(e,t){var i={};return Object.keys(e).forEach(function(s){t.indexOf(s)===-1&&(i[s]=e[s])}),i}function kj(e,t){for(var i=Array.isArray(t)?t:[t],s=i.length,n,r={};s>0;)s-=1,n=i[s],r[n]=e[n];return r}var TL={};function ax(e){TL[e]||(typeof console<"u"&&console.error(e),TL[e]=!0)}function Pj(e,t){return function(s,n,r){s[n]!==null&&typeof s[n]<"u"&&ax('"'.concat(n,'" property of "').concat(r,`" has been deprecated.
`).concat(t));for(var o=arguments.length,a=new Array(o>3?o-3:0),l=3;l<o;l++)a[l-3]=arguments[l];return e.apply(void 0,[s,n,r].concat(a))}}var Oj=(typeof window>"u"?"undefined":Nd(window))==="object"&&window.Element||function(){};function Fj(e,t,i){if(!(e[t]instanceof Oj))return new Error("Invalid prop `"+t+"` supplied to `"+i+"`. Expected prop to be an instance of Element. Validation failed.")}var LO=j.oneOfType([j.string,j.func,Fj,j.shape({current:j.any})]),is=j.oneOfType([j.func,j.string,j.shape({$$typeof:j.symbol,render:j.func}),j.arrayOf(j.oneOfType([j.func,j.string,j.shape({$$typeof:j.symbol,render:j.func})]))]),lx={Fade:150,Modal:300},IL=["in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","onEnter","onEntering","onEntered","onExit","onExiting","onExited"],It={esc:27,space:32,enter:13,tab:9,up:38,down:40,home:36,end:35,n:78,p:80},dD=!!(typeof window<"u"&&window.document&&window.document.createElement);function Nj(e){return e&&Nd(e)==="object"?"current"in e:!1}function zj(e){return e==null?e===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(e)}function kO(e){var t=Nd(e);return e!=null&&(t==="object"||t==="function")}function Bj(e){if(!kO(e))return!1;var t=zj(e);return t==="[object Function]"||t==="[object AsyncFunction]"||t==="[object GeneratorFunction]"||t==="[object Proxy]"}function Gj(e){if(Nj(e))return e.current;if(Bj(e))return e();if(typeof e=="string"&&dD){var t=document.querySelectorAll(e);if(t.length||(t=document.querySelectorAll("#".concat(e))),!t.length)throw new Error("The target '".concat(e,"' could not be identified in the dom, tip: check spelling"));return t}return e}function Hj(e){return e===null?!1:Array.isArray(e)||dD&&typeof e.length=="number"}function PO(e,t){var i=Gj(e);return Hj(i)?i[0]:i}var jj=["a[href]","area[href]","input:not([disabled]):not([type=hidden])","select:not([disabled])","textarea:not([disabled])","button:not([disabled])","object","embed","[tabindex]:not(.modal):not(.offcanvas)","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'];function OO(e,t){if(!e||!t)return t;var i=Dj({},t);return Object.keys(e).forEach(function(s){i[s]===void 0&&(i[s]=e[s]),Object.keys(e[s]||{}).length>0&&Nd(e[s])==="object"&&OO(e[s],i)}),i}var Vj=["className","cssModule","tabs","pills","vertical","horizontal","justified","fill","navbar","card","tag"];function cx(){return cx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(e[s]=i[s])}return e},cx.apply(this,arguments)}function _j(e,t){if(e==null)return{};var i=Wj(e,t),s,n;if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(n=0;n<r.length;n++)s=r[n],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(i[s]=e[s])}return i}function Wj(e,t){if(e==null)return{};var i={},s=Object.keys(e),n,r;for(r=0;r<s.length;r++)n=s[r],!(t.indexOf(n)>=0)&&(i[n]=e[n]);return i}var Uj={card:j.bool,className:j.string,cssModule:j.object,fill:j.bool,horizontal:j.oneOf(["center","end"]),justified:j.bool,navbar:j.bool,pills:j.bool,tabs:j.bool,tag:is,vertical:j.oneOfType([j.bool,j.string])},$j=function(t){return t===!1?!1:t===!0||t==="xs"?"flex-column":"flex-".concat(t,"-column")};function FO(e){var t=e.className,i=e.cssModule,s=e.tabs,n=e.pills,r=e.vertical,o=r===void 0?!1:r,a=e.horizontal,l=e.justified,d=e.fill,h=e.navbar,p=e.card,f=e.tag,v=f===void 0?"ul":f,y=_j(e,Vj),S=Lt(Qt(t,h?"navbar-nav":"nav",a?"justify-content-".concat(a):!1,$j(o),{"nav-tabs":s,"card-header-tabs":p&&s,"nav-pills":n,"card-header-pills":p&&n,"nav-justified":l,"nav-fill":d}),i);return Q.createElement(v,cx({},y,{className:S}))}FO.propTypes=Uj;var Yj=["className","cssModule","active","tag"];function ux(){return ux=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(e[s]=i[s])}return e},ux.apply(this,arguments)}function Kj(e,t){if(e==null)return{};var i=qj(e,t),s,n;if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(n=0;n<r.length;n++)s=r[n],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(i[s]=e[s])}return i}function qj(e,t){if(e==null)return{};var i={},s=Object.keys(e),n,r;for(r=0;r<s.length;r++)n=s[r],!(t.indexOf(n)>=0)&&(i[n]=e[n]);return i}var Zj={active:j.bool,className:j.string,cssModule:j.object,tag:is};function dx(e){var t=e.className,i=e.cssModule,s=e.active,n=e.tag,r=n===void 0?"li":n,o=Kj(e,Yj),a=Lt(Qt(t,"nav-item",s?"active":!1),i);return Q.createElement(r,ux({},o,{className:a}))}dx.propTypes=Zj;var Xj=["className","cssModule","variant","innerRef"];function hx(){return hx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(e[s]=i[s])}return e},hx.apply(this,arguments)}function LL(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),i.push.apply(i,s)}return i}function Qj(e){for(var t=1;t<arguments.length;t++){var i=arguments[t]!=null?arguments[t]:{};t%2?LL(Object(i),!0).forEach(function(s){Jj(e,s,i[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):LL(Object(i)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(i,s))})}return e}function Jj(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function eV(e,t){if(e==null)return{};var i=tV(e,t),s,n;if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(n=0;n<r.length;n++)s=r[n],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(i[s]=e[s])}return i}function tV(e,t){if(e==null)return{};var i={},s=Object.keys(e),n,r;for(r=0;r<s.length;r++)n=s[r],!(t.indexOf(n)>=0)&&(i[n]=e[n]);return i}var iV={active:j.bool,"aria-label":j.string,onClick:j.func,variant:j.oneOf(["white"]),className:j.string,cssModule:j.object,innerRef:j.oneOfType([j.object,j.string,j.func])};function NO(e){var t=e.className;e.cssModule;var i=e.variant,s=e.innerRef,n=eV(e,Xj),r=Lt(Qt(t,"btn-close",i&&"btn-close-".concat(i)));return Q.createElement("button",hx({ref:s,type:"button",className:r},Qj({"aria-label":"close"},n)))}NO.propTypes=iV;var sV=["active","aria-label","block","className","close","cssModule","color","outline","size","tag","innerRef"];function gx(){return gx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(e[s]=i[s])}return e},gx.apply(this,arguments)}function nV(e,t){if(e==null)return{};var i=rV(e,t),s,n;if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(n=0;n<r.length;n++)s=r[n],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(i[s]=e[s])}return i}function rV(e,t){if(e==null)return{};var i={},s=Object.keys(e),n,r;for(r=0;r<s.length;r++)n=s[r],!(t.indexOf(n)>=0)&&(i[n]=e[n]);return i}var oV={active:j.bool,"aria-label":j.string,block:j.bool,children:j.node,className:j.string,cssModule:j.object,close:j.bool,color:j.string,disabled:j.bool,innerRef:j.oneOfType([j.object,j.func,j.string]),onClick:j.func,outline:j.bool,size:j.string,tag:is};function ra(e){var t=I.useCallback(function(x){if(e.disabled){x.preventDefault();return}if(e.onClick)return e.onClick(x)},[e.onClick,e.disabled]),i=e.active,s=e["aria-label"],n=e.block,r=e.className,o=e.close,a=e.cssModule,l=e.color,d=l===void 0?"secondary":l,h=e.outline,p=e.size,f=e.tag,v=f===void 0?"button":f,y=e.innerRef,S=nV(e,sV);if(o)return Q.createElement(NO,S);var w="btn".concat(h?"-outline":"","-").concat(d),b=Lt(Qt(r,"btn",w,p?"btn-".concat(p):!1,n?"d-block w-100":!1,{active:i,disabled:e.disabled}),a);return S.href&&v==="button"&&(v="a"),Q.createElement(v,gx({type:v==="button"&&S.onClick?"button":void 0},S,{className:b,ref:y,onClick:t,"aria-label":s}))}ra.propTypes=oV;var zO=I.createContext(),BO=I.createContext();function kL(e){var t=e.children,i=I.useState(null),s=i[0],n=i[1],r=I.useRef(!1);I.useEffect(function(){return function(){r.current=!0}},[]);var o=I.useCallback(function(a){r.current||n(a)},[]);return I.createElement(zO.Provider,{value:s},I.createElement(BO.Provider,{value:o},t))}var GO=function(t){return Array.isArray(t)?t[0]:t},HO=function(t){if(typeof t=="function"){for(var i=arguments.length,s=new Array(i>1?i-1:0),n=1;n<i;n++)s[n-1]=arguments[n];return t.apply(void 0,s)}},px=function(t,i){if(typeof t=="function")return HO(t,i);t!=null&&(t.current=i)},PL=function(t){return t.reduce(function(i,s){var n=s[0],r=s[1];return i[n]=r,i},{})},OL=typeof window<"u"&&window.document&&window.document.createElement?I.useLayoutEffect:I.useEffect,cC=TO();const Tc=th(cC);var nn="top",ar="bottom",lr="right",rn="left",hD="auto",sf=[nn,ar,lr,rn],zd="start",bp="end",aV="clippingParents",jO="viewport",Pg="popper",lV="reference",FL=sf.reduce(function(e,t){return e.concat([t+"-"+zd,t+"-"+bp])},[]),VO=[].concat(sf,[hD]).reduce(function(e,t){return e.concat([t,t+"-"+zd,t+"-"+bp])},[]),cV="beforeRead",uV="read",dV="afterRead",hV="beforeMain",gV="main",pV="afterMain",fV="beforeWrite",mV="write",vV="afterWrite",yV=[cV,uV,dV,hV,gV,pV,fV,mV,vV];function lo(e){return e?(e.nodeName||"").toLowerCase():null}function Dn(e){if(e==null)return window;if(e.toString()!=="[object Window]"){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function $c(e){var t=Dn(e).Element;return e instanceof t||e instanceof Element}function tr(e){var t=Dn(e).HTMLElement;return e instanceof t||e instanceof HTMLElement}function gD(e){if(typeof ShadowRoot>"u")return!1;var t=Dn(e).ShadowRoot;return e instanceof t||e instanceof ShadowRoot}function CV(e){var t=e.state;Object.keys(t.elements).forEach(function(i){var s=t.styles[i]||{},n=t.attributes[i]||{},r=t.elements[i];!tr(r)||!lo(r)||(Object.assign(r.style,s),Object.keys(n).forEach(function(o){var a=n[o];a===!1?r.removeAttribute(o):r.setAttribute(o,a===!0?"":a)}))})}function bV(e){var t=e.state,i={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,i.popper),t.styles=i,t.elements.arrow&&Object.assign(t.elements.arrow.style,i.arrow),function(){Object.keys(t.elements).forEach(function(s){var n=t.elements[s],r=t.attributes[s]||{},o=Object.keys(t.styles.hasOwnProperty(s)?t.styles[s]:i[s]),a=o.reduce(function(l,d){return l[d]="",l},{});!tr(n)||!lo(n)||(Object.assign(n.style,a),Object.keys(r).forEach(function(l){n.removeAttribute(l)}))})}}const SV={name:"applyStyles",enabled:!0,phase:"write",fn:CV,effect:bV,requires:["computeStyles"]};function so(e){return e.split("-")[0]}var Pc=Math.max,ty=Math.min,Bd=Math.round;function fx(){var e=navigator.userAgentData;return e!=null&&e.brands&&Array.isArray(e.brands)?e.brands.map(function(t){return t.brand+"/"+t.version}).join(" "):navigator.userAgent}function _O(){return!/^((?!chrome|android).)*safari/i.test(fx())}function Gd(e,t,i){t===void 0&&(t=!1),i===void 0&&(i=!1);var s=e.getBoundingClientRect(),n=1,r=1;t&&tr(e)&&(n=e.offsetWidth>0&&Bd(s.width)/e.offsetWidth||1,r=e.offsetHeight>0&&Bd(s.height)/e.offsetHeight||1);var o=$c(e)?Dn(e):window,a=o.visualViewport,l=!_O()&&i,d=(s.left+(l&&a?a.offsetLeft:0))/n,h=(s.top+(l&&a?a.offsetTop:0))/r,p=s.width/n,f=s.height/r;return{width:p,height:f,top:h,right:d+p,bottom:h+f,left:d,x:d,y:h}}function pD(e){var t=Gd(e),i=e.offsetWidth,s=e.offsetHeight;return Math.abs(t.width-i)<=1&&(i=t.width),Math.abs(t.height-s)<=1&&(s=t.height),{x:e.offsetLeft,y:e.offsetTop,width:i,height:s}}function WO(e,t){var i=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(i&&gD(i)){var s=t;do{if(s&&e.isSameNode(s))return!0;s=s.parentNode||s.host}while(s)}return!1}function oa(e){return Dn(e).getComputedStyle(e)}function wV(e){return["table","td","th"].indexOf(lo(e))>=0}function Al(e){return(($c(e)?e.ownerDocument:e.document)||window.document).documentElement}function uC(e){return lo(e)==="html"?e:e.assignedSlot||e.parentNode||(gD(e)?e.host:null)||Al(e)}function NL(e){return!tr(e)||oa(e).position==="fixed"?null:e.offsetParent}function xV(e){var t=/firefox/i.test(fx()),i=/Trident/i.test(fx());if(i&&tr(e)){var s=oa(e);if(s.position==="fixed")return null}var n=uC(e);for(gD(n)&&(n=n.host);tr(n)&&["html","body"].indexOf(lo(n))<0;){var r=oa(n);if(r.transform!=="none"||r.perspective!=="none"||r.contain==="paint"||["transform","perspective"].indexOf(r.willChange)!==-1||t&&r.willChange==="filter"||t&&r.filter&&r.filter!=="none")return n;n=n.parentNode}return null}function nf(e){for(var t=Dn(e),i=NL(e);i&&wV(i)&&oa(i).position==="static";)i=NL(i);return i&&(lo(i)==="html"||lo(i)==="body"&&oa(i).position==="static")?t:i||xV(e)||t}function fD(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function sp(e,t,i){return Pc(e,ty(t,i))}function MV(e,t,i){var s=sp(e,t,i);return s>i?i:s}function UO(){return{top:0,right:0,bottom:0,left:0}}function $O(e){return Object.assign({},UO(),e)}function YO(e,t){return t.reduce(function(i,s){return i[s]=e,i},{})}var DV=function(t,i){return t=typeof t=="function"?t(Object.assign({},i.rects,{placement:i.placement})):t,$O(typeof t!="number"?t:YO(t,sf))};function RV(e){var t,i=e.state,s=e.name,n=e.options,r=i.elements.arrow,o=i.modifiersData.popperOffsets,a=so(i.placement),l=fD(a),d=[rn,lr].indexOf(a)>=0,h=d?"height":"width";if(!(!r||!o)){var p=DV(n.padding,i),f=pD(r),v=l==="y"?nn:rn,y=l==="y"?ar:lr,S=i.rects.reference[h]+i.rects.reference[l]-o[l]-i.rects.popper[h],w=o[l]-i.rects.reference[l],b=nf(r),x=b?l==="y"?b.clientHeight||0:b.clientWidth||0:0,D=S/2-w/2,E=p[v],T=x-f[h]-p[y],k=x/2-f[h]/2+D,P=sp(E,k,T),O=l;i.modifiersData[s]=(t={},t[O]=P,t.centerOffset=P-k,t)}}function EV(e){var t=e.state,i=e.options,s=i.element,n=s===void 0?"[data-popper-arrow]":s;n!=null&&(typeof n=="string"&&(n=t.elements.popper.querySelector(n),!n)||WO(t.elements.popper,n)&&(t.elements.arrow=n))}const AV={name:"arrow",enabled:!0,phase:"main",fn:RV,effect:EV,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Hd(e){return e.split("-")[1]}var TV={top:"auto",right:"auto",bottom:"auto",left:"auto"};function IV(e,t){var i=e.x,s=e.y,n=t.devicePixelRatio||1;return{x:Bd(i*n)/n||0,y:Bd(s*n)/n||0}}function zL(e){var t,i=e.popper,s=e.popperRect,n=e.placement,r=e.variation,o=e.offsets,a=e.position,l=e.gpuAcceleration,d=e.adaptive,h=e.roundOffsets,p=e.isFixed,f=o.x,v=f===void 0?0:f,y=o.y,S=y===void 0?0:y,w=typeof h=="function"?h({x:v,y:S}):{x:v,y:S};v=w.x,S=w.y;var b=o.hasOwnProperty("x"),x=o.hasOwnProperty("y"),D=rn,E=nn,T=window;if(d){var k=nf(i),P="clientHeight",O="clientWidth";if(k===Dn(i)&&(k=Al(i),oa(k).position!=="static"&&a==="absolute"&&(P="scrollHeight",O="scrollWidth")),k=k,n===nn||(n===rn||n===lr)&&r===bp){E=ar;var F=p&&k===T&&T.visualViewport?T.visualViewport.height:k[P];S-=F-s.height,S*=l?1:-1}if(n===rn||(n===nn||n===ar)&&r===bp){D=lr;var z=p&&k===T&&T.visualViewport?T.visualViewport.width:k[O];v-=z-s.width,v*=l?1:-1}}var V=Object.assign({position:a},d&&TV),U=h===!0?IV({x:v,y:S},Dn(i)):{x:v,y:S};if(v=U.x,S=U.y,l){var J;return Object.assign({},V,(J={},J[E]=x?"0":"",J[D]=b?"0":"",J.transform=(T.devicePixelRatio||1)<=1?"translate("+v+"px, "+S+"px)":"translate3d("+v+"px, "+S+"px, 0)",J))}return Object.assign({},V,(t={},t[E]=x?S+"px":"",t[D]=b?v+"px":"",t.transform="",t))}function LV(e){var t=e.state,i=e.options,s=i.gpuAcceleration,n=s===void 0?!0:s,r=i.adaptive,o=r===void 0?!0:r,a=i.roundOffsets,l=a===void 0?!0:a,d={placement:so(t.placement),variation:Hd(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:n,isFixed:t.options.strategy==="fixed"};t.modifiersData.popperOffsets!=null&&(t.styles.popper=Object.assign({},t.styles.popper,zL(Object.assign({},d,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:o,roundOffsets:l})))),t.modifiersData.arrow!=null&&(t.styles.arrow=Object.assign({},t.styles.arrow,zL(Object.assign({},d,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})}const kV={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:LV,data:{}};var hv={passive:!0};function PV(e){var t=e.state,i=e.instance,s=e.options,n=s.scroll,r=n===void 0?!0:n,o=s.resize,a=o===void 0?!0:o,l=Dn(t.elements.popper),d=[].concat(t.scrollParents.reference,t.scrollParents.popper);return r&&d.forEach(function(h){h.addEventListener("scroll",i.update,hv)}),a&&l.addEventListener("resize",i.update,hv),function(){r&&d.forEach(function(h){h.removeEventListener("scroll",i.update,hv)}),a&&l.removeEventListener("resize",i.update,hv)}}const OV={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:PV,data:{}};var FV={left:"right",right:"left",bottom:"top",top:"bottom"};function Nv(e){return e.replace(/left|right|bottom|top/g,function(t){return FV[t]})}var NV={start:"end",end:"start"};function BL(e){return e.replace(/start|end/g,function(t){return NV[t]})}function mD(e){var t=Dn(e),i=t.pageXOffset,s=t.pageYOffset;return{scrollLeft:i,scrollTop:s}}function vD(e){return Gd(Al(e)).left+mD(e).scrollLeft}function zV(e,t){var i=Dn(e),s=Al(e),n=i.visualViewport,r=s.clientWidth,o=s.clientHeight,a=0,l=0;if(n){r=n.width,o=n.height;var d=_O();(d||!d&&t==="fixed")&&(a=n.offsetLeft,l=n.offsetTop)}return{width:r,height:o,x:a+vD(e),y:l}}function BV(e){var t,i=Al(e),s=mD(e),n=(t=e.ownerDocument)==null?void 0:t.body,r=Pc(i.scrollWidth,i.clientWidth,n?n.scrollWidth:0,n?n.clientWidth:0),o=Pc(i.scrollHeight,i.clientHeight,n?n.scrollHeight:0,n?n.clientHeight:0),a=-s.scrollLeft+vD(e),l=-s.scrollTop;return oa(n||i).direction==="rtl"&&(a+=Pc(i.clientWidth,n?n.clientWidth:0)-r),{width:r,height:o,x:a,y:l}}function yD(e){var t=oa(e),i=t.overflow,s=t.overflowX,n=t.overflowY;return/auto|scroll|overlay|hidden/.test(i+n+s)}function KO(e){return["html","body","#document"].indexOf(lo(e))>=0?e.ownerDocument.body:tr(e)&&yD(e)?e:KO(uC(e))}function np(e,t){var i;t===void 0&&(t=[]);var s=KO(e),n=s===((i=e.ownerDocument)==null?void 0:i.body),r=Dn(s),o=n?[r].concat(r.visualViewport||[],yD(s)?s:[]):s,a=t.concat(o);return n?a:a.concat(np(uC(o)))}function mx(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function GV(e,t){var i=Gd(e,!1,t==="fixed");return i.top=i.top+e.clientTop,i.left=i.left+e.clientLeft,i.bottom=i.top+e.clientHeight,i.right=i.left+e.clientWidth,i.width=e.clientWidth,i.height=e.clientHeight,i.x=i.left,i.y=i.top,i}function GL(e,t,i){return t===jO?mx(zV(e,i)):$c(t)?GV(t,i):mx(BV(Al(e)))}function HV(e){var t=np(uC(e)),i=["absolute","fixed"].indexOf(oa(e).position)>=0,s=i&&tr(e)?nf(e):e;return $c(s)?t.filter(function(n){return $c(n)&&WO(n,s)&&lo(n)!=="body"}):[]}function jV(e,t,i,s){var n=t==="clippingParents"?HV(e):[].concat(t),r=[].concat(n,[i]),o=r[0],a=r.reduce(function(l,d){var h=GL(e,d,s);return l.top=Pc(h.top,l.top),l.right=ty(h.right,l.right),l.bottom=ty(h.bottom,l.bottom),l.left=Pc(h.left,l.left),l},GL(e,o,s));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}function qO(e){var t=e.reference,i=e.element,s=e.placement,n=s?so(s):null,r=s?Hd(s):null,o=t.x+t.width/2-i.width/2,a=t.y+t.height/2-i.height/2,l;switch(n){case nn:l={x:o,y:t.y-i.height};break;case ar:l={x:o,y:t.y+t.height};break;case lr:l={x:t.x+t.width,y:a};break;case rn:l={x:t.x-i.width,y:a};break;default:l={x:t.x,y:t.y}}var d=n?fD(n):null;if(d!=null){var h=d==="y"?"height":"width";switch(r){case zd:l[d]=l[d]-(t[h]/2-i[h]/2);break;case bp:l[d]=l[d]+(t[h]/2-i[h]/2);break}}return l}function Sp(e,t){t===void 0&&(t={});var i=t,s=i.placement,n=s===void 0?e.placement:s,r=i.strategy,o=r===void 0?e.strategy:r,a=i.boundary,l=a===void 0?aV:a,d=i.rootBoundary,h=d===void 0?jO:d,p=i.elementContext,f=p===void 0?Pg:p,v=i.altBoundary,y=v===void 0?!1:v,S=i.padding,w=S===void 0?0:S,b=$O(typeof w!="number"?w:YO(w,sf)),x=f===Pg?lV:Pg,D=e.rects.popper,E=e.elements[y?x:f],T=jV($c(E)?E:E.contextElement||Al(e.elements.popper),l,h,o),k=Gd(e.elements.reference),P=qO({reference:k,element:D,placement:n}),O=mx(Object.assign({},D,P)),F=f===Pg?O:k,z={top:T.top-F.top+b.top,bottom:F.bottom-T.bottom+b.bottom,left:T.left-F.left+b.left,right:F.right-T.right+b.right},V=e.modifiersData.offset;if(f===Pg&&V){var U=V[n];Object.keys(z).forEach(function(J){var ye=[lr,ar].indexOf(J)>=0?1:-1,Ce=[nn,ar].indexOf(J)>=0?"y":"x";z[J]+=U[Ce]*ye})}return z}function VV(e,t){t===void 0&&(t={});var i=t,s=i.placement,n=i.boundary,r=i.rootBoundary,o=i.padding,a=i.flipVariations,l=i.allowedAutoPlacements,d=l===void 0?VO:l,h=Hd(s),p=h?a?FL:FL.filter(function(y){return Hd(y)===h}):sf,f=p.filter(function(y){return d.indexOf(y)>=0});f.length===0&&(f=p);var v=f.reduce(function(y,S){return y[S]=Sp(e,{placement:S,boundary:n,rootBoundary:r,padding:o})[so(S)],y},{});return Object.keys(v).sort(function(y,S){return v[y]-v[S]})}function _V(e){if(so(e)===hD)return[];var t=Nv(e);return[BL(e),t,BL(t)]}function WV(e){var t=e.state,i=e.options,s=e.name;if(!t.modifiersData[s]._skip){for(var n=i.mainAxis,r=n===void 0?!0:n,o=i.altAxis,a=o===void 0?!0:o,l=i.fallbackPlacements,d=i.padding,h=i.boundary,p=i.rootBoundary,f=i.altBoundary,v=i.flipVariations,y=v===void 0?!0:v,S=i.allowedAutoPlacements,w=t.options.placement,b=so(w),x=b===w,D=l||(x||!y?[Nv(w)]:_V(w)),E=[w].concat(D).reduce(function(ee,fe){return ee.concat(so(fe)===hD?VV(t,{placement:fe,boundary:h,rootBoundary:p,padding:d,flipVariations:y,allowedAutoPlacements:S}):fe)},[]),T=t.rects.reference,k=t.rects.popper,P=new Map,O=!0,F=E[0],z=0;z<E.length;z++){var V=E[z],U=so(V),J=Hd(V)===zd,ye=[nn,ar].indexOf(U)>=0,Ce=ye?"width":"height",G=Sp(t,{placement:V,boundary:h,rootBoundary:p,altBoundary:f,padding:d}),K=ye?J?lr:rn:J?ar:nn;T[Ce]>k[Ce]&&(K=Nv(K));var ne=Nv(K),ge=[];if(r&&ge.push(G[U]<=0),a&&ge.push(G[K]<=0,G[ne]<=0),ge.every(function(ee){return ee})){F=V,O=!1;break}P.set(V,ge)}if(O)for(var B=y?3:1,_=function(fe){var ce=E.find(function(we){var de=P.get(we);if(de)return de.slice(0,fe).every(function(ue){return ue})});if(ce)return F=ce,"break"},Y=B;Y>0;Y--){var Z=_(Y);if(Z==="break")break}t.placement!==F&&(t.modifiersData[s]._skip=!0,t.placement=F,t.reset=!0)}}const UV={name:"flip",enabled:!0,phase:"main",fn:WV,requiresIfExists:["offset"],data:{_skip:!1}};function HL(e,t,i){return i===void 0&&(i={x:0,y:0}),{top:e.top-t.height-i.y,right:e.right-t.width+i.x,bottom:e.bottom-t.height+i.y,left:e.left-t.width-i.x}}function jL(e){return[nn,lr,ar,rn].some(function(t){return e[t]>=0})}function $V(e){var t=e.state,i=e.name,s=t.rects.reference,n=t.rects.popper,r=t.modifiersData.preventOverflow,o=Sp(t,{elementContext:"reference"}),a=Sp(t,{altBoundary:!0}),l=HL(o,s),d=HL(a,n,r),h=jL(l),p=jL(d);t.modifiersData[i]={referenceClippingOffsets:l,popperEscapeOffsets:d,isReferenceHidden:h,hasPopperEscaped:p},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":h,"data-popper-escaped":p})}const YV={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:$V};function KV(e,t,i){var s=so(e),n=[rn,nn].indexOf(s)>=0?-1:1,r=typeof i=="function"?i(Object.assign({},t,{placement:e})):i,o=r[0],a=r[1];return o=o||0,a=(a||0)*n,[rn,lr].indexOf(s)>=0?{x:a,y:o}:{x:o,y:a}}function qV(e){var t=e.state,i=e.options,s=e.name,n=i.offset,r=n===void 0?[0,0]:n,o=VO.reduce(function(h,p){return h[p]=KV(p,t.rects,r),h},{}),a=o[t.placement],l=a.x,d=a.y;t.modifiersData.popperOffsets!=null&&(t.modifiersData.popperOffsets.x+=l,t.modifiersData.popperOffsets.y+=d),t.modifiersData[s]=o}const ZV={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:qV};function XV(e){var t=e.state,i=e.name;t.modifiersData[i]=qO({reference:t.rects.reference,element:t.rects.popper,placement:t.placement})}const QV={name:"popperOffsets",enabled:!0,phase:"read",fn:XV,data:{}};function JV(e){return e==="x"?"y":"x"}function e_(e){var t=e.state,i=e.options,s=e.name,n=i.mainAxis,r=n===void 0?!0:n,o=i.altAxis,a=o===void 0?!1:o,l=i.boundary,d=i.rootBoundary,h=i.altBoundary,p=i.padding,f=i.tether,v=f===void 0?!0:f,y=i.tetherOffset,S=y===void 0?0:y,w=Sp(t,{boundary:l,rootBoundary:d,padding:p,altBoundary:h}),b=so(t.placement),x=Hd(t.placement),D=!x,E=fD(b),T=JV(E),k=t.modifiersData.popperOffsets,P=t.rects.reference,O=t.rects.popper,F=typeof S=="function"?S(Object.assign({},t.rects,{placement:t.placement})):S,z=typeof F=="number"?{mainAxis:F,altAxis:F}:Object.assign({mainAxis:0,altAxis:0},F),V=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,U={x:0,y:0};if(k){if(r){var J,ye=E==="y"?nn:rn,Ce=E==="y"?ar:lr,G=E==="y"?"height":"width",K=k[E],ne=K+w[ye],ge=K-w[Ce],B=v?-O[G]/2:0,_=x===zd?P[G]:O[G],Y=x===zd?-O[G]:-P[G],Z=t.elements.arrow,ee=v&&Z?pD(Z):{width:0,height:0},fe=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:UO(),ce=fe[ye],we=fe[Ce],de=sp(0,P[G],ee[G]),ue=D?P[G]/2-B-de-ce-z.mainAxis:_-de-ce-z.mainAxis,xe=D?-P[G]/2+B+de+we+z.mainAxis:Y+de+we+z.mainAxis,Ee=t.elements.arrow&&nf(t.elements.arrow),Ae=Ee?E==="y"?Ee.clientTop||0:Ee.clientLeft||0:0,He=(J=V==null?void 0:V[E])!=null?J:0,_e=K+ue-He-Ae,je=K+xe-He,Dt=sp(v?ty(ne,_e):ne,K,v?Pc(ge,je):ge);k[E]=Dt,U[E]=Dt-K}if(a){var ut,xi=E==="x"?nn:rn,Li=E==="x"?ar:lr,tt=k[T],ot=T==="y"?"height":"width",ti=tt+w[xi],_t=tt-w[Li],fr=[nn,rn].indexOf(b)!==-1,Fn=(ut=V==null?void 0:V[T])!=null?ut:0,gt=fr?ti:tt-P[ot]-O[ot]-Fn+z.altAxis,Rt=fr?tt+P[ot]+O[ot]-Fn-z.altAxis:_t,cn=v&&fr?MV(gt,tt,Rt):sp(v?gt:ti,tt,v?Rt:_t);k[T]=cn,U[T]=cn-tt}t.modifiersData[s]=U}}const t_={name:"preventOverflow",enabled:!0,phase:"main",fn:e_,requiresIfExists:["offset"]};function i_(e){return{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}}function s_(e){return e===Dn(e)||!tr(e)?mD(e):i_(e)}function n_(e){var t=e.getBoundingClientRect(),i=Bd(t.width)/e.offsetWidth||1,s=Bd(t.height)/e.offsetHeight||1;return i!==1||s!==1}function r_(e,t,i){i===void 0&&(i=!1);var s=tr(t),n=tr(t)&&n_(t),r=Al(t),o=Gd(e,n,i),a={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(s||!s&&!i)&&((lo(t)!=="body"||yD(r))&&(a=s_(t)),tr(t)?(l=Gd(t,!0),l.x+=t.clientLeft,l.y+=t.clientTop):r&&(l.x=vD(r))),{x:o.left+a.scrollLeft-l.x,y:o.top+a.scrollTop-l.y,width:o.width,height:o.height}}function o_(e){var t=new Map,i=new Set,s=[];e.forEach(function(r){t.set(r.name,r)});function n(r){i.add(r.name);var o=[].concat(r.requires||[],r.requiresIfExists||[]);o.forEach(function(a){if(!i.has(a)){var l=t.get(a);l&&n(l)}}),s.push(r)}return e.forEach(function(r){i.has(r.name)||n(r)}),s}function a_(e){var t=o_(e);return yV.reduce(function(i,s){return i.concat(t.filter(function(n){return n.phase===s}))},[])}function l_(e){var t;return function(){return t||(t=new Promise(function(i){Promise.resolve().then(function(){t=void 0,i(e())})})),t}}function c_(e){var t=e.reduce(function(i,s){var n=i[s.name];return i[s.name]=n?Object.assign({},n,s,{options:Object.assign({},n.options,s.options),data:Object.assign({},n.data,s.data)}):s,i},{});return Object.keys(t).map(function(i){return t[i]})}var VL={placement:"bottom",modifiers:[],strategy:"absolute"};function _L(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return!t.some(function(s){return!(s&&typeof s.getBoundingClientRect=="function")})}function u_(e){e===void 0&&(e={});var t=e,i=t.defaultModifiers,s=i===void 0?[]:i,n=t.defaultOptions,r=n===void 0?VL:n;return function(a,l,d){d===void 0&&(d=r);var h={placement:"bottom",orderedModifiers:[],options:Object.assign({},VL,r),modifiersData:{},elements:{reference:a,popper:l},attributes:{},styles:{}},p=[],f=!1,v={state:h,setOptions:function(b){var x=typeof b=="function"?b(h.options):b;S(),h.options=Object.assign({},r,h.options,x),h.scrollParents={reference:$c(a)?np(a):a.contextElement?np(a.contextElement):[],popper:np(l)};var D=a_(c_([].concat(s,h.options.modifiers)));return h.orderedModifiers=D.filter(function(E){return E.enabled}),y(),v.update()},forceUpdate:function(){if(!f){var b=h.elements,x=b.reference,D=b.popper;if(_L(x,D)){h.rects={reference:r_(x,nf(D),h.options.strategy==="fixed"),popper:pD(D)},h.reset=!1,h.placement=h.options.placement,h.orderedModifiers.forEach(function(z){return h.modifiersData[z.name]=Object.assign({},z.data)});for(var E=0;E<h.orderedModifiers.length;E++){if(h.reset===!0){h.reset=!1,E=-1;continue}var T=h.orderedModifiers[E],k=T.fn,P=T.options,O=P===void 0?{}:P,F=T.name;typeof k=="function"&&(h=k({state:h,options:O,name:F,instance:v})||h)}}}},update:l_(function(){return new Promise(function(w){v.forceUpdate(),w(h)})}),destroy:function(){S(),f=!0}};if(!_L(a,l))return v;v.setOptions(d).then(function(w){!f&&d.onFirstUpdate&&d.onFirstUpdate(w)});function y(){h.orderedModifiers.forEach(function(w){var b=w.name,x=w.options,D=x===void 0?{}:x,E=w.effect;if(typeof E=="function"){var T=E({state:h,name:b,instance:v,options:D}),k=function(){};p.push(T||k)}})}function S(){p.forEach(function(w){return w()}),p=[]}return v}}var d_=[OV,QV,kV,SV,ZV,UV,t_,AV,YV],h_=u_({defaultModifiers:d_}),t0,WL;function g_(){if(WL)return t0;WL=1;var e=typeof Element<"u",t=typeof Map=="function",i=typeof Set=="function",s=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function n(r,o){if(r===o)return!0;if(r&&o&&typeof r=="object"&&typeof o=="object"){if(r.constructor!==o.constructor)return!1;var a,l,d;if(Array.isArray(r)){if(a=r.length,a!=o.length)return!1;for(l=a;l--!==0;)if(!n(r[l],o[l]))return!1;return!0}var h;if(t&&r instanceof Map&&o instanceof Map){if(r.size!==o.size)return!1;for(h=r.entries();!(l=h.next()).done;)if(!o.has(l.value[0]))return!1;for(h=r.entries();!(l=h.next()).done;)if(!n(l.value[1],o.get(l.value[0])))return!1;return!0}if(i&&r instanceof Set&&o instanceof Set){if(r.size!==o.size)return!1;for(h=r.entries();!(l=h.next()).done;)if(!o.has(l.value[0]))return!1;return!0}if(s&&ArrayBuffer.isView(r)&&ArrayBuffer.isView(o)){if(a=r.length,a!=o.length)return!1;for(l=a;l--!==0;)if(r[l]!==o[l])return!1;return!0}if(r.constructor===RegExp)return r.source===o.source&&r.flags===o.flags;if(r.valueOf!==Object.prototype.valueOf&&typeof r.valueOf=="function"&&typeof o.valueOf=="function")return r.valueOf()===o.valueOf();if(r.toString!==Object.prototype.toString&&typeof r.toString=="function"&&typeof o.toString=="function")return r.toString()===o.toString();if(d=Object.keys(r),a=d.length,a!==Object.keys(o).length)return!1;for(l=a;l--!==0;)if(!Object.prototype.hasOwnProperty.call(o,d[l]))return!1;if(e&&r instanceof Element)return!1;for(l=a;l--!==0;)if(!((d[l]==="_owner"||d[l]==="__v"||d[l]==="__o")&&r.$$typeof)&&!n(r[d[l]],o[d[l]]))return!1;return!0}return r!==r&&o!==o}return t0=function(o,a){try{return n(o,a)}catch(l){if((l.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw l}},t0}var p_=g_();const f_=th(p_);var m_=[],v_=function(t,i,s){s===void 0&&(s={});var n=I.useRef(null),r={onFirstUpdate:s.onFirstUpdate,placement:s.placement||"bottom",strategy:s.strategy||"absolute",modifiers:s.modifiers||m_},o=I.useState({styles:{popper:{position:r.strategy,left:"0",top:"0"},arrow:{position:"absolute"}},attributes:{}}),a=o[0],l=o[1],d=I.useMemo(function(){return{name:"updateState",enabled:!0,phase:"write",fn:function(v){var y=v.state,S=Object.keys(y.elements);cC.flushSync(function(){l({styles:PL(S.map(function(w){return[w,y.styles[w]||{}]})),attributes:PL(S.map(function(w){return[w,y.attributes[w]]}))})})},requires:["computeStyles"]}},[]),h=I.useMemo(function(){var f={onFirstUpdate:r.onFirstUpdate,placement:r.placement,strategy:r.strategy,modifiers:[].concat(r.modifiers,[d,{name:"applyStyles",enabled:!1}])};return f_(n.current,f)?n.current||f:(n.current=f,f)},[r.onFirstUpdate,r.placement,r.strategy,r.modifiers,d]),p=I.useRef();return OL(function(){p.current&&p.current.setOptions(h)},[h]),OL(function(){if(!(t==null||i==null)){var f=s.createPopper||h_,v=f(t,i,h);return p.current=v,function(){v.destroy(),p.current=null}}},[t,i,s.createPopper]),{state:p.current?p.current.state:null,styles:a.styles,attributes:a.attributes,update:p.current?p.current.update:null,forceUpdate:p.current?p.current.forceUpdate:null}},y_=function(){},C_=function(){return Promise.resolve(null)},b_=[];function S_(e){var t=e.placement,i=t===void 0?"bottom":t,s=e.strategy,n=s===void 0?"absolute":s,r=e.modifiers,o=r===void 0?b_:r,a=e.referenceElement,l=e.onFirstUpdate,d=e.innerRef,h=e.children,p=I.useContext(zO),f=I.useState(null),v=f[0],y=f[1],S=I.useState(null),w=S[0],b=S[1];I.useEffect(function(){px(d,v)},[d,v]);var x=I.useMemo(function(){return{placement:i,strategy:n,onFirstUpdate:l,modifiers:[].concat(o,[{name:"arrow",enabled:w!=null,options:{element:w}}])}},[i,n,l,o,w]),D=v_(a||p,v,x),E=D.state,T=D.styles,k=D.forceUpdate,P=D.update,O=I.useMemo(function(){return{ref:y,style:T.popper,placement:E?E.placement:i,hasPopperEscaped:E&&E.modifiersData.hide?E.modifiersData.hide.hasPopperEscaped:null,isReferenceHidden:E&&E.modifiersData.hide?E.modifiersData.hide.isReferenceHidden:null,arrowProps:{style:T.arrow,ref:b},forceUpdate:k||y_,update:P||C_}},[y,b,i,E,T,P,k]);return GO(h)(O)}var i0,UL;function w_(){if(UL)return i0;UL=1;var e=function(){};return i0=e,i0}var x_=w_();const M_=th(x_);function D_(e){var t=e.children,i=e.innerRef,s=I.useContext(BO),n=I.useCallback(function(r){px(i,r),HO(s,r)},[i,s]);return I.useEffect(function(){return function(){return px(i,null)}},[]),I.useEffect(function(){M_(!!s,"`Reference` should not be used outside of a `Manager` component.")},[s]),GO(t)({ref:n})}var wp=Q.createContext({}),ZO=Q.createContext({});function vx(e){"@babel/helpers - typeof";return vx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vx(e)}var R_=["className","cssModule","direction","isOpen","group","size","nav","setActiveFromChild","active","tag","menuRole"];function yx(){return yx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(e[s]=i[s])}return e},yx.apply(this,arguments)}function Xa(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function E_(e,t){if(e==null)return{};var i=A_(e,t),s,n;if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(n=0;n<r.length;n++)s=r[n],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(i[s]=e[s])}return i}function A_(e,t){if(e==null)return{};var i={},s=Object.keys(e),n,r;for(r=0;r<s.length;r++)n=s[r],!(t.indexOf(n)>=0)&&(i[n]=e[n]);return i}function T_(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function I_(e,t){for(var i=0;i<t.length;i++){var s=t[i];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}function L_(e,t,i){return t&&I_(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function k_(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Cx(e,t)}function Cx(e,t){return Cx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,n){return s.__proto__=n,s},Cx(e,t)}function P_(e){var t=F_();return function(){var s=iy(e),n;if(t){var r=iy(this).constructor;n=Reflect.construct(s,arguments,r)}else n=s.apply(this,arguments);return O_(this,n)}}function O_(e,t){if(t&&(vx(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return il(e)}function il(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function F_(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function iy(e){return iy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(i){return i.__proto__||Object.getPrototypeOf(i)},iy(e)}var N_={a11y:j.bool,disabled:j.bool,direction:j.oneOf(["up","down","start","end","left","right"]),group:j.bool,isOpen:j.bool,nav:j.bool,active:j.bool,size:j.string,tag:is,toggle:j.func,children:j.node,className:j.string,cssModule:j.object,dropup:j.bool,inNavbar:j.bool,setActiveFromChild:j.bool,menuRole:j.oneOf(["listbox","menu"])},z_={a11y:!0,isOpen:!1,direction:"down",nav:!1,active:!1,inNavbar:!1,setActiveFromChild:!1},B_=[It.space,It.enter,It.up,It.down,It.end,It.home],ih=function(e){k_(i,e);var t=P_(i);function i(s){var n;return T_(this,i),n=t.call(this,s),n.addEvents=n.addEvents.bind(il(n)),n.handleDocumentClick=n.handleDocumentClick.bind(il(n)),n.handleKeyDown=n.handleKeyDown.bind(il(n)),n.removeEvents=n.removeEvents.bind(il(n)),n.toggle=n.toggle.bind(il(n)),n.handleMenuRef=n.handleMenuRef.bind(il(n)),n.handleToggleRef=n.handleToggleRef.bind(il(n)),n.containerRef=Q.createRef(),n.menuRef=Q.createRef(),n.toggleRef=Q.createRef(),n}return L_(i,[{key:"componentDidMount",value:function(){this.handleProps()}},{key:"componentDidUpdate",value:function(n){this.props.isOpen!==n.isOpen&&this.handleProps()}},{key:"componentWillUnmount",value:function(){this.removeEvents()}},{key:"handleMenuRef",value:function(n){this.menuRef.current=n}},{key:"handleToggleRef",value:function(n){this.toggleRef.current=n}},{key:"handleDocumentClick",value:function(n){if(!(n&&(n.which===3||n.type==="keyup"&&n.which!==It.tab))){var r=this.getContainer(),o=this.getMenu(),a=this.getToggle();if(a){var l=a.contains(n.target),d=o&&o.contains(n.target)&&o!==n.target,h=!1;r&&(h=r.classList.contains("input-group")&&r.classList.contains("dropdown")&&n.target.tagName==="INPUT"),!((l&&!h||d)&&(n.type!=="keyup"||n.which===It.tab))&&this.toggle(n)}}}},{key:"handleKeyDown",value:function(n){var r=this,o=n.target.getAttribute("role")==="menuitem"||n.target.getAttribute("role")==="option",a=this.getMenuCtrl()===n.target,l=It.tab===n.which;if(!(/input|textarea/i.test(n.target.tagName)||l&&!this.props.a11y||l&&!(o||a))&&((B_.indexOf(n.which)!==-1||n.which>=48&&n.which<=90)&&n.preventDefault(),!this.props.disabled)){if(a)if([It.space,It.enter,It.up,It.down].indexOf(n.which)>-1)this.props.isOpen||this.toggle(n),setTimeout(function(){var x;return(x=r.getMenuItems()[0])===null||x===void 0?void 0:x.focus()});else if(this.props.isOpen&&l){var d;n.preventDefault(),(d=this.getMenuItems()[0])===null||d===void 0||d.focus()}else this.props.isOpen&&n.which===It.esc&&this.toggle(n);if(this.props.isOpen&&o){if([It.tab,It.esc].indexOf(n.which)>-1)this.toggle(n),this.getMenuCtrl().focus();else if([It.space,It.enter].indexOf(n.which)>-1)n.target.click(),this.getMenuCtrl().focus();else if([It.down,It.up].indexOf(n.which)>-1||[It.n,It.p].indexOf(n.which)>-1&&n.ctrlKey){var h=this.getMenuItems(),p=h.indexOf(n.target);It.up===n.which||It.p===n.which&&n.ctrlKey?p=p!==0?p-1:h.length-1:(It.down===n.which||It.n===n.which&&n.ctrlKey)&&(p=p===h.length-1?0:p+1),h[p].focus()}else if(It.end===n.which){var f=this.getMenuItems();f[f.length-1].focus()}else if(It.home===n.which){var v=this.getMenuItems();v[0].focus()}else if(n.which>=48&&n.which<=90)for(var y=this.getMenuItems(),S=String.fromCharCode(n.which).toLowerCase(),w=0;w<y.length;w+=1){var b=y[w].textContent&&y[w].textContent[0].toLowerCase();if(b===S){y[w].focus();break}}}}}},{key:"handleProps",value:function(){this.props.isOpen?this.addEvents():this.removeEvents()}},{key:"getContextValue",value:function(){return{toggle:this.toggle,isOpen:this.props.isOpen,direction:this.props.direction==="down"&&this.props.dropup?"up":this.props.direction,inNavbar:this.props.inNavbar,disabled:this.props.disabled,onMenuRef:this.handleMenuRef,onToggleRef:this.handleToggleRef,menuRole:this.props.menuRole}}},{key:"getContainer",value:function(){return this.containerRef.current}},{key:"getMenu",value:function(){return this.menuRef.current}},{key:"getToggle",value:function(){return this.toggleRef.current}},{key:"getMenuCtrl",value:function(){return this._$menuCtrl?this._$menuCtrl:(this._$menuCtrl=this.getToggle(),this._$menuCtrl)}},{key:"getItemType",value:function(){return this.props.menuRole==="listbox"?"option":"menuitem"}},{key:"getMenuItems",value:function(){var n=this.getMenu()||this.getContainer();return[].slice.call(n.querySelectorAll('[role="'.concat(this.getItemType(),'"]')))}},{key:"addEvents",value:function(){var n=this;["click","touchstart","keyup"].forEach(function(r){return document.addEventListener(r,n.handleDocumentClick,!0)})}},{key:"removeEvents",value:function(){var n=this;["click","touchstart","keyup"].forEach(function(r){return document.removeEventListener(r,n.handleDocumentClick,!0)})}},{key:"toggle",value:function(n){return this.props.disabled?n&&n.preventDefault():this.props.toggle(n)}},{key:"render",value:function(){var n,r=this,o=lC(this.props,["toggle","disabled","inNavbar","a11y"]),a=o.className,l=o.cssModule,d=o.direction,h=o.isOpen,p=o.group,f=o.size,v=o.nav,y=o.setActiveFromChild,S=o.active,w=o.tag;o.menuRole;var b=E_(o,R_),x=w||(v?"li":"div"),D=!1;y&&Q.Children.map(this.props.children[1].props.children,function(T){T&&T.props.active&&(D=!0)});var E=Lt(Qt(a,v&&S?"active":!1,y&&D?"active":!1,(n={"btn-group":p},Xa(n,"btn-group-".concat(f),!!f),Xa(n,"dropdown",!p),Xa(n,"dropup",d==="up"),Xa(n,"dropstart",d==="start"||d==="left"),Xa(n,"dropend",d==="end"||d==="right"),Xa(n,"show",h),Xa(n,"nav-item",v),n)),l);return this.context.insideInputGroup?Q.createElement(wp.Provider,{value:this.getContextValue()},Q.createElement(kL,null,Q.Children.map(this.props.children,function(T){return Q.cloneElement(T,{onKeyDown:r.handleKeyDown})}))):Q.createElement(wp.Provider,{value:this.getContextValue()},Q.createElement(kL,null,Q.createElement(x,yx({},b,Xa({},typeof x=="string"?"ref":"innerRef",this.containerRef),{onKeyDown:this.handleKeyDown,className:E}))))}}]),i}(Q.Component);ih.propTypes=N_;ih.defaultProps=z_;ih.contextType=ZO;function bx(e){"@babel/helpers - typeof";return bx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bx(e)}var G_=["className","cssModule","divider","tag","header","active","text"];function Sx(){return Sx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(e[s]=i[s])}return e},Sx.apply(this,arguments)}function H_(e,t){if(e==null)return{};var i=j_(e,t),s,n;if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(n=0;n<r.length;n++)s=r[n],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(i[s]=e[s])}return i}function j_(e,t){if(e==null)return{};var i={},s=Object.keys(e),n,r;for(r=0;r<s.length;r++)n=s[r],!(t.indexOf(n)>=0)&&(i[n]=e[n]);return i}function V_(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function __(e,t){for(var i=0;i<t.length;i++){var s=t[i];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}function W_(e,t,i){return t&&__(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function U_(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&wx(e,t)}function wx(e,t){return wx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,n){return s.__proto__=n,s},wx(e,t)}function $_(e){var t=K_();return function(){var s=sy(e),n;if(t){var r=sy(this).constructor;n=Reflect.construct(s,arguments,r)}else n=s.apply(this,arguments);return Y_(this,n)}}function Y_(e,t){if(t&&(bx(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return xx(e)}function xx(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function K_(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function sy(e){return sy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(i){return i.__proto__||Object.getPrototypeOf(i)},sy(e)}var q_={children:j.node,active:j.bool,disabled:j.bool,divider:j.bool,tag:is,header:j.bool,onClick:j.func,className:j.string,cssModule:j.object,toggle:j.bool,text:j.bool},Oc=function(e){U_(i,e);var t=$_(i);function i(s){var n;return V_(this,i),n=t.call(this,s),n.onClick=n.onClick.bind(xx(n)),n.getTabIndex=n.getTabIndex.bind(xx(n)),n}return W_(i,[{key:"onClick",value:function(n){var r,o=this.props,a=o.disabled,l=o.header,d=o.divider,h=o.text;if(a||l||d||h){n.preventDefault();return}this.props.onClick&&this.props.onClick(n),(!((r=this.props.toggle)!==null&&r!==void 0)||r)&&this.context.toggle(n)}},{key:"getRole",value:function(){return this.context.menuRole==="listbox"?"option":"menuitem"}},{key:"getTabIndex",value:function(){var n=this.props,r=n.disabled,o=n.header,a=n.divider,l=n.text;return r||o||a||l?"-1":"0"}},{key:"render",value:function(){var n=this.getTabIndex(),r=n>-1?this.getRole():void 0,o=lC(this.props,["toggle"]),a=o.className,l=o.cssModule,d=o.divider,h=o.tag,p=h===void 0?"button":h,f=o.header,v=o.active,y=o.text,S=H_(o,G_),w=Lt(Qt(a,{disabled:S.disabled,"dropdown-item":!d&&!f&&!y,active:v,"dropdown-header":f,"dropdown-divider":d,"dropdown-item-text":y}),l);return p==="button"&&(f?p="h6":d?p="div":S.href?p="a":y&&(p="span")),Q.createElement(p,Sx({type:p==="button"&&(S.onClick||this.props.toggle)?"button":void 0},S,{tabIndex:n,role:r,className:w,onClick:this.onClick}))}}]),i}(Q.Component);Oc.propTypes=q_;Oc.contextType=wp;function Mx(e){"@babel/helpers - typeof";return Mx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Mx(e)}var Z_=["className","cssModule","dark","end","right","tag","flip","modifiers","persist","strategy","container","updateOnSelect"];function ny(){return ny=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(e[s]=i[s])}return e},ny.apply(this,arguments)}function $L(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),i.push.apply(i,s)}return i}function s0(e){for(var t=1;t<arguments.length;t++){var i=arguments[t]!=null?arguments[t]:{};t%2?$L(Object(i),!0).forEach(function(s){X_(e,s,i[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):$L(Object(i)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(i,s))})}return e}function X_(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function Q_(e){return i6(e)||t6(e)||e6(e)||J_()}function J_(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function e6(e,t){if(e){if(typeof e=="string")return Dx(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);if(i==="Object"&&e.constructor&&(i=e.constructor.name),i==="Map"||i==="Set")return Array.from(e);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return Dx(e,t)}}function t6(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function i6(e){if(Array.isArray(e))return Dx(e)}function Dx(e,t){(t==null||t>e.length)&&(t=e.length);for(var i=0,s=new Array(t);i<t;i++)s[i]=e[i];return s}function s6(e,t){if(e==null)return{};var i=n6(e,t),s,n;if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(n=0;n<r.length;n++)s=r[n],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(i[s]=e[s])}return i}function n6(e,t){if(e==null)return{};var i={},s=Object.keys(e),n,r;for(r=0;r<s.length;r++)n=s[r],!(t.indexOf(n)>=0)&&(i[n]=e[n]);return i}function r6(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o6(e,t){for(var i=0;i<t.length;i++){var s=t[i];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}function a6(e,t,i){return t&&o6(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function l6(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Rx(e,t)}function Rx(e,t){return Rx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,n){return s.__proto__=n,s},Rx(e,t)}function c6(e){var t=h6();return function(){var s=ry(e),n;if(t){var r=ry(this).constructor;n=Reflect.construct(s,arguments,r)}else n=s.apply(this,arguments);return u6(this,n)}}function u6(e,t){if(t&&(Mx(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return d6(e)}function d6(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function h6(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function ry(e){return ry=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(i){return i.__proto__||Object.getPrototypeOf(i)},ry(e)}var g6={tag:is,children:j.node.isRequired,dark:j.bool,end:j.bool,flip:j.bool,modifiers:j.array,className:j.string,cssModule:j.object,style:j.object,persist:j.bool,strategy:j.string,container:LO,updateOnSelect:j.bool,right:Pj(j.bool,'Please use "end" instead.')},p6={up:"top",left:"left",right:"right",start:"left",end:"right",down:"bottom"},dC=function(e){l6(i,e);var t=c6(i);function i(){return r6(this,i),t.apply(this,arguments)}return a6(i,[{key:"getRole",value:function(){return this.context.menuRole==="listbox"?"listbox":"menu"}},{key:"render",value:function(){var n=this,r=this.props,o=r.className,a=r.cssModule,l=r.dark,d=r.end,h=r.right,p=r.tag,f=p===void 0?"div":p,v=r.flip,y=v===void 0?!0:v,S=r.modifiers,w=S===void 0?[]:S,b=r.persist,x=r.strategy,D=r.container,E=r.updateOnSelect,T=s6(r,Z_),k=Lt(Qt(o,"dropdown-menu",{"dropdown-menu-dark":l,"dropdown-menu-end":d||h,show:this.context.isOpen}),a),P=f;if(b||this.context.isOpen&&!this.context.inNavbar){var O=p6[this.context.direction]||"bottom",F=d||h?"end":"start",z="".concat(O,"-").concat(F),V=[].concat(Q_(w),[{name:"flip",enabled:!!y}]),U={};b&&(U.display="block",U.visibility=this.context.isOpen?"visible":"hidden");var J=Q.createElement(S_,{placement:z,modifiers:V,strategy:x},function(Ce){var G=Ce.ref,K=Ce.style,ne=Ce.placement,ge=Ce.update,B=s0(s0(s0({},n.props.style),U),K),_=function(Z){G(Z);var ee=n.context.onMenuRef;ee&&ee(Z)};return Q.createElement(P,ny({tabIndex:"-1",role:n.getRole(),ref:_},T,{style:B,"aria-hidden":!n.context.isOpen,className:k,"data-popper-placement":ne,onClick:function(){return E&&ge()}}))});return D?Tc.createPortal(J,PO(D)):J}var ye=this.context.onMenuRef;return Q.createElement(P,ny({tabIndex:"-1",role:this.getRole()},T,{ref:ye,"aria-hidden":!this.context.isOpen,className:k,"data-popper-placement":T.placement,"data-bs-popper":"static"}))}}]),i}(Q.Component);dC.propTypes=g6;dC.contextType=wp;function Ex(e){"@babel/helpers - typeof";return Ex=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ex(e)}var f6=["className","color","cssModule","caret","split","nav","tag","innerRef"];function Ax(){return Ax=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(e[s]=i[s])}return e},Ax.apply(this,arguments)}function m6(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function v6(e,t){if(e==null)return{};var i=y6(e,t),s,n;if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(n=0;n<r.length;n++)s=r[n],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(i[s]=e[s])}return i}function y6(e,t){if(e==null)return{};var i={},s=Object.keys(e),n,r;for(r=0;r<s.length;r++)n=s[r],!(t.indexOf(n)>=0)&&(i[n]=e[n]);return i}function C6(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function b6(e,t){for(var i=0;i<t.length;i++){var s=t[i];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}function S6(e,t,i){return t&&b6(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function w6(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Tx(e,t)}function Tx(e,t){return Tx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,n){return s.__proto__=n,s},Tx(e,t)}function x6(e){var t=D6();return function(){var s=oy(e),n;if(t){var r=oy(this).constructor;n=Reflect.construct(s,arguments,r)}else n=s.apply(this,arguments);return M6(this,n)}}function M6(e,t){if(t&&(Ex(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return XO(e)}function XO(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function D6(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function oy(e){return oy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(i){return i.__proto__||Object.getPrototypeOf(i)},oy(e)}var R6={caret:j.bool,color:j.string,children:j.node,className:j.string,cssModule:j.object,disabled:j.bool,onClick:j.func,"aria-haspopup":j.bool,split:j.bool,tag:is,nav:j.bool,innerRef:j.oneOfType([j.object,j.string,j.func])},E6={color:"secondary","aria-haspopup":!0},rf=function(e){w6(i,e);var t=x6(i);function i(s){var n;return C6(this,i),n=t.call(this,s),n.onClick=n.onClick.bind(XO(n)),n}return S6(i,[{key:"onClick",value:function(n){if(this.props.disabled||this.context.disabled){n.preventDefault();return}this.props.nav&&!this.props.tag&&n.preventDefault(),this.props.onClick&&this.props.onClick(n),this.context.toggle(n)}},{key:"getRole",value:function(){return this.context.menuRole||this.props["aria-haspopup"]}},{key:"render",value:function(){var n=this,r=this.props,o=r.className,a=r.color,l=r.cssModule,d=r.caret,h=r.split,p=r.nav,f=r.tag,v=r.innerRef,y=v6(r,f6),S=y["aria-label"]||"Toggle Dropdown",w=Lt(Qt(o,{"dropdown-toggle":d||h,"dropdown-toggle-split":h,"nav-link":p}),l),b=typeof y.children<"u"?y.children:Q.createElement("span",{className:"visually-hidden"},S),x;p&&!f?(x="a",y.href="#"):f?x=f:(x=ra,y.color=a,y.cssModule=l);var D=function(T){var k=T.ref,P=function(F){k(F);var z=n.context.onToggleRef;z&&z(F)};return Q.createElement(x,Ax({},y,m6({},typeof x=="string"?"ref":"innerRef",P),{className:w,onClick:n.onClick,"aria-expanded":n.context.isOpen,"aria-haspopup":n.getRole(),children:b}))};return this.context.inNavbar?Q.createElement(Q.Fragment,null,D({ref:this.context.onToggleRef})):Q.createElement(D_,{innerRef:v},D)}}]),i}(Q.Component);rf.propTypes=R6;rf.defaultProps=E6;rf.contextType=wp;function A6(e,t){if(e==null)return{};var i={};for(var s in e)if({}.hasOwnProperty.call(e,s)){if(t.indexOf(s)!==-1)continue;i[s]=e[s]}return i}function Ix(e,t){return Ix=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(i,s){return i.__proto__=s,i},Ix(e,t)}function T6(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,Ix(e,t)}const YL={disabled:!1},QO=Q.createContext(null);var I6=function(t){return t.scrollTop},Kg="unmounted",yc="exited",Cc="entering",ud="entered",Lx="exiting",Br=function(e){T6(t,e);function t(s,n){var r;r=e.call(this,s,n)||this;var o=n,a=o&&!o.isMounting?s.enter:s.appear,l;return r.appearStatus=null,s.in?a?(l=yc,r.appearStatus=Cc):l=ud:s.unmountOnExit||s.mountOnEnter?l=Kg:l=yc,r.state={status:l},r.nextCallback=null,r}t.getDerivedStateFromProps=function(n,r){var o=n.in;return o&&r.status===Kg?{status:yc}:null};var i=t.prototype;return i.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},i.componentDidUpdate=function(n){var r=null;if(n!==this.props){var o=this.state.status;this.props.in?o!==Cc&&o!==ud&&(r=Cc):(o===Cc||o===ud)&&(r=Lx)}this.updateStatus(!1,r)},i.componentWillUnmount=function(){this.cancelNextCallback()},i.getTimeouts=function(){var n=this.props.timeout,r,o,a;return r=o=a=n,n!=null&&typeof n!="number"&&(r=n.exit,o=n.enter,a=n.appear!==void 0?n.appear:o),{exit:r,enter:o,appear:a}},i.updateStatus=function(n,r){if(n===void 0&&(n=!1),r!==null)if(this.cancelNextCallback(),r===Cc){if(this.props.unmountOnExit||this.props.mountOnEnter){var o=this.props.nodeRef?this.props.nodeRef.current:Tc.findDOMNode(this);o&&I6(o)}this.performEnter(n)}else this.performExit();else this.props.unmountOnExit&&this.state.status===yc&&this.setState({status:Kg})},i.performEnter=function(n){var r=this,o=this.props.enter,a=this.context?this.context.isMounting:n,l=this.props.nodeRef?[a]:[Tc.findDOMNode(this),a],d=l[0],h=l[1],p=this.getTimeouts(),f=a?p.appear:p.enter;if(!n&&!o||YL.disabled){this.safeSetState({status:ud},function(){r.props.onEntered(d)});return}this.props.onEnter(d,h),this.safeSetState({status:Cc},function(){r.props.onEntering(d,h),r.onTransitionEnd(f,function(){r.safeSetState({status:ud},function(){r.props.onEntered(d,h)})})})},i.performExit=function(){var n=this,r=this.props.exit,o=this.getTimeouts(),a=this.props.nodeRef?void 0:Tc.findDOMNode(this);if(!r||YL.disabled){this.safeSetState({status:yc},function(){n.props.onExited(a)});return}this.props.onExit(a),this.safeSetState({status:Lx},function(){n.props.onExiting(a),n.onTransitionEnd(o.exit,function(){n.safeSetState({status:yc},function(){n.props.onExited(a)})})})},i.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},i.safeSetState=function(n,r){r=this.setNextCallback(r),this.setState(n,r)},i.setNextCallback=function(n){var r=this,o=!0;return this.nextCallback=function(a){o&&(o=!1,r.nextCallback=null,n(a))},this.nextCallback.cancel=function(){o=!1},this.nextCallback},i.onTransitionEnd=function(n,r){this.setNextCallback(r);var o=this.props.nodeRef?this.props.nodeRef.current:Tc.findDOMNode(this),a=n==null&&!this.props.addEndListener;if(!o||a){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var l=this.props.nodeRef?[this.nextCallback]:[o,this.nextCallback],d=l[0],h=l[1];this.props.addEndListener(d,h)}n!=null&&setTimeout(this.nextCallback,n)},i.render=function(){var n=this.state.status;if(n===Kg)return null;var r=this.props,o=r.children;r.in,r.mountOnEnter,r.unmountOnExit,r.appear,r.enter,r.exit,r.timeout,r.addEndListener,r.onEnter,r.onEntering,r.onEntered,r.onExit,r.onExiting,r.onExited,r.nodeRef;var a=A6(r,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return Q.createElement(QO.Provider,{value:null},typeof o=="function"?o(n,a):Q.cloneElement(Q.Children.only(o),a))},t}(Q.Component);Br.contextType=QO;Br.propTypes={};function id(){}Br.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:id,onEntering:id,onEntered:id,onExit:id,onExiting:id,onExited:id};Br.UNMOUNTED=Kg;Br.EXITED=yc;Br.ENTERING=Cc;Br.ENTERED=ud;Br.EXITING=Lx;var L6=["tag","baseClass","baseClassActive","className","cssModule","children","innerRef"];function ay(){return ay=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(e[s]=i[s])}return e},ay.apply(this,arguments)}function k6(e,t){if(e==null)return{};var i=P6(e,t),s,n;if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(n=0;n<r.length;n++)s=r[n],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(i[s]=e[s])}return i}function P6(e,t){if(e==null)return{};var i={},s=Object.keys(e),n,r;for(r=0;r<s.length;r++)n=s[r],!(t.indexOf(n)>=0)&&(i[n]=e[n]);return i}function KL(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),i.push.apply(i,s)}return i}function xp(e){for(var t=1;t<arguments.length;t++){var i=arguments[t]!=null?arguments[t]:{};t%2?KL(Object(i),!0).forEach(function(s){O6(e,s,i[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):KL(Object(i)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(i,s))})}return e}function O6(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var F6=xp(xp({},Br.propTypes),{},{children:j.oneOfType([j.arrayOf(j.node),j.node]),tag:is,baseClass:j.string,baseClassActive:j.string,className:j.string,cssModule:j.object,innerRef:j.oneOfType([j.object,j.string,j.func])}),qL=xp(xp({},Br.defaultProps),{},{timeout:lx.Fade,appear:!0,enter:!0,exit:!0,in:!0});function vd(e){var t=I.useRef(null),i=OO(qL,e),s=i.tag,n=s===void 0?"div":s,r=i.baseClass,o=r===void 0?"fade":r,a=i.baseClassActive,l=a===void 0?"show":a,d=i.className,h=i.cssModule,p=i.children,f=i.innerRef,v=f===void 0?t:f,y=k6(i,L6),S=kj(xp({defaultProps:qL},y),IL),w=lC(y,IL);return Q.createElement(Br,ay({nodeRef:v},S),function(b){var x=b==="entered",D=Lt(Qt(d,o,x&&l),h);return Q.createElement(n,ay({className:D},w,{ref:v}),p)})}vd.propTypes=F6;function kx(e){"@babel/helpers - typeof";return kx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},kx(e)}function N6(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function z6(e,t){for(var i=0;i<t.length;i++){var s=t[i];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}function B6(e,t,i){return t&&z6(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function G6(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Px(e,t)}function Px(e,t){return Px=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,n){return s.__proto__=n,s},Px(e,t)}function H6(e){var t=_6();return function(){var s=ly(e),n;if(t){var r=ly(this).constructor;n=Reflect.construct(s,arguments,r)}else n=s.apply(this,arguments);return j6(this,n)}}function j6(e,t){if(t&&(kx(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return V6(e)}function V6(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _6(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function ly(e){return ly=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(i){return i.__proto__||Object.getPrototypeOf(i)},ly(e)}var W6={children:j.node.isRequired,node:j.any},JO=function(e){G6(i,e);var t=H6(i);function i(){return N6(this,i),t.apply(this,arguments)}return B6(i,[{key:"componentWillUnmount",value:function(){this.defaultNode&&document.body.removeChild(this.defaultNode),this.defaultNode=null}},{key:"render",value:function(){return dD?(!this.props.node&&!this.defaultNode&&(this.defaultNode=document.createElement("div"),document.body.appendChild(this.defaultNode)),Tc.createPortal(this.props.children,this.props.node||this.defaultNode)):null}}]),i}(Q.Component);JO.propTypes=W6;function Ox(e){"@babel/helpers - typeof";return Ox=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ox(e)}function ZL(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),i.push.apply(i,s)}return i}function sd(e){for(var t=1;t<arguments.length;t++){var i=arguments[t]!=null?arguments[t]:{};t%2?ZL(Object(i),!0).forEach(function(s){dd(e,s,i[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):ZL(Object(i)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(i,s))})}return e}function rp(){return rp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(e[s]=i[s])}return e},rp.apply(this,arguments)}function dd(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function U6(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function $6(e,t){for(var i=0;i<t.length;i++){var s=t[i];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}function Y6(e,t,i){return t&&$6(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function K6(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Fx(e,t)}function Fx(e,t){return Fx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,n){return s.__proto__=n,s},Fx(e,t)}function q6(e){var t=X6();return function(){var s=cy(e),n;if(t){var r=cy(this).constructor;n=Reflect.construct(s,arguments,r)}else n=s.apply(this,arguments);return Z6(this,n)}}function Z6(e,t){if(t&&(Ox(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Un(e)}function Un(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function X6(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function cy(e){return cy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(i){return i.__proto__||Object.getPrototypeOf(i)},cy(e)}function uy(){}var XL=j.shape(vd.propTypes),eF={autoFocus:j.bool,backdrop:j.oneOfType([j.bool,j.oneOf(["static"])]),backdropClassName:j.string,backdropTransition:XL,centered:j.bool,children:j.node,contentClassName:j.string,className:j.string,container:LO,cssModule:j.object,external:j.node,fade:j.bool,fullscreen:j.oneOfType([j.bool,j.oneOf(["sm","md","lg","xl"])]),innerRef:j.oneOfType([j.object,j.string,j.func]),isOpen:j.bool,keyboard:j.bool,labelledBy:j.string,modalClassName:j.string,modalTransition:XL,onClosed:j.func,onEnter:j.func,onExit:j.func,onOpened:j.func,returnFocusAfterClose:j.bool,role:j.string,scrollable:j.bool,size:j.string,toggle:j.func,trapFocus:j.bool,unmountOnClose:j.bool,wrapClassName:j.string,zIndex:j.oneOfType([j.number,j.string])},Q6=Object.keys(eF),J6={isOpen:!1,autoFocus:!0,centered:!1,scrollable:!1,role:"dialog",backdrop:!0,keyboard:!0,zIndex:1050,fade:!0,onOpened:uy,onClosed:uy,modalTransition:{timeout:lx.Modal},backdropTransition:{mountOnEnter:!0,timeout:lx.Fade},unmountOnClose:!0,returnFocusAfterClose:!0,container:"body",trapFocus:!1},iu=function(e){K6(i,e);var t=q6(i);function i(s){var n;return U6(this,i),n=t.call(this,s),n._element=null,n._originalBodyPadding=null,n.getFocusableChildren=n.getFocusableChildren.bind(Un(n)),n.handleBackdropClick=n.handleBackdropClick.bind(Un(n)),n.handleBackdropMouseDown=n.handleBackdropMouseDown.bind(Un(n)),n.handleEscape=n.handleEscape.bind(Un(n)),n.handleStaticBackdropAnimation=n.handleStaticBackdropAnimation.bind(Un(n)),n.handleTab=n.handleTab.bind(Un(n)),n.onOpened=n.onOpened.bind(Un(n)),n.onClosed=n.onClosed.bind(Un(n)),n.manageFocusAfterClose=n.manageFocusAfterClose.bind(Un(n)),n.clearBackdropAnimationTimeout=n.clearBackdropAnimationTimeout.bind(Un(n)),n.trapFocus=n.trapFocus.bind(Un(n)),n.state={isOpen:!1,showStaticBackdropAnimation:!1},n}return Y6(i,[{key:"componentDidMount",value:function(){var n=this.props,r=n.isOpen,o=n.autoFocus,a=n.onEnter;r&&(this.init(),this.setState({isOpen:!0}),o&&this.setFocus()),a&&a(),document.addEventListener("focus",this.trapFocus,!0),this._isMounted=!0}},{key:"componentDidUpdate",value:function(n,r){if(this.props.isOpen&&!n.isOpen){this.init(),this.setState({isOpen:!0});return}this.props.autoFocus&&this.state.isOpen&&!r.isOpen&&this.setFocus(),this._element&&n.zIndex!==this.props.zIndex&&(this._element.style.zIndex=this.props.zIndex)}},{key:"componentWillUnmount",value:function(){this.clearBackdropAnimationTimeout(),this.props.onExit&&this.props.onExit(),this._element&&(this.destroy(),(this.props.isOpen||this.state.isOpen)&&this.close()),document.removeEventListener("focus",this.trapFocus,!0),this._isMounted=!1}},{key:"handleBackdropClick",value:function(n){if(n.target===this._mouseDownElement){n.stopPropagation();var r=this._dialog?this._dialog.parentNode:null;if(r&&n.target===r&&this.props.backdrop==="static"&&this.handleStaticBackdropAnimation(),!this.props.isOpen||this.props.backdrop!==!0)return;r&&n.target===r&&this.props.toggle&&this.props.toggle(n)}}},{key:"handleTab",value:function(n){if(n.which===9&&!(this.modalIndex<i.openCount-1)){var r=this.getFocusableChildren(),o=r.length;if(o!==0){for(var a=this.getFocusedChild(),l=0,d=0;d<o;d+=1)if(r[d]===a){l=d;break}n.shiftKey&&l===0?(n.preventDefault(),r[o-1].focus()):!n.shiftKey&&l===o-1&&(n.preventDefault(),r[0].focus())}}}},{key:"handleBackdropMouseDown",value:function(n){this._mouseDownElement=n.target}},{key:"handleEscape",value:function(n){this.props.isOpen&&n.keyCode===It.esc&&this.props.toggle&&(this.props.keyboard?(n.preventDefault(),n.stopPropagation(),this.props.toggle(n)):this.props.backdrop==="static"&&(n.preventDefault(),n.stopPropagation(),this.handleStaticBackdropAnimation()))}},{key:"handleStaticBackdropAnimation",value:function(){var n=this;this.clearBackdropAnimationTimeout(),this.setState({showStaticBackdropAnimation:!0}),this._backdropAnimationTimeout=setTimeout(function(){n.setState({showStaticBackdropAnimation:!1})},100)}},{key:"onOpened",value:function(n,r){this.props.onOpened(),(this.props.modalTransition.onEntered||uy)(n,r)}},{key:"onClosed",value:function(n){var r=this.props.unmountOnClose;this.props.onClosed(),(this.props.modalTransition.onExited||uy)(n),r&&this.destroy(),this.close(),this._isMounted&&this.setState({isOpen:!1})}},{key:"setFocus",value:function(){this._dialog&&this._dialog.parentNode&&typeof this._dialog.parentNode.focus=="function"&&this._dialog.parentNode.focus()}},{key:"getFocusableChildren",value:function(){return this._element.querySelectorAll(jj.join(", "))}},{key:"getFocusedChild",value:function(){var n,r=this.getFocusableChildren();try{n=document.activeElement}catch{n=r[0]}return n}},{key:"trapFocus",value:function(n){if(this.props.trapFocus&&this._element&&!(this._dialog&&this._dialog.parentNode===n.target)&&!(this.modalIndex<i.openCount-1)){for(var r=this.getFocusableChildren(),o=0;o<r.length;o+=1)if(r[o]===n.target)return;r.length>0&&(n.preventDefault(),n.stopPropagation(),r[0].focus())}}},{key:"init",value:function(){try{this._triggeringElement=document.activeElement}catch{this._triggeringElement=null}this._element||(this._element=document.createElement("div"),this._element.setAttribute("tabindex","-1"),this._element.style.position="relative",this._element.style.zIndex=this.props.zIndex,this._mountContainer=PO(this.props.container),this._mountContainer.appendChild(this._element)),this._originalBodyPadding=Tj(),i.openCount<1&&(i.originalBodyOverflow=window.getComputedStyle(document.body).overflow),Ij(),i.openCount===0&&(document.body.className=Qt(document.body.className,Lt("modal-open",this.props.cssModule)),document.body.style.overflow="hidden"),this.modalIndex=i.openCount,i.openCount+=1}},{key:"destroy",value:function(){this._element&&(this._mountContainer.removeChild(this._element),this._element=null),this.manageFocusAfterClose()}},{key:"manageFocusAfterClose",value:function(){if(this._triggeringElement){var n=this.props.returnFocusAfterClose;this._triggeringElement.focus&&n&&this._triggeringElement.focus(),this._triggeringElement=null}}},{key:"close",value:function(){if(i.openCount<=1){var n=Lt("modal-open",this.props.cssModule),r=new RegExp("(^| )".concat(n,"( |$)"));document.body.className=document.body.className.replace(r," ").trim(),document.body.style.overflow=i.originalBodyOverflow}this.manageFocusAfterClose(),i.openCount=Math.max(0,i.openCount-1),IO(this._originalBodyPadding)}},{key:"clearBackdropAnimationTimeout",value:function(){this._backdropAnimationTimeout&&(clearTimeout(this._backdropAnimationTimeout),this._backdropAnimationTimeout=void 0)}},{key:"renderModalDialog",value:function(){var n,r=this,o=lC(this.props,Q6),a="modal-dialog";return Q.createElement("div",rp({},o,{className:Lt(Qt(a,this.props.className,(n={},dd(n,"modal-".concat(this.props.size),this.props.size),dd(n,"".concat(a,"-centered"),this.props.centered),dd(n,"".concat(a,"-scrollable"),this.props.scrollable),dd(n,"modal-fullscreen",this.props.fullscreen===!0),dd(n,"modal-fullscreen-".concat(this.props.fullscreen,"-down"),typeof this.props.fullscreen=="string"),n)),this.props.cssModule),role:"document",ref:function(d){r._dialog=d}}),Q.createElement("div",{className:Lt(Qt("modal-content",this.props.contentClassName),this.props.cssModule)},this.props.children))}},{key:"render",value:function(){var n=this.props.unmountOnClose;if(this._element&&(this.state.isOpen||!n)){var r=!!this._element&&!this.state.isOpen&&!n;this._element.style.display=r?"none":"block";var o=this.props,a=o.wrapClassName,l=o.modalClassName,d=o.backdropClassName,h=o.cssModule,p=o.isOpen,f=o.backdrop,v=o.role,y=o.labelledBy,S=o.external,w=o.innerRef,b={onClick:this.handleBackdropClick,onMouseDown:this.handleBackdropMouseDown,onKeyUp:this.handleEscape,onKeyDown:this.handleTab,style:{display:"block"},"aria-labelledby":y,"aria-modal":!0,role:v,tabIndex:"-1"},x=this.props.fade,D=sd(sd(sd({},vd.defaultProps),this.props.modalTransition),{},{baseClass:x?this.props.modalTransition.baseClass:"",timeout:x?this.props.modalTransition.timeout:0}),E=sd(sd(sd({},vd.defaultProps),this.props.backdropTransition),{},{baseClass:x?this.props.backdropTransition.baseClass:"",timeout:x?this.props.backdropTransition.timeout:0}),T=f&&(x?Q.createElement(vd,rp({},E,{in:p&&!!f,cssModule:h,className:Lt(Qt("modal-backdrop",d),h)})):Q.createElement("div",{className:Lt(Qt("modal-backdrop","show",d),h)}));return Q.createElement(JO,{node:this._element},Q.createElement("div",{className:Lt(a)},Q.createElement(vd,rp({},b,D,{in:p,onEntered:this.onOpened,onExited:this.onClosed,cssModule:h,className:Lt(Qt("modal",l,this.state.showStaticBackdropAnimation&&"modal-static"),h),innerRef:w}),S,this.renderModalDialog()),T))}return null}}]),i}(Q.Component);iu.propTypes=eF;iu.defaultProps=J6;iu.openCount=0;iu.originalBodyOverflow=null;var eW=["className","cssModule","children","toggle","tag","wrapTag","closeAriaLabel","close"];function Nx(){return Nx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(e[s]=i[s])}return e},Nx.apply(this,arguments)}function tW(e,t){if(e==null)return{};var i=iW(e,t),s,n;if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(n=0;n<r.length;n++)s=r[n],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(i[s]=e[s])}return i}function iW(e,t){if(e==null)return{};var i={},s=Object.keys(e),n,r;for(r=0;r<s.length;r++)n=s[r],!(t.indexOf(n)>=0)&&(i[n]=e[n]);return i}var sW={children:j.node,className:j.string,close:j.object,closeAriaLabel:j.string,cssModule:j.object,tag:is,toggle:j.func,wrapTag:is};function hC(e){var t,i=e.className,s=e.cssModule,n=e.children,r=e.toggle,o=e.tag,a=o===void 0?"h5":o,l=e.wrapTag,d=l===void 0?"div":l,h=e.closeAriaLabel,p=h===void 0?"Close":h,f=e.close,v=tW(e,eW),y=Lt(Qt(i,"modal-header"),s);return!f&&r&&(t=Q.createElement("button",{type:"button",onClick:r,className:Lt("btn-close",s),"aria-label":p})),Q.createElement(d,Nx({},v,{className:y}),Q.createElement(a,{className:Lt("modal-title",s)},n),f||t)}hC.propTypes=sW;var nW=["className","cssModule","tag"];function zx(){return zx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(e[s]=i[s])}return e},zx.apply(this,arguments)}function rW(e,t){if(e==null)return{};var i=oW(e,t),s,n;if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(n=0;n<r.length;n++)s=r[n],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(i[s]=e[s])}return i}function oW(e,t){if(e==null)return{};var i={},s=Object.keys(e),n,r;for(r=0;r<s.length;r++)n=s[r],!(t.indexOf(n)>=0)&&(i[n]=e[n]);return i}var aW={className:j.string,cssModule:j.object,tag:is};function gC(e){var t=e.className,i=e.cssModule,s=e.tag,n=s===void 0?"div":s,r=rW(e,nW),o=Lt(Qt(t,"modal-body"),i);return Q.createElement(n,zx({},r,{className:o}))}gC.propTypes=aW;var lW=["className","cssModule","tag"];function Bx(){return Bx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(e[s]=i[s])}return e},Bx.apply(this,arguments)}function cW(e,t){if(e==null)return{};var i=uW(e,t),s,n;if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(n=0;n<r.length;n++)s=r[n],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(i[s]=e[s])}return i}function uW(e,t){if(e==null)return{};var i={},s=Object.keys(e),n,r;for(r=0;r<s.length;r++)n=s[r],!(t.indexOf(n)>=0)&&(i[n]=e[n]);return i}var dW={className:j.string,cssModule:j.object,tag:is};function pC(e){var t=e.className,i=e.cssModule,s=e.tag,n=s===void 0?"div":s,r=cW(e,lW),o=Lt(Qt(t,"modal-footer"),i);return Q.createElement(n,Bx({},r,{className:o}))}pC.propTypes=dW;function Gx(e){"@babel/helpers - typeof";return Gx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gx(e)}var hW=["className","cssModule","tag","innerRef"];function Hx(){return Hx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(e[s]=i[s])}return e},Hx.apply(this,arguments)}function gW(e,t){if(e==null)return{};var i=pW(e,t),s,n;if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(n=0;n<r.length;n++)s=r[n],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(i[s]=e[s])}return i}function pW(e,t){if(e==null)return{};var i={},s=Object.keys(e),n,r;for(r=0;r<s.length;r++)n=s[r],!(t.indexOf(n)>=0)&&(i[n]=e[n]);return i}function fW(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function mW(e,t){for(var i=0;i<t.length;i++){var s=t[i];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}function vW(e,t,i){return t&&mW(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function yW(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&jx(e,t)}function jx(e,t){return jx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,n){return s.__proto__=n,s},jx(e,t)}function CW(e){var t=SW();return function(){var s=dy(e),n;if(t){var r=dy(this).constructor;n=Reflect.construct(s,arguments,r)}else n=s.apply(this,arguments);return bW(this,n)}}function bW(e,t){if(t&&(Gx(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Vx(e)}function Vx(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function SW(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function dy(e){return dy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(i){return i.__proto__||Object.getPrototypeOf(i)},dy(e)}var wW={children:j.node,tag:is,innerRef:j.oneOfType([j.object,j.func,j.string]),className:j.string,cssModule:j.object},CD=function(e){yW(i,e);var t=CW(i);function i(s){var n;return fW(this,i),n=t.call(this,s),n.getRef=n.getRef.bind(Vx(n)),n.submit=n.submit.bind(Vx(n)),n}return vW(i,[{key:"getRef",value:function(n){this.props.innerRef&&this.props.innerRef(n),this.ref=n}},{key:"submit",value:function(){this.ref&&this.ref.submit()}},{key:"render",value:function(){var n=this.props,r=n.className,o=n.cssModule,a=n.tag,l=a===void 0?"form":a,d=n.innerRef,h=gW(n,hW),p=Lt(r,o);return Q.createElement(l,Hx({},h,{ref:d,className:p}))}}]),i}(I.Component);CD.propTypes=wW;var xW=["className","cssModule","valid","tooltip","tag"];function _x(){return _x=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(e[s]=i[s])}return e},_x.apply(this,arguments)}function MW(e,t){if(e==null)return{};var i=DW(e,t),s,n;if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(n=0;n<r.length;n++)s=r[n],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(i[s]=e[s])}return i}function DW(e,t){if(e==null)return{};var i={},s=Object.keys(e),n,r;for(r=0;r<s.length;r++)n=s[r],!(t.indexOf(n)>=0)&&(i[n]=e[n]);return i}var RW={children:j.node,tag:is,className:j.string,cssModule:j.object,valid:j.bool,tooltip:j.bool};function hy(e){var t=e.className,i=e.cssModule,s=e.valid,n=s===void 0?void 0:s,r=e.tooltip,o=e.tag,a=o===void 0?"div":o,l=MW(e,xW),d=r?"tooltip":"feedback",h=Lt(Qt(t,n?"valid-".concat(d):"invalid-".concat(d)),i);return Q.createElement(a,_x({},l,{className:h}))}hy.propTypes=RW;var EW=["className","cssModule","row","disabled","check","inline","floating","noMargin","tag","switch"];function Wx(){return Wx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(e[s]=i[s])}return e},Wx.apply(this,arguments)}function AW(e,t){if(e==null)return{};var i=TW(e,t),s,n;if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(n=0;n<r.length;n++)s=r[n],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(i[s]=e[s])}return i}function TW(e,t){if(e==null)return{};var i={},s=Object.keys(e),n,r;for(r=0;r<s.length;r++)n=s[r],!(t.indexOf(n)>=0)&&(i[n]=e[n]);return i}var IW={children:j.node,row:j.bool,check:j.bool,switch:j.bool,inline:j.bool,floating:j.bool,noMargin:j.bool,disabled:j.bool,tag:is,className:j.string,cssModule:j.object};function Rd(e){var t=e.className,i=e.cssModule,s=e.row,n=e.disabled,r=e.check,o=e.inline,a=e.floating,l=e.noMargin,d=e.tag,h=d===void 0?"div":d,p=e.switch,f=AW(e,EW),v=r||p,y=Lt(Qt(t,s?"row":!1,v?"form-check":!1,p?"form-switch":!1,v||l?!1:"mb-3",v&&o?"form-check-inline":!1,v&&n?"disabled":!1,a&&"form-floating"),i);return h==="fieldset"&&(f.disabled=n),Q.createElement(h,Wx({},f,{className:y}))}Rd.propTypes=IW;function Ux(e){"@babel/helpers - typeof";return Ux=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ux(e)}var LW=["className","cssModule","type","bsSize","valid","invalid","tag","addon","plaintext","innerRef"];function $x(){return $x=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(e[s]=i[s])}return e},$x.apply(this,arguments)}function kW(e,t){if(e==null)return{};var i=PW(e,t),s,n;if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(n=0;n<r.length;n++)s=r[n],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(i[s]=e[s])}return i}function PW(e,t){if(e==null)return{};var i={},s=Object.keys(e),n,r;for(r=0;r<s.length;r++)n=s[r],!(t.indexOf(n)>=0)&&(i[n]=e[n]);return i}function OW(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function FW(e,t){for(var i=0;i<t.length;i++){var s=t[i];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}function NW(e,t,i){return t&&FW(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function zW(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Yx(e,t)}function Yx(e,t){return Yx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,n){return s.__proto__=n,s},Yx(e,t)}function BW(e){var t=HW();return function(){var s=gy(e),n;if(t){var r=gy(this).constructor;n=Reflect.construct(s,arguments,r)}else n=s.apply(this,arguments);return GW(this,n)}}function GW(e,t){if(t&&(Ux(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Kx(e)}function Kx(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function HW(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function gy(e){return gy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(i){return i.__proto__||Object.getPrototypeOf(i)},gy(e)}var jW={children:j.node,type:j.string,size:j.oneOfType([j.number,j.string]),bsSize:j.string,valid:j.bool,invalid:j.bool,tag:is,innerRef:j.oneOfType([j.object,j.func,j.string]),plaintext:j.bool,addon:j.bool,className:j.string,cssModule:j.object},Fc=function(e){zW(i,e);var t=BW(i);function i(s){var n;return OW(this,i),n=t.call(this,s),n.getRef=n.getRef.bind(Kx(n)),n.focus=n.focus.bind(Kx(n)),n}return NW(i,[{key:"getRef",value:function(n){this.props.innerRef&&this.props.innerRef(n),this.ref=n}},{key:"focus",value:function(){this.ref&&this.ref.focus()}},{key:"render",value:function(){var n=this.props,r=n.className,o=n.cssModule,a=n.type,l=a===void 0?"text":a,d=n.bsSize,h=n.valid,p=n.invalid,f=n.tag,v=n.addon,y=n.plaintext,S=n.innerRef,w=kW(n,LW),b=["switch","radio","checkbox"].indexOf(l)>-1,x=/\D/g,D=l==="textarea",E=l==="select",T=l==="range",k=f||(E||D?l:"input"),P="form-control";y?(P="".concat(P,"-plaintext"),k=f||"input"):T?P="form-range":E?P="form-select":b&&(v?P=null:P="form-check-input"),w.size&&x.test(w.size)&&(ax(`Please use the prop "bsSize" instead of the "size" to bootstrap's input sizing.`),d=w.size,delete w.size);var O=Lt(Qt(r,p&&"is-invalid",h&&"is-valid",d?E?"form-select-".concat(d):"form-control-".concat(d):!1,P),o);return(k==="input"||f&&typeof f=="function")&&(w.type=l==="switch"?"checkbox":l),w.children&&!(y||l==="select"||typeof k!="string"||k==="select")&&(ax('Input with a type of "'.concat(l,'" cannot have children. Please use "value"/"defaultValue" instead.')),delete w.children),Q.createElement(k,$x({},w,{ref:S,className:O,"aria-invalid":p}))}}]),i}(Q.Component);Fc.propTypes=jW;var VW=["className","cssModule","tag","type","size"];function py(){return py=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(e[s]=i[s])}return e},py.apply(this,arguments)}function _W(e,t){if(e==null)return{};var i=WW(e,t),s,n;if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(n=0;n<r.length;n++)s=r[n],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(i[s]=e[s])}return i}function WW(e,t){if(e==null)return{};var i={},s=Object.keys(e),n,r;for(r=0;r<s.length;r++)n=s[r],!(t.indexOf(n)>=0)&&(i[n]=e[n]);return i}var UW={className:j.string,cssModule:j.object,size:j.string,tag:is,type:j.string};function tF(e){var t=e.className,i=e.cssModule,s=e.tag,n=s===void 0?"div":s;e.type;var r=e.size,o=_W(e,VW),a=Lt(Qt(t,"input-group",r?"input-group-".concat(r):null),i);return e.type==="dropdown"?Q.createElement(ih,py({},o,{className:a})):Q.createElement(ZO.Provider,{value:{insideInputGroup:!0}},Q.createElement(n,py({},o,{className:a})))}tF.propTypes=UW;var $W=["className","cssModule","hidden","widths","tag","check","size","for"];function qx(){return qx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(e[s]=i[s])}return e},qx.apply(this,arguments)}function n0(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function YW(e,t){if(e==null)return{};var i=KW(e,t),s,n;if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(n=0;n<r.length;n++)s=r[n],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(i[s]=e[s])}return i}function KW(e,t){if(e==null)return{};var i={},s=Object.keys(e),n,r;for(r=0;r<s.length;r++)n=s[r],!(t.indexOf(n)>=0)&&(i[n]=e[n]);return i}var qW=["xs","sm","md","lg","xl","xxl"],r0=j.oneOfType([j.number,j.string]),nd=j.oneOfType([j.bool,j.string,j.number,j.shape({size:r0,order:r0,offset:r0})]),ZW={children:j.node,hidden:j.bool,check:j.bool,size:j.string,for:j.string,tag:is,className:j.string,cssModule:j.object,xs:nd,sm:nd,md:nd,lg:nd,xl:nd,xxl:nd,widths:j.array},QL=function(t,i,s){return s===!0||s===""?t?"col":"col-".concat(i):s==="auto"?t?"col-auto":"col-".concat(i,"-auto"):t?"col-".concat(s):"col-".concat(i,"-").concat(s)};function Ed(e){var t=e.className,i=e.cssModule,s=e.hidden,n=e.widths,r=n===void 0?qW:n,o=e.tag,a=o===void 0?"label":o,l=e.check,d=e.size,h=e.for,p=YW(e,$W),f=[];r.forEach(function(w,b){var x=e[w];if(delete p[w],!(!x&&x!=="")){var D=!b,E;if(kO(x)){var T,k=D?"-":"-".concat(w,"-");E=QL(D,w,x.size),f.push(Lt(Qt((T={},n0(T,E,x.size||x.size===""),n0(T,"order".concat(k).concat(x.order),x.order||x.order===0),n0(T,"offset".concat(k).concat(x.offset),x.offset||x.offset===0),T))),i)}else E=QL(D,w,x),f.push(E)}});var v=d||f.length,y=!(l||v),S=Lt(Qt(t,s?"visually-hidden":!1,l?"form-check-label":!1,d?"col-form-label-".concat(d):!1,f,v?"col-form-label":!1,y?"form-label":!1),i);return Q.createElement(a,qx({htmlFor:h},p,{className:S}))}Ed.propTypes=ZW;var Og={},JL;function XW(){if(JL)return Og;JL=1,Object.defineProperty(Og,"__esModule",{value:!0}),Og.parse=o,Og.serialize=d;const e=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,t=/^[\u0021-\u003A\u003C-\u007E]*$/,i=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,s=/^[\u0020-\u003A\u003D-\u007E]*$/,n=Object.prototype.toString,r=(()=>{const f=function(){};return f.prototype=Object.create(null),f})();function o(f,v){const y=new r,S=f.length;if(S<2)return y;const w=(v==null?void 0:v.decode)||h;let b=0;do{const x=f.indexOf("=",b);if(x===-1)break;const D=f.indexOf(";",b),E=D===-1?S:D;if(x>E){b=f.lastIndexOf(";",x-1)+1;continue}const T=a(f,b,x),k=l(f,x,T),P=f.slice(T,k);if(y[P]===void 0){let O=a(f,x+1,E),F=l(f,E,O);const z=w(f.slice(O,F));y[P]=z}b=E+1}while(b<S);return y}function a(f,v,y){do{const S=f.charCodeAt(v);if(S!==32&&S!==9)return v}while(++v<y);return y}function l(f,v,y){for(;v>y;){const S=f.charCodeAt(--v);if(S!==32&&S!==9)return v+1}return y}function d(f,v,y){const S=(y==null?void 0:y.encode)||encodeURIComponent;if(!e.test(f))throw new TypeError(`argument name is invalid: ${f}`);const w=S(v);if(!t.test(w))throw new TypeError(`argument val is invalid: ${v}`);let b=f+"="+w;if(!y)return b;if(y.maxAge!==void 0){if(!Number.isInteger(y.maxAge))throw new TypeError(`option maxAge is invalid: ${y.maxAge}`);b+="; Max-Age="+y.maxAge}if(y.domain){if(!i.test(y.domain))throw new TypeError(`option domain is invalid: ${y.domain}`);b+="; Domain="+y.domain}if(y.path){if(!s.test(y.path))throw new TypeError(`option path is invalid: ${y.path}`);b+="; Path="+y.path}if(y.expires){if(!p(y.expires)||!Number.isFinite(y.expires.valueOf()))throw new TypeError(`option expires is invalid: ${y.expires}`);b+="; Expires="+y.expires.toUTCString()}if(y.httpOnly&&(b+="; HttpOnly"),y.secure&&(b+="; Secure"),y.partitioned&&(b+="; Partitioned"),y.priority)switch(typeof y.priority=="string"?y.priority.toLowerCase():void 0){case"low":b+="; Priority=Low";break;case"medium":b+="; Priority=Medium";break;case"high":b+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${y.priority}`)}if(y.sameSite)switch(typeof y.sameSite=="string"?y.sameSite.toLowerCase():y.sameSite){case!0:case"strict":b+="; SameSite=Strict";break;case"lax":b+="; SameSite=Lax";break;case"none":b+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${y.sameSite}`)}return b}function h(f){if(f.indexOf("%")===-1)return f;try{return decodeURIComponent(f)}catch{return f}}function p(f){return n.call(f)==="[object Date]"}return Og}XW();var ek="popstate";function QW(e={}){function t(s,n){let{pathname:r,search:o,hash:a}=s.location;return Zx("",{pathname:r,search:o,hash:a},n.state&&n.state.usr||null,n.state&&n.state.key||"default")}function i(s,n){return typeof n=="string"?n:Mp(n)}return e5(t,i,null,e)}function di(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function co(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function JW(){return Math.random().toString(36).substring(2,10)}function tk(e,t){return{usr:e.state,key:e.key,idx:t}}function Zx(e,t,i=null,s){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?sh(t):t,state:i,key:t&&t.key||s||JW()}}function Mp({pathname:e="/",search:t="",hash:i=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),i&&i!=="#"&&(e+=i.charAt(0)==="#"?i:"#"+i),e}function sh(e){let t={};if(e){let i=e.indexOf("#");i>=0&&(t.hash=e.substring(i),e=e.substring(0,i));let s=e.indexOf("?");s>=0&&(t.search=e.substring(s),e=e.substring(0,s)),e&&(t.pathname=e)}return t}function e5(e,t,i,s={}){let{window:n=document.defaultView,v5Compat:r=!1}=s,o=n.history,a="POP",l=null,d=h();d==null&&(d=0,o.replaceState({...o.state,idx:d},""));function h(){return(o.state||{idx:null}).idx}function p(){a="POP";let w=h(),b=w==null?null:w-d;d=w,l&&l({action:a,location:S.location,delta:b})}function f(w,b){a="PUSH";let x=Zx(S.location,w,b);d=h()+1;let D=tk(x,d),E=S.createHref(x);try{o.pushState(D,"",E)}catch(T){if(T instanceof DOMException&&T.name==="DataCloneError")throw T;n.location.assign(E)}r&&l&&l({action:a,location:S.location,delta:1})}function v(w,b){a="REPLACE";let x=Zx(S.location,w,b);d=h();let D=tk(x,d),E=S.createHref(x);o.replaceState(D,"",E),r&&l&&l({action:a,location:S.location,delta:0})}function y(w){let b=n.location.origin!=="null"?n.location.origin:n.location.href,x=typeof w=="string"?w:Mp(w);return x=x.replace(/ $/,"%20"),di(b,`No window.location.(origin|href) available to create URL for href: ${x}`),new URL(x,b)}let S={get action(){return a},get location(){return e(n,o)},listen(w){if(l)throw new Error("A history only accepts one active listener");return n.addEventListener(ek,p),l=w,()=>{n.removeEventListener(ek,p),l=null}},createHref(w){return t(n,w)},createURL:y,encodeLocation(w){let b=y(w);return{pathname:b.pathname,search:b.search,hash:b.hash}},push:f,replace:v,go(w){return o.go(w)}};return S}function iF(e,t,i="/"){return t5(e,t,i,!1)}function t5(e,t,i,s){let n=typeof t=="string"?sh(t):t,r=aa(n.pathname||"/",i);if(r==null)return null;let o=sF(e);i5(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let d=g5(r);a=d5(o[l],d,s)}return a}function sF(e,t=[],i=[],s=""){let n=(r,o,a)=>{let l={relativePath:a===void 0?r.path||"":a,caseSensitive:r.caseSensitive===!0,childrenIndex:o,route:r};l.relativePath.startsWith("/")&&(di(l.relativePath.startsWith(s),`Absolute route path "${l.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),l.relativePath=l.relativePath.slice(s.length));let d=Qo([s,l.relativePath]),h=i.concat(l);r.children&&r.children.length>0&&(di(r.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${d}".`),sF(r.children,t,h,d)),!(r.path==null&&!r.index)&&t.push({path:d,score:c5(d,r.index),routesMeta:h})};return e.forEach((r,o)=>{var a;if(r.path===""||!((a=r.path)!=null&&a.includes("?")))n(r,o);else for(let l of nF(r.path))n(r,o,l)}),t}function nF(e){let t=e.split("/");if(t.length===0)return[];let[i,...s]=t,n=i.endsWith("?"),r=i.replace(/\?$/,"");if(s.length===0)return n?[r,""]:[r];let o=nF(s.join("/")),a=[];return a.push(...o.map(l=>l===""?r:[r,l].join("/"))),n&&a.push(...o),a.map(l=>e.startsWith("/")&&l===""?"/":l)}function i5(e){e.sort((t,i)=>t.score!==i.score?i.score-t.score:u5(t.routesMeta.map(s=>s.childrenIndex),i.routesMeta.map(s=>s.childrenIndex)))}var s5=/^:[\w-]+$/,n5=3,r5=2,o5=1,a5=10,l5=-2,ik=e=>e==="*";function c5(e,t){let i=e.split("/"),s=i.length;return i.some(ik)&&(s+=l5),t&&(s+=r5),i.filter(n=>!ik(n)).reduce((n,r)=>n+(s5.test(r)?n5:r===""?o5:a5),s)}function u5(e,t){return e.length===t.length&&e.slice(0,-1).every((s,n)=>s===t[n])?e[e.length-1]-t[t.length-1]:0}function d5(e,t,i=!1){let{routesMeta:s}=e,n={},r="/",o=[];for(let a=0;a<s.length;++a){let l=s[a],d=a===s.length-1,h=r==="/"?t:t.slice(r.length)||"/",p=fy({path:l.relativePath,caseSensitive:l.caseSensitive,end:d},h),f=l.route;if(!p&&d&&i&&!s[s.length-1].route.index&&(p=fy({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},h)),!p)return null;Object.assign(n,p.params),o.push({params:n,pathname:Qo([r,p.pathname]),pathnameBase:v5(Qo([r,p.pathnameBase])),route:f}),p.pathnameBase!=="/"&&(r=Qo([r,p.pathnameBase]))}return o}function fy(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[i,s]=h5(e.path,e.caseSensitive,e.end),n=t.match(i);if(!n)return null;let r=n[0],o=r.replace(/(.)\/+$/,"$1"),a=n.slice(1);return{params:s.reduce((d,{paramName:h,isOptional:p},f)=>{if(h==="*"){let y=a[f]||"";o=r.slice(0,r.length-y.length).replace(/(.)\/+$/,"$1")}const v=a[f];return p&&!v?d[h]=void 0:d[h]=(v||"").replace(/%2F/g,"/"),d},{}),pathname:r,pathnameBase:o,pattern:e}}function h5(e,t=!1,i=!0){co(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let s=[],n="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(s.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(s.push({paramName:"*"}),n+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):i?n+="\\/*$":e!==""&&e!=="/"&&(n+="(?:(?=\\/|$))"),[new RegExp(n,t?void 0:"i"),s]}function g5(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return co(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function aa(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let i=t.endsWith("/")?t.length-1:t.length,s=e.charAt(i);return s&&s!=="/"?null:e.slice(i)||"/"}function p5(e,t="/"){let{pathname:i,search:s="",hash:n=""}=typeof e=="string"?sh(e):e;return{pathname:i?i.startsWith("/")?i:f5(i,t):t,search:y5(s),hash:C5(n)}}function f5(e,t){let i=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(n=>{n===".."?i.length>1&&i.pop():n!=="."&&i.push(n)}),i.length>1?i.join("/"):"/"}function o0(e,t,i,s){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${i}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function m5(e){return e.filter((t,i)=>i===0||t.route.path&&t.route.path.length>0)}function rF(e){let t=m5(e);return t.map((i,s)=>s===t.length-1?i.pathname:i.pathnameBase)}function oF(e,t,i,s=!1){let n;typeof e=="string"?n=sh(e):(n={...e},di(!n.pathname||!n.pathname.includes("?"),o0("?","pathname","search",n)),di(!n.pathname||!n.pathname.includes("#"),o0("#","pathname","hash",n)),di(!n.search||!n.search.includes("#"),o0("#","search","hash",n)));let r=e===""||n.pathname==="",o=r?"/":n.pathname,a;if(o==null)a=i;else{let p=t.length-1;if(!s&&o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),p-=1;n.pathname=f.join("/")}a=p>=0?t[p]:"/"}let l=p5(n,a),d=o&&o!=="/"&&o.endsWith("/"),h=(r||o===".")&&i.endsWith("/");return!l.pathname.endsWith("/")&&(d||h)&&(l.pathname+="/"),l}var Qo=e=>e.join("/").replace(/\/\/+/g,"/"),v5=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),y5=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,C5=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function b5(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}var aF=["POST","PUT","PATCH","DELETE"];new Set(aF);var S5=["GET",...aF];new Set(S5);var nh=I.createContext(null);nh.displayName="DataRouter";var fC=I.createContext(null);fC.displayName="DataRouterState";var lF=I.createContext({isTransitioning:!1});lF.displayName="ViewTransition";var w5=I.createContext(new Map);w5.displayName="Fetchers";var x5=I.createContext(null);x5.displayName="Await";var bo=I.createContext(null);bo.displayName="Navigation";var of=I.createContext(null);of.displayName="Location";var So=I.createContext({outlet:null,matches:[],isDataRoute:!1});So.displayName="Route";var bD=I.createContext(null);bD.displayName="RouteError";function M5(e,{relative:t}={}){di(af(),"useHref() may be used only in the context of a <Router> component.");let{basename:i,navigator:s}=I.useContext(bo),{hash:n,pathname:r,search:o}=lf(e,{relative:t}),a=r;return i!=="/"&&(a=r==="/"?i:Qo([i,r])),s.createHref({pathname:a,search:o,hash:n})}function af(){return I.useContext(of)!=null}function ga(){return di(af(),"useLocation() may be used only in the context of a <Router> component."),I.useContext(of).location}var cF="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function uF(e){I.useContext(bo).static||I.useLayoutEffect(e)}function mC(){let{isDataRoute:e}=I.useContext(So);return e?B5():D5()}function D5(){di(af(),"useNavigate() may be used only in the context of a <Router> component.");let e=I.useContext(nh),{basename:t,navigator:i}=I.useContext(bo),{matches:s}=I.useContext(So),{pathname:n}=ga(),r=JSON.stringify(rF(s)),o=I.useRef(!1);return uF(()=>{o.current=!0}),I.useCallback((l,d={})=>{if(co(o.current,cF),!o.current)return;if(typeof l=="number"){i.go(l);return}let h=oF(l,JSON.parse(r),n,d.relative==="path");e==null&&t!=="/"&&(h.pathname=h.pathname==="/"?t:Qo([t,h.pathname])),(d.replace?i.replace:i.push)(h,d.state,d)},[t,i,r,n,e])}I.createContext(null);function R5(){let{matches:e}=I.useContext(So),t=e[e.length-1];return t?t.params:{}}function lf(e,{relative:t}={}){let{matches:i}=I.useContext(So),{pathname:s}=ga(),n=JSON.stringify(rF(i));return I.useMemo(()=>oF(e,JSON.parse(n),s,t==="path"),[e,n,s,t])}function E5(e,t){return dF(e,t)}function dF(e,t,i,s){var x;di(af(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:n,static:r}=I.useContext(bo),{matches:o}=I.useContext(So),a=o[o.length-1],l=a?a.params:{},d=a?a.pathname:"/",h=a?a.pathnameBase:"/",p=a&&a.route;{let D=p&&p.path||"";hF(d,!p||D.endsWith("*")||D.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${d}" (under <Route path="${D}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${D}"> to <Route path="${D==="/"?"*":`${D}/*`}">.`)}let f=ga(),v;if(t){let D=typeof t=="string"?sh(t):t;di(h==="/"||((x=D.pathname)==null?void 0:x.startsWith(h)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${h}" but pathname "${D.pathname}" was given in the \`location\` prop.`),v=D}else v=f;let y=v.pathname||"/",S=y;if(h!=="/"){let D=h.replace(/^\//,"").split("/");S="/"+y.replace(/^\//,"").split("/").slice(D.length).join("/")}let w=!r&&i&&i.matches&&i.matches.length>0?i.matches:iF(e,{pathname:S});co(p||w!=null,`No routes matched location "${v.pathname}${v.search}${v.hash}" `),co(w==null||w[w.length-1].route.element!==void 0||w[w.length-1].route.Component!==void 0||w[w.length-1].route.lazy!==void 0,`Matched leaf route at location "${v.pathname}${v.search}${v.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let b=k5(w&&w.map(D=>Object.assign({},D,{params:Object.assign({},l,D.params),pathname:Qo([h,n.encodeLocation?n.encodeLocation(D.pathname).pathname:D.pathname]),pathnameBase:D.pathnameBase==="/"?h:Qo([h,n.encodeLocation?n.encodeLocation(D.pathnameBase).pathname:D.pathnameBase])})),o,i,s);return t&&b?I.createElement(of.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...v},navigationType:"POP"}},b):b}function A5(){let e=z5(),t=b5(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),i=e instanceof Error?e.stack:null,s="rgba(200,200,200, 0.5)",n={padding:"0.5rem",backgroundColor:s},r={padding:"2px 4px",backgroundColor:s},o=null;return console.error("Error handled by React Router default ErrorBoundary:",e),o=I.createElement(I.Fragment,null,I.createElement("p",null," Hey developer "),I.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",I.createElement("code",{style:r},"ErrorBoundary")," or"," ",I.createElement("code",{style:r},"errorElement")," prop on your route.")),I.createElement(I.Fragment,null,I.createElement("h2",null,"Unexpected Application Error!"),I.createElement("h3",{style:{fontStyle:"italic"}},t),i?I.createElement("pre",{style:n},i):null,o)}var T5=I.createElement(A5,null),I5=class extends I.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?I.createElement(So.Provider,{value:this.props.routeContext},I.createElement(bD.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function L5({routeContext:e,match:t,children:i}){let s=I.useContext(nh);return s&&s.static&&s.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=t.route.id),I.createElement(So.Provider,{value:e},i)}function k5(e,t=[],i=null,s=null){if(e==null){if(!i)return null;if(i.errors)e=i.matches;else if(t.length===0&&!i.initialized&&i.matches.length>0)e=i.matches;else return null}let n=e,r=i==null?void 0:i.errors;if(r!=null){let l=n.findIndex(d=>d.route.id&&(r==null?void 0:r[d.route.id])!==void 0);di(l>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(r).join(",")}`),n=n.slice(0,Math.min(n.length,l+1))}let o=!1,a=-1;if(i)for(let l=0;l<n.length;l++){let d=n[l];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(a=l),d.route.id){let{loaderData:h,errors:p}=i,f=d.route.loader&&!h.hasOwnProperty(d.route.id)&&(!p||p[d.route.id]===void 0);if(d.route.lazy||f){o=!0,a>=0?n=n.slice(0,a+1):n=[n[0]];break}}}return n.reduceRight((l,d,h)=>{let p,f=!1,v=null,y=null;i&&(p=r&&d.route.id?r[d.route.id]:void 0,v=d.route.errorElement||T5,o&&(a<0&&h===0?(hF("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),f=!0,y=null):a===h&&(f=!0,y=d.route.hydrateFallbackElement||null)));let S=t.concat(n.slice(0,h+1)),w=()=>{let b;return p?b=v:f?b=y:d.route.Component?b=I.createElement(d.route.Component,null):d.route.element?b=d.route.element:b=l,I.createElement(L5,{match:d,routeContext:{outlet:l,matches:S,isDataRoute:i!=null},children:b})};return i&&(d.route.ErrorBoundary||d.route.errorElement||h===0)?I.createElement(I5,{location:i.location,revalidation:i.revalidation,component:v,error:p,children:w(),routeContext:{outlet:null,matches:S,isDataRoute:!0}}):w()},null)}function SD(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function P5(e){let t=I.useContext(nh);return di(t,SD(e)),t}function O5(e){let t=I.useContext(fC);return di(t,SD(e)),t}function F5(e){let t=I.useContext(So);return di(t,SD(e)),t}function wD(e){let t=F5(e),i=t.matches[t.matches.length-1];return di(i.route.id,`${e} can only be used on routes that contain a unique "id"`),i.route.id}function N5(){return wD("useRouteId")}function z5(){var s;let e=I.useContext(bD),t=O5("useRouteError"),i=wD("useRouteError");return e!==void 0?e:(s=t.errors)==null?void 0:s[i]}function B5(){let{router:e}=P5("useNavigate"),t=wD("useNavigate"),i=I.useRef(!1);return uF(()=>{i.current=!0}),I.useCallback(async(n,r={})=>{co(i.current,cF),i.current&&(typeof n=="number"?e.navigate(n):await e.navigate(n,{fromRouteId:t,...r}))},[e,t])}var sk={};function hF(e,t,i){!t&&!sk[e]&&(sk[e]=!0,co(!1,i))}I.memo(G5);function G5({routes:e,future:t,state:i}){return dF(e,void 0,i,t)}function hd(e){di(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function H5({basename:e="/",children:t=null,location:i,navigationType:s="POP",navigator:n,static:r=!1}){di(!af(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=e.replace(/^\/*/,"/"),a=I.useMemo(()=>({basename:o,navigator:n,static:r,future:{}}),[o,n,r]);typeof i=="string"&&(i=sh(i));let{pathname:l="/",search:d="",hash:h="",state:p=null,key:f="default"}=i,v=I.useMemo(()=>{let y=aa(l,o);return y==null?null:{location:{pathname:y,search:d,hash:h,state:p,key:f},navigationType:s}},[o,l,d,h,p,f,s]);return co(v!=null,`<Router basename="${o}"> is not able to match the URL "${l}${d}${h}" because it does not start with the basename, so the <Router> won't render anything.`),v==null?null:I.createElement(bo.Provider,{value:a},I.createElement(of.Provider,{children:t,value:v}))}function j5({children:e,location:t}){return E5(Xx(e),t)}function Xx(e,t=[]){let i=[];return I.Children.forEach(e,(s,n)=>{if(!I.isValidElement(s))return;let r=[...t,n];if(s.type===I.Fragment){i.push.apply(i,Xx(s.props.children,r));return}di(s.type===hd,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),di(!s.props.index||!s.props.children,"An index route cannot have child routes.");let o={id:s.props.id||r.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(o.children=Xx(s.props.children,r)),i.push(o)}),i}var zv="get",Bv="application/x-www-form-urlencoded";function vC(e){return e!=null&&typeof e.tagName=="string"}function V5(e){return vC(e)&&e.tagName.toLowerCase()==="button"}function _5(e){return vC(e)&&e.tagName.toLowerCase()==="form"}function W5(e){return vC(e)&&e.tagName.toLowerCase()==="input"}function U5(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function $5(e,t){return e.button===0&&(!t||t==="_self")&&!U5(e)}var gv=null;function Y5(){if(gv===null)try{new FormData(document.createElement("form"),0),gv=!1}catch{gv=!0}return gv}var K5=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function a0(e){return e!=null&&!K5.has(e)?(co(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Bv}"`),null):e}function q5(e,t){let i,s,n,r,o;if(_5(e)){let a=e.getAttribute("action");s=a?aa(a,t):null,i=e.getAttribute("method")||zv,n=a0(e.getAttribute("enctype"))||Bv,r=new FormData(e)}else if(V5(e)||W5(e)&&(e.type==="submit"||e.type==="image")){let a=e.form;if(a==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let l=e.getAttribute("formaction")||a.getAttribute("action");if(s=l?aa(l,t):null,i=e.getAttribute("formmethod")||a.getAttribute("method")||zv,n=a0(e.getAttribute("formenctype"))||a0(a.getAttribute("enctype"))||Bv,r=new FormData(a,e),!Y5()){let{name:d,type:h,value:p}=e;if(h==="image"){let f=d?`${d}.`:"";r.append(`${f}x`,"0"),r.append(`${f}y`,"0")}else d&&r.append(d,p)}}else{if(vC(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');i=zv,s=null,n=Bv,o=e}return r&&n==="text/plain"&&(o=r,r=void 0),{action:s,method:i.toLowerCase(),encType:n,formData:r,body:o}}function xD(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}async function Z5(e,t){if(e.id in t)return t[e.id];try{let i=await import(e.module);return t[e.id]=i,i}catch(i){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(i),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function X5(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function Q5(e,t,i){let s=await Promise.all(e.map(async n=>{let r=t.routes[n.route.id];if(r){let o=await Z5(r,i);return o.links?o.links():[]}return[]}));return iU(s.flat(1).filter(X5).filter(n=>n.rel==="stylesheet"||n.rel==="preload").map(n=>n.rel==="stylesheet"?{...n,rel:"prefetch",as:"style"}:{...n,rel:"prefetch"}))}function nk(e,t,i,s,n,r){let o=(l,d)=>i[d]?l.route.id!==i[d].route.id:!0,a=(l,d)=>{var h;return i[d].pathname!==l.pathname||((h=i[d].route.path)==null?void 0:h.endsWith("*"))&&i[d].params["*"]!==l.params["*"]};return r==="assets"?t.filter((l,d)=>o(l,d)||a(l,d)):r==="data"?t.filter((l,d)=>{var p;let h=s.routes[l.route.id];if(!h||!h.hasLoader)return!1;if(o(l,d)||a(l,d))return!0;if(l.route.shouldRevalidate){let f=l.route.shouldRevalidate({currentUrl:new URL(n.pathname+n.search+n.hash,window.origin),currentParams:((p=i[0])==null?void 0:p.params)||{},nextUrl:new URL(e,window.origin),nextParams:l.params,defaultShouldRevalidate:!0});if(typeof f=="boolean")return f}return!0}):[]}function J5(e,t,{includeHydrateFallback:i}={}){return eU(e.map(s=>{let n=t.routes[s.route.id];if(!n)return[];let r=[n.module];return n.clientActionModule&&(r=r.concat(n.clientActionModule)),n.clientLoaderModule&&(r=r.concat(n.clientLoaderModule)),i&&n.hydrateFallbackModule&&(r=r.concat(n.hydrateFallbackModule)),n.imports&&(r=r.concat(n.imports)),r}).flat(1))}function eU(e){return[...new Set(e)]}function tU(e){let t={},i=Object.keys(e).sort();for(let s of i)t[s]=e[s];return t}function iU(e,t){let i=new Set;return new Set(t),e.reduce((s,n)=>{let r=JSON.stringify(tU(n));return i.has(r)||(i.add(r),s.push({key:r,link:n})),s},[])}var sU=new Set([100,101,204,205]);function nU(e,t){let i=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return i.pathname==="/"?i.pathname="_root.data":t&&aa(i.pathname,t)==="/"?i.pathname=`${t.replace(/\/$/,"")}/_root.data`:i.pathname=`${i.pathname.replace(/\/$/,"")}.data`,i}function gF(){let e=I.useContext(nh);return xD(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function rU(){let e=I.useContext(fC);return xD(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var MD=I.createContext(void 0);MD.displayName="FrameworkContext";function pF(){let e=I.useContext(MD);return xD(e,"You must render this element inside a <HydratedRouter> element"),e}function oU(e,t){let i=I.useContext(MD),[s,n]=I.useState(!1),[r,o]=I.useState(!1),{onFocus:a,onBlur:l,onMouseEnter:d,onMouseLeave:h,onTouchStart:p}=t,f=I.useRef(null);I.useEffect(()=>{if(e==="render"&&o(!0),e==="viewport"){let S=b=>{b.forEach(x=>{o(x.isIntersecting)})},w=new IntersectionObserver(S,{threshold:.5});return f.current&&w.observe(f.current),()=>{w.disconnect()}}},[e]),I.useEffect(()=>{if(s){let S=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(S)}}},[s]);let v=()=>{n(!0)},y=()=>{n(!1),o(!1)};return i?e!=="intent"?[r,f,{}]:[r,f,{onFocus:Fg(a,v),onBlur:Fg(l,y),onMouseEnter:Fg(d,v),onMouseLeave:Fg(h,y),onTouchStart:Fg(p,v)}]:[!1,f,{}]}function Fg(e,t){return i=>{e&&e(i),i.defaultPrevented||t(i)}}function aU({page:e,...t}){let{router:i}=gF(),s=I.useMemo(()=>iF(i.routes,e,i.basename),[i.routes,e,i.basename]);return s?I.createElement(cU,{page:e,matches:s,...t}):null}function lU(e){let{manifest:t,routeModules:i}=pF(),[s,n]=I.useState([]);return I.useEffect(()=>{let r=!1;return Q5(e,t,i).then(o=>{r||n(o)}),()=>{r=!0}},[e,t,i]),s}function cU({page:e,matches:t,...i}){let s=ga(),{manifest:n,routeModules:r}=pF(),{basename:o}=gF(),{loaderData:a,matches:l}=rU(),d=I.useMemo(()=>nk(e,t,l,n,s,"data"),[e,t,l,n,s]),h=I.useMemo(()=>nk(e,t,l,n,s,"assets"),[e,t,l,n,s]),p=I.useMemo(()=>{if(e===s.pathname+s.search+s.hash)return[];let y=new Set,S=!1;if(t.forEach(b=>{var D;let x=n.routes[b.route.id];!x||!x.hasLoader||(!d.some(E=>E.route.id===b.route.id)&&b.route.id in a&&((D=r[b.route.id])!=null&&D.shouldRevalidate)||x.hasClientLoader?S=!0:y.add(b.route.id))}),y.size===0)return[];let w=nU(e,o);return S&&y.size>0&&w.searchParams.set("_routes",t.filter(b=>y.has(b.route.id)).map(b=>b.route.id).join(",")),[w.pathname+w.search]},[o,a,s,n,d,t,e,r]),f=I.useMemo(()=>J5(h,n),[h,n]),v=lU(h);return I.createElement(I.Fragment,null,p.map(y=>I.createElement("link",{key:y,rel:"prefetch",as:"fetch",href:y,...i})),f.map(y=>I.createElement("link",{key:y,rel:"modulepreload",href:y,...i})),v.map(({key:y,link:S})=>I.createElement("link",{key:y,...S})))}function uU(...e){return t=>{e.forEach(i=>{typeof i=="function"?i(t):i!=null&&(i.current=t)})}}var fF=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{fF&&(window.__reactRouterVersion="7.5.3")}catch{}function dU({basename:e,children:t,window:i}){let s=I.useRef();s.current==null&&(s.current=QW({window:i,v5Compat:!0}));let n=s.current,[r,o]=I.useState({action:n.action,location:n.location}),a=I.useCallback(l=>{I.startTransition(()=>o(l))},[o]);return I.useLayoutEffect(()=>n.listen(a),[n,a]),I.createElement(H5,{basename:e,children:t,location:r.location,navigationType:r.action,navigator:n})}var mF=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,vF=I.forwardRef(function({onClick:t,discover:i="render",prefetch:s="none",relative:n,reloadDocument:r,replace:o,state:a,target:l,to:d,preventScrollReset:h,viewTransition:p,...f},v){let{basename:y}=I.useContext(bo),S=typeof d=="string"&&mF.test(d),w,b=!1;if(typeof d=="string"&&S&&(w=d,fF))try{let F=new URL(window.location.href),z=d.startsWith("//")?new URL(F.protocol+d):new URL(d),V=aa(z.pathname,y);z.origin===F.origin&&V!=null?d=V+z.search+z.hash:b=!0}catch{co(!1,`<Link to="${d}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let x=M5(d,{relative:n}),[D,E,T]=oU(s,f),k=pU(d,{replace:o,state:a,target:l,preventScrollReset:h,relative:n,viewTransition:p});function P(F){t&&t(F),F.defaultPrevented||k(F)}let O=I.createElement("a",{...f,...T,href:w||x,onClick:b||r?t:P,ref:uU(v,E),target:l,"data-discover":!S&&i==="render"?"true":void 0});return D&&!S?I.createElement(I.Fragment,null,O,I.createElement(aU,{page:x})):O});vF.displayName="Link";var Qx=I.forwardRef(function({"aria-current":t="page",caseSensitive:i=!1,className:s="",end:n=!1,style:r,to:o,viewTransition:a,children:l,...d},h){let p=lf(o,{relative:d.relative}),f=ga(),v=I.useContext(fC),{navigator:y,basename:S}=I.useContext(bo),w=v!=null&&CU(p)&&a===!0,b=y.encodeLocation?y.encodeLocation(p).pathname:p.pathname,x=f.pathname,D=v&&v.navigation&&v.navigation.location?v.navigation.location.pathname:null;i||(x=x.toLowerCase(),D=D?D.toLowerCase():null,b=b.toLowerCase()),D&&S&&(D=aa(D,S)||D);const E=b!=="/"&&b.endsWith("/")?b.length-1:b.length;let T=x===b||!n&&x.startsWith(b)&&x.charAt(E)==="/",k=D!=null&&(D===b||!n&&D.startsWith(b)&&D.charAt(b.length)==="/"),P={isActive:T,isPending:k,isTransitioning:w},O=T?t:void 0,F;typeof s=="function"?F=s(P):F=[s,T?"active":null,k?"pending":null,w?"transitioning":null].filter(Boolean).join(" ");let z=typeof r=="function"?r(P):r;return I.createElement(vF,{...d,"aria-current":O,className:F,ref:h,style:z,to:o,viewTransition:a},typeof l=="function"?l(P):l)});Qx.displayName="NavLink";var hU=I.forwardRef(({discover:e="render",fetcherKey:t,navigate:i,reloadDocument:s,replace:n,state:r,method:o=zv,action:a,onSubmit:l,relative:d,preventScrollReset:h,viewTransition:p,...f},v)=>{let y=vU(),S=yU(a,{relative:d}),w=o.toLowerCase()==="get"?"get":"post",b=typeof a=="string"&&mF.test(a),x=D=>{if(l&&l(D),D.defaultPrevented)return;D.preventDefault();let E=D.nativeEvent.submitter,T=(E==null?void 0:E.getAttribute("formmethod"))||o;y(E||D.currentTarget,{fetcherKey:t,method:T,navigate:i,replace:n,state:r,relative:d,preventScrollReset:h,viewTransition:p})};return I.createElement("form",{ref:v,method:w,action:S,onSubmit:s?l:x,...f,"data-discover":!b&&e==="render"?"true":void 0})});hU.displayName="Form";function gU(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function yF(e){let t=I.useContext(nh);return di(t,gU(e)),t}function pU(e,{target:t,replace:i,state:s,preventScrollReset:n,relative:r,viewTransition:o}={}){let a=mC(),l=ga(),d=lf(e,{relative:r});return I.useCallback(h=>{if($5(h,t)){h.preventDefault();let p=i!==void 0?i:Mp(l)===Mp(d);a(e,{replace:p,state:s,preventScrollReset:n,relative:r,viewTransition:o})}},[l,a,d,i,s,t,e,n,r,o])}var fU=0,mU=()=>`__${String(++fU)}__`;function vU(){let{router:e}=yF("useSubmit"),{basename:t}=I.useContext(bo),i=N5();return I.useCallback(async(s,n={})=>{let{action:r,method:o,encType:a,formData:l,body:d}=q5(s,t);if(n.navigate===!1){let h=n.fetcherKey||mU();await e.fetch(h,i,n.action||r,{preventScrollReset:n.preventScrollReset,formData:l,body:d,formMethod:n.method||o,formEncType:n.encType||a,flushSync:n.flushSync})}else await e.navigate(n.action||r,{preventScrollReset:n.preventScrollReset,formData:l,body:d,formMethod:n.method||o,formEncType:n.encType||a,replace:n.replace,state:n.state,fromRouteId:i,flushSync:n.flushSync,viewTransition:n.viewTransition})},[e,t,i])}function yU(e,{relative:t}={}){let{basename:i}=I.useContext(bo),s=I.useContext(So);di(s,"useFormAction must be used inside a RouteContext");let[n]=s.matches.slice(-1),r={...lf(e||".",{relative:t})},o=ga();if(e==null){r.search=o.search;let a=new URLSearchParams(r.search),l=a.getAll("index");if(l.some(h=>h==="")){a.delete("index"),l.filter(p=>p).forEach(p=>a.append("index",p));let h=a.toString();r.search=h?`?${h}`:""}}return(!e||e===".")&&n.route.index&&(r.search=r.search?r.search.replace(/^\?/,"?index&"):"?index"),i!=="/"&&(r.pathname=r.pathname==="/"?i:Qo([i,r.pathname])),Mp(r)}function CU(e,t={}){let i=I.useContext(lF);di(i!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=yF("useViewTransitionState"),n=lf(e,{relative:t.relative});if(!i.isTransitioning)return!1;let r=aa(i.currentLocation.pathname,s)||i.currentLocation.pathname,o=aa(i.nextLocation.pathname,s)||i.nextLocation.pathname;return fy(n.pathname,o)!=null||fy(n.pathname,r)!=null}new TextEncoder;[...sU];const CF=I.createContext(),yC=()=>I.useContext(CF),bU=({children:e})=>{const[t,i]=I.useState(null),[s,n]=I.useState(null),[r,o]=I.useState(null),a=p=>{i(p),n(p.data.bearerToken.token),o(p.data.refreshToken.token)},l=async p=>{p.preventDefault();try{const f=await fetch(`${El}/user/logout`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({refreshToken:r})}),v=await f.json();f.ok?console.log("logout success!: ",v):console.error("logout error: ",f.message)}catch(f){console.error("logout error: ",f)}i(null),n(null),o(null)},d=async()=>{try{return await fetch(`${El}/user/refresh`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({refreshToken:r})})}catch(p){console.error("token refresh error: ",p)}},h=async(p,f={})=>{try{const v=await fetch(p,{...f,headers:{...f.headers,Authorization:`Bearer ${s}`,"Content-Type":"application/json"}});if(v.status!=401)return v;const y=await d();if(!y.ok)throw l(),new Error("failed to refresh token");const S=await y.json();return n(S.bearerToken.token),o(S.refreshToken.token),await fetch(p,{...f,headers:{...f.headers,Authorization:`Bearer ${S.bearerToken.token}`,"Content-Type":"application/json"}})}catch(v){console.error("authFetch error: ",v)}};return oe.jsx(CF.Provider,{value:{user:t,login:a,logout:l,authFetch:h},children:e})};function SU({toggleRegister:e,toggleLogin:t}){const{user:i,logout:s}=yC(),[n,r]=I.useState(ga().pathname),[o,a]=I.useState(!1);let l=i?i.email:"account";return oe.jsxs(FO,{pills:!0,justified:!0,className:"nav",children:[oe.jsx(dx,{children:oe.jsx(Qx,{to:".",style:{color:"rgb(150, 150, 150)"},className:`nav-link ${n===""?"active":""}`,onClick:()=>r(""),children:"home"})}),oe.jsx(dx,{children:oe.jsx(Qx,{to:"movies",style:{color:"rgb(150, 150, 150)"},className:`nav-link ${n==="/movies"?"active":""}`,onClick:()=>r("/movies"),children:"movies"})}),oe.jsxs(ih,{nav:!0,isOpen:o,toggle:()=>a(!o),children:[oe.jsx(rf,{nav:!0,caret:!0,style:{color:"rgb(150, 150, 150)",outline:"none",boxShadow:"none"},children:l}),oe.jsx(dC,{children:i?oe.jsx(Oc,{onClick:s,children:"sign out"}):oe.jsxs(oe.Fragment,{children:[oe.jsx(Oc,{onClick:t,children:"sign in"}),oe.jsx(Oc,{onClick:e,children:"register"})]})})]})]})}function wU({isOpen:e,toggle:t}){const[i,s]=I.useState(""),[n,r]=I.useState(""),[o,a]=I.useState(""),[l,d]=I.useState(0),[h,p]=I.useState(!0);I.useEffect(()=>{e||(s(""),r(""),a(""),d(0))},[e]);const f=async v=>{if(v.preventDefault(),n!=o){p(!1);return}try{const y=await fetch(`${El}/user/register`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:i,password:n})}),S=await y.json();y.ok?(console.log("registration success!: ",S),t()):(console.error("registration failed: ",S.message),d(y.status))}catch(y){console.error("registration error: ",y)}};return oe.jsxs(iu,{isOpen:e,toggle:t,children:[oe.jsx(hC,{children:"register"}),oe.jsx(gC,{children:oe.jsxs(CD,{children:[oe.jsxs(Rd,{children:[oe.jsx(Ed,{for:"email",children:"Email:"}),oe.jsx(Fc,{id:"email",name:"email",type:"email",value:i,invalid:l==409,onChange:v=>{s(v.target.value),d(0)}}),oe.jsx(hy,{children:"User already exists!"})]}),oe.jsxs(Rd,{children:[oe.jsx(Ed,{for:"password",children:"Password:"}),oe.jsx(Fc,{id:"password",name:"password",type:"password",value:n,invalid:!h,onChange:v=>{r(v.target.value),p(!0)}})]}),oe.jsxs(Rd,{children:[oe.jsx(Ed,{for:"passwordConfirm",children:"Please re-enter password:"}),oe.jsx(Fc,{id:"passwordConfirm",name:"passwordConfirm",type:"password",value:o,invalid:!h,onChange:v=>{a(v.target.value),p(!0)}}),oe.jsx(hy,{children:"Passwords don't match!"})]})]})}),oe.jsxs(pC,{children:[oe.jsx(ra,{style:{backgroundColor:"#d1772e"},onClick:f,children:"register"}),oe.jsx(ra,{onClick:t,children:"cancel"})]})]})}function xU({isOpen:e,toggle:t}){const{login:i}=yC(),[s,n]=I.useState(""),[r,o]=I.useState(""),[a,l]=I.useState(!0);I.useEffect(()=>{e||(n(""),o(""))},[e]);const d=async h=>{h.preventDefault();try{const p=await fetch(`${El}/user/login`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:s,password:r})}),f=await p.json();p.ok?(console.log("login success!: ",f),i({email:s,data:f}),t()):(console.error("login error: ",f.message),l(!a))}catch(p){console.error("login error: ",p)}};return oe.jsxs(iu,{isOpen:e,toggle:t,children:[oe.jsx(hC,{children:"login"}),oe.jsx(gC,{children:oe.jsxs(CD,{children:[oe.jsxs(Rd,{children:[oe.jsx(Ed,{for:"email",children:"Email"}),oe.jsx(Fc,{id:"email",name:"email",placeholder:"Email",type:"email",value:s,invalid:!a,onChange:h=>{n(h.target.value),l(!0)}})]}),oe.jsxs(Rd,{children:[oe.jsx(Ed,{for:"password",children:"Password"}),oe.jsx(Fc,{id:"password",name:"password",placeholder:"Password",type:"password",value:r,invalid:!a,onChange:h=>{o(h.target.value),l(!0)}}),oe.jsx(hy,{children:"Invalid email or password!"})]})]})}),oe.jsxs(pC,{children:[oe.jsx(ra,{style:{backgroundColor:"#d1772e"},onClick:d,children:"login"}),oe.jsx(ra,{onClick:t,children:"cancel"})]})]})}const MU="/assets/film_camera-aUZyPkW0.jpg";function DU(){return oe.jsx("div",{className:"image-container",children:oe.jsx("img",{src:MU,style:{width:"800px"}})})}var rh=class{constructor(){this.allSyncListeners=new Map,this.allAsyncListeners=new Map,this.globalSyncListeners=new Set,this.globalAsyncListeners=new Set,this.asyncFunctionsQueue=[],this.scheduled=!1,this.firedEvents={}}setFrameworkOverrides(e){this.frameworkOverrides=e}getListeners(e,t,i){const s=t?this.allAsyncListeners:this.allSyncListeners;let n=s.get(e);return!n&&i&&(n=new Set,s.set(e,n)),n}noRegisteredListenersExist(){return this.allSyncListeners.size===0&&this.allAsyncListeners.size===0&&this.globalSyncListeners.size===0&&this.globalAsyncListeners.size===0}addEventListener(e,t,i=!1){this.getListeners(e,i,!0).add(t)}removeEventListener(e,t,i=!1){const s=this.getListeners(e,i,!1);s&&(s.delete(t),s.size===0&&(i?this.allAsyncListeners:this.allSyncListeners).delete(e))}addGlobalListener(e,t=!1){(t?this.globalAsyncListeners:this.globalSyncListeners).add(e)}removeGlobalListener(e,t=!1){(t?this.globalAsyncListeners:this.globalSyncListeners).delete(e)}dispatchEvent(e){const t=e;this.dispatchToListeners(t,!0),this.dispatchToListeners(t,!1),this.firedEvents[t.type]=!0}dispatchEventOnce(e){this.firedEvents[e.type]||this.dispatchEvent(e)}dispatchToListeners(e,t){const i=e.type;if(t&&"event"in e){const a=e.event;a instanceof Event&&(e.eventPath=a.composedPath())}const s=(a,l)=>a.forEach(d=>{if(!l.has(d))return;const h=this.frameworkOverrides?()=>this.frameworkOverrides.wrapIncoming(()=>d(e)):()=>d(e);t?this.dispatchAsync(h):h()}),n=this.getListeners(i,t,!1)??new Set,r=new Set(n);r.size>0&&s(r,n),new Set(t?this.globalAsyncListeners:this.globalSyncListeners).forEach(a=>{const l=this.frameworkOverrides?()=>this.frameworkOverrides.wrapIncoming(()=>a(i,e)):()=>a(i,e);t?this.dispatchAsync(l):l()})}dispatchAsync(e){if(this.asyncFunctionsQueue.push(e),!this.scheduled){const t=()=>{window.setTimeout(this.flushAsyncQueue.bind(this),0)};this.frameworkOverrides?this.frameworkOverrides.wrapIncoming(t):t(),this.scheduled=!0}}flushAsyncQueue(){this.scheduled=!1;const e=this.asyncFunctionsQueue.slice();this.asyncFunctionsQueue=[],e.forEach(t=>t())}},bF=(e=>(e.CommunityCoreModule="@ag-grid-community/core",e.InfiniteRowModelModule="@ag-grid-community/infinite-row-model",e.ClientSideRowModelModule="@ag-grid-community/client-side-row-model",e.CsvExportModule="@ag-grid-community/csv-export",e.EnterpriseCoreModule="@ag-grid-enterprise/core",e.RowGroupingModule="@ag-grid-enterprise/row-grouping",e.ColumnsToolPanelModule="@ag-grid-enterprise/column-tool-panel",e.FiltersToolPanelModule="@ag-grid-enterprise/filter-tool-panel",e.MenuModule="@ag-grid-enterprise/menu",e.SetFilterModule="@ag-grid-enterprise/set-filter",e.MultiFilterModule="@ag-grid-enterprise/multi-filter",e.StatusBarModule="@ag-grid-enterprise/status-bar",e.SideBarModule="@ag-grid-enterprise/side-bar",e.RangeSelectionModule="@ag-grid-enterprise/range-selection",e.MasterDetailModule="@ag-grid-enterprise/master-detail",e.RichSelectModule="@ag-grid-enterprise/rich-select",e.GridChartsModule="@ag-grid-enterprise/charts",e.ViewportRowModelModule="@ag-grid-enterprise/viewport-row-model",e.ServerSideRowModelModule="@ag-grid-enterprise/server-side-row-model",e.ExcelExportModule="@ag-grid-enterprise/excel-export",e.ClipboardModule="@ag-grid-enterprise/clipboard",e.SparklinesModule="@ag-grid-enterprise/sparklines",e.AdvancedFilterModule="@ag-grid-enterprise/advanced-filter",e.AngularModule="@ag-grid-community/angular",e.ReactModule="@ag-grid-community/react",e.VueModule="@ag-grid-community/vue",e))(bF||{}),rk={};function DD(e,t){rk[t]||(e(),rk[t]=!0)}function Dr(e,...t){console.log("AG Grid: "+e,...t)}function ae(e,...t){DD(()=>console.warn("AG Grid: "+e,...t),e+(t==null?void 0:t.join("")))}function at(e,...t){DD(()=>console.error("AG Grid: "+e,...t),e+(t==null?void 0:t.join("")))}function RD(e){return!!(e&&e.constructor&&e.call&&e.apply)}function RU(e){EU(e,400)}var l0=[],c0=!1;function ok(e){l0.push(e),!c0&&(c0=!0,window.setTimeout(()=>{const t=l0.slice();l0.length=0,c0=!1,t.forEach(i=>i())},0))}function EU(e,t=0){e.length>0&&window.setTimeout(()=>e.forEach(i=>i()),t)}function Hs(e,t){let i;return function(...s){const n=this;window.clearTimeout(i),i=window.setTimeout(function(){e.apply(n,s)},t)}}function ak(e,t){let i=0;return function(...s){const n=this,r=new Date().getTime();r-i<t||(i=r,e.apply(n,s))}}function AU(e,t,i=100,s){const n=new Date().getTime();let r=null,o=!1;const a=()=>{const l=new Date().getTime()-n>i;(e()||l)&&(t(),o=!0,r!=null&&(window.clearInterval(r),r=null))};a(),o||(r=window.setInterval(a,10))}function TU(...e){return t=>e.reduce((i,s)=>s(i),t)}function Jo(e){return e==null||e===""?null:e}function ve(e,t=!1){return e!=null&&(e!==""||t)}function rt(e){return!ve(e)}function wn(e){return e==null||e.length===0}function Jx(e){return e!=null&&typeof e.toString=="function"?e.toString():null}function Nc(e){if(e===void 0)return;if(e===null||e==="")return null;if(typeof e=="number")return isNaN(e)?void 0:e;const t=parseInt(e,10);return isNaN(t)?void 0:t}function eM(e){if(e!==void 0)return e===null||e===""?!1:tM(e)}function tM(e){return typeof e=="boolean"?e:typeof e=="string"?e.toUpperCase()==="TRUE"||e=="":!1}function Dp(e,t){const i=e?JSON.stringify(e):null,s=t?JSON.stringify(t):null;return i===s}function IU(e,t,i=!1){const s=e==null,n=t==null;if(e&&e.toNumber&&(e=e.toNumber()),t&&t.toNumber&&(t=t.toNumber()),s&&n)return 0;if(s)return-1;if(n)return 1;function r(o,a){return o>a?1:o<a?-1:0}if(typeof e!="string"||!i)return r(e,t);try{return e.localeCompare(t)}catch{return r(e,t)}}function Gv(e){if(e instanceof Set||e instanceof Map){const t=[];return e.forEach(i=>t.push(i)),t}return Object.values(e)}function SF(e,t){return e.get("rowModelType")===t}function Ut(e){return SF(e,"clientSide")}function wo(e){return SF(e,"serverSide")}function ys(e,t){return e.get("domLayout")===t}function my(e){return Cy(e)!==void 0}function vy(e){return!e.get("suppressAsyncEvents")}function wF(e){return typeof e.get("getRowHeight")=="function"}function LU(e,t){return t?!e.get("enableStrictPivotColumnOrder"):e.get("maintainColumnOrder")}function Cl(e,t,i=!1,s){if(s==null&&(s=e.environment.getDefaultRowHeight()),wF(e)){if(i)return{height:s,estimated:!0};const o={node:t,data:t.data},a=e.getCallback("getRowHeight")(o);if(iM(a))return a===0&&ae("The return of `getRowHeight` cannot be zero. If the intention is to hide rows, use a filter instead."),{height:Math.max(1,a),estimated:!1}}if(t.detail&&e.get("masterDetail"))return kU(e);const n=e.get("rowHeight");return{height:n&&iM(n)?n:s,estimated:!1}}function kU(e){if(e.get("detailRowAutoHeight"))return{height:1,estimated:!1};const t=e.get("detailRowHeight");return iM(t)?{height:t,estimated:!1}:{height:300,estimated:!1}}function zc(e){const{environment:t}=e,i=e.get("rowHeight");if(!i||rt(i))return t.getDefaultRowHeight();const s=t.refreshRowHeightVariable();return s!==-1?s:(ae("row height must be a number if not using standard row model"),t.getDefaultRowHeight())}function iM(e){return!isNaN(e)&&typeof e=="number"&&isFinite(e)}function Rp(e,t,i){const s=t[e.getDomDataKey()];return s?s[i]:void 0}function Yc(e,t,i,s){const n=e.getDomDataKey();let r=t[n];rt(r)&&(r={},t[n]=r),r[i]=s}function yi(e){let t=null;const i=e.get("getDocument");return i&&ve(i)?t=i():e.eGridDiv&&(t=e.eGridDiv.ownerDocument),t&&ve(t)?t:document}function xF(e){return yi(e).defaultView||window}function Ep(e){return e.eGridDiv.getRootNode()}function ui(e){return Ep(e).activeElement}function MF(e){const t=yi(e),i=ui(e);return i===null||i===t.body}function Ad(e){return e.get("ensureDomOrder")?!1:e.get("animateRows")}function CC(e){return!(e.get("paginateChildRows")||e.get("groupHideOpenParents")||ys(e,"print"))}function eo(e){const t=e.get("autoGroupColumnDef");return!(t!=null&&t.comparator)&&!e.get("treeData")}function sM(e){const t=e.get("groupAggFiltering");if(typeof t=="function")return e.getCallback("groupAggFiltering");if(t===!0)return()=>!0}function DF(e){const t=e.get("grandTotalRow");if(t)return t;if(e.get("groupIncludeTotalFooter"))return"bottom"}function RF(e){const t=e.get("groupTotalRow");if(typeof t=="function")return e.getCallback("groupTotalRow");if(t)return()=>t;const i=e.get("groupIncludeFooter");if(typeof i=="function"){const s=e.getCallback("groupIncludeFooter");return n=>s(n)?"bottom":void 0}return()=>i?"bottom":void 0}function EF(e){return e.exists("groupDisplayType")?e.get("groupDisplayType")==="multipleColumns":e.get("groupHideOpenParents")}function bC(e,t){return t?!1:e.get("groupDisplayType")==="groupRows"}function oh(e){const t=e.getCallback("getRowId");return t===void 0?t:i=>{let s=t(i);return typeof s!="string"&&(ae("The getRowId callback must return a string. The ID ",s," is being cast to a string."),s=String(s)),s}}function jd(e){return(e==null?void 0:e.checkboxes)??!0}function yy(e){return(e==null?void 0:e.mode)==="multiRow"&&(e.headerCheckbox??!0)}function PU(e){return(e==null?void 0:e.hideDisabledCheckboxes)??!1}function OU(e){return typeof e.get("rowSelection")!="string"}function FU(e){return e.get("cellSelection")!==void 0}function NU(e){const t=e.get("cellSelection");return t!==void 0?typeof t!="boolean"?(t==null?void 0:t.suppressMultiRanges)??!1:!1:e.get("suppressMultiRangeSelection")}function la(e){const t=e.get("cellSelection");return t!==void 0?!!t:e.get("enableRangeSelection")}function zU(e){var s;const t=e.get("cellSelection");return t!==void 0?typeof t!="boolean"?((s=t.handle)==null?void 0:s.mode)==="range":!1:e.get("enableRangeHandle")}function lk(e){var s;const t=e.get("cellSelection");return t!==void 0?typeof t!="boolean"?((s=t.handle)==null?void 0:s.mode)==="fill":!1:e.get("enableFillHandle")}function AF(e){const t=e.get("rowSelection")??"single";if(typeof t=="string"){const i=e.get("suppressRowClickSelection"),s=e.get("suppressRowDeselection");return i&&s?!1:i?"enableDeselection":s?"enableSelection":!0}return t.mode==="singleRow"||t.mode==="multiRow"?t.enableClickSelection??!1:!1}function BU(e){const t=AF(e);return t===!0||t==="enableSelection"}function ck(e){const t=AF(e);return t===!0||t==="enableDeselection"}function ED(e){const t=e.get("rowSelection");return typeof t=="string"?e.get("isRowSelectable"):t==null?void 0:t.isRowSelectable}function Cy(e){const t=e.get("rowSelection");if(typeof t=="string")switch(t){case"multiple":return"multiRow";case"single":return"singleRow";default:return}return t==null?void 0:t.mode}function TF(e){return Cy(e)==="multiRow"}function GU(e){const t=e.get("rowSelection");return typeof t=="string"?e.get("rowMultiSelectWithClick"):(t==null?void 0:t.enableSelectionWithoutKeys)??!1}function AD(e){const t=e.get("rowSelection");if(typeof t=="string"){const i=e.get("groupSelectsChildren"),s=e.get("groupSelectsFiltered");return i&&s?"filteredDescendants":i?"descendants":"self"}return(t==null?void 0:t.mode)==="multiRow"?t.groupSelects:void 0}function Kc(e){const t=AD(e);return t==="descendants"||t==="filteredDescendants"}function u0(e){return e.isModuleRegistered("@ag-grid-enterprise/set-filter")&&!e.get("suppressSetFilterByDefault")}function nt(e){if(!(!e||!e.length))return e[e.length-1]}function Tl(e,t,i){return e==null&&t==null?!0:e!=null&&t!=null&&e.length===t.length&&e.every((s,n)=>i?i(s,t[n]):t[n]===s)}function HU(e){return e.sort((t,i)=>t-i)}function IF(e,t){const i=e.indexOf(t);i>=0&&(e[i]=e[e.length-1],e.pop())}function js(e,t){const i=e.indexOf(t);i>=0&&e.splice(i,1)}function jU(e,t){for(let i=0;i<t.length;i++)IF(e,t[i])}function VU(e,t){for(let i=0;i<t.length;i++)js(e,t[i])}function by(e,t,i){e.splice(i,0,t)}function LF(e,t,i){VU(e,t),t.slice().reverse().forEach(s=>by(e,s,i))}function Bc(e,t){return e.indexOf(t)>-1}function _U(e){return(e==null?void 0:e.flatMap(t=>t))??[]}function uk(e,t){t==null||e==null||t.forEach(i=>e.push(i))}var kF="__ag_Grid_Stop_Propagation",WU=["touchstart","touchend","touchmove","touchcancel","scroll"],d0={};function Vd(e){e[kF]=!0}function ea(e){return e[kF]===!0}var PF=(()=>{const e={select:"input",change:"input",submit:"form",reset:"form",error:"img",load:"img",abort:"img"};return i=>{if(typeof d0[i]=="boolean")return d0[i];const s=document.createElement(e[i]||"div");return i="on"+i,d0[i]=i in s}})();function nM(e,t,i){let s=t;for(;s;){const n=Rp(e,s,i);if(n)return n;s=s.parentElement}return null}function UU(e,t){return!t||!e?!1:YU(t).indexOf(e)>=0}function $U(e){const t=[];let i=e.target;for(;i;)t.push(i),i=i.parentElement;return t}function YU(e){const t=e;return t.path?t.path:t.composedPath?t.composedPath():$U(t)}function KU(e,t,i,s){const r=Bc(WU,i)?{passive:!0}:void 0;e&&e.addEventListener&&e.addEventListener(t,i,s,r)}var re=class{constructor(){this.destroyFunctions=[],this.destroyed=!1,this.__v_skip=!0,this.propertyListenerId=0,this.lastChangeSetIdLookup={},this.isAlive=()=>!this.destroyed}preWireBeans(e){this.frameworkOverrides=e.frameworkOverrides,this.stubContext=e.context,this.eventService=e.eventService,this.gos=e.gos,this.localeService=e.localeService}getFrameworkOverrides(){return this.frameworkOverrides}destroy(){for(let e=0;e<this.destroyFunctions.length;e++)this.destroyFunctions[e]();this.destroyFunctions.length=0,this.destroyed=!0,this.dispatchLocalEvent({type:"destroyed"})}addEventListener(e,t,i){this.localEventService||(this.localEventService=new rh),this.localEventService.addEventListener(e,t,i)}removeEventListener(e,t,i){this.localEventService&&this.localEventService.removeEventListener(e,t,i)}dispatchLocalEvent(e){this.localEventService&&this.localEventService.dispatchEvent(e)}addManagedElementListeners(e,t){return this._setupListeners(e,t)}addManagedEventListeners(e){return this._setupListeners(this.eventService,e)}addManagedListeners(e,t){return this._setupListeners(e,t)}_setupListeners(e,t){const i=[];for(const s in t){const n=t[s];n&&i.push(this._setupListener(e,s,n))}return i}_setupListener(e,t,i){if(this.destroyed)return()=>null;e instanceof HTMLElement?KU(this.getFrameworkOverrides(),e,t,i):e.addEventListener(t,i);const s=()=>(e.removeEventListener(t,i),null);return this.destroyFunctions.push(s),()=>(s(),this.destroyFunctions=this.destroyFunctions.filter(n=>n!==s),null)}setupGridOptionListener(e,t){this.gos.addPropertyEventListener(e,t);const i=()=>(this.gos.removePropertyEventListener(e,t),null);return this.destroyFunctions.push(i),()=>(i(),this.destroyFunctions=this.destroyFunctions.filter(s=>s!==i),null)}addManagedPropertyListener(e,t){return this.destroyed?()=>null:this.setupGridOptionListener(e,t)}addManagedPropertyListeners(e,t){if(this.destroyed)return;const i=e.join("-")+this.propertyListenerId++,s=n=>{if(n.changeSet){if(n.changeSet&&n.changeSet.id===this.lastChangeSetIdLookup[i])return;this.lastChangeSetIdLookup[i]=n.changeSet.id}const r={type:"gridPropertyChanged",changeSet:n.changeSet,source:n.source};t(r)};e.forEach(n=>this.setupGridOptionListener(n,s))}addDestroyFunc(e){this.isAlive()?this.destroyFunctions.push(e):e()}createManagedBean(e,t){const i=this.createBean(e,t);return this.addDestroyFunc(this.destroyBean.bind(this,e,t)),i}createBean(e,t,i){return(t||this.stubContext).createBean(e,i)}destroyBean(e,t){return(t||this.stubContext).destroyBean(e)}destroyBeans(e,t){return(t||this.stubContext).destroyBeans(e)}};function Ns(e){return e instanceof Hv}var Hv=class extends re{constructor(e,t,i,s){super(),this.isColumn=!1,this.expandable=!1,this.instanceId=NF(),this.expandableListenerRemoveCallback=null,this.colGroupDef=e,this.groupId=t,this.expanded=!!e&&!!e.openByDefault,this.padding=i,this.level=s}destroy(){this.expandableListenerRemoveCallback&&this.reset(null,void 0),super.destroy()}reset(e,t){this.colGroupDef=e,this.level=t,this.originalParent=null,this.expandableListenerRemoveCallback&&this.expandableListenerRemoveCallback(),this.children=void 0,this.expandable=void 0}getInstanceId(){return this.instanceId}setOriginalParent(e){this.originalParent=e}getOriginalParent(){return this.originalParent}getLevel(){return this.level}isVisible(){return this.children?this.children.some(e=>e.isVisible()):!1}isPadding(){return this.padding}setExpanded(e){this.expanded=e===void 0?!1:e,this.dispatchLocalEvent({type:"expandedChanged"})}isExpandable(){return this.expandable}isExpanded(){return this.expanded}getGroupId(){return this.groupId}getId(){return this.getGroupId()}setChildren(e){this.children=e}getChildren(){return this.children}getColGroupDef(){return this.colGroupDef}getLeafColumns(){const e=[];return this.addLeafColumns(e),e}addLeafColumns(e){this.children&&this.children.forEach(t=>{bl(t)?e.push(t):Ns(t)&&t.addLeafColumns(e)})}getColumnGroupShow(){const e=this.colGroupDef;if(e)return e.columnGroupShow}setupExpandable(){this.setExpandable(),this.expandableListenerRemoveCallback&&this.expandableListenerRemoveCallback();const e=this.onColumnVisibilityChanged.bind(this);this.getLeafColumns().forEach(t=>t.addEventListener("visibleChanged",e)),this.expandableListenerRemoveCallback=()=>{this.getLeafColumns().forEach(t=>t.removeEventListener("visibleChanged",e)),this.expandableListenerRemoveCallback=null}}setExpandable(){if(this.isPadding())return;let e=!1,t=!1,i=!1;const s=this.findChildrenRemovingPadding();for(let r=0,o=s.length;r<o;r++){const a=s[r];if(!a.isVisible())continue;const l=a.getColumnGroupShow();l==="open"?(e=!0,i=!0):l==="closed"?(t=!0,i=!0):(e=!0,t=!0)}const n=e&&t&&i;this.expandable!==n&&(this.expandable=n,this.dispatchLocalEvent({type:"expandableChanged"}))}findChildrenRemovingPadding(){const e=[],t=i=>{i.forEach(s=>{Ns(s)&&s.isPadding()?t(s.children):e.push(s)})};return t(this.children),e}onColumnVisibilityChanged(){this.setExpandable()}},OF="ag-Grid-ControlsColumn",qU=class extends re{constructor(){super(...arguments),this.beanName="controlsColService"}createControlsCols(){const{gos:e}=this,t=e.get("rowSelection");if(!t||typeof t!="object")return[];const i=jd(t),s=yy(t);if(i||s){const n=e.get("selectionColumnDef"),o={maxWidth:50,resizable:!1,suppressHeaderMenuButton:!0,sortable:!1,suppressMovable:!0,lockPosition:e.get("enableRtl")?"right":"left",comparator(l,d,h,p){const f=h.isSelected(),v=p.isSelected();return f&&v?0:f?1:-1},editable:!1,suppressFillHandle:!0,...n,colId:`${OF}`},a=new kD(o,null,o.colId,!1);return this.createBean(a),[a]}return[]}},SC="ag-Grid-AutoColumn";function TD(e){const t=[],i=s=>{for(let n=0;n<s.length;n++){const r=s[n];bl(r)?t.push(r):Ns(r)&&i(r.getChildren())}};return i(e),t}function Ko(e){return e.reduce((t,i)=>t+i.getActualWidth(),0)}function al(e,t,i){const s={};if(!t)return;ca(null,t,r=>{s[r.getInstanceId()]=r}),i&&ca(null,i,r=>{s[r.getInstanceId()]=null});const n=Object.values(s).filter(r=>r!=null);e.destroyBeans(n)}function rM(e){return e.getId().startsWith(SC)}function cf(e){return e.getColId().startsWith(OF)}function jv(e){let t=[];return e instanceof Array?e.some(s=>typeof s!="string")?ae("if colDef.type is supplied an array it should be of type 'string[]'"):t=e:typeof e=="string"?t=e.split(","):ae("colDef.type should be of type 'string' | 'string[]'"),t}var ID=class{constructor(e){this.frameworkOverrides=e,this.wrappedListeners=new Map,this.wrappedGlobalListeners=new Map}wrap(e){let t=e;return this.frameworkOverrides.shouldWrapOutgoing&&(t=i=>{this.frameworkOverrides.wrapOutgoing(()=>e(i))},this.wrappedListeners.set(e,t)),t}wrapGlobal(e){let t=e;return this.frameworkOverrides.shouldWrapOutgoing&&(t=(i,s)=>{this.frameworkOverrides.wrapOutgoing(()=>e(i,s))},this.wrappedGlobalListeners.set(e,t)),t}unwrap(e){return this.wrappedListeners.get(e)??e}unwrapGlobal(e){return this.wrappedGlobalListeners.get(e)??e}},LD=new Set(["__proto__","constructor","prototype"]);function xr(e,t){if(e!=null){if(Array.isArray(e)){for(let i=0;i<e.length;i++)t(i.toString(),e[i]);return}for(const[i,s]of Object.entries(e))t(i,s)}}function FF(e){const t={},i=Object.keys(e);for(let s=0;s<i.length;s++){if(LD.has(i[s]))continue;const n=i[s],r=e[n];t[n]=r}return t}function oM(e,t){if(!e)return;const i=e,s={};return Object.keys(i).forEach(n=>{if(t&&t.indexOf(n)>=0||LD.has(n))return;const r=i[n];lM(r)&&r.constructor===Object?s[n]=oM(r):s[n]=r}),s}function aM(e){if(!e)return[];const t=Object;if(typeof t.values=="function")return t.values(e);const i=[];for(const s in e)e.hasOwnProperty(s)&&e.propertyIsEnumerable(s)&&i.push(e[s]);return i}function zs(e,t,i=!0,s=!1){ve(t)&&xr(t,(n,r)=>{if(LD.has(n))return;let o=e[n];o!==r&&(s&&o==null&&r!=null&&typeof r=="object"&&r.constructor===Object&&(o={},e[n]=o),lM(r)&&lM(o)&&!Array.isArray(o)?zs(o,r,i,s):(i||r!==void 0)&&(e[n]=r))})}function op(e,t,i){if(!t||!e)return;if(!i)return e[t];const s=t.split(".");let n=e;for(let r=0;r<s.length;r++){if(n==null)return;n=n[s[r]]}return n}function lM(e){return typeof e=="object"&&e!==null}var ZU={resizable:!0,sortable:!0},XU=0;function NF(){return XU++}function bl(e){return e instanceof kD}var kD=class extends re{constructor(e,t,i,s){super(),this.isColumn=!0,this.instanceId=NF(),this.autoHeaderHeight=null,this.moving=!1,this.menuVisible=!1,this.lastLeftPinned=!1,this.firstRightPinned=!1,this.filterActive=!1,this.columnEventService=new rh,this.tooltipEnabled=!1,this.rowGroupActive=!1,this.pivotActive=!1,this.aggregationActive=!1,this.colDef=e,this.userProvidedColDef=t,this.colId=i,this.primary=s,this.setState(e)}wireBeans(e){this.columnHoverService=e.columnHoverService}getInstanceId(){return this.instanceId}setState(e){e.sort!==void 0?(e.sort==="asc"||e.sort==="desc")&&(this.sort=e.sort):(e.initialSort==="asc"||e.initialSort==="desc")&&(this.sort=e.initialSort);const t=e.sortIndex,i=e.initialSortIndex;t!==void 0?t!==null&&(this.sortIndex=t):i!==null&&(this.sortIndex=i);const s=e.hide,n=e.initialHide;s!==void 0?this.visible=!s:this.visible=!n,e.pinned!==void 0?this.setPinned(e.pinned):this.setPinned(e.initialPinned);const r=e.flex,o=e.initialFlex;r!==void 0?this.flex=r:o!==void 0&&(this.flex=o)}setColDef(e,t,i){this.colDef=e,this.userProvidedColDef=t,this.initMinAndMaxWidths(),this.initDotNotation(),this.initTooltip(),this.columnEventService.dispatchEvent(this.createColumnEvent("colDefChanged",i))}getUserProvidedColDef(){return this.userProvidedColDef}setParent(e){this.parent=e}getParent(){return this.parent}setOriginalParent(e){this.originalParent=e}getOriginalParent(){return this.originalParent}postConstruct(){this.initMinAndMaxWidths(),this.resetActualWidth("gridInitializing"),this.initDotNotation(),this.initTooltip()}initDotNotation(){const e=this.gos.get("suppressFieldDotNotation");this.fieldContainsDots=ve(this.colDef.field)&&this.colDef.field.indexOf(".")>=0&&!e,this.tooltipFieldContainsDots=ve(this.colDef.tooltipField)&&this.colDef.tooltipField.indexOf(".")>=0&&!e}initMinAndMaxWidths(){const e=this.colDef;this.minWidth=e.minWidth??this.gos.environment.getDefaultColumnMinWidth(),this.maxWidth=e.maxWidth??Number.MAX_SAFE_INTEGER}initTooltip(){this.tooltipEnabled=ve(this.colDef.tooltipField)||ve(this.colDef.tooltipValueGetter)||ve(this.colDef.tooltipComponent)}resetActualWidth(e){const t=this.calculateColInitialWidth(this.colDef);this.setActualWidth(t,e,!0)}calculateColInitialWidth(e){let t;const i=Nc(e.width),s=Nc(e.initialWidth);return i!=null?t=i:s!=null?t=s:t=200,Math.max(Math.min(t,this.maxWidth),this.minWidth)}isEmptyGroup(){return!1}isRowGroupDisplayed(e){if(rt(this.colDef)||rt(this.colDef.showRowGroup))return!1;const t=this.colDef.showRowGroup===!0,i=this.colDef.showRowGroup===e;return t||i}isPrimary(){return this.primary}isFilterAllowed(){return!!this.colDef.filter}isFieldContainsDots(){return this.fieldContainsDots}isTooltipEnabled(){return this.tooltipEnabled}isTooltipFieldContainsDots(){return this.tooltipFieldContainsDots}getHighlighted(){return this.highlighted}addEventListener(e,t){var s;this.frameworkOverrides.shouldWrapOutgoing&&!this.frameworkEventListenerService&&(this.columnEventService.setFrameworkOverrides(this.frameworkOverrides),this.frameworkEventListenerService=new ID(this.frameworkOverrides));const i=((s=this.frameworkEventListenerService)==null?void 0:s.wrap(t))??t;this.columnEventService.addEventListener(e,i)}removeEventListener(e,t){var s;const i=((s=this.frameworkEventListenerService)==null?void 0:s.unwrap(t))??t;this.columnEventService.removeEventListener(e,i)}createColumnFunctionCallbackParams(e){return this.gos.addGridCommonParams({node:e,data:e.data,column:this,colDef:this.colDef})}isSuppressNavigable(e){if(typeof this.colDef.suppressNavigable=="boolean")return this.colDef.suppressNavigable;if(typeof this.colDef.suppressNavigable=="function"){const t=this.createColumnFunctionCallbackParams(e),i=this.colDef.suppressNavigable;return i(t)}return!1}isCellEditable(e){if(e.group){if(this.gos.get("treeData")){if(!e.data&&!this.gos.get("enableGroupEdit"))return!1}else if(!this.gos.get("enableGroupEdit"))return!1}return this.isColumnFunc(e,this.colDef.editable)}isSuppressFillHandle(){return!!this.colDef.suppressFillHandle}isAutoHeight(){return!!this.colDef.autoHeight}isAutoHeaderHeight(){return!!this.colDef.autoHeaderHeight}isRowDrag(e){return this.isColumnFunc(e,this.colDef.rowDrag)}isDndSource(e){return this.isColumnFunc(e,this.colDef.dndSource)}isCellCheckboxSelection(e){const t=this.gos.get("rowSelection");if(t&&typeof t!="string"){const i=cf(this)&&jd(t);return this.isColumnFunc(e,i)}else return this.isColumnFunc(e,this.colDef.checkboxSelection)}isSuppressPaste(e){return this.isColumnFunc(e,this.colDef?this.colDef.suppressPaste:null)}isResizable(){return!!this.getColDefValue("resizable")}getColDefValue(e){return this.colDef[e]??ZU[e]}isColumnFunc(e,t){if(typeof t=="boolean")return t;if(typeof t=="function"){const i=this.createColumnFunctionCallbackParams(e);return t(i)}return!1}setHighlighted(e){this.highlighted!==e&&(this.highlighted=e,this.columnEventService.dispatchEvent(this.createColumnEvent("headerHighlightChanged","uiColumnMoved")))}setMoving(e,t){this.moving=e,this.columnEventService.dispatchEvent(this.createColumnEvent("movingChanged",t))}createColumnEvent(e,t){return this.gos.addGridCommonParams({type:e,column:this,columns:[this],source:t})}isMoving(){return this.moving}getSort(){return this.sort}setSort(e,t){this.sort!==e&&(this.sort=e,this.columnEventService.dispatchEvent(this.createColumnEvent("sortChanged",t))),this.dispatchStateUpdatedEvent("sort")}isSortable(){return!!this.getColDefValue("sortable")}isSortAscending(){return this.sort==="asc"}isSortDescending(){return this.sort==="desc"}isSortNone(){return rt(this.sort)}isSorting(){return ve(this.sort)}getSortIndex(){return this.sortIndex}setSortIndex(e){this.sortIndex=e,this.dispatchStateUpdatedEvent("sortIndex")}setMenuVisible(e,t){this.menuVisible!==e&&(this.menuVisible=e,this.columnEventService.dispatchEvent(this.createColumnEvent("menuVisibleChanged",t)))}isMenuVisible(){return this.menuVisible}setAggFunc(e){this.aggFunc=e,this.dispatchStateUpdatedEvent("aggFunc")}getAggFunc(){return this.aggFunc}getLeft(){return this.left}getOldLeft(){return this.oldLeft}getRight(){return this.left+this.actualWidth}setLeft(e,t){this.oldLeft=this.left,this.left!==e&&(this.left=e,this.columnEventService.dispatchEvent(this.createColumnEvent("leftChanged",t)))}isFilterActive(){return this.filterActive}setFilterActive(e,t,i){this.filterActive!==e&&(this.filterActive=e,this.columnEventService.dispatchEvent(this.createColumnEvent("filterActiveChanged",t)));const s=this.createColumnEvent("filterChanged",t);i&&zs(s,i),this.columnEventService.dispatchEvent(s)}isHovered(){return this.columnHoverService.isHovered(this)}setPinned(e){e===!0||e==="left"?this.pinned="left":e==="right"?this.pinned="right":this.pinned=null,this.dispatchStateUpdatedEvent("pinned")}setFirstRightPinned(e,t){this.firstRightPinned!==e&&(this.firstRightPinned=e,this.columnEventService.dispatchEvent(this.createColumnEvent("firstRightPinnedChanged",t)))}setLastLeftPinned(e,t){this.lastLeftPinned!==e&&(this.lastLeftPinned=e,this.columnEventService.dispatchEvent(this.createColumnEvent("lastLeftPinnedChanged",t)))}isFirstRightPinned(){return this.firstRightPinned}isLastLeftPinned(){return this.lastLeftPinned}isPinned(){return this.pinned==="left"||this.pinned==="right"}isPinnedLeft(){return this.pinned==="left"}isPinnedRight(){return this.pinned==="right"}getPinned(){return this.pinned}setVisible(e,t){const i=e===!0;this.visible!==i&&(this.visible=i,this.columnEventService.dispatchEvent(this.createColumnEvent("visibleChanged",t))),this.dispatchStateUpdatedEvent("hide")}isVisible(){return this.visible}isSpanHeaderHeight(){return!this.getColDef().suppressSpanHeaderHeight}getColumnGroupPaddingInfo(){let e=this.getParent();if(!e||!e.isPadding())return{numberOfParents:0,isSpanningTotal:!1};const t=e.getPaddingLevel()+1;let i=!0;for(;e;){if(!e.isPadding()){i=!1;break}e=e.getParent()}return{numberOfParents:t,isSpanningTotal:i}}getColDef(){return this.colDef}getDefinition(){return this.colDef}getColumnGroupShow(){return this.colDef.columnGroupShow}getColId(){return this.colId}getId(){return this.colId}getUniqueId(){return this.colId}getActualWidth(){return this.actualWidth}getAutoHeaderHeight(){return this.autoHeaderHeight}setAutoHeaderHeight(e){const t=e!==this.autoHeaderHeight;return this.autoHeaderHeight=e,t}createBaseColDefParams(e){return this.gos.addGridCommonParams({node:e,data:e.data,colDef:this.colDef,column:this})}getColSpan(e){if(rt(this.colDef.colSpan))return 1;const t=this.createBaseColDefParams(e),i=this.colDef.colSpan(t);return Math.max(i,1)}getRowSpan(e){if(rt(this.colDef.rowSpan))return 1;const t=this.createBaseColDefParams(e),i=this.colDef.rowSpan(t);return Math.max(i,1)}setActualWidth(e,t,i=!1){e=Math.max(e,this.minWidth),e=Math.min(e,this.maxWidth),this.actualWidth!==e&&(this.actualWidth=e,this.flex&&t!=="flex"&&t!=="gridInitializing"&&(this.flex=null),i||this.fireColumnWidthChangedEvent(t)),this.dispatchStateUpdatedEvent("width")}fireColumnWidthChangedEvent(e){this.columnEventService.dispatchEvent(this.createColumnEvent("widthChanged",e))}isGreaterThanMax(e){return e>this.maxWidth}getMinWidth(){return this.minWidth}getMaxWidth(){return this.maxWidth}getFlex(){return this.flex||0}setFlex(e){this.flex!==e&&(this.flex=e),this.dispatchStateUpdatedEvent("flex")}setMinimum(e){this.setActualWidth(this.minWidth,e)}setRowGroupActive(e,t){this.rowGroupActive!==e&&(this.rowGroupActive=e,this.columnEventService.dispatchEvent(this.createColumnEvent("columnRowGroupChanged",t))),this.dispatchStateUpdatedEvent("rowGroup")}isRowGroupActive(){return this.rowGroupActive}setPivotActive(e,t){this.pivotActive!==e&&(this.pivotActive=e,this.columnEventService.dispatchEvent(this.createColumnEvent("columnPivotChanged",t))),this.dispatchStateUpdatedEvent("pivot")}isPivotActive(){return this.pivotActive}isAnyFunctionActive(){return this.isPivotActive()||this.isRowGroupActive()||this.isValueActive()}isAnyFunctionAllowed(){return this.isAllowPivot()||this.isAllowRowGroup()||this.isAllowValue()}setValueActive(e,t){this.aggregationActive!==e&&(this.aggregationActive=e,this.columnEventService.dispatchEvent(this.createColumnEvent("columnValueChanged",t)))}isValueActive(){return this.aggregationActive}isAllowPivot(){return this.colDef.enablePivot===!0}isAllowValue(){return this.colDef.enableValue===!0}isAllowRowGroup(){return this.colDef.enableRowGroup===!0}dispatchStateUpdatedEvent(e){this.columnEventService.dispatchEvent({type:"columnStateUpdated",key:e})}},QU={numericColumn:{headerClass:"ag-right-aligned-header",cellClass:"ag-right-aligned-cell"},rightAligned:{headerClass:"ag-right-aligned-header",cellClass:"ag-right-aligned-cell"}},JU=class{constructor(){this.existingKeys={}}addExistingKeys(e){for(let t=0;t<e.length;t++)this.existingKeys[e[t]]=!0}getUniqueKey(e,t){e=Jx(e);let i=0;for(;;){let s;if(e?(s=e,i!==0&&(s+="_"+i)):t?(s=t,i!==0&&(s+="_"+i)):s=i,!this.existingKeys[s])return this.existingKeys[s]=!0,String(s);i++}}},e8=class extends re{constructor(){super(...arguments),this.beanName="columnFactory"}wireBeans(e){this.dataTypeService=e.dataTypeService}createColumnTree(e,t,i,s){const n=new JU,{existingCols:r,existingGroups:o,existingColKeys:a}=this.extractExistingTreeData(i);n.addExistingKeys(a);const l=this.recursivelyCreateColumns(e,0,t,r,n,o,s),d=this.findMaxDept(l,0),h=this.balanceColumnTree(l,0,d,n);return ca(null,h,(f,v)=>{Ns(f)&&f.setupExpandable(),f.setOriginalParent(v)}),{columnTree:h,treeDept:d}}extractExistingTreeData(e){const t=[],i=[],s=[];return e&&ca(null,e,n=>{if(Ns(n)){const r=n;i.push(r)}else{const r=n;s.push(r.getId()),t.push(r)}}),{existingCols:t,existingGroups:i,existingColKeys:s}}balanceTreeForAutoCols(e,t){const i=[],s=this.findDepth(t);return e.forEach(n=>{let r=n;for(let o=s-1;o>=0;o--){const a=new Hv(null,`FAKE_PATH_${n.getId()}}_${o}`,!0,o);this.createBean(a),a.setChildren([r]),r.setOriginalParent(a),r=a}s===0&&n.setOriginalParent(null),i.push(r)}),[i,s]}findDepth(e){let t=0,i=e;for(;i&&i[0]&&Ns(i[0]);)t++,i=i[0].getChildren();return t}balanceColumnTree(e,t,i,s){const n=[];for(let r=0;r<e.length;r++){const o=e[r];if(Ns(o)){const a=o,l=this.balanceColumnTree(a.getChildren(),t+1,i,s);a.setChildren(l),n.push(a)}else{let a,l;for(let d=i-1;d>=t;d--){const h=s.getUniqueKey(null,null),p=this.createMergedColGroupDef(null),f=new Hv(p,h,!0,t);this.createBean(f),l&&l.setChildren([f]),l=f,a||(a=l)}if(a&&l)if(n.push(a),e.some(h=>Ns(h))){l.setChildren([o]);continue}else{l.setChildren(e);break}n.push(o)}}return n}findMaxDept(e,t){let i=t;for(let s=0;s<e.length;s++){const n=e[s];if(Ns(n)){const r=n,o=this.findMaxDept(r.getChildren(),t+1);i<o&&(i=o)}}return i}recursivelyCreateColumns(e,t,i,s,n,r,o){if(!e)return[];const a=new Array(e.length);for(let l=0;l<a.length;l++){const d=e[l];this.isColumnGroup(d)?a[l]=this.createColumnGroup(i,d,t,s,n,r,o):a[l]=this.createColumn(i,d,s,n,o)}return a}createColumnGroup(e,t,i,s,n,r,o){const a=this.createMergedColGroupDef(t),l=n.getUniqueKey(a.groupId||null,null),d=new Hv(a,l,!1,i);this.createBean(d);const h=this.findExistingGroup(t,r);h&&r.splice(h.idx,1);const p=h==null?void 0:h.group;p&&d.setExpanded(p.isExpanded());const f=this.recursivelyCreateColumns(a.children,i+1,e,s,n,r,o);return d.setChildren(f),d}createMergedColGroupDef(e){const t={};return Object.assign(t,this.gos.get("defaultColGroupDef")),Object.assign(t,e),t}createColumn(e,t,i,s,n){var a;const r=this.findExistingColumn(t,i);r&&(i==null||i.splice(r.idx,1));let o=r==null?void 0:r.column;if(o){const l=this.addColumnDefaultAndTypes(t,o.getColId());o.setColDef(l,t,n),this.applyColumnState(o,l,n)}else{const l=s.getUniqueKey(t.colId,t.field),d=this.addColumnDefaultAndTypes(t,l);o=new kD(d,t,l,e),this.createBean(o)}return(a=this.dataTypeService)==null||a.addColumnListeners(o),o}applyColumnState(e,t,i){const s=Nc(t.flex);if(s!==void 0&&e.setFlex(s),e.getFlex()<=0){const a=Nc(t.width);if(a!=null)e.setActualWidth(a,i);else{const l=e.getActualWidth();e.setActualWidth(l,i)}}t.sort!==void 0&&(t.sort=="asc"||t.sort=="desc"?e.setSort(t.sort,i):e.setSort(void 0,i));const r=Nc(t.sortIndex);r!==void 0&&e.setSortIndex(r);const o=eM(t.hide);o!==void 0&&e.setVisible(!o,i),t.pinned!==void 0&&e.setPinned(t.pinned)}findExistingColumn(e,t){if(t)for(let i=0;i<t.length;i++){const s=t[i].getUserProvidedColDef();if(!s)continue;if(e.colId!=null){if(t[i].getId()===e.colId)return{idx:i,column:t[i]};continue}if(e.field!=null){if(s.field===e.field)return{idx:i,column:t[i]};continue}if(s===e)return{idx:i,column:t[i]}}}findExistingGroup(e,t){if(e.groupId!=null)for(let s=0;s<t.length;s++){const n=t[s];if(n.getColGroupDef()&&n.getId()===e.groupId)return{idx:s,group:n}}}addColumnDefaultAndTypes(e,t){var a;const i={},s=this.gos.get("defaultColDef");zs(i,s,!1,!0);const n=this.updateColDefAndGetColumnType(i,e,t);n&&this.assignColumnTypes(n,i),zs(i,e,!1,!0);const r=this.gos.get("autoGroupColumnDef"),o=eo(this.gos);return e.rowGroup&&r&&o&&zs(i,{sort:r.sort,initialSort:r.initialSort},!1,!0),(a=this.dataTypeService)==null||a.validateColDef(i),i}updateColDefAndGetColumnType(e,t,i){var r;const s=(r=this.dataTypeService)==null?void 0:r.updateColDefAndGetColumnType(e,t,i),n=t.type??s??e.type;return e.type=n,n?jv(n):void 0}assignColumnTypes(e,t){if(!e.length)return;const i=Object.assign({},QU),s=this.gos.get("columnTypes")||{};xr(s,(n,r)=>{n in i?ae(`the column type '${n}' is a default column type and cannot be overridden.`):(r.type&&ae("Column type definitions 'columnTypes' with a 'type' attribute are not supported because a column type cannot refer to another column type. Only column definitions 'columnDefs' can use the 'type' attribute to refer to a column type."),i[n]=r)}),e.forEach(n=>{const r=i[n.trim()];r?zs(t,r,!1,!0):ae("colDef.type '"+n+"' does not correspond to defined gridOptions.columnTypes")})}isColumnGroup(e){return e.children!==void 0}};function ca(e,t,i){if(t)for(let s=0;s<t.length;s++){const n=t[s];Ns(n)&&ca(n,n.getChildren(),i),i(n,e)}}var t8=class extends re{constructor(){super(...arguments),this.beanName="columnModel",this.pivotMode=!1,this.autoHeightActiveAtLeastOnce=!1,this.ready=!1,this.changeEventsDispatching=!1,this.shouldQueueResizeOperations=!1,this.resizeOperationQueue=[]}wireBeans(e){this.context=e.context,this.ctrlsService=e.ctrlsService,this.columnFactory=e.columnFactory,this.columnSizeService=e.columnSizeService,this.visibleColsService=e.visibleColsService,this.columnViewportService=e.columnViewportService,this.pivotResultColsService=e.pivotResultColsService,this.columnAnimationService=e.columnAnimationService,this.autoColService=e.autoColService,this.controlsColService=e.controlsColService,this.valueCache=e.valueCache,this.columnDefFactory=e.columnDefFactory,this.columnApplyStateService=e.columnApplyStateService,this.columnGroupStateService=e.columnGroupStateService,this.eventDispatcher=e.columnEventDispatcher,this.columnMoveService=e.columnMoveService,this.columnAutosizeService=e.columnAutosizeService,this.funcColsService=e.funcColsService,this.quickFilterService=e.quickFilterService,this.showRowGroupColsService=e.showRowGroupColsService,this.environment=e.environment}postConstruct(){const e=this.gos.get("pivotMode");this.isPivotSettingAllowed(e)&&(this.pivotMode=e),this.addManagedPropertyListeners(["groupDisplayType","treeData","treeDataDisplayType","groupHideOpenParents"],t=>this.refreshAll(Dc(t.source))),this.addManagedPropertyListener("rowSelection",t=>{this.onSelectionOptionsChanged(t.currentValue,t.previousValue,Dc(t.source))}),this.addManagedPropertyListener("autoGroupColumnDef",t=>this.onAutoGroupColumnDefChanged(Dc(t.source))),this.addManagedPropertyListeners(["defaultColDef","defaultColGroupDef","columnTypes","suppressFieldDotNotation"],t=>this.recreateColumnDefs(Dc(t.source))),this.addManagedPropertyListener("pivotMode",t=>this.setPivotMode(this.gos.get("pivotMode"),Dc(t.source))),this.addManagedEventListeners({firstDataRendered:()=>this.onFirstDataRendered()})}createColsFromColDefs(e){var d,h,p;const t=this.colDefs?this.columnApplyStateService.compareColumnStatesAndDispatchEvents(e):void 0;this.valueCache.expire();const i=(d=this.colDefCols)==null?void 0:d.list,s=(h=this.colDefCols)==null?void 0:h.tree,n=this.columnFactory.createColumnTree(this.colDefs,!0,s,e);al(this.context,(p=this.colDefCols)==null?void 0:p.tree,n.columnTree);const r=n.columnTree,o=n.treeDept,a=TD(r),l={};a.forEach(f=>l[f.getId()]=f),this.colDefCols={tree:r,treeDepth:o,list:a,map:l},this.funcColsService.extractCols(e,i),this.ready=!0,this.refreshCols(!0),this.visibleColsService.refresh(e),this.columnViewportService.checkViewportColumns(),this.eventDispatcher.everythingChanged(e),t&&(this.changeEventsDispatching=!0,t(),this.changeEventsDispatching=!1),this.eventDispatcher.newColumnsLoaded(e),e==="gridInitializing"&&this.columnSizeService.applyAutosizeStrategy()}refreshCols(e){var n,r,o;if(!this.colDefCols)return;const t=(n=this.cols)==null?void 0:n.tree;this.saveColOrder(),this.selectCols(),this.createAutoCols(),this.addAutoCols(),this.createControlsCols(),this.addControlsCols();const i=LU(this.gos,this.showingPivotResult);(!e||i)&&this.restoreColOrder(),this.positionLockedCols(),(r=this.showRowGroupColsService)==null||r.refresh(),(o=this.quickFilterService)==null||o.refreshQuickFilterCols(),this.setColSpanActive(),this.setAutoHeightActive(),this.visibleColsService.clear(),this.columnViewportService.clear(),!Tl(t,this.cols.tree)&&this.eventDispatcher.gridColumns()}selectCols(){const e=this.pivotResultColsService.getPivotResultCols();if(this.showingPivotResult=e!=null,e){const{map:t,list:i,tree:s,treeDepth:n}=e;this.cols={list:i.slice(),map:{...t},tree:s.slice(),treeDepth:n},e.list.some(o=>{var a;return((a=this.cols)==null?void 0:a.map[o.getColId()])!==void 0})||(this.lastPivotOrder=null)}else{const{map:t,list:i,tree:s,treeDepth:n}=this.colDefCols;this.cols={list:i.slice(),map:{...t},tree:s.slice(),treeDepth:n}}}getColsToShow(){const e=this.isPivotMode()&&!this.isShowingPivotResult(),t=this.funcColsService.getValueColumns();return this.cols.list.filter(s=>{const n=rM(s);if(e){const r=t&&Bc(t,s);return n||r}else return n||s.isVisible()})}addAutoCols(){this.autoCols!=null&&(this.cols.list=this.autoCols.list.concat(this.cols.list),this.cols.tree=this.autoCols.tree.concat(this.cols.tree),dk(this.cols))}createAutoCols(){var y;const e=bC(this.gos,this.pivotMode),t=this.pivotMode?this.gos.get("pivotSuppressAutoColumn"):this.isSuppressAutoCol(),i=this.funcColsService.getRowGroupColumns(),n=!(i.length>0||this.gos.get("treeData"))||t||e,r=()=>{this.autoCols&&(al(this.context,this.autoCols.tree),this.autoCols=null)};if(n||!this.autoColService){r();return}const o=this.autoColService.createAutoCols(i)??[],a=gk(o,((y=this.autoCols)==null?void 0:y.list)||null),l=this.cols.treeDepth,h=(this.autoCols?this.autoCols.treeDepth:-1)==l;if(a&&h)return;r();const[p,f]=this.columnFactory.balanceTreeForAutoCols(o,this.cols.tree);this.autoCols={list:o,tree:p,treeDepth:f,map:{}};const v=S=>{if(!S)return null;const w=S.filter(b=>!rM(b));return[...o,...w]};this.lastOrder=v(this.lastOrder),this.lastPivotOrder=v(this.lastPivotOrder)}createControlsCols(){var d,h,p;const e=()=>{var f;al(this.context,(f=this.controlsCols)==null?void 0:f.tree),this.controlsCols=null};this.controlsColService||e();const t=this.cols.treeDepth,s=(((d=this.controlsCols)==null?void 0:d.treeDepth)??-1)==t,n=((h=this.controlsColService)==null?void 0:h.createControlsCols())??[];if(gk(n,((p=this.controlsCols)==null?void 0:p.list)??[])&&s)return;e();const[o,a]=this.columnFactory.balanceTreeForAutoCols(n,this.cols.tree);this.controlsCols={list:n,tree:o,treeDepth:a,map:{}};const l=f=>{if(!f)return null;const v=f.filter(y=>!cf(y));return[...n,...v]};this.lastOrder=l(this.lastOrder),this.lastPivotOrder=l(this.lastPivotOrder)}addControlsCols(){this.controlsCols!=null&&(this.cols.list=this.controlsCols.list.concat(this.cols.list),this.cols.tree=this.controlsCols.tree.concat(this.cols.tree),dk(this.cols))}refreshAll(e){this.isReady()&&(this.refreshCols(!1),this.visibleColsService.refresh(e))}setColsVisible(e,t=!1,i){this.columnApplyStateService.applyColumnState({state:e.map(s=>({colId:typeof s=="string"?s:s.getColId(),hide:!t}))},i)}setColsPinned(e,t,i){if(!this.cols||wn(e))return;if(ys(this.gos,"print")){ae("Changing the column pinning status is not allowed with domLayout='print'");return}this.columnAnimationService.start();let s;t===!0||t==="left"?s="left":t==="right"?s="right":s=null;const n=[];e.forEach(r=>{if(!r)return;const o=this.getCol(r);o&&o.getPinned()!==s&&(o.setPinned(s),n.push(o))}),n.length&&(this.visibleColsService.refresh(i),this.eventDispatcher.columnPinned(n,i)),this.columnAnimationService.finish()}setColumnGroupOpened(e,t,i){let s;Ns(e)?s=e.getId():s=e||"",this.columnGroupStateService.setColumnGroupState([{groupId:s,open:t}],i)}getProvidedColGroup(e){var i;let t=null;return ca(null,(i=this.cols)==null?void 0:i.tree,s=>{Ns(s)&&s.getId()===e&&(t=s)}),t}isColGroupLocked(e){const t=this.gos.get("groupLockGroupColumns");if(!e.isRowGroupActive()||t===0)return!1;if(t===-1)return!0;const s=this.funcColsService.getRowGroupColumns().findIndex(n=>n.getColId()===e.getColId());return t>s}isSuppressAutoCol(){return this.gos.get("groupDisplayType")==="custom"?!0:this.gos.get("treeDataDisplayType")==="custom"}setAutoHeightActive(){this.autoHeightActive=this.cols.list.some(e=>e.isVisible()&&e.isAutoHeight()),this.autoHeightActive&&(this.autoHeightActiveAtLeastOnce=!0,Ut(this.gos)||wo(this.gos)||ae("autoHeight columns only work with Client Side Row Model and Server Side Row Model."))}restoreColOrder(){const e=this.showingPivotResult?this.lastPivotOrder:this.lastOrder;if(!e)return;const t=new Map(e.map((l,d)=>[l,d]));if(!this.cols.list.some(l=>t.has(l)))return;const s=new Map(this.cols.list.map(l=>[l,!0])),n=e.filter(l=>s.has(l)),r=new Map(n.map(l=>[l,!0])),o=this.cols.list.filter(l=>!r.has(l)),a=n.slice();o.forEach(l=>{let d=l.getOriginalParent();if(!d){a.push(l);return}const h=[];for(;!h.length&&d;)d.getLeafColumns().forEach(y=>{const S=a.indexOf(y)>=0,w=h.indexOf(y)<0;S&&w&&h.push(y)}),d=d.getOriginalParent();if(!h.length){a.push(l);return}const p=h.map(v=>a.indexOf(v)),f=Math.max(...p);by(a,l,f+1)}),this.cols.list=a}sortColsLikeKeys(e){if(this.cols==null)return;let t=[];const i={};e.forEach(n=>{if(i[n])return;const r=this.cols.map[n];r&&(t.push(r),i[n]=!0)});let s=0;if(this.cols.list.forEach(n=>{const r=n.getColId();if(i[r]!=null)return;r.startsWith(SC)?by(t,n,s++):t.push(n)}),t=this.columnMoveService.placeLockedColumns(t),!this.columnMoveService.doesMovePassMarryChildren(t)){ae("Applying column order broke a group where columns should be married together. Applying new order has been discarded.");return}this.cols.list=t}sortColsLikeCols(e){!e||e.length<=1||e.filter(i=>this.cols.list.indexOf(i)<0).length>0||e.sort((i,s)=>{const n=this.cols.list.indexOf(i),r=this.cols.list.indexOf(s);return n-r})}resetColDefIntoCol(e,t){const i=e.getUserProvidedColDef();if(!i)return!1;const s=this.columnFactory.addColumnDefaultAndTypes(i,e.getColId());return e.setColDef(s,i,t),!0}queueResizeOperations(){this.shouldQueueResizeOperations=!0}isShouldQueueResizeOperations(){return this.shouldQueueResizeOperations}processResizeOperations(){this.shouldQueueResizeOperations=!1,this.resizeOperationQueue.forEach(e=>e()),this.resizeOperationQueue=[]}pushResizeOperation(e){this.resizeOperationQueue.push(e)}moveInCols(e,t,i){var s;LF((s=this.cols)==null?void 0:s.list,e,t),this.visibleColsService.refresh(i)}positionLockedCols(){this.cols.list=this.columnMoveService.placeLockedColumns(this.cols.list)}saveColOrder(){var e,t;this.showingPivotResult?this.lastPivotOrder=(e=this.cols)==null?void 0:e.list:this.lastOrder=(t=this.cols)==null?void 0:t.list}getColumnDefs(){if(!this.colDefCols)return;const e=this.colDefCols.list.slice();this.showingPivotResult?e.sort((s,n)=>this.lastOrder.indexOf(s)-this.lastOrder.indexOf(n)):this.lastOrder&&e.sort((s,n)=>this.cols.list.indexOf(s)-this.cols.list.indexOf(n));const t=this.funcColsService.getRowGroupColumns(),i=this.funcColsService.getPivotColumns();return this.columnDefFactory.buildColumnDefs(e,t,i)}isShowingPivotResult(){return this.showingPivotResult}isChangeEventsDispatching(){return this.changeEventsDispatching}isColSpanActive(){return this.colSpanActive}isProvidedColGroupsPresent(){var e;return((e=this.colDefCols)==null?void 0:e.treeDepth)>0}setColSpanActive(){this.colSpanActive=this.cols.list.some(e=>e.getColDef().colSpan!=null)}isAutoRowHeightActive(){return this.autoHeightActive}wasAutoRowHeightEverActive(){return this.autoHeightActiveAtLeastOnce}getHeaderRowCount(){return this.cols?this.cols.treeDepth+1:-1}isReady(){return this.ready}isPivotMode(){return this.pivotMode}setPivotMode(e,t){e===this.pivotMode||!this.isPivotSettingAllowed(this.pivotMode)||(this.pivotMode=e,this.ready&&(this.refreshCols(!1),this.visibleColsService.refresh(t),this.eventDispatcher.pivotModeChanged()))}isPivotSettingAllowed(e){return e&&this.gos.get("treeData")?(ae("Pivot mode not available with treeData."),!1):!0}isPivotActive(){const e=this.funcColsService.getPivotColumns();return this.pivotMode&&!wn(e)}recreateColumnDefs(e){this.cols&&(this.autoCols&&this.autoColService.updateAutoCols(this.autoCols.list,e),this.createColsFromColDefs(e))}setColumnDefs(e,t){this.colDefs=e,this.createColsFromColDefs(t)}destroy(){var e,t,i;al(this.context,(e=this.colDefCols)==null?void 0:e.tree),al(this.context,(t=this.autoCols)==null?void 0:t.tree),al(this.context,(i=this.controlsCols)==null?void 0:i.tree),super.destroy()}getColTree(){return this.cols.tree}getColDefColTree(){return this.colDefCols.tree}getColDefCols(){var e;return(e=this.colDefCols)!=null&&e.list?this.colDefCols.list:null}getCols(){var e;return((e=this.cols)==null?void 0:e.list)??[]}getAllCols(){var i,s,n;const e=this.pivotResultColsService.getPivotResultCols(),t=e==null?void 0:e.list;return[((i=this.colDefCols)==null?void 0:i.list)??[],((s=this.autoCols)==null?void 0:s.list)??[],((n=this.controlsCols)==null?void 0:n.list)??[],t??[]].flat()}getColsForKeys(e){return e?e.map(t=>this.getCol(t)).filter(t=>t!=null):[]}getColDefCol(e){var t;return(t=this.colDefCols)!=null&&t.list?this.getColFromCollection(e,this.colDefCols):null}getCol(e){return e==null?null:this.getColFromCollection(e,this.cols)}getColFromCollection(e,t){if(t==null)return null;const{map:i,list:s}=t;if(typeof e=="string"&&i[e])return i[e];for(let n=0;n<s.length;n++)if(hk(s[n],e))return s[n];return this.getAutoCol(e)}getAutoCol(e){var t;return((t=this.autoCols)==null?void 0:t.list.find(i=>hk(i,e)))??null}getAutoCols(){var e;return((e=this.autoCols)==null?void 0:e.list)??null}setColHeaderHeight(e,t){e.setAutoHeaderHeight(t)&&(e.isColumn?this.eventDispatcher.headerHeight(e):this.eventDispatcher.groupHeaderHeight(e))}getGroupRowsHeight(){const e=[],t=this.ctrlsService.getHeaderRowContainerCtrls();for(const i of t){if(!i)continue;const s=i.getGroupRowCount()||0;for(let n=0;n<s;n++){const r=i.getGroupRowCtrlAtIndex(n),o=e[n];if(r){const a=this.getColumnGroupHeaderRowHeight(r);(o==null||a>o)&&(e[n]=a)}}}return e}getColumnGroupHeaderRowHeight(e){const t=this.isPivotMode()?this.getPivotGroupHeaderHeight():this.getGroupHeaderHeight();let i=0;const s=e.getHeaderCtrls();for(const n of s){const r=n.getColumn();if(r.isAutoHeaderHeight()){const o=r.getAutoHeaderHeight();o!=null&&o>i&&(i=o)}}return Math.max(t,i)}getColumnHeaderRowHeight(){const e=this.isPivotMode()?this.getPivotHeaderHeight():this.getHeaderHeight(),i=this.visibleColsService.getAllCols().filter(s=>s.isAutoHeaderHeight()).map(s=>s.getAutoHeaderHeight()||0);return Math.max(e,...i)}getHeaderHeight(){return this.gos.get("headerHeight")??this.environment.getDefaultHeaderHeight()}getFloatingFiltersHeight(){return this.gos.get("floatingFiltersHeight")??this.getHeaderHeight()}getGroupHeaderHeight(){return this.gos.get("groupHeaderHeight")??this.getHeaderHeight()}getPivotHeaderHeight(){return this.gos.get("pivotHeaderHeight")??this.getHeaderHeight()}getPivotGroupHeaderHeight(){return this.gos.get("pivotGroupHeaderHeight")??this.getGroupHeaderHeight()}onFirstDataRendered(){const e=this.gos.get("autoSizeStrategy");if((e==null?void 0:e.type)!=="fitCellContents")return;const{colIds:t,skipHeader:i}=e;setTimeout(()=>{t?this.columnAutosizeService.autoSizeCols({colKeys:t,skipHeader:i,source:"autosizeColumns"}):this.columnAutosizeService.autoSizeAllColumns("autosizeColumns",i)})}onAutoGroupColumnDefChanged(e){this.autoCols&&this.autoColService.updateAutoCols(this.autoCols.list,e)}onSelectionOptionsChanged(e,t,i){const s=t&&typeof t!="string"?jd(t):void 0,n=e&&typeof e!="string"?jd(e):void 0,r=s!==n,o=t&&typeof t!="string"?yy(t):void 0,a=e&&typeof e!="string"?yy(e):void 0;(r||o!==a)&&this.refreshAll(i)}};function Dc(e){return e==="gridOptionsUpdated"?"gridOptionsChanged":e}function dk(e){e.map={},e.list.forEach(t=>e.map[t.getId()]=t)}function hk(e,t){const i=e===t,s=e.getColDef()===t,n=e.getColId()==t;return i||s||n}function gk(e,t){return Tl(e,t,(i,s)=>i.getColId()===s.getColId())}var i8=class extends re{constructor(){super(...arguments),this.beanName="columnAutosizeService",this.timesDelayed=0}wireBeans(e){this.columnModel=e.columnModel,this.visibleColsService=e.visibleColsService,this.animationFrameService=e.animationFrameService,this.autoWidthCalculator=e.autoWidthCalculator,this.eventDispatcher=e.columnEventDispatcher,this.ctrlsService=e.ctrlsService,this.renderStatusService=e.renderStatusService}autoSizeCols(e){if(this.columnModel.isShouldQueueResizeOperations()){this.columnModel.pushResizeOperation(()=>this.autoSizeCols(e));return}const{colKeys:t,skipHeader:i,skipHeaderGroups:s,stopAtGroup:n,source:r="api"}=e;if(this.animationFrameService.flushAllFrames(),this.timesDelayed<5&&this.renderStatusService&&!this.renderStatusService.areHeaderCellsRendered()){this.timesDelayed++,setTimeout(()=>this.autoSizeCols(e));return}this.timesDelayed=0;const o=[];let a=-1;const l=i??this.gos.get("skipHeaderOnAutoSize"),d=s??l;for(;a!==0;){a=0;const h=[];t.forEach(p=>{if(!p)return;const f=this.columnModel.getCol(p);if(!f||o.indexOf(f)>=0)return;const v=this.autoWidthCalculator.getPreferredWidthForColumn(f,l);if(v>0){const y=this.normaliseColumnWidth(f,v);f.setActualWidth(y,r),o.push(f),a++}h.push(f)}),h.length&&this.visibleColsService.refresh(r)}d||this.autoSizeColumnGroupsByColumns(t,r,n),this.eventDispatcher.columnResized(o,!0,"autosizeColumns")}autoSizeColumn(e,t,i){e&&this.autoSizeCols({colKeys:[e],skipHeader:i,skipHeaderGroups:!0,source:t})}autoSizeColumnGroupsByColumns(e,t,i){const s=new Set;this.columnModel.getColsForKeys(e).forEach(a=>{let l=a.getParent();for(;l&&l!=i;)l.isPadding()||s.add(l),l=l.getParent()});let r;const o=[];for(const a of s){for(const l of this.ctrlsService.getHeaderRowContainerCtrls())if(r=l.getHeaderCtrlForColumn(a),r)break;r&&r.resizeLeafColumnsToFit(t)}return o}autoSizeAllColumns(e,t){if(this.columnModel.isShouldQueueResizeOperations()){this.columnModel.pushResizeOperation(()=>this.autoSizeAllColumns(e,t));return}const i=this.visibleColsService.getAllCols();this.autoSizeCols({colKeys:i,skipHeader:t,source:e})}normaliseColumnWidth(e,t){const i=e.getMinWidth();t<i&&(t=i);const s=e.getMaxWidth();return e.isGreaterThanMax(t)&&(t=s),t}},s8=class extends re{constructor(){super(...arguments),this.beanName="funcColsService",this.rowGroupCols=[],this.valueCols=[],this.pivotCols=[]}wireBeans(e){this.columnModel=e.columnModel,this.eventDispatcher=e.columnEventDispatcher,this.aggFuncService=e.aggFuncService,this.visibleColsService=e.visibleColsService}getModifyColumnsNoEventsCallbacks(){return{addGroupCol:e=>this.rowGroupCols.push(e),removeGroupCol:e=>js(this.rowGroupCols,e),addPivotCol:e=>this.pivotCols.push(e),removePivotCol:e=>js(this.pivotCols,e),addValueCol:e=>this.valueCols.push(e),removeValueCol:e=>js(this.valueCols,e)}}getSourceColumnsForGroupColumn(e){const t=e.getColDef().showRowGroup;if(!t)return null;if(t===!0)return this.rowGroupCols.slice(0);const i=this.columnModel.getColDefCol(t);return i?[i]:null}sortRowGroupColumns(e){this.rowGroupCols.sort(e)}sortPivotColumns(e){this.pivotCols.sort(e)}getValueColumns(){return this.valueCols?this.valueCols:[]}getPivotColumns(){return this.pivotCols?this.pivotCols:[]}getRowGroupColumns(){return this.rowGroupCols?this.rowGroupCols:[]}isRowGroupEmpty(){return wn(this.rowGroupCols)}setColumnAggFunc(e,t,i){if(!e)return;const s=this.columnModel.getColDefCol(e);s&&(s.setAggFunc(t),this.eventDispatcher.columnChanged("columnValueChanged",[s],i))}setRowGroupColumns(e,t){this.setColList(e,this.rowGroupCols,"columnRowGroupChanged",!0,!0,(i,s)=>this.setRowGroupActive(i,s,t),t)}setRowGroupActive(e,t,i){e!==t.isRowGroupActive()&&(t.setRowGroupActive(e,i),e&&!this.gos.get("suppressRowGroupHidesColumns")&&this.columnModel.setColsVisible([t],!1,i),!e&&!this.gos.get("suppressMakeColumnVisibleAfterUnGroup")&&this.columnModel.setColsVisible([t],!0,i))}addRowGroupColumns(e,t){this.updateColList(e,this.rowGroupCols,!0,!0,i=>this.setRowGroupActive(!0,i,t),"columnRowGroupChanged",t)}removeRowGroupColumns(e,t){this.updateColList(e,this.rowGroupCols,!1,!0,i=>this.setRowGroupActive(!1,i,t),"columnRowGroupChanged",t)}addPivotColumns(e,t){this.updateColList(e,this.pivotCols,!0,!1,i=>i.setPivotActive(!0,t),"columnPivotChanged",t)}setPivotColumns(e,t){this.setColList(e,this.pivotCols,"columnPivotChanged",!0,!1,(i,s)=>{s.setPivotActive(i,t)},t)}removePivotColumns(e,t){this.updateColList(e,this.pivotCols,!1,!1,i=>i.setPivotActive(!1,t),"columnPivotChanged",t)}setValueColumns(e,t){this.setColList(e,this.valueCols,"columnValueChanged",!1,!1,(i,s)=>this.setValueActive(i,s,t),t)}setValueActive(e,t,i){if(e!==t.isValueActive()&&(t.setValueActive(e,i),e&&!t.getAggFunc()&&this.aggFuncService)){const s=this.aggFuncService.getDefaultAggFunc(t);t.setAggFunc(s)}}addValueColumns(e,t){this.updateColList(e,this.valueCols,!0,!1,i=>this.setValueActive(!0,i,t),"columnValueChanged",t)}removeValueColumns(e,t){this.updateColList(e,this.valueCols,!1,!1,i=>this.setValueActive(!1,i,t),"columnValueChanged",t)}moveRowGroupColumn(e,t,i){if(this.isRowGroupEmpty())return;const s=this.rowGroupCols[e],n=this.rowGroupCols.slice(e,t);this.rowGroupCols.splice(e,1),this.rowGroupCols.splice(t,0,s),this.eventDispatcher.rowGroupChanged(n,i)}setColList(e,t,i,s,n,r,o){if(!this.columnModel.getCols())return;const a=new Map;t.forEach((d,h)=>a.set(d,h)),t.length=0,ve(e)&&e.forEach(d=>{const h=this.columnModel.getColDefCol(d);h&&t.push(h)}),t.forEach((d,h)=>{const p=a.get(d);if(p===void 0){a.set(d,0);return}s&&p!==h||a.delete(d)}),(this.columnModel.getColDefCols()||[]).forEach(d=>{const h=t.indexOf(d)>=0;r(h,d)}),n&&this.columnModel.refreshCols(!1),this.visibleColsService.refresh(o),this.eventDispatcher.columnChanged(i,[...a.keys()],o)}updateColList(e,t,i,s,n,r,o){if(!e||wn(e))return;let a=!1;const l=new Set;e.forEach(d=>{if(!d)return;const h=this.columnModel.getColDefCol(d);if(h){if(l.add(h),i){if(t.indexOf(h)>=0)return;t.push(h)}else{const p=t.indexOf(h);if(p<0)return;for(let f=p+1;f<t.length;f++)l.add(t[f]);js(t,h)}n(h),a=!0}}),a&&(s&&this.columnModel.refreshCols(!1),this.visibleColsService.refresh(o),this.eventDispatcher.genericColumnEvent(r,Array.from(l),o))}extractCols(e,t){this.extractRowGroupCols(e,t),this.extractPivotCols(e,t),this.extractValueCols(e,t)}extractValueCols(e,t){this.valueCols=this.extractColsCommon(t,this.valueCols,(i,s)=>i.setValueActive(s,e),()=>{},()=>{},i=>{const s=i.aggFunc;if(s===null||s==="")return null;if(s!==void 0)return!!s},i=>i.initialAggFunc!=null&&i.initialAggFunc!=""),this.valueCols.forEach(i=>{const s=i.getColDef();s.aggFunc!=null&&s.aggFunc!=""?i.setAggFunc(s.aggFunc):i.getAggFunc()||i.setAggFunc(s.initialAggFunc)})}extractRowGroupCols(e,t){this.rowGroupCols=this.extractColsCommon(t,this.rowGroupCols,(i,s)=>i.setRowGroupActive(s,e),i=>i.rowGroupIndex,i=>i.initialRowGroupIndex,i=>i.rowGroup,i=>i.initialRowGroup)}extractPivotCols(e,t){this.pivotCols=this.extractColsCommon(t,this.pivotCols,(i,s)=>i.setPivotActive(s,e),i=>i.pivotIndex,i=>i.initialPivotIndex,i=>i.pivot,i=>i.initialPivot)}extractColsCommon(e=[],t=[],i,s,n,r,o){const a=[],l=[];(this.columnModel.getColDefCols()||[]).forEach(f=>{const v=e.indexOf(f)<0,y=f.getColDef(),S=eM(r(y)),w=eM(o(y)),b=Nc(s(y)),x=Nc(n(y));let D;S!==void 0?D=S:b!==void 0?b===null?D=!1:D=b>=0:v?w!==void 0?D=w:x!==void 0?D=x!=null&&x>=0:D=!1:D=t.indexOf(f)>=0,D&&((v?b!=null||x!=null:b!=null)?a.push(f):l.push(f))});const h=f=>{const v=s(f.getColDef()),y=n(f.getColDef());return v??y};a.sort((f,v)=>{const y=h(f),S=h(v);return y===S?0:y<S?-1:1});const p=[].concat(a);return t.forEach(f=>{l.indexOf(f)>=0&&p.push(f)}),l.forEach(f=>{p.indexOf(f)<0&&p.push(f)}),t.forEach(f=>{p.indexOf(f)<0&&i(f,!1)}),p.forEach(f=>{t.indexOf(f)<0&&i(f,!0)}),p}generateColumnStateForRowGroupAndPivotIndexes(e,t){const i={},s=(n,r,o,a,l,d)=>{const h=this.columnModel.getColDefCols();if(!r.length||!h)return[];const p=Object.keys(n),f=new Set(p),v=new Set(p),y=new Set(r.map(k=>{const P=k.getColId();return v.delete(P),P}).concat(p)),S=[],w={};let b=0;for(let k=0;k<h.length;k++){const P=h[k].getColId();y.has(P)&&(S.push(P),w[P]=b++)}let x=1e3,D=!1,E=0;const T=k=>{const P=w[k];for(let O=E;O<P;O++){const F=S[O];v.has(F)&&(n[F][l]=x++,v.delete(F))}E=P};r.forEach(k=>{const P=k.getColId();if(f.has(P))T(P),n[P][l]=x++;else{const O=k.getColDef();(O[l]===null||O[l]===void 0&&O[d]==null)&&(D||(O[o]||O[o]===void 0&&O[a]?T(P):(v.forEach(V=>{n[V][l]=x+w[V]}),x+=S.length,D=!0)),i[P]||(i[P]={colId:P}),i[P][l]=x++)}})};return s(e,this.rowGroupCols,"rowGroup","initialRowGroup","rowGroupIndex","initialRowGroupIndex"),s(t,this.pivotCols,"pivot","initialPivot","pivotIndex","initialPivotIndex"),Object.values(i)}},n8=class extends re{constructor(){super(...arguments),this.beanName="columnApplyStateService"}wireBeans(e){this.columnModel=e.columnModel,this.eventDispatcher=e.columnEventDispatcher,this.sortController=e.sortController,this.columnGetStateService=e.columnGetStateService,this.funcColsService=e.funcColsService,this.visibleColsService=e.visibleColsService,this.columnAnimationService=e.columnAnimationService,this.pivotResultColsService=e.pivotResultColsService}applyColumnState(e,t){const i=this.columnModel.getColDefCols()||[];if(wn(i))return!1;if(e&&e.state&&!e.state.forEach)return ae("applyColumnState() - the state attribute should be an array, however an array was not found. Please provide an array of items (one for each col you want to change) for state."),!1;const s=this.funcColsService.getModifyColumnsNoEventsCallbacks(),n=(a,l,d)=>{const h=this.compareColumnStatesAndDispatchEvents(t),p=l.slice(),f={},v={},y=[],S=[];let w=0;const b=this.funcColsService.getRowGroupColumns().slice(),x=this.funcColsService.getPivotColumns().slice();a.forEach(k=>{const P=k.colId||"";if(P.startsWith(SC)){y.push(k),S.push(k);return}const F=d(P);F?(this.syncColumnWithStateItem(F,k,e.defaultState,f,v,!1,t,s),js(p,F)):(S.push(k),w+=1)});const D=k=>this.syncColumnWithStateItem(k,null,e.defaultState,f,v,!1,t,s);p.forEach(D),this.funcColsService.sortRowGroupColumns(pk.bind(this,f,b)),this.funcColsService.sortPivotColumns(pk.bind(this,v,x)),this.columnModel.refreshCols(!1);const T=(this.columnModel.getAutoCols()||[]).slice();return y.forEach(k=>{const P=this.columnModel.getAutoCol(k.colId);js(T,P),this.syncColumnWithStateItem(P,k,e.defaultState,null,null,!0,t,s)}),T.forEach(D),this.orderLiveColsLikeState(e),this.visibleColsService.refresh(t),this.eventDispatcher.everythingChanged(t),h(),{unmatchedAndAutoStates:S,unmatchedCount:w}};this.columnAnimationService.start();let{unmatchedAndAutoStates:r,unmatchedCount:o}=n(e.state||[],i,a=>this.columnModel.getColDefCol(a));if(r.length>0||ve(e.defaultState)){const a=this.pivotResultColsService.getPivotResultCols(),l=a==null?void 0:a.list;o=n(r,l||[],d=>this.pivotResultColsService.getPivotResultCol(d)).unmatchedCount}return this.columnAnimationService.finish(),o===0}resetColumnState(e){const t=this.columnModel.getColDefCols();if(wn(t))return;const i=this.columnModel.getColDefColTree(),s=TD(i),n=[];let r=1e3,o=1e3,a=[];const l=this.columnModel.getAutoCols();l&&(a=a.concat(l)),s&&(a=a.concat(s)),a.forEach(d=>{const h=this.getColumnStateFromColDef(d);rt(h.rowGroupIndex)&&h.rowGroup&&(h.rowGroupIndex=r++),rt(h.pivotIndex)&&h.pivot&&(h.pivotIndex=o++),n.push(h)}),this.applyColumnState({state:n,applyOrder:!0},e)}getColumnStateFromColDef(e){const t=(y,S)=>y??S??null,i=e.getColDef(),s=t(i.sort,i.initialSort),n=t(i.sortIndex,i.initialSortIndex),r=t(i.hide,i.initialHide),o=t(i.pinned,i.initialPinned),a=t(i.width,i.initialWidth),l=t(i.flex,i.initialFlex);let d=t(i.rowGroupIndex,i.initialRowGroupIndex),h=t(i.rowGroup,i.initialRowGroup);d==null&&(h==null||h==!1)&&(d=null,h=null);let p=t(i.pivotIndex,i.initialPivotIndex),f=t(i.pivot,i.initialPivot);p==null&&(f==null||f==!1)&&(p=null,f=null);const v=t(i.aggFunc,i.initialAggFunc);return{colId:e.getColId(),sort:s,sortIndex:n,hide:r,pinned:o,width:a,flex:l,rowGroup:h,rowGroupIndex:d,pivot:f,pivotIndex:p,aggFunc:v}}syncColumnWithStateItem(e,t,i,s,n,r,o,a){if(!e)return;const l=(E,T)=>{const k={value1:void 0,value2:void 0};let P=!1;return t&&(t[E]!==void 0&&(k.value1=t[E],P=!0),ve(T)&&t[T]!==void 0&&(k.value2=t[T],P=!0)),!P&&i&&(i[E]!==void 0&&(k.value1=i[E]),ve(T)&&i[T]!==void 0&&(k.value2=i[T])),k},d=l("hide").value1;d!==void 0&&e.setVisible(!d,o);const h=l("pinned").value1;h!==void 0&&e.setPinned(h);const p=e.getColDef().minWidth??this.gos.environment.getDefaultColumnMinWidth(),f=l("flex").value1;if(f!==void 0&&e.setFlex(f),f==null){const E=l("width").value1;E!=null&&p!=null&&E>=p&&e.setActualWidth(E,o)}const v=l("sort").value1;v!==void 0&&(v==="desc"||v==="asc"?e.setSort(v,o):e.setSort(void 0,o));const y=l("sortIndex").value1;if(y!==void 0&&e.setSortIndex(y),r||!e.isPrimary())return;const S=l("aggFunc").value1;S!==void 0&&(typeof S=="string"?(e.setAggFunc(S),e.isValueActive()||(e.setValueActive(!0,o),a.addValueCol(e))):(ve(S)&&ae("stateItem.aggFunc must be a string. if using your own aggregation functions, register the functions first before using them in get/set state. This is because it is intended for the column state to be stored and retrieved as simple JSON."),e.isValueActive()&&(e.setValueActive(!1,o),a.removeValueCol(e))));const{value1:w,value2:b}=l("rowGroup","rowGroupIndex");(w!==void 0||b!==void 0)&&(typeof b=="number"||w?(e.isRowGroupActive()||(e.setRowGroupActive(!0,o),a.addGroupCol(e)),s&&typeof b=="number"&&(s[e.getId()]=b)):e.isRowGroupActive()&&(e.setRowGroupActive(!1,o),a.removeGroupCol(e)));const{value1:x,value2:D}=l("pivot","pivotIndex");(x!==void 0||D!==void 0)&&(typeof D=="number"||x?(e.isPivotActive()||(e.setPivotActive(!0,o),a.addPivotCol(e)),n&&typeof D=="number"&&(n[e.getId()]=D)):e.isPivotActive()&&(e.setPivotActive(!1,o),a.removePivotCol(e)))}orderLiveColsLikeState(e){if(!e.applyOrder||!e.state)return;const t=[];e.state.forEach(i=>{i.colId!=null&&t.push(i.colId)}),this.columnModel.sortColsLikeKeys(t)}compareColumnStatesAndDispatchEvents(e){const t={rowGroupColumns:this.funcColsService.getRowGroupColumns().slice(),pivotColumns:this.funcColsService.getPivotColumns().slice(),valueColumns:this.funcColsService.getValueColumns().slice()},i=this.columnGetStateService.getColumnState(),s={};return i.forEach(n=>{s[n.colId]=n}),()=>{const n=this.columnModel.getAllCols(),r=(S,w,b,x)=>{const D=w.map(x),E=b.map(x);if(Tl(D,E))return;const k=new Set(w);b.forEach(O=>{k.delete(O)||k.add(O)});const P=[...k];this.eventService.dispatchEvent({type:S,columns:P,column:P.length===1?P[0]:null,source:e})},o=S=>{const w=[];return n.forEach(b=>{const x=s[b.getColId()];x&&S(x,b)&&w.push(b)}),w},a=S=>S.getColId();r("columnRowGroupChanged",t.rowGroupColumns,this.funcColsService.getRowGroupColumns(),a),r("columnPivotChanged",t.pivotColumns,this.funcColsService.getPivotColumns(),a);const d=o((S,w)=>{const b=S.aggFunc!=null,x=b!=w.isValueActive(),D=b&&S.aggFunc!=w.getAggFunc();return x||D});d.length>0&&this.eventDispatcher.columnChanged("columnValueChanged",d,e);const h=(S,w)=>S.width!=w.getActualWidth();this.eventDispatcher.columnResized(o(h),!0,e);const p=(S,w)=>S.pinned!=w.getPinned();this.eventDispatcher.columnPinned(o(p),e);const f=(S,w)=>S.hide==w.isVisible();this.eventDispatcher.columnVisible(o(f),e);const y=o((S,w)=>S.sort!=w.getSort()||S.sortIndex!=w.getSortIndex());y.length>0&&this.sortController.dispatchSortChangedEvents(e,y),this.normaliseColumnMovedEventForColumnState(i,e)}}normaliseColumnMovedEventForColumnState(e,t){const i=this.columnGetStateService.getColumnState(),s={};i.forEach(l=>s[l.colId]=l);const n={};e.forEach(l=>{s[l.colId]&&(n[l.colId]=!0)});const r=e.filter(l=>n[l.colId]),o=i.filter(l=>n[l.colId]),a=[];o.forEach((l,d)=>{const h=r&&r[d];if(h&&h.colId!==l.colId){const p=this.columnModel.getCol(h.colId);p&&a.push(p)}}),a.length&&this.eventDispatcher.columnMoved({movedColumns:a,source:t,finished:!0})}},pk=(e,t,i,s)=>{const n=e[i.getId()],r=e[s.getId()],o=n!=null,a=r!=null;if(o&&a)return n-r;if(o)return-1;if(a)return 1;const l=t.indexOf(i),d=t.indexOf(s),h=l>=0,p=d>=0;return h&&p?l-d:h?-1:1},r8=class extends re{constructor(){super(...arguments),this.beanName="columnMoveService"}wireBeans(e){this.columnModel=e.columnModel,this.columnAnimationService=e.columnAnimationService,this.eventDispatcher=e.columnEventDispatcher}moveColumnByIndex(e,t,i){const s=this.columnModel.getCols();if(!s)return;const n=s[e];this.moveColumns([n],t,i)}moveColumns(e,t,i,s=!0){const n=this.columnModel.getCols();if(!n)return;if(t>n.length-e.length){ae("tried to insert columns in invalid location, toIndex = ",t),ae("remember that you should not count the moving columns when calculating the new index");return}this.columnAnimationService.start();const r=this.columnModel.getColsForKeys(e);this.doesMovePassRules(r,t)&&(this.columnModel.moveInCols(r,t,i),this.eventDispatcher.columnMoved({movedColumns:r,source:i,toIndex:t,finished:s})),this.columnAnimationService.finish()}doesMovePassRules(e,t){const i=this.getProposedColumnOrder(e,t);return this.doesOrderPassRules(i)}doesOrderPassRules(e){return!(!this.doesMovePassMarryChildren(e)||!this.doesMovePassLockedPositions(e))}getProposedColumnOrder(e,t){const s=this.columnModel.getCols().slice();return LF(s,e,t),s}doesMovePassLockedPositions(e){const t=r=>r?r==="left"||r===!0?-1:1:0,i=this.gos.get("enableRtl");let s=i?1:-1,n=!0;return e.forEach(r=>{const o=t(r.getColDef().lockPosition);i?o>s&&(n=!1):o<s&&(n=!1),s=o}),n}doesMovePassMarryChildren(e){let t=!0;const i=this.columnModel.getColTree();return ca(null,i,s=>{if(!Ns(s))return;const n=s,r=n.getColGroupDef();if(!(r&&r.marryChildren))return;const a=[];n.getLeafColumns().forEach(f=>{const v=e.indexOf(f);a.push(v)});const l=Math.max.apply(Math,a),d=Math.min.apply(Math,a),h=l-d,p=n.getLeafColumns().length-1;h>p&&(t=!1)}),t}placeLockedColumns(e){const t=[],i=[],s=[];return e.forEach(r=>{const o=r.getColDef().lockPosition;o==="right"?s.push(r):o==="left"||o===!0?t.push(r):i.push(r)}),this.gos.get("enableRtl")?[...s,...i,...t]:[...t,...i,...s]}},o8=/[&<>"']/g,a8={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function no(e,t){if(e==null)return null;const i=e.toString().toString();return t?i:i.replace(o8,s=>a8[s])}function l8(e){if(!e||e==null)return null;const t=/([a-z])([A-Z])/g,i=/([A-Z]+)([A-Z])([a-z])/g;return e.replace(t,"$1 $2").replace(i,"$1 $2$3").replace(/\./g," ").split(" ").map(n=>n.substring(0,1).toUpperCase()+(n.length>1?n.substring(1,n.length):"")).join(" ")}var c8=class extends re{constructor(){super(...arguments),this.beanName="columnNameService"}wireBeans(e){this.expressionService=e.expressionService,this.funcColsService=e.funcColsService,this.columnModel=e.columnModel}getDisplayNameForColumn(e,t,i=!1){if(!e)return null;const s=this.getHeaderName(e.getColDef(),e,null,null,t);return i?this.wrapHeaderNameWithAggFunc(e,s):s}getDisplayNameForProvidedColumnGroup(e,t,i){const s=t?t.getColGroupDef():null;return s?this.getHeaderName(s,null,e,t,i):null}getDisplayNameForColumnGroup(e,t){return this.getDisplayNameForProvidedColumnGroup(e,e.getProvidedColumnGroup(),t)}getHeaderName(e,t,i,s,n){const r=e.headerValueGetter;if(r){const o=this.gos.addGridCommonParams({colDef:e,column:t,columnGroup:i,providedColumnGroup:s,location:n});return typeof r=="function"?r(o):typeof r=="string"?this.expressionService.evaluate(r,o):(ae("headerValueGetter must be a function or a string"),"")}else{if(e.headerName!=null)return e.headerName;if(e.field)return l8(e.field)}return""}wrapHeaderNameWithAggFunc(e,t){if(this.gos.get("suppressAggFuncInHeader"))return t;const i=e.getColDef().pivotValueColumn,s=ve(i);let n=null,r;if(s){const o=this.funcColsService.getValueColumns(),a=this.gos.get("removePivotHeaderRowWhenSingleValueColumn")&&o.length===1,l=e.getColDef().pivotTotalColumnIds!==void 0;if(a&&!l)return t;n=i?i.getAggFunc():null,r=!0}else{const o=e.isValueActive(),a=this.columnModel.isPivotMode()||!this.funcColsService.isRowGroupEmpty();o&&a?(n=e.getAggFunc(),r=!0):r=!1}if(r){const o=typeof n=="string"?n:"func";return`${this.localeService.getLocaleTextFunc()(o,o)}(${t})`}return t}},u8=class extends re{constructor(){super(...arguments),this.beanName="pivotResultColsService"}wireBeans(e){this.context=e.context,this.columnModel=e.columnModel,this.columnFactory=e.columnFactory,this.visibleColsService=e.visibleColsService}destroy(){var e;al(this.context,(e=this.pivotResultCols)==null?void 0:e.tree),super.destroy()}isPivotResultColsPresent(){return this.pivotResultCols!=null}lookupPivotResultCol(e,t){if(this.pivotResultCols==null)return null;const i=this.columnModel.getColDefCol(t);let s=null;return this.pivotResultCols.list.forEach(n=>{const r=n.getColDef().pivotKeys,o=n.getColDef().pivotValueColumn;Tl(r,e)&&o===i&&(s=n)}),s}getPivotResultCols(){return this.pivotResultCols}getPivotResultCol(e){return this.pivotResultCols?this.columnModel.getColFromCollection(e,this.pivotResultCols):null}setPivotResultCols(e,t){var i,s;if(this.columnModel.isReady()&&!(e==null&&this.pivotResultCols==null)){if(e){this.processPivotResultColDef(e);const n=this.columnFactory.createColumnTree(e,!1,((i=this.pivotResultCols)==null?void 0:i.tree)||this.previousPivotResultCols||void 0,t);al(this.context,(s=this.pivotResultCols)==null?void 0:s.tree,n.columnTree);const r=n.columnTree,o=n.treeDept,a=TD(r),l={};this.pivotResultCols={tree:r,treeDepth:o,list:a,map:l},this.pivotResultCols.list.forEach(h=>this.pivotResultCols.map[h.getId()]=h);const d=!!this.previousPivotResultCols;this.previousPivotResultCols=null,this.columnModel.refreshCols(!d)}else this.previousPivotResultCols=this.pivotResultCols?this.pivotResultCols.tree:null,this.pivotResultCols=null,this.columnModel.refreshCols(!1);this.visibleColsService.refresh(t)}}processPivotResultColDef(e){const t=this.gos.get("processPivotResultColDef"),i=this.gos.get("processPivotResultColGroupDef");if(!t&&!i)return;const s=n=>{n.forEach(r=>{if(ve(r.children)){const a=r;i&&i(a),s(a.children)}else t&&t(r)})};e&&s(e)}},d8=class extends re{constructor(){super(...arguments),this.beanName="columnSizeService"}wireBeans(e){this.columnModel=e.columnModel,this.columnViewportService=e.columnViewportService,this.eventDispatcher=e.columnEventDispatcher,this.visibleColsService=e.visibleColsService,this.ctrlsService=e.ctrlsService}setColumnWidths(e,t,i,s){const n=[];e.forEach(r=>{const o=this.columnModel.getColDefCol(r.key)||this.columnModel.getCol(r.key);if(!o)return;if(n.push({width:r.newWidth,ratios:[1],columns:[o]}),this.gos.get("colResizeDefault")==="shift"&&(t=!t),t){const l=this.visibleColsService.getColAfter(o);if(!l)return;const d=o.getActualWidth()-r.newWidth,h=l.getActualWidth()+d;n.push({width:h,ratios:[1],columns:[l]})}}),n.length!==0&&this.resizeColumnSets({resizeSets:n,finished:i,source:s})}resizeColumnSets(e){const{resizeSets:t,finished:i,source:s}=e;if(!(!t||t.every(h=>this.checkMinAndMaxWidthsForSet(h)))){if(i){const h=t&&t.length>0?t[0].columns:null;this.eventDispatcher.columnResized(h,i,s)}return}const r=[],o=[];t.forEach(h=>{const{width:p,columns:f,ratios:v}=h,y={},S={};f.forEach(x=>o.push(x));let w=!0,b=0;for(;w;){if(b++,b>1e3){at("infinite loop in resizeColumnSets");break}w=!1;const x=[];let D=0,E=p;f.forEach((k,P)=>{if(S[k.getId()])E-=y[k.getId()];else{x.push(k);const F=v[P];D+=F}});const T=1/D;x.forEach((k,P)=>{const O=P===x.length-1;let F;O?F=E:(F=Math.round(v[P]*p*T),E-=F);const z=k.getMinWidth(),V=k.getMaxWidth();F<z?(F=z,S[k.getId()]=!0,w=!0):V>0&&F>V&&(F=V,S[k.getId()]=!0,w=!0),y[k.getId()]=F})}f.forEach(x=>{const D=y[x.getId()];x.getActualWidth()!==D&&(x.setActualWidth(D,s),r.push(x))})});const a=r.length>0;let l=[];a&&(l=this.refreshFlexedColumns({resizingCols:o,skipSetLeft:!0}),this.visibleColsService.setLeftValues(s),this.visibleColsService.updateBodyWidths(),this.columnViewportService.checkViewportColumns());const d=o.concat(l);(a||i)&&this.eventDispatcher.columnResized(d,i,s,l)}checkMinAndMaxWidthsForSet(e){const{columns:t,width:i}=e;let s=0,n=0,r=!0;t.forEach(l=>{const d=l.getMinWidth();s+=d||0;const h=l.getMaxWidth();h>0?n+=h:r=!1});const o=i>=s,a=!r||i<=n;return o&&a}refreshFlexedColumns(e={}){const t=e.source?e.source:"flex";if(e.viewportWidth!=null&&(this.flexViewportWidth=e.viewportWidth),!this.flexViewportWidth)return[];const i=this.visibleColsService.getCenterCols();let s=-1;if(e.resizingCols){const f=new Set(e.resizingCols);for(let v=i.length-1;v>=0;v--)if(f.has(i[v])){s=v;break}}let n=0,r=[],o=0,a=0;for(let f=0;f<i.length;f++)i[f].getFlex()&&f>s?(r.push(i[f]),a+=i[f].getFlex(),o+=i[f].getMinWidth()):n+=i[f].getActualWidth();if(!r.length)return[];let l=[];n+o>this.flexViewportWidth&&(r.forEach(f=>f.setActualWidth(f.getMinWidth(),t)),l=r,r=[]);const d=[];let h;e:for(;;){h=this.flexViewportWidth-n;const f=h/a;for(let v=0;v<r.length;v++){const y=r[v],S=f*y.getFlex();let w=0;const b=y.getMinWidth(),x=y.getMaxWidth();if(S<b?w=b:S>x&&(w=x),w){y.setActualWidth(w,t),IF(r,y),a-=y.getFlex(),l.push(y),n+=y.getActualWidth();continue e}d[v]=Math.floor(S)}break}let p=h;return r.forEach((f,v)=>{const y=v<r.length-1?Math.min(d[v],p):Math.max(d[v],p);f.setActualWidth(y,t),l.push(f),p-=d[v]}),e.skipSetLeft||this.visibleColsService.setLeftValues(t),e.updateBodyWidths&&this.visibleColsService.updateBodyWidths(),e.fireResizedEvent&&this.eventDispatcher.columnResized(l,!0,t,r),r}sizeColumnsToFit(e,t="sizeColumnsToFit",i,s){var f;if(this.columnModel.isShouldQueueResizeOperations()){this.columnModel.pushResizeOperation(()=>this.sizeColumnsToFit(e,t,i,s));return}const n={};s&&((f=s==null?void 0:s.columnLimits)==null||f.forEach(({key:v,...y})=>{n[typeof v=="string"?v:v.getColId()]=y}));const r=this.visibleColsService.getAllCols(),o=e===Ko(r);if(e<=0||!r.length||o)return;const a=[],l=[];r.forEach(v=>{v.getColDef().suppressSizeToFit===!0?l.push(v):a.push(v)});const d=a.slice(0);let h=!1;const p=v=>{js(a,v),l.push(v)};for(a.forEach(v=>{v.resetActualWidth(t);const y=n==null?void 0:n[v.getId()],S=(y==null?void 0:y.minWidth)??(s==null?void 0:s.defaultMinWidth),w=(y==null?void 0:y.maxWidth)??(s==null?void 0:s.defaultMaxWidth),b=v.getActualWidth();typeof S=="number"&&b<S?v.setActualWidth(S,t,!0):typeof w=="number"&&b>w&&v.setActualWidth(w,t,!0)});!h;){h=!0;const v=e-Ko(l);if(v<=0)a.forEach(y=>{var w;const S=((w=n==null?void 0:n[y.getId()])==null?void 0:w.minWidth)??(s==null?void 0:s.defaultMinWidth);if(typeof S=="number"){y.setActualWidth(S,t,!0);return}y.setMinimum(t)});else{const y=v/Ko(a);let S=v;for(let w=a.length-1;w>=0;w--){const b=a[w],x=n==null?void 0:n[b.getId()],D=(x==null?void 0:x.minWidth)??(s==null?void 0:s.defaultMinWidth),E=(x==null?void 0:x.maxWidth)??(s==null?void 0:s.defaultMaxWidth),T=b.getMinWidth(),k=b.getMaxWidth(),P=typeof D=="number"&&D>T?D:T,O=typeof E=="number"&&E<k?E:k;let F=Math.round(b.getActualWidth()*y);F<P?(F=P,p(b),h=!1):F>O?(F=O,p(b),h=!1):w===0&&(F=S),b.setActualWidth(F,t,!0),S-=F}}}d.forEach(v=>{v.fireColumnWidthChangedEvent(t)}),this.visibleColsService.setLeftValues(t),this.visibleColsService.updateBodyWidths(),!i&&this.eventDispatcher.columnResized(d,!0,t)}applyAutosizeStrategy(){const e=this.gos.get("autoSizeStrategy");if(!e)return;const{type:t}=e;setTimeout(()=>{if(t==="fitGridWidth"){const{columnLimits:i,defaultMinWidth:s,defaultMaxWidth:n}=e,r=i==null?void 0:i.map(({colId:o,minWidth:a,maxWidth:l})=>({key:o,minWidth:a,maxWidth:l}));this.ctrlsService.getGridBodyCtrl().sizeColumnsToFit({defaultMinWidth:s,defaultMaxWidth:n,columnLimits:r})}else t==="fitProvidedWidth"&&this.sizeColumnsToFit(e.width,"sizeColumnsToFit")})}};function zF(e,t){return e+"_"+t}function Ei(e){return e instanceof BF}var BF=class extends re{constructor(e,t,i,s){super(),this.isColumn=!1,this.displayedChildren=[],this.autoHeaderHeight=null,this.parent=null,this.groupId=t,this.partId=i,this.providedColumnGroup=e,this.pinned=s}reset(){this.parent=null,this.children=null,this.displayedChildren=null}getParent(){return this.parent}setParent(e){this.parent=e}getUniqueId(){return zF(this.groupId,this.partId)}isEmptyGroup(){return this.displayedChildren.length===0}isMoving(){const e=this.getProvidedColumnGroup().getLeafColumns();return!e||e.length===0?!1:e.every(t=>t.isMoving())}checkLeft(){if(this.displayedChildren.forEach(e=>{Ei(e)&&e.checkLeft()}),this.displayedChildren.length>0)if(this.gos.get("enableRtl")){const t=nt(this.displayedChildren).getLeft();this.setLeft(t)}else{const e=this.displayedChildren[0].getLeft();this.setLeft(e)}else this.setLeft(null)}getLeft(){return this.left}getOldLeft(){return this.oldLeft}setLeft(e){this.oldLeft=this.left,this.left!==e&&(this.left=e,this.dispatchLocalEvent({type:"leftChanged"}))}getPinned(){return this.pinned}getGroupId(){return this.groupId}getPartId(){return this.partId}getActualWidth(){let e=0;return this.displayedChildren&&this.displayedChildren.forEach(t=>{e+=t.getActualWidth()}),e}isResizable(){if(!this.displayedChildren)return!1;let e=!1;return this.displayedChildren.forEach(t=>{t.isResizable()&&(e=!0)}),e}getMinWidth(){let e=0;return this.displayedChildren.forEach(t=>{e+=t.getMinWidth()}),e}addChild(e){this.children||(this.children=[]),this.children.push(e)}getDisplayedChildren(){return this.displayedChildren}getLeafColumns(){const e=[];return this.addLeafColumns(e),e}getDisplayedLeafColumns(){const e=[];return this.addDisplayedLeafColumns(e),e}getDefinition(){return this.providedColumnGroup.getColGroupDef()}getColGroupDef(){return this.providedColumnGroup.getColGroupDef()}isPadding(){return this.providedColumnGroup.isPadding()}isExpandable(){return this.providedColumnGroup.isExpandable()}isExpanded(){return this.providedColumnGroup.isExpanded()}setExpanded(e){this.providedColumnGroup.setExpanded(e)}isAutoHeaderHeight(){var e;return!!((e=this.getColGroupDef())!=null&&e.autoHeaderHeight)}getAutoHeaderHeight(){return this.autoHeaderHeight}setAutoHeaderHeight(e){const t=e!==this.autoHeaderHeight;return this.autoHeaderHeight=e,t}addDisplayedLeafColumns(e){this.displayedChildren.forEach(t=>{bl(t)?e.push(t):Ei(t)&&t.addDisplayedLeafColumns(e)})}addLeafColumns(e){this.children.forEach(t=>{bl(t)?e.push(t):Ei(t)&&t.addLeafColumns(e)})}getChildren(){return this.children}getColumnGroupShow(){return this.providedColumnGroup.getColumnGroupShow()}getProvidedColumnGroup(){return this.providedColumnGroup}getPaddingLevel(){const e=this.getParent();return!this.isPadding()||!e||!e.isPadding()?0:1+e.getPaddingLevel()}calculateDisplayedColumns(){this.displayedChildren=[];let e=this;for(;e!=null&&e.isPadding();)e=e.getParent();if(!(e?e.getProvidedColumnGroup().isExpandable():!1)){this.displayedChildren=this.children,this.dispatchLocalEvent({type:"displayedChildrenChanged"});return}this.children.forEach(i=>{if(Ei(i)&&(!i.displayedChildren||!i.displayedChildren.length))return;switch(i.getColumnGroupShow()){case"open":e.getProvidedColumnGroup().isExpanded()&&this.displayedChildren.push(i);break;case"closed":e.getProvidedColumnGroup().isExpanded()||this.displayedChildren.push(i);break;default:this.displayedChildren.push(i);break}}),this.dispatchLocalEvent({type:"displayedChildrenChanged"})}},GF=class{constructor(){this.existingIds={}}getInstanceIdForKey(e){const t=this.existingIds[e];let i;return typeof t!="number"?i=0:i=t+1,this.existingIds[e]=i,i}},h8=class extends re{constructor(){super(...arguments),this.beanName="visibleColsService",this.colsAndGroupsMap={},this.columnsLeft=[],this.columnsRight=[],this.columnsCenter=[],this.columns=[],this.bodyWidth=0,this.leftWidth=0,this.rightWidth=0,this.bodyWidthDirty=!0}wireBeans(e){this.columnModel=e.columnModel,this.columnSizeService=e.columnSizeService,this.columnViewportService=e.columnViewportService,this.eventDispatcher=e.columnEventDispatcher}refresh(e,t=!1){t||this.buildTrees(),this.updateOpenClosedVisibilityInColumnGroups(),this.columnsLeft=h0(this.treeLeft),this.columnsCenter=h0(this.treeCenter),this.columnsRight=h0(this.treeRight),this.joinColsAriaOrder(),this.joinCols(),this.setLeftValues(e),this.autoHeightCols=this.columns.filter(i=>i.isAutoHeight()),this.columnSizeService.refreshFlexedColumns(),this.updateBodyWidths(),this.columnViewportService.checkViewportColumns(!1),this.setFirstRightAndLastLeftPinned(e),this.eventDispatcher.visibleCols(e)}updateBodyWidths(){const e=Ko(this.columnsCenter),t=Ko(this.columnsLeft),i=Ko(this.columnsRight);this.bodyWidthDirty=this.bodyWidth!==e,(this.bodyWidth!==e||this.leftWidth!==t||this.rightWidth!==i)&&(this.bodyWidth=e,this.leftWidth=t,this.rightWidth=i,this.eventService.dispatchEvent({type:"columnContainerWidthChanged"}),this.eventService.dispatchEvent({type:"displayedColumnsWidthChanged"}))}setLeftValues(e){this.setLeftValuesOfCols(e),this.setLeftValuesOfGroups()}setFirstRightAndLastLeftPinned(e){let t,i;this.gos.get("enableRtl")?(t=this.columnsLeft?this.columnsLeft[0]:null,i=this.columnsRight?nt(this.columnsRight):null):(t=this.columnsLeft?nt(this.columnsLeft):null,i=this.columnsRight?this.columnsRight[0]:null),this.columnModel.getCols().forEach(s=>{s.setLastLeftPinned(s===t,e),s.setFirstRightPinned(s===i,e)})}buildTrees(){const e=this.columnModel.getColsToShow(),t=e.filter(r=>r.getPinned()=="left"),i=e.filter(r=>r.getPinned()=="right"),s=e.filter(r=>r.getPinned()!="left"&&r.getPinned()!="right"),n=new GF;this.treeLeft=this.createGroups({columns:t,idCreator:n,pinned:"left",oldDisplayedGroups:this.treeLeft}),this.treeRight=this.createGroups({columns:i,idCreator:n,pinned:"right",oldDisplayedGroups:this.treeRight}),this.treeCenter=this.createGroups({columns:s,idCreator:n,pinned:null,oldDisplayedGroups:this.treeCenter}),this.updateColsAndGroupsMap()}clear(){this.columnsLeft=[],this.columnsRight=[],this.columnsCenter=[],this.columns=[],this.ariaOrderColumns=[]}joinColsAriaOrder(){const e=this.columnModel.getCols(),t=[],i=[],s=[];for(const n of e){const r=n.getPinned();r?r===!0||r==="left"?t.push(n):s.push(n):i.push(n)}this.ariaOrderColumns=t.concat(i).concat(s)}getAriaColIndex(e){let t;return Ei(e)?t=e.getLeafColumns()[0]:t=e,this.ariaOrderColumns.indexOf(t)+1}getAllAutoHeightCols(){return this.autoHeightCols}setLeftValuesOfGroups(){[this.treeLeft,this.treeRight,this.treeCenter].forEach(e=>{e.forEach(t=>{Ei(t)&&t.checkLeft()})})}setLeftValuesOfCols(e){if(!this.columnModel.getColDefCols())return;const i=this.columnModel.getCols().slice(0),s=this.gos.get("enableRtl");[this.columnsLeft,this.columnsRight,this.columnsCenter].forEach(n=>{if(s){let r=Ko(n);n.forEach(o=>{r-=o.getActualWidth(),o.setLeft(r,e)})}else{let r=0;n.forEach(o=>{o.setLeft(r,e),r+=o.getActualWidth()})}jU(i,n)}),i.forEach(n=>{n.setLeft(null,e)})}joinCols(){this.gos.get("enableRtl")?this.columns=this.columnsRight.concat(this.columnsCenter).concat(this.columnsLeft):this.columns=this.columnsLeft.concat(this.columnsCenter).concat(this.columnsRight)}getColsCenter(){return this.columnsCenter}getAllTrees(){return this.treeLeft&&this.treeRight&&this.treeCenter?this.treeLeft.concat(this.treeCenter).concat(this.treeRight):null}getTreeLeft(){return this.treeLeft}getTreeRight(){return this.treeRight}getTreeCenter(){return this.treeCenter}getAllCols(){return this.columns}isColDisplayed(e){return this.getAllCols().indexOf(e)>=0}getLeftColsForRow(e){return this.columnModel.isColSpanActive()?this.getColsForRow(e,this.columnsLeft):this.columnsLeft}getRightColsForRow(e){return this.columnModel.isColSpanActive()?this.getColsForRow(e,this.columnsRight):this.columnsRight}getColsForRow(e,t,i,s){const n=[];let r=null;for(let o=0;o<t.length;o++){const a=t[o],l=t.length-o,d=Math.min(a.getColSpan(e),l),h=[a];if(d>1){const f=d-1;for(let v=1;v<=f;v++)h.push(t[o+v]);o+=f}let p;i?(p=!1,h.forEach(f=>{i(f)&&(p=!0)})):p=!0,p&&(n.length===0&&r&&(s&&s(a))&&n.push(r),n.push(a)),r=a}return n}getBodyContainerWidth(){return this.bodyWidth}getContainerWidth(e){switch(e){case"left":return this.leftWidth;case"right":return this.rightWidth;default:return this.bodyWidth}}getCenterCols(){return this.columnsCenter}getLeftCols(){return this.columnsLeft}getRightCols(){return this.columnsRight}getColBefore(e){const t=this.getAllCols(),i=t.indexOf(e);return i>0?t[i-1]:null}getGroupAtDirection(e,t){const i=e.getProvidedColumnGroup().getLevel()+e.getPaddingLevel(),s=e.getDisplayedLeafColumns(),n=t==="After"?nt(s):s[0],r=`getCol${t}`;for(;;){const o=this[r](n);if(!o)return null;const a=this.getColGroupAtLevel(o,i);if(a!==e)return a}}getColGroupAtLevel(e,t){let i=e.getParent(),s,n;for(;s=i.getProvidedColumnGroup().getLevel(),n=i.getPaddingLevel(),!(s+n<=t);)i=i.getParent();return i}isPinningLeft(){return this.columnsLeft.length>0}isPinningRight(){return this.columnsRight.length>0}updateColsAndGroupsMap(){this.colsAndGroupsMap={};const e=t=>{this.colsAndGroupsMap[t.getUniqueId()]=t};Rc(this.treeCenter,!1,e),Rc(this.treeLeft,!1,e),Rc(this.treeRight,!1,e)}isVisible(e){return this.colsAndGroupsMap[e.getUniqueId()]===e}updateOpenClosedVisibilityInColumnGroups(){const e=this.getAllTrees();Rc(e,!1,t=>{Ei(t)&&t.calculateDisplayedColumns()})}getFirstColumn(){const e=this.gos.get("enableRtl"),t=["getLeftCols","getCenterCols","getRightCols"];e&&t.reverse();for(let i=0;i<t.length;i++){const s=this[t[i]]();if(s.length)return e?nt(s):s[0]}return null}getColumnGroup(e,t){if(!e)return null;if(Ei(e))return e;const i=this.getAllTrees(),s=typeof t=="number";let n=null;return Rc(i,!1,r=>{if(Ei(r)){const o=r;let a;s?a=e===o.getGroupId()&&t===o.getPartId():a=e===o.getGroupId(),a&&(n=o)}}),n}getColAfter(e){const t=this.getAllCols(),i=t.indexOf(e);return i<t.length-1?t[i+1]:null}isBodyWidthDirty(){return this.bodyWidthDirty}setBodyWidthDirty(){this.bodyWidthDirty=!0}getColsLeftWidth(){return Ko(this.columnsLeft)}getDisplayedColumnsRightWidth(){return Ko(this.columnsRight)}isColAtEdge(e,t){const i=this.getAllCols();if(!i.length)return!1;const s=t==="first";let n;if(Ei(e)){const r=e.getDisplayedLeafColumns();if(!r.length)return!1;n=s?r[0]:nt(r)}else n=e;return(s?i[0]:nt(i))===n}createGroups(e){const{columns:t,idCreator:i,pinned:s,oldDisplayedGroups:n,isStandaloneStructure:r}=e,o=this.mapOldGroupsById(n),a=[];let l=t;for(;l.length;){const d=l;l=[];let h=0;const p=f=>{const v=h;h=f;const y=d[v],w=(Ei(y)?y.getProvidedColumnGroup():y).getOriginalParent();if(w==null){for(let x=v;x<f;x++)a.push(d[x]);return}const b=this.createColGroup(w,i,o,s,r);for(let x=v;x<f;x++)b.addChild(d[x]);l.push(b)};for(let f=1;f<d.length;f++){const v=d[f],S=(Ei(v)?v.getProvidedColumnGroup():v).getOriginalParent(),w=d[h],x=(Ei(w)?w.getProvidedColumnGroup():w).getOriginalParent();S!==x&&p(f)}h<d.length&&p(d.length)}return r||this.setupParentsIntoCols(a,null),a}createColGroup(e,t,i,s,n){const r=e.getGroupId(),o=t.getInstanceIdForKey(r),a=zF(r,o);let l=i[a];return l&&l.getProvidedColumnGroup()!==e&&(l=null),ve(l)?l.reset():(l=new BF(e,r,o,s),n||this.createBean(l)),l}mapOldGroupsById(e){const t={},i=s=>{s.forEach(n=>{if(Ei(n)){const r=n;t[n.getUniqueId()]=r,i(r.getChildren())}})};return e&&i(e),t}setupParentsIntoCols(e,t){e.forEach(i=>{if(i.setParent(t),Ei(i)){const s=i;this.setupParentsIntoCols(s.getChildren(),s)}})}};function Rc(e,t,i){if(e)for(let s=0;s<e.length;s++){const n=e[s];if(Ei(n)){const r=t?n.getDisplayedChildren():n.getChildren();Rc(r,t,i)}i(n)}}function h0(e){const t=[];return Rc(e,!0,i=>{bl(i)&&t.push(i)}),t}var HF=["columnEverythingChanged","newColumnsLoaded","columnPivotModeChanged","pivotMaxColumnsExceeded","columnRowGroupChanged","expandOrCollapseAll","columnPivotChanged","gridColumnsChanged","columnValueChanged","columnMoved","columnVisible","columnPinned","columnGroupOpened","columnResized","displayedColumnsChanged","virtualColumnsChanged","columnHeaderMouseOver","columnHeaderMouseLeave","columnHeaderClicked","columnHeaderContextMenu","asyncTransactionsFlushed","rowGroupOpened","rowDataUpdated","pinnedRowDataChanged","rangeSelectionChanged","cellSelectionChanged","chartCreated","chartRangeSelectionChanged","chartOptionsChanged","chartDestroyed","toolPanelVisibleChanged","toolPanelSizeChanged","modelUpdated","cutStart","cutEnd","pasteStart","pasteEnd","fillStart","fillEnd","cellSelectionDeleteStart","cellSelectionDeleteEnd","rangeDeleteStart","rangeDeleteEnd","undoStarted","undoEnded","redoStarted","redoEnded","cellClicked","cellDoubleClicked","cellMouseDown","cellContextMenu","cellValueChanged","cellEditRequest","rowValueChanged","headerFocused","cellFocused","rowSelected","selectionChanged","tooltipShow","tooltipHide","cellKeyDown","cellMouseOver","cellMouseOut","filterChanged","filterModified","filterOpened","advancedFilterBuilderVisibleChanged","sortChanged","virtualRowRemoved","rowClicked","rowDoubleClicked","gridReady","gridPreDestroyed","gridSizeChanged","viewportChanged","firstDataRendered","dragStarted","dragStopped","dragCancelled","rowEditingStarted","rowEditingStopped","cellEditingStarted","cellEditingStopped","bodyScroll","bodyScrollEnd","paginationChanged","componentStateChanged","storeRefreshed","stateUpdated","columnMenuVisibleChanged","contextMenuVisibleChanged","rowDragEnter","rowDragMove","rowDragLeave","rowDragEnd","rowDragCancel"],g8=["scrollbarWidthChanged","keyShortcutChangedCellStart","keyShortcutChangedCellEnd","pinnedHeightChanged","cellFocusCleared","fullWidthRowFocused","checkboxChanged","heightScaleChanged","suppressMovableColumns","suppressMenuHide","suppressFieldDotNotation","columnPanelItemDragStart","columnPanelItemDragEnd","bodyHeightChanged","columnContainerWidthChanged","displayedColumnsWidthChanged","scrollVisibilityChanged","scrollGapChanged","columnHoverChanged","flashCells","paginationPixelOffsetChanged","displayedRowsChanged","leftPinnedWidthChanged","rightPinnedWidthChanged","rowContainerHeightChanged","headerHeightChanged","columnGroupHeaderHeightChanged","columnHeaderHeightChanged","gridStylesChanged","storeUpdated","filterDestroyed","rowDataUpdateStarted","rowCountReady","advancedFilterEnabledChanged","dataTypesInferred","fieldValueChanged","fieldPickerValueSelected","richSelectListRowSelected","sideBarUpdated","alignedGridScroll","alignedGridColumn","gridOptionsChanged","chartTitleEdit","recalculateRowBounds","stickyTopOffsetChanged","overlayExclusiveChanged"],p8=[...HF,...g8],f8={enableBrowserTooltips:!0,tooltipTrigger:!0,tooltipMouseTrack:!0,tooltipShowMode:!0,tooltipInteraction:!0,defaultColGroupDef:!0,suppressAutoSize:!0,skipHeaderOnAutoSize:!0,autoSizeStrategy:!0,components:!0,stopEditingWhenCellsLoseFocus:!0,undoRedoCellEditing:!0,undoRedoCellEditingLimit:!0,excelStyles:!0,cacheQuickFilter:!0,advancedFilterModel:!0,customChartThemes:!0,chartThemeOverrides:!0,chartToolPanelsDef:!0,loadingCellRendererSelector:!0,localeText:!0,keepDetailRows:!0,keepDetailRowsCount:!0,detailRowHeight:!0,detailRowAutoHeight:!0,tabIndex:!0,valueCache:!0,valueCacheNeverExpires:!0,enableCellExpressions:!0,suppressTouch:!0,suppressAsyncEvents:!0,suppressBrowserResizeObserver:!0,suppressPropertyNamesCheck:!0,debug:!0,dragAndDropImageComponent:!0,loadingOverlayComponent:!0,suppressLoadingOverlay:!0,noRowsOverlayComponent:!0,paginationPageSizeSelector:!0,paginateChildRows:!0,pivotPanelShow:!0,pivotSuppressAutoColumn:!0,suppressExpandablePivotGroups:!0,aggFuncs:!0,suppressAggFuncInHeader:!0,allowShowChangeAfterFilter:!0,ensureDomOrder:!0,enableRtl:!0,suppressColumnVirtualisation:!0,suppressMaxRenderedRowRestriction:!0,suppressRowVirtualisation:!0,rowDragText:!0,suppressGroupMaintainValueType:!0,groupLockGroupColumns:!0,rowGroupPanelSuppressSort:!0,suppressGroupRowsSticky:!0,rowModelType:!0,cacheOverflowSize:!0,infiniteInitialRowCount:!0,serverSideInitialRowCount:!0,suppressServerSideInfiniteScroll:!0,maxBlocksInCache:!0,maxConcurrentDatasourceRequests:!0,blockLoadDebounceMillis:!0,serverSideOnlyRefreshFilteredGroups:!0,serverSidePivotResultFieldSeparator:!0,viewportRowModelPageSize:!0,viewportRowModelBufferSize:!0,debounceVerticalScrollbar:!0,suppressAnimationFrame:!0,suppressPreventDefaultOnMouseWheel:!0,scrollbarWidth:!0,icons:!0,suppressRowTransform:!0,gridId:!0,enableGroupEdit:!0,initialState:!0,processUnpinnedColumns:!0,createChartContainer:!0,getLocaleText:!0,getRowId:!0,reactiveCustomComponents:!0,columnMenu:!0,suppressSetFilterByDefault:!0},xs=class{};xs.STRING_PROPERTIES=["overlayLoadingTemplate","overlayNoRowsTemplate","gridId","quickFilterText","rowModelType","editType","domLayout","clipboardDelimiter","rowGroupPanelShow","multiSortKey","pivotColumnGroupTotals","pivotRowTotals","pivotPanelShow","fillHandleDirection","groupDisplayType","treeDataDisplayType","colResizeDefault","tooltipTrigger","serverSidePivotResultFieldSeparator","columnMenu","tooltipShowMode","grandTotalRow"];xs.OBJECT_PROPERTIES=["components","rowStyle","context","autoGroupColumnDef","localeText","icons","datasource","dragAndDropImageComponentParams","serverSideDatasource","viewportDatasource","groupRowRendererParams","aggFuncs","fullWidthCellRendererParams","defaultColGroupDef","defaultColDef","defaultCsvExportParams","defaultExcelExportParams","columnTypes","rowClassRules","detailCellRendererParams","loadingCellRendererParams","loadingOverlayComponentParams","noRowsOverlayComponentParams","popupParent","statusBar","sideBar","theme","chartThemeOverrides","customChartThemes","chartToolPanelsDef","dataTypeDefinitions","advancedFilterModel","advancedFilterParent","advancedFilterBuilderParams","initialState","autoSizeStrategy","cellSelection","selectionColumnDef"];xs.ARRAY_PROPERTIES=["sortingOrder","alignedGrids","rowData","columnDefs","excelStyles","pinnedTopRowData","pinnedBottomRowData","chartThemes","rowClass","paginationPageSizeSelector"];xs.NUMBER_PROPERTIES=["rowHeight","detailRowHeight","rowBuffer","headerHeight","groupHeaderHeight","groupLockGroupColumns","floatingFiltersHeight","pivotHeaderHeight","pivotGroupHeaderHeight","groupDefaultExpanded","pivotDefaultExpanded","viewportRowModelPageSize","viewportRowModelBufferSize","autoSizePadding","maxBlocksInCache","maxConcurrentDatasourceRequests","tooltipShowDelay","tooltipHideDelay","cacheOverflowSize","paginationPageSize","cacheBlockSize","infiniteInitialRowCount","serverSideInitialRowCount","scrollbarWidth","asyncTransactionWaitMillis","blockLoadDebounceMillis","keepDetailRowsCount","undoRedoCellEditingLimit","cellFlashDelay","cellFadeDelay","cellFlashDuration","cellFadeDuration","tabIndex","pivotMaxGeneratedColumns"];xs.BOOLEAN_PROPERTIES=["suppressMakeColumnVisibleAfterUnGroup","suppressRowClickSelection","suppressCellFocus","suppressHeaderFocus","suppressHorizontalScroll","groupSelectsChildren","alwaysShowHorizontalScroll","alwaysShowVerticalScroll","debug","enableBrowserTooltips","enableCellExpressions","groupIncludeTotalFooter","groupSuppressBlankHeader","suppressMenuHide","suppressRowDeselection","unSortIcon","suppressMultiSort","alwaysMultiSort","singleClickEdit","suppressLoadingOverlay","suppressNoRowsOverlay","suppressAutoSize","skipHeaderOnAutoSize","suppressColumnMoveAnimation","suppressMoveWhenColumnDragging","suppressMovableColumns","suppressFieldDotNotation","enableRangeSelection","enableRangeHandle","enableFillHandle","suppressClearOnFillReduction","deltaSort","suppressTouch","suppressAsyncEvents","allowContextMenuWithControlKey","suppressContextMenu","enableCellChangeFlash","suppressDragLeaveHidesColumns","suppressRowGroupHidesColumns","suppressMiddleClickScrolls","suppressPreventDefaultOnMouseWheel","suppressCopyRowsToClipboard","copyHeadersToClipboard","copyGroupHeadersToClipboard","pivotMode","suppressAggFuncInHeader","suppressColumnVirtualisation","alwaysAggregateAtRootLevel","suppressFocusAfterRefresh","functionsReadOnly","animateRows","groupSelectsFiltered","groupRemoveSingleChildren","groupRemoveLowestSingleChildren","enableRtl","suppressClickEdit","rowDragEntireRow","rowDragManaged","suppressRowDrag","suppressMoveWhenRowDragging","rowDragMultiRow","enableGroupEdit","embedFullWidthRows","suppressPaginationPanel","groupHideOpenParents","groupAllowUnbalanced","pagination","paginationAutoPageSize","suppressScrollOnNewData","suppressScrollWhenPopupsAreOpen","purgeClosedRowNodes","cacheQuickFilter","includeHiddenColumnsInQuickFilter","ensureDomOrder","accentedSort","suppressChangeDetection","valueCache","valueCacheNeverExpires","aggregateOnlyChangedColumns","suppressAnimationFrame","suppressExcelExport","suppressCsvExport","includeHiddenColumnsInAdvancedFilter","suppressMultiRangeSelection","enterNavigatesVerticallyAfterEdit","enterNavigatesVertically","suppressPropertyNamesCheck","rowMultiSelectWithClick","suppressRowHoverHighlight","suppressRowTransform","suppressClipboardPaste","suppressLastEmptyLineOnPaste","enableCharts","suppressMaintainUnsortedOrder","enableCellTextSelection","suppressBrowserResizeObserver","suppressMaxRenderedRowRestriction","excludeChildrenWhenTreeDataFiltering","tooltipMouseTrack","tooltipInteraction","keepDetailRows","paginateChildRows","preventDefaultOnContextMenu","undoRedoCellEditing","allowDragFromColumnsToolPanel","pivotSuppressAutoColumn","suppressExpandablePivotGroups","debounceVerticalScrollbar","detailRowAutoHeight","serverSideSortAllLevels","serverSideEnableClientSideSort","serverSideOnlyRefreshFilteredGroups","serverSideSortOnServer","serverSideFilterOnServer","suppressAggFilteredOnly","showOpenedGroup","suppressClipboardApi","suppressModelUpdateAfterUpdateTransaction","stopEditingWhenCellsLoseFocus","groupMaintainOrder","columnHoverHighlight","readOnlyEdit","suppressRowVirtualisation","enableCellEditingOnBackspace","resetRowDataOnUpdate","removePivotHeaderRowWhenSingleValueColumn","suppressCopySingleCellRanges","suppressGroupRowsSticky","suppressCutToClipboard","suppressServerSideInfiniteScroll","rowGroupPanelSuppressSort","allowShowChangeAfterFilter","enableAdvancedFilter","masterDetail","treeData","suppressGroupMaintainValueType","reactiveCustomComponents","applyQuickFilterBeforePivotOrAgg","suppressServerSideFullWidthLoadingRow","suppressAdvancedFilterEval","loading","maintainColumnOrder","enableStrictPivotColumnOrder","suppressSetFilterByDefault"];xs.OTHER_PROPERTIES=["suppressStickyTotalRow","loadThemeGoogleFonts","rowSelection"];xs.FUNCTION_PROPERTIES=["doesExternalFilterPass","processPivotResultColDef","processPivotResultColGroupDef","getBusinessKeyForNode","isRowSelectable","rowDragText","groupRowRenderer","dragAndDropImageComponent","fullWidthCellRenderer","loadingCellRenderer","loadingOverlayComponent","noRowsOverlayComponent","detailCellRenderer","quickFilterParser","quickFilterMatcher","getLocaleText","isExternalFilterPresent","getRowHeight","getRowClass","getRowStyle","getContextMenuItems","getMainMenuItems","processRowPostCreate","processCellForClipboard","getGroupRowAgg","isFullWidthRow","sendToClipboard","focusGridInnerElement","navigateToNextHeader","tabToNextHeader","navigateToNextCell","tabToNextCell","processCellFromClipboard","getDocument","postProcessPopup","getChildCount","getDataPath","isRowMaster","postSortRows","processHeaderForClipboard","processUnpinnedColumns","processGroupHeaderForClipboard","paginationNumberFormatter","processDataFromClipboard","getServerSideGroupKey","isServerSideGroup","createChartContainer","getChartToolbarItems","fillOperation","isApplyServerSideTransaction","getServerSideGroupLevelParams","isServerSideGroupOpenByDefault","isGroupOpenByDefault","initialGroupOrderComparator","groupIncludeFooter","loadingCellRendererSelector","getRowId","groupAggFiltering","chartMenuItems","groupTotalRow"];xs.ALL_PROPERTIES=[...xs.ARRAY_PROPERTIES,...xs.OBJECT_PROPERTIES,...xs.STRING_PROPERTIES,...xs.NUMBER_PROPERTIES,...xs.FUNCTION_PROPERTIES,...xs.BOOLEAN_PROPERTIES,...xs.OTHER_PROPERTIES];var Ap=xs,ir=class{static getCallbackForEvent(t){return!t||t.length<2?t:"on"+t[0].toUpperCase()+t.substring(1)}};ir.VUE_OMITTED_PROPERTY="AG-VUE-OMITTED-PROPERTY";ir.PUBLIC_EVENTS=HF;ir.EVENT_CALLBACKS=p8.map(e=>ir.getCallbackForEvent(e));ir.BOOLEAN_PROPERTIES=Ap.BOOLEAN_PROPERTIES;ir.ALL_PROPERTIES=Ap.ALL_PROPERTIES;ir.ALL_PROPERTIES_AND_CALLBACKS=[...ir.ALL_PROPERTIES,...ir.EVENT_CALLBACKS];ir.ALL_PROPERTIES_AND_CALLBACKS_SET=new Set(ir.ALL_PROPERTIES_AND_CALLBACKS);var Tp=ir;function m8(e,t){typeof e!="object"&&(e={});const i={...e};return Tp.ALL_PROPERTIES_AND_CALLBACKS.forEach(n=>{const r=t[n];typeof r<"u"&&r!==Tp.VUE_OMITTED_PROPERTY&&(i[n]=r)}),i}function v8(e,t){if(!e)return;const i={};let s=!1;if(Object.keys(e).filter(o=>Tp.ALL_PROPERTIES_AND_CALLBACKS_SET.has(o)).forEach(o=>{i[o]=e[o],s=!0}),!s)return;const n={type:"gridOptionsChanged",options:i};t.dispatchEvent(n);const r={type:"componentStateChanged"};xr(i,(o,a)=>{r[o]=a}),t.dispatchEvent(r)}var ah=class extends re{};function uf(e,t,i){return i&&e.addDestroyFunc(()=>t.destroyBean(i)),i??e}var df=class{constructor(e){this.cssClassStates={},this.getGui=e}addCssClass(e){const t=(e||"").split(" ");if(t.length>1){t.forEach(s=>this.addCssClass(s));return}if(this.cssClassStates[e]!==!0&&e.length){const s=this.getGui();s&&s.classList.add(e),this.cssClassStates[e]=!0}}removeCssClass(e){const t=(e||"").split(" ");if(t.length>1){t.forEach(s=>this.removeCssClass(s));return}if(this.cssClassStates[e]!==!1&&e.length){const s=this.getGui();s&&s.classList.remove(e),this.cssClassStates[e]=!1}}containsCssClass(e){const t=this.getGui();return t?t.classList.contains(e):!1}addOrRemoveCssClass(e,t){if(!e)return;if(e.indexOf(" ")>=0){const s=(e||"").split(" ");if(s.length>1){s.forEach(n=>this.addOrRemoveCssClass(n,t));return}}if(this.cssClassStates[e]!==t&&e.length){const s=this.getGui();s&&s.classList.toggle(e,t),this.cssClassStates[e]=t}}};function pa(e,t,i){i==null||typeof i=="string"&&i==""?jF(e,t):xo(e,t,i)}function xo(e,t,i){e.setAttribute(VF(t),i.toString())}function jF(e,t){e.removeAttribute(VF(t))}function VF(e){return`aria-${e}`}function Or(e,t){t?e.setAttribute("role",t):e.removeAttribute("role")}function y8(e){let t;return e==="asc"?t="ascending":e==="desc"?t="descending":e==="mixed"?t="other":t="none",t}function C8(e){return e.getAttribute("aria-label")}function _d(e,t){pa(e,"label",t)}function Ip(e,t){pa(e,"labelledby",t)}function _F(e,t){pa(e,"live",t)}function b8(e,t){pa(e,"atomic",t)}function S8(e,t){pa(e,"relevant",t)}function w8(e,t){pa(e,"disabled",t)}function WF(e,t){pa(e,"hidden",t)}function Sy(e,t){xo(e,"expanded",t)}function x8(e,t){xo(e,"setsize",t)}function M8(e,t){xo(e,"posinset",t)}function D8(e,t){xo(e,"rowcount",t)}function R8(e,t){xo(e,"rowindex",t)}function E8(e,t){xo(e,"colcount",t)}function UF(e,t){xo(e,"colindex",t)}function A8(e,t){xo(e,"colspan",t)}function T8(e,t){xo(e,"sort",t)}function I8(e){jF(e,"sort")}function wy(e,t){pa(e,"selected",t)}function L8(e,t){pa(e,"controls",t.id),Ip(t,e.id)}function PD(e,t){return t===void 0?e("ariaIndeterminate","indeterminate"):t===!0?e("ariaChecked","checked"):e("ariaUnchecked","unchecked")}var g0,pv,p0,f0,m0,v0,cM,uM,y0;function uo(){return g0===void 0&&(g0=/^((?!chrome|android).)*safari/i.test(navigator.userAgent)),g0}function $F(){if(pv===void 0)if(uo()){const e=navigator.userAgent.match(/version\/(\d+)/i);e&&(pv=e[1]!=null?parseFloat(e[1]):0)}else pv=0;return pv}function OD(){if(p0===void 0){const e=window;p0=!!e.chrome&&(!!e.chrome.webstore||!!e.chrome.runtime)||/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor)}return p0}function FD(){return f0===void 0&&(f0=/(firefox)/i.test(navigator.userAgent)),f0}function YF(){return m0===void 0&&(m0=/(Mac|iPhone|iPod|iPad)/i.test(navigator.platform)),m0}function Il(){return v0===void 0&&(v0=/iPad|iPhone|iPod/.test(navigator.platform)||navigator.platform==="MacIntel"&&navigator.maxTouchPoints>1),v0}function fk(){return!uo()||$F()>=15}function dM(e){if(!e)return null;const t=e.tabIndex,i=e.getAttribute("tabIndex");return t===-1&&(i===null||i===""&&!FD())?null:t.toString()}function k8(){if(y0!==void 0)return y0;if(!document.body)return-1;let e=1e6;const t=FD()?6e6:1e9,i=document.createElement("div");for(document.body.appendChild(i);;){const s=e*2;if(i.style.height=s+"px",s>t||i.clientHeight!==s)break;e=s}return document.body.removeChild(i),y0=e,e}function P8(){var e,t;return((e=document.body)==null?void 0:e.clientWidth)??(window.innerHeight||((t=document.documentElement)==null?void 0:t.clientWidth)||-1)}function O8(){var e,t;return((e=document.body)==null?void 0:e.clientHeight)??(window.innerHeight||((t=document.documentElement)==null?void 0:t.clientHeight)||-1)}function F8(){return uM==null&&KF(),uM}function KF(){const e=document.body,t=document.createElement("div");t.style.width=t.style.height="100px",t.style.opacity="0",t.style.overflow="scroll",t.style.msOverflowStyle="scrollbar",t.style.position="absolute",e.appendChild(t);let i=t.offsetWidth-t.clientWidth;i===0&&t.clientWidth===0&&(i=null),t.parentNode&&t.parentNode.removeChild(t),i!=null&&(uM=i,cM=i===0)}function qF(){return cM==null&&KF(),cM}var fv,N8="[tabindex], input, select, button, textarea, [href]",ZF="[disabled], .ag-disabled:not(.ag-button), .ag-disabled *";function ND(e){const t=Element.prototype.matches||Element.prototype.msMatchesSelector,s=t.call(e,"input, select, button, textarea"),n=t.call(e,ZF),r=ho(e);return s&&!n&&r}function oi(e,t,i={}){const{skipAriaHidden:s}=i;e.classList.toggle("ag-hidden",!t),s||WF(e,!t)}function z8(e,t,i={}){const{skipAriaHidden:s}=i;e.classList.toggle("ag-invisible",!t),s||WF(e,!t)}function Lp(e,t){const i="disabled",s=t?n=>n.setAttribute(i,""):n=>n.removeAttribute(i);s(e),eN(e.querySelectorAll("input"),n=>s(n))}function Td(e,t,i){let s=0;for(;e;){if(e.classList.contains(t))return!0;if(e=e.parentElement,typeof i=="number"){if(++s>i)break}else if(e===i)break}return!1}function su(e){const{height:t,width:i,borderTopWidth:s,borderRightWidth:n,borderBottomWidth:r,borderLeftWidth:o,paddingTop:a,paddingRight:l,paddingBottom:d,paddingLeft:h,marginTop:p,marginRight:f,marginBottom:v,marginLeft:y,boxSizing:S}=window.getComputedStyle(e);return{height:parseFloat(t||"0"),width:parseFloat(i||"0"),borderTopWidth:parseFloat(s||"0"),borderRightWidth:parseFloat(n||"0"),borderBottomWidth:parseFloat(r||"0"),borderLeftWidth:parseFloat(o||"0"),paddingTop:parseFloat(a||"0"),paddingRight:parseFloat(l||"0"),paddingBottom:parseFloat(d||"0"),paddingLeft:parseFloat(h||"0"),marginTop:parseFloat(p||"0"),marginRight:parseFloat(f||"0"),marginBottom:parseFloat(v||"0"),marginLeft:parseFloat(y||"0"),boxSizing:S}}function zD(e){const t=su(e);return t.boxSizing==="border-box"?t.height-t.paddingTop-t.paddingBottom:t.height}function hf(e){const t=su(e);return t.boxSizing==="border-box"?t.width-t.paddingLeft-t.paddingRight:t.width}function XF(e){const{height:t,marginBottom:i,marginTop:s}=su(e);return Math.floor(t+i+s)}function xy(e){const{width:t,marginLeft:i,marginRight:s}=su(e);return Math.floor(t+i+s)}function QF(e){const t=e.getBoundingClientRect(),{borderTopWidth:i,borderLeftWidth:s,borderRightWidth:n,borderBottomWidth:r}=su(e);return{top:t.top+(i||0),left:t.left+(s||0),right:t.right+(n||0),bottom:t.bottom+(r||0)}}function My(){if(typeof fv=="boolean")return fv;const e=document.createElement("div");return e.style.direction="rtl",e.style.width="10px",e.style.height="5px",e.style.position="fixed",e.style.top="0px",e.style.overflow="hidden",e.dir="rtl",e.innerHTML=`<div style="width: 20px">
            <span style="display: inline-block; width: 1px"></span>
            <span style="display: inline-block; width: 1px"></span>
        </div>`,document.body.appendChild(e),e.scrollLeft=1,fv=Math.floor(e.scrollLeft)===0,document.body.removeChild(e),fv}function Dy(e,t){let i=e.scrollLeft;return t&&(i=Math.abs(i),OD()&&!My()&&(i=e.scrollWidth-e.getBoundingClientRect().width-i)),i}function Ry(e,t,i){i&&(My()?t*=-1:(uo()||OD())&&(t=e.scrollWidth-e.getBoundingClientRect().width-t)),e.scrollLeft=t}function Rn(e){for(;e&&e.firstChild;)e.removeChild(e.firstChild)}function qc(e){e&&e.parentNode&&e.parentNode.removeChild(e)}function JF(e){return!!e.offsetParent}function ho(e){const t=e;return t.checkVisibility?t.checkVisibility({checkVisibilityCSS:!0}):!(!JF(e)||window.getComputedStyle(e).visibility!=="visible")}function kp(e){const t=document.createElement("div");return t.innerHTML=(e||"").trim(),t.firstChild}function B8(e){return e.clientWidth<e.scrollWidth}function G8(e){return e.clientHeight<e.scrollHeight}function Ey(e,t){t==="flex"?(e.style.removeProperty("width"),e.style.removeProperty("minWidth"),e.style.removeProperty("maxWidth"),e.style.flex="1 1 auto"):Ar(e,t)}function Ar(e,t){t=BD(t),e.style.width=t.toString(),e.style.maxWidth=t.toString(),e.style.minWidth=t.toString()}function ap(e,t){t=BD(t),e.style.height=t.toString(),e.style.maxHeight=t.toString(),e.style.minHeight=t.toString()}function BD(e){return typeof e=="number"?`${e}px`:e}function GD(e){return e instanceof Node||e instanceof HTMLElement}function H8(e){if(e==null)return[];const t=[];return eN(e,i=>t.push(i)),t}function j8(e,t){if(e)for(let i=0;i<e.length;i++){const s=e[i];t(s.name,s.value)}}function sr(e,t,i){i==null||i===""?e.removeAttribute(t):e.setAttribute(t,i.toString())}function eN(e,t){if(e!=null)for(let i=0;i<e.length;i++)t(e[i])}var Wd=class{constructor(e=0,t=1){this.nextValue=e,this.step=t}next(){const e=this.nextValue;return this.nextValue+=this.step,e}peek(){return this.nextValue}skip(e){this.nextValue+=e}},V8=1e3,_8=1e3,mk=100,tN=class bc extends re{constructor(t,i,s,n){super(),this.parentComp=t,this.tooltipShowDelayOverride=i,this.tooltipHideDelayOverride=s,this.shouldDisplayTooltip=n,this.interactionEnabled=!1,this.isInteractingWithTooltip=!1,this.state=0,this.tooltipInstanceCount=0,this.tooltipMouseTrack=!1}wireBeans(t){this.popupService=t.popupService,this.userComponentFactory=t.userComponentFactory}postConstruct(){this.gos.get("tooltipInteraction")&&(this.interactionEnabled=!0),this.tooltipTrigger=this.getTooltipTrigger(),this.tooltipMouseTrack=this.gos.get("tooltipMouseTrack");const t=this.parentComp.getGui();this.tooltipTrigger===0&&this.addManagedListeners(t,{mouseenter:this.onMouseEnter.bind(this),mouseleave:this.onMouseLeave.bind(this)}),this.tooltipTrigger===1&&this.addManagedListeners(t,{focusin:this.onFocusIn.bind(this),focusout:this.onFocusOut.bind(this)}),this.addManagedListeners(t,{mousemove:this.onMouseMove.bind(this)}),this.interactionEnabled||this.addManagedListeners(t,{mousedown:this.onMouseDown.bind(this),keydown:this.onKeyDown.bind(this)})}getGridOptionsTooltipDelay(t){const i=this.gos.get(t);return i<0&&ae(`${t} should not be lower than 0`),Math.max(200,i)}getTooltipDelay(t){return t==="show"?this.tooltipShowDelayOverride??this.getGridOptionsTooltipDelay("tooltipShowDelay"):this.tooltipHideDelayOverride??this.getGridOptionsTooltipDelay("tooltipHideDelay")}destroy(){this.setToDoNothing(),super.destroy()}getTooltipTrigger(){const t=this.gos.get("tooltipTrigger");return!t||t==="hover"?0:1}onMouseEnter(t){this.interactionEnabled&&this.interactiveTooltipTimeoutId&&(this.unlockService(),this.startHideTimeout()),!Il()&&(bc.isLocked?this.showTooltipTimeoutId=window.setTimeout(()=>{this.prepareToShowTooltip(t)},mk):this.prepareToShowTooltip(t))}onMouseMove(t){this.lastMouseEvent&&(this.lastMouseEvent=t),this.tooltipMouseTrack&&this.state===2&&this.tooltipComp&&this.positionTooltip()}onMouseDown(){this.setToDoNothing()}onMouseLeave(){this.interactionEnabled?this.lockService():this.setToDoNothing()}onFocusIn(){this.prepareToShowTooltip()}onFocusOut(t){var r;const i=t.relatedTarget,s=this.parentComp.getGui(),n=(r=this.tooltipComp)==null?void 0:r.getGui();this.isInteractingWithTooltip||s.contains(i)||this.interactionEnabled&&(n!=null&&n.contains(i))||this.setToDoNothing()}onKeyDown(){this.isInteractingWithTooltip&&(this.isInteractingWithTooltip=!1),this.setToDoNothing()}prepareToShowTooltip(t){if(this.state!=0||bc.isLocked)return;let i=0;t&&(i=this.isLastTooltipHiddenRecently()?200:this.getTooltipDelay("show")),this.lastMouseEvent=t||null,this.showTooltipTimeoutId=window.setTimeout(this.showTooltip.bind(this),i),this.state=1}isLastTooltipHiddenRecently(){const t=new Date().getTime(),i=bc.lastTooltipHideTime;return t-i<V8}setToDoNothing(t){!t&&this.state===2&&this.hideTooltip(),this.onBodyScrollEventCallback&&(this.onBodyScrollEventCallback(),this.onBodyScrollEventCallback=void 0),this.onColumnMovedEventCallback&&(this.onColumnMovedEventCallback(),this.onColumnMovedEventCallback=void 0),this.onDocumentKeyDownCallback&&(this.onDocumentKeyDownCallback(),this.onDocumentKeyDownCallback=void 0),this.clearTimeouts(),this.state=0,this.lastMouseEvent=null}showTooltip(){const t={...this.parentComp.getTooltipParams()};if(!ve(t.value)||this.shouldDisplayTooltip&&!this.shouldDisplayTooltip()){this.setToDoNothing();return}this.state=2,this.tooltipInstanceCount++;const i=this.newTooltipComponentCallback.bind(this,this.tooltipInstanceCount);this.userComponentFactory.getTooltipCompDetails(t).newAgStackInstance().then(i)}hideTooltip(t){!t&&this.isInteractingWithTooltip||(this.tooltipComp&&(this.destroyTooltipComp(),bc.lastTooltipHideTime=new Date().getTime()),this.eventService.dispatchEvent({type:"tooltipHide",parentGui:this.parentComp.getGui()}),t&&(this.isInteractingWithTooltip=!1),this.setToDoNothing(!0))}newTooltipComponentCallback(t,i){if(this.state!==2||this.tooltipInstanceCount!==t){this.destroyBean(i);return}const n=i.getGui();this.tooltipComp=i,n.classList.contains("ag-tooltip")||n.classList.add("ag-tooltip-custom"),this.tooltipTrigger===0&&n.classList.add("ag-tooltip-animate"),this.interactionEnabled&&n.classList.add("ag-tooltip-interactive");const r=this.localeService.getLocaleTextFunc(),o=this.popupService.addPopup({eChild:n,ariaLabel:r("ariaLabelTooltip","Tooltip")});if(o&&(this.tooltipPopupDestroyFunc=o.hideFunc),this.positionTooltip(),this.tooltipTrigger===1){const a=()=>this.setToDoNothing();[this.onBodyScrollEventCallback,this.onColumnMovedEventCallback]=this.addManagedEventListeners({bodyScroll:a,columnMoved:a})}this.interactionEnabled&&([this.tooltipMouseEnterListener,this.tooltipMouseLeaveListener]=this.addManagedElementListeners(n,{mouseenter:this.onTooltipMouseEnter.bind(this),mouseleave:this.onTooltipMouseLeave.bind(this)}),[this.onDocumentKeyDownCallback]=this.addManagedElementListeners(yi(this.gos),{keydown:a=>{n.contains(a==null?void 0:a.target)||this.onKeyDown()}}),this.tooltipTrigger===1&&([this.tooltipFocusInListener,this.tooltipFocusOutListener]=this.addManagedElementListeners(n,{focusin:this.onTooltipFocusIn.bind(this),focusout:this.onTooltipFocusOut.bind(this)}))),this.eventService.dispatchEvent({type:"tooltipShow",tooltipGui:n,parentGui:this.parentComp.getGui()}),this.startHideTimeout()}onTooltipMouseEnter(){this.isInteractingWithTooltip=!0,this.unlockService()}onTooltipMouseLeave(){this.isTooltipFocused()||(this.isInteractingWithTooltip=!1,this.lockService())}onTooltipFocusIn(){this.isInteractingWithTooltip=!0}isTooltipFocused(){var s;const t=(s=this.tooltipComp)==null?void 0:s.getGui(),i=ui(this.gos);return!!t&&t.contains(i)}onTooltipFocusOut(t){const i=this.parentComp.getGui();this.isTooltipFocused()||(this.isInteractingWithTooltip=!1,i.contains(t.relatedTarget)?this.startHideTimeout():this.hideTooltip())}positionTooltip(){const t={type:"tooltip",ePopup:this.tooltipComp.getGui(),nudgeY:18,skipObserver:this.tooltipMouseTrack};this.lastMouseEvent?this.popupService.positionPopupUnderMouseEvent({...t,mouseEvent:this.lastMouseEvent}):this.popupService.positionPopupByComponent({...t,eventSource:this.parentComp.getGui(),position:"under",keepWithinBounds:!0,nudgeY:5})}destroyTooltipComp(){this.tooltipComp.getGui().classList.add("ag-tooltip-hiding");const t=this.tooltipPopupDestroyFunc,i=this.tooltipComp,s=this.tooltipTrigger===0?_8:0;window.setTimeout(()=>{t(),this.destroyBean(i)},s),this.clearTooltipListeners(),this.tooltipPopupDestroyFunc=void 0,this.tooltipComp=void 0}clearTooltipListeners(){[this.tooltipMouseEnterListener,this.tooltipMouseLeaveListener,this.tooltipFocusInListener,this.tooltipFocusOutListener].forEach(t=>{t&&t()}),this.tooltipMouseEnterListener=this.tooltipMouseLeaveListener=this.tooltipFocusInListener=this.tooltipFocusOutListener=null}lockService(){bc.isLocked=!0,this.interactiveTooltipTimeoutId=window.setTimeout(()=>{this.unlockService(),this.setToDoNothing()},mk)}unlockService(){bc.isLocked=!1,this.clearInteractiveTimeout()}startHideTimeout(){this.clearHideTimeout(),this.hideTooltipTimeoutId=window.setTimeout(this.hideTooltip.bind(this),this.getTooltipDelay("hide"))}clearShowTimeout(){this.showTooltipTimeoutId&&(window.clearTimeout(this.showTooltipTimeoutId),this.showTooltipTimeoutId=void 0)}clearHideTimeout(){this.hideTooltipTimeoutId&&(window.clearTimeout(this.hideTooltipTimeoutId),this.hideTooltipTimeoutId=void 0)}clearInteractiveTimeout(){this.interactiveTooltipTimeoutId&&(window.clearTimeout(this.interactiveTooltipTimeoutId),this.interactiveTooltipTimeoutId=void 0)}clearTimeouts(){this.clearShowTimeout(),this.clearHideTimeout(),this.clearInteractiveTimeout()}};tN.isLocked=!1;var W8=tN,lh=class extends re{constructor(e,t){super(),this.ctrl=e,t&&(this.beans=t)}wireBeans(e){this.beans=e}postConstruct(){this.refreshToolTip()}setBrowserTooltip(e){const t="title",i=this.ctrl.getGui();i&&(e!=null&&e!=""?i.setAttribute(t,e):i.removeAttribute(t))}updateTooltipText(){this.tooltip=this.ctrl.getTooltipValue()}createTooltipFeatureIfNeeded(){var t,i,s,n;if(this.tooltipManager!=null)return;const e={getTooltipParams:()=>this.getTooltipParams(),getGui:()=>this.ctrl.getGui()};this.tooltipManager=this.createBean(new W8(e,(i=(t=this.ctrl).getTooltipShowDelayOverride)==null?void 0:i.call(t),(n=(s=this.ctrl).getTooltipHideDelayOverride)==null?void 0:n.call(s),this.ctrl.shouldDisplayTooltip),this.beans.context)}refreshToolTip(){this.browserTooltips=this.beans.gos.get("enableBrowserTooltips"),this.updateTooltipText(),this.browserTooltips?(this.setBrowserTooltip(this.tooltip),this.tooltipManager&&(this.tooltipManager=this.destroyBean(this.tooltipManager,this.beans.context))):(this.setBrowserTooltip(null),this.createTooltipFeatureIfNeeded())}getTooltipParams(){var n,r,o,a,l;const e=this.ctrl,t=(n=e.getColumn)==null?void 0:n.call(e),i=(r=e.getColDef)==null?void 0:r.call(e),s=(o=e.getRowNode)==null?void 0:o.call(e);return{location:e.getLocation(),colDef:i,column:t,rowIndex:(a=e.getRowIndex)==null?void 0:a.call(e),node:s,data:s==null?void 0:s.data,value:this.getTooltipText(),valueFormatted:(l=e.getValueFormatted)==null?void 0:l.call(e),hideTooltipCallback:()=>{var d;return(d=this.tooltipManager)==null?void 0:d.hideTooltip(!0)}}}getTooltipText(){return this.tooltip}destroy(){this.tooltipManager&&(this.tooltipManager=this.destroyBean(this.tooltipManager,this.beans.context)),super.destroy()}},U8=new Wd,Ie=null,Ht=class iN extends re{constructor(t,i){super(),this.suppressDataRefValidation=!1,this.displayed=!0,this.visible=!0,this.compId=U8.next(),this.cssClassManager=new df(()=>this.eGui),this.componentSelectors=new Map((i??[]).map(s=>[s.selector,s])),t&&this.setTemplate(t)}preWireBeans(t){super.preWireBeans(t)}preConstruct(){this.usingBrowserTooltips=this.gos.get("enableBrowserTooltips"),this.wireTemplate(this.getGui())}wireTemplate(t,i){t&&this.gos&&(this.applyElementsToComponent(t),this.createChildComponentsFromTags(t,i))}getCompId(){return this.compId}getTooltipParams(){return{value:this.tooltipText,location:"UNKNOWN"}}setTooltip(t){const{newTooltipText:i,showDelayOverride:s,hideDelayOverride:n,location:r,shouldDisplayTooltip:o}=t||{};this.tooltipFeature&&(this.tooltipFeature=this.destroyBean(this.tooltipFeature)),this.tooltipText!==i&&(this.tooltipText=i);const a=()=>this.tooltipText;i!=null&&(this.tooltipFeature=this.createBean(new lh({getTooltipValue:a,getGui:()=>this.getGui(),getLocation:()=>r??"UNKNOWN",getColDef:t==null?void 0:t.getColDef,getColumn:t==null?void 0:t.getColumn,getTooltipShowDelayOverride:s!=null?()=>s:void 0,getTooltipHideDelayOverride:n!=null?()=>n:void 0,shouldDisplayTooltip:o})))}getDataRefAttribute(t){return t.getAttribute?t.getAttribute("data-ref"):null}applyElementsToComponent(t,i,s,n=null){if(i===void 0&&(i=this.getDataRefAttribute(t)),i){const r=this[i];if(r===Ie)this[i]=n??t;else{const o=s&&s[i];!this.suppressDataRefValidation&&!o&&ae(`Issue with data-ref: ${i} on ${this.constructor.name} with ${r}`)}}}createChildComponentsFromTags(t,i){H8(t.childNodes).forEach(n=>{if(!(n instanceof HTMLElement))return;const r=this.createComponentFromElement(n,o=>{o.getGui()&&this.copyAttributesFromNode(n,o.getGui())},i);if(r){if(r.addItems&&n.children.length){this.createChildComponentsFromTags(n,i);const o=Array.prototype.slice.call(n.children);r.addItems(o)}this.swapComponentForNode(r,t,n)}else n.childNodes&&this.createChildComponentsFromTags(n,i)})}createComponentFromElement(t,i,s){const n=t.nodeName,r=this.getDataRefAttribute(t),o=n.indexOf("AG-")===0,a=o?this.componentSelectors.get(n):null;let l=null;if(a){iN.elementGettingCreated=t;const d=s&&r?s[r]:void 0;l=new a.component(d),l.setParentComponent(this),this.createBean(l,null,i)}else o&&ae(`Missing selector: ${n}`);return this.applyElementsToComponent(t,r,s,l),l}copyAttributesFromNode(t,i){j8(t.attributes,(s,n)=>i.setAttribute(s,n))}swapComponentForNode(t,i,s){const n=t.getGui();i.replaceChild(n,s),i.insertBefore(document.createComment(s.nodeName),n),this.addDestroyFunc(this.destroyBean.bind(this,t))}activateTabIndex(t){const i=this.gos.get("tabIndex");t||(t=[]),t.length||t.push(this.getGui()),t.forEach(s=>s.setAttribute("tabindex",i.toString()))}setTemplate(t,i,s){const n=kp(t);this.setTemplateFromElement(n,i,s)}setTemplateFromElement(t,i,s,n=!1){if(this.eGui=t,this.suppressDataRefValidation=n,i)for(let r=0;r<i.length;r++){const o=i[r];this.componentSelectors.set(o.selector,o)}this.wireTemplate(t,s)}getGui(){return this.eGui}getFocusableElement(){return this.eGui}getAriaElement(){return this.getFocusableElement()}setParentComponent(t){this.parentComponent=t}getParentComponent(){return this.parentComponent}setGui(t){this.eGui=t}queryForHtmlElement(t){return this.eGui.querySelector(t)}getContainerAndElement(t,i){let s=i;return t==null?null:(s||(s=this.eGui),GD(t)?{element:t,parent:s}:{element:t.getGui(),parent:s})}prependChild(t,i){const{element:s,parent:n}=this.getContainerAndElement(t,i)||{};!s||!n||n.insertAdjacentElement("afterbegin",s)}appendChild(t,i){const{element:s,parent:n}=this.getContainerAndElement(t,i)||{};!s||!n||n.appendChild(s)}isDisplayed(){return this.displayed}setVisible(t,i={}){if(t!==this.visible){this.visible=t;const{skipAriaHidden:s}=i;z8(this.eGui,t,{skipAriaHidden:s})}}setDisplayed(t,i={}){if(t!==this.displayed){this.displayed=t;const{skipAriaHidden:s}=i;oi(this.eGui,t,{skipAriaHidden:s});const n={type:"displayChanged",visible:this.displayed};this.dispatchLocalEvent(n)}}destroy(){this.parentComponent&&(this.parentComponent=void 0),this.tooltipFeature&&(this.tooltipFeature=this.destroyBean(this.tooltipFeature)),super.destroy()}addGuiEventListener(t,i,s){this.eGui.addEventListener(t,i,s),this.addDestroyFunc(()=>this.eGui.removeEventListener(t,i))}addCssClass(t){this.cssClassManager.addCssClass(t)}removeCssClass(t){this.cssClassManager.removeCssClass(t)}containsCssClass(t){return this.cssClassManager.containsCssClass(t)}addOrRemoveCssClass(t,i){this.cssClassManager.addOrRemoveCssClass(t,i)}},sN={columnGroupOpened:"expanded",columnGroupClosed:"contracted",columnSelectClosed:"tree-closed",columnSelectOpen:"tree-open",columnSelectIndeterminate:"tree-indeterminate",columnMovePin:"pin",columnMoveHide:"eye-slash",columnMoveMove:"arrows",columnMoveLeft:"left",columnMoveRight:"right",columnMoveGroup:"group",columnMoveValue:"aggregation",columnMovePivot:"pivot",dropNotAllowed:"not-allowed",groupContracted:"tree-closed",groupExpanded:"tree-open",setFilterGroupClosed:"tree-closed",setFilterGroupOpen:"tree-open",setFilterGroupIndeterminate:"tree-indeterminate",chart:"chart",close:"cross",cancel:"cancel",check:"tick",first:"first",previous:"previous",next:"next",last:"last",linked:"linked",unlinked:"unlinked",colorPicker:"color-picker",groupLoading:"loading",menu:"menu",menuAlt:"menu-alt",filter:"filter",columns:"columns",maximize:"maximize",minimize:"minimize",menuPin:"pin",menuValue:"aggregation",menuAddRowGroup:"group",menuRemoveRowGroup:"group",clipboardCopy:"copy",clipboardCut:"cut",clipboardPaste:"paste",pivotPanel:"pivot",rowGroupPanel:"group",valuePanel:"aggregation",columnDrag:"grip",rowDrag:"grip",save:"save",csvExport:"csv",excelExport:"excel",smallDown:"small-down",smallLeft:"small-left",smallRight:"small-right",smallUp:"small-up",sortAscending:"asc",sortDescending:"desc",sortUnSort:"none",advancedFilterBuilder:"group",advancedFilterBuilderDrag:"grip",advancedFilterBuilderInvalid:"not-allowed",advancedFilterBuilderMoveUp:"up",advancedFilterBuilderMoveDown:"down",advancedFilterBuilderAdd:"plus",advancedFilterBuilderRemove:"minus",chartsMenuEdit:"chart",chartsMenuAdvancedSettings:"settings",chartsMenuAdd:"plus",checkboxChecked:"checkbox-checked",checkboxIndeterminate:"checkbox-indeterminate",checkboxUnchecked:"checkbox-unchecked",radioButtonOn:"radio-button-on",radioButtonOff:"radio-button-off"},$8=(()=>{const e=new Set(Object.values(sN));return e.add("eye"),e})();function Y8(e,t,i){const s=bn(e,t,i);if(s){const{className:r}=s;if(typeof r=="string"&&r.indexOf("ag-icon")>-1||typeof r=="object"&&r["ag-icon"])return s}const n=document.createElement("span");return n.appendChild(s),n}function bn(e,t,i,s){let n=null;const r=i&&i.getColDef().icons;if(r&&(n=r[e]),t&&!n){const o=t.get("icons");o&&(n=o[e])}if(n){let o;if(typeof n=="function")o=n();else if(typeof n=="string")o=n;else throw new Error("icon from grid options needs to be a string or a function");if(typeof o=="string")return kp(o);if(GD(o))return o;ae("iconRenderer should return back a string or a dom object")}else{const o=document.createElement("span");let a=sN[e]??($8.has(e)?e:void 0);return a||(ae(`Did not find icon ${e}`),a=""),o.setAttribute("class",`ag-icon ag-icon-${a}`),o.setAttribute("unselectable","on"),Or(o,"presentation"),o}}var K8=class extends Ht{constructor(){super(...arguments),this.dragSource=null,this.eIcon=Ie,this.eLabel=Ie}postConstruct(){const e=t=>Y8(t,this.gos,null);this.dropIconMap={pinned:e("columnMovePin"),hide:e("columnMoveHide"),move:e("columnMoveMove"),left:e("columnMoveLeft"),right:e("columnMoveRight"),group:e("columnMoveGroup"),aggregate:e("columnMoveValue"),pivot:e("columnMovePivot"),notAllowed:e("dropNotAllowed")}}init(e){this.dragSource=e.dragSource,this.setTemplate(`<div class="ag-dnd-ghost ag-unselectable">
                <span data-ref="eIcon" class="ag-dnd-ghost-icon ag-shake-left-to-right"></span>
                <div data-ref="eLabel" class="ag-dnd-ghost-label"></div>
            </div>`)}destroy(){this.dragSource=null,super.destroy()}setIcon(e,t=!1){var s,n;Rn(this.eIcon);let i=null;e||(e=(s=this.dragSource)!=null&&s.getDefaultIconName?(n=this.dragSource)==null?void 0:n.getDefaultIconName():"notAllowed"),i=this.dropIconMap[e],this.eIcon.classList.toggle("ag-shake-left-to-right",t),!(i===this.dropIconMap.hide&&this.gos.get("suppressDragLeaveHidesColumns"))&&i&&this.eIcon.appendChild(i)}setLabel(e){this.eLabel.textContent=no(e)}};function nN(e,t,i){if(i===0)return!1;const s=Math.abs(e.clientX-t.clientX),n=Math.abs(e.clientY-t.clientY);return Math.max(s,n)<=i}var pl=class{constructor(e,t=!1){this.DOUBLE_TAP_MILLIS=500,this.destroyFuncs=[],this.touching=!1,this.localEventService=new rh,this.eElement=e,this.preventMouseClick=t;const i=this.onTouchStart.bind(this),s=this.onTouchMove.bind(this),n=this.onTouchEnd.bind(this);this.eElement.addEventListener("touchstart",i,{passive:!0}),this.eElement.addEventListener("touchmove",s,{passive:!0}),this.eElement.addEventListener("touchend",n,{passive:!1}),this.destroyFuncs.push(()=>{this.eElement.removeEventListener("touchstart",i,{passive:!0}),this.eElement.removeEventListener("touchmove",s,{passive:!0}),this.eElement.removeEventListener("touchend",n,{passive:!1})})}getActiveTouch(e){for(let t=0;t<e.length;t++)if(e[t].identifier===this.touchStart.identifier)return e[t];return null}addEventListener(e,t){this.localEventService.addEventListener(e,t)}removeEventListener(e,t){this.localEventService.removeEventListener(e,t)}onTouchStart(e){if(this.touching)return;this.touchStart=e.touches[0],this.touching=!0,this.moved=!1;const t=this.touchStart;window.setTimeout(()=>{const i=this.touchStart===t;if(this.touching&&i&&!this.moved){this.moved=!0;const s={type:"longTap",touchStart:this.touchStart,touchEvent:e};this.localEventService.dispatchEvent(s)}},500)}onTouchMove(e){if(!this.touching)return;const t=this.getActiveTouch(e.touches);if(!t)return;!nN(t,this.touchStart,4)&&(this.moved=!0)}onTouchEnd(e){if(this.touching){if(!this.moved){const t={type:"tap",touchStart:this.touchStart};this.localEventService.dispatchEvent(t),this.checkForDoubleTap()}this.preventMouseClick&&e.cancelable&&e.preventDefault(),this.touching=!1}}checkForDoubleTap(){const e=new Date().getTime();if(this.lastTapTime&&this.lastTapTime>0)if(e-this.lastTapTime>this.DOUBLE_TAP_MILLIS){const i={type:"doubleTap",touchStart:this.touchStart};this.localEventService.dispatchEvent(i),this.lastTapTime=null}else this.lastTapTime=e;else this.lastTapTime=e}destroy(){this.destroyFuncs.forEach(e=>e())}};function Ng(e,t){return`<span data-ref="eSort${e}" class="ag-sort-indicator-icon ag-sort-${t} ag-hidden" aria-hidden="true"></span>`}var q8=`<span class="ag-sort-indicator-container">
        ${Ng("Order","order")}
        ${Ng("Asc","ascending-icon")}
        ${Ng("Desc","descending-icon")}
        ${Ng("Mixed","mixed-icon")}
        ${Ng("None","none-icon")}
    </span>`,HD=class extends Ht{constructor(e){super(),this.eSortOrder=Ie,this.eSortAsc=Ie,this.eSortDesc=Ie,this.eSortMixed=Ie,this.eSortNone=Ie,e||this.setTemplate(q8)}wireBeans(e){this.sortController=e.sortController}attachCustomElements(e,t,i,s,n){this.eSortOrder=e,this.eSortAsc=t,this.eSortDesc=i,this.eSortMixed=s,this.eSortNone=n}setupSort(e,t=!1){if(this.column=e,this.suppressOrder=t,this.setupMultiSortIndicator(),!this.column.isSortable()&&!this.column.getColDef().showRowGroup)return;this.addInIcon("sortAscending",this.eSortAsc,e),this.addInIcon("sortDescending",this.eSortDesc,e),this.addInIcon("sortUnSort",this.eSortNone,e);const i=this.updateIcons.bind(this),s=this.onSortChanged.bind(this);this.addManagedPropertyListener("unSortIcon",i),this.addManagedEventListeners({newColumnsLoaded:i,sortChanged:s,columnRowGroupChanged:s}),this.onSortChanged()}addInIcon(e,t,i){if(t==null)return;const s=bn(e,this.gos,i);s&&t.appendChild(s)}onSortChanged(){this.updateIcons(),this.suppressOrder||this.updateSortOrder()}updateIcons(){const e=this.sortController.getDisplaySortForColumn(this.column);if(this.eSortAsc){const t=e==="asc";oi(this.eSortAsc,t,{skipAriaHidden:!0})}if(this.eSortDesc){const t=e==="desc";oi(this.eSortDesc,t,{skipAriaHidden:!0})}if(this.eSortNone){const t=!this.column.getColDef().unSortIcon&&!this.gos.get("unSortIcon"),i=e==null;oi(this.eSortNone,!t&&i,{skipAriaHidden:!0})}}setupMultiSortIndicator(){this.addInIcon("sortUnSort",this.eSortMixed,this.column);const e=this.column.getColDef().showRowGroup;eo(this.gos)&&e&&(this.addManagedEventListeners({sortChanged:this.updateMultiSortIndicator.bind(this),columnRowGroupChanged:this.updateMultiSortIndicator.bind(this)}),this.updateMultiSortIndicator())}updateMultiSortIndicator(){if(this.eSortMixed){const e=this.sortController.getDisplaySortForColumn(this.column)==="mixed";oi(this.eSortMixed,e,{skipAriaHidden:!0})}}updateSortOrder(){if(!this.eSortOrder)return;const e=this.sortController.getColumnsWithSortingOrdered(),t=this.sortController.getDisplaySortIndexForColumn(this.column)??-1,i=e.some(n=>this.sortController.getDisplaySortIndexForColumn(n)??!1),s=t>=0&&i;oi(this.eSortOrder,s,{skipAriaHidden:!0}),t>=0?this.eSortOrder.textContent=(t+1).toString():Rn(this.eSortOrder)}},Z8={selector:"AG-SORT-INDICATOR",component:HD},X8=`<div class="ag-cell-label-container" role="presentation">
        <span data-ref="eMenu" class="ag-header-icon ag-header-cell-menu-button" aria-hidden="true"></span>
        <span data-ref="eFilterButton" class="ag-header-icon ag-header-cell-filter-button" aria-hidden="true"></span>
        <div data-ref="eLabel" class="ag-header-cell-label" role="presentation">
            <span data-ref="eText" class="ag-header-cell-text"></span>
            <span data-ref="eFilter" class="ag-header-icon ag-header-label-icon ag-filter-icon" aria-hidden="true"></span>
            <ag-sort-indicator data-ref="eSortIndicator"></ag-sort-indicator>
        </div>
    </div>`,hM=class extends Ht{constructor(){super(...arguments),this.eFilter=Ie,this.eFilterButton=Ie,this.eSortIndicator=Ie,this.eMenu=Ie,this.eLabel=Ie,this.eText=Ie,this.eSortOrder=Ie,this.eSortAsc=Ie,this.eSortDesc=Ie,this.eSortMixed=Ie,this.eSortNone=Ie,this.lastMovingChanged=0}wireBeans(e){this.sortController=e.sortController,this.menuService=e.menuService,this.funcColsService=e.funcColsService}destroy(){super.destroy()}refresh(e){const t=this.params;return this.params=e,this.workOutTemplate()!=this.currentTemplate||this.workOutShowMenu()!=this.currentShowMenu||this.workOutSort()!=this.currentSort||this.shouldSuppressMenuHide()!=this.currentSuppressMenuHide||t.enableFilterButton!=e.enableFilterButton||t.enableFilterIcon!=e.enableFilterIcon?!1:(this.setDisplayName(e),!0)}workOutTemplate(){let e=this.params.template??X8;return e=e&&e.trim?e.trim():e,e}init(e){this.params=e,this.currentTemplate=this.workOutTemplate(),this.setTemplate(this.currentTemplate,[Z8]),this.setupTap(),this.setMenu(),this.setupSort(),this.setupFilterIcon(),this.setupFilterButton(),this.setDisplayName(e)}setDisplayName(e){if(this.currentDisplayName!=e.displayName){this.currentDisplayName=e.displayName;const t=no(this.currentDisplayName,!0);this.eText&&(this.eText.textContent=t)}}addInIcon(e,t,i){if(t==null)return;const s=bn(e,this.gos,i);s&&t.appendChild(s)}setupTap(){const{gos:e}=this;if(e.get("suppressTouch"))return;const t=new pl(this.getGui(),!0),i=this.shouldSuppressMenuHide(),s=i&&ve(this.eMenu),n=s?new pl(this.eMenu,!0):t;if(this.params.enableMenu){const r=s?"tap":"longTap",o=a=>this.params.showColumnMenuAfterMouseClick(a.touchStart);this.addManagedListeners(n,{[r]:o})}if(this.params.enableSorting){const r=o=>{var l,d;const a=o.touchStart.target;i&&((l=this.eMenu)!=null&&l.contains(a)||(d=this.eFilterButton)!=null&&d.contains(a))||this.sortController.progressSort(this.params.column,!1,"uiColumnSorted")};this.addManagedListeners(t,{tap:r})}if(this.params.enableFilterButton){const r=new pl(this.eFilterButton,!0);this.addManagedListeners(r,{tap:()=>this.params.showFilter(this.eFilterButton)}),this.addDestroyFunc(()=>r.destroy())}this.addDestroyFunc(()=>t.destroy()),s&&this.addDestroyFunc(()=>n.destroy())}workOutShowMenu(){return this.params.enableMenu&&this.menuService.isHeaderMenuButtonEnabled()}shouldSuppressMenuHide(){return this.menuService.isHeaderMenuButtonAlwaysShowEnabled()}setMenu(){if(!this.eMenu)return;if(this.currentShowMenu=this.workOutShowMenu(),!this.currentShowMenu){qc(this.eMenu),this.eMenu=void 0;return}const e=this.menuService.isLegacyMenuEnabled();this.addInIcon(e?"menu":"menuAlt",this.eMenu,this.params.column),this.eMenu.classList.toggle("ag-header-menu-icon",!e),this.currentSuppressMenuHide=this.shouldSuppressMenuHide(),this.addManagedElementListeners(this.eMenu,{click:()=>this.params.showColumnMenu(this.eMenu)}),this.eMenu.classList.toggle("ag-header-menu-always-show",this.currentSuppressMenuHide)}onMenuKeyboardShortcut(e){const t=this.params.column,i=this.menuService.isLegacyMenuEnabled();if(e&&!i){if(this.menuService.isFilterMenuInHeaderEnabled(t))return this.params.showFilter(this.eFilterButton??this.eMenu??this.getGui()),!0}else if(this.params.enableMenu)return this.params.showColumnMenu(this.eMenu??this.eFilterButton??this.getGui()),!0;return!1}workOutSort(){return this.params.enableSorting}setupSort(){if(this.currentSort=this.params.enableSorting,this.eSortIndicator||(this.eSortIndicator=this.createBean(new HD(!0)),this.eSortIndicator.attachCustomElements(this.eSortOrder,this.eSortAsc,this.eSortDesc,this.eSortMixed,this.eSortNone)),this.eSortIndicator.setupSort(this.params.column),!this.currentSort)return;this.addManagedListeners(this.params.column,{movingChanged:()=>{this.lastMovingChanged=new Date().getTime()}}),this.eLabel&&this.addManagedElementListeners(this.eLabel,{click:t=>{const i=this.params.column.isMoving(),n=new Date().getTime()-this.lastMovingChanged<50;if(!(i||n)){const a=this.gos.get("multiSortKey")==="ctrl"?t.ctrlKey||t.metaKey:t.shiftKey;this.params.progressSort(a)}}});const e=()=>{const t=this.params.column.getSort();if(this.addOrRemoveCssClass("ag-header-cell-sorted-asc",t==="asc"),this.addOrRemoveCssClass("ag-header-cell-sorted-desc",t==="desc"),this.addOrRemoveCssClass("ag-header-cell-sorted-none",!t),this.params.column.getColDef().showRowGroup){const i=this.funcColsService.getSourceColumnsForGroupColumn(this.params.column),n=!(i==null?void 0:i.every(r=>this.params.column.getSort()==r.getSort()));this.addOrRemoveCssClass("ag-header-cell-sorted-mixed",n)}};this.addManagedEventListeners({sortChanged:e,columnRowGroupChanged:e})}setupFilterIcon(){this.eFilter&&this.configureFilter(this.params.enableFilterIcon,this.eFilter,this.onFilterChangedIcon.bind(this))}setupFilterButton(){if(!this.eFilterButton)return;this.configureFilter(this.params.enableFilterButton,this.eFilterButton,this.onFilterChangedButton.bind(this))?this.addManagedElementListeners(this.eFilterButton,{click:()=>this.params.showFilter(this.eFilterButton)}):this.eFilterButton=void 0}configureFilter(e,t,i){if(!e)return qc(t),!1;const s=this.params.column;return this.addInIcon("filter",t,s),this.addManagedListeners(s,{filterChanged:i}),i(),!0}onFilterChangedIcon(){const e=this.params.column.isFilterActive();oi(this.eFilter,e,{skipAriaHidden:!0})}onFilterChangedButton(){const e=this.params.column.isFilterActive();this.eFilterButton.classList.toggle("ag-filter-active",e)}getAnchorElementForMenu(e){return e?this.eFilterButton??this.eMenu??this.getGui():this.eMenu??this.eFilterButton??this.getGui()}},Q8=class extends Ht{constructor(){super(`<div class="ag-header-group-cell-label" role="presentation">
            <span data-ref="agLabel" class="ag-header-group-text" role="presentation"></span>
            <span data-ref="agOpened" class="ag-header-icon ag-header-expand-icon ag-header-expand-icon-expanded"></span>
            <span data-ref="agClosed" class="ag-header-icon ag-header-expand-icon ag-header-expand-icon-collapsed"></span>
        </div>`),this.agOpened=Ie,this.agClosed=Ie,this.agLabel=Ie}wireBeans(e){this.columnModel=e.columnModel}destroy(){super.destroy()}init(e){this.params=e,this.checkWarnings(),this.setupLabel(),this.addGroupExpandIcon(),this.setupExpandIcons()}checkWarnings(){this.params.template&&ae("A template was provided for Header Group Comp - templates are only supported for Header Comps (not groups)")}setupExpandIcons(){this.addInIcon("columnGroupOpened",this.agOpened),this.addInIcon("columnGroupClosed",this.agClosed);const e=n=>{if(ea(n))return;const r=!this.params.columnGroup.isExpanded();this.columnModel.setColumnGroupOpened(this.params.columnGroup.getProvidedColumnGroup(),r,"uiColumnExpanded")};this.addTouchAndClickListeners(this.agClosed,e),this.addTouchAndClickListeners(this.agOpened,e);const t=n=>{Vd(n)};this.addManagedElementListeners(this.agClosed,{dblclick:t}),this.addManagedElementListeners(this.agOpened,{dblclick:t}),this.addManagedElementListeners(this.getGui(),{dblclick:e}),this.updateIconVisibility();const i=this.params.columnGroup.getProvidedColumnGroup(),s=this.updateIconVisibility.bind(this);this.addManagedListeners(i,{expandedChanged:s,expandableChanged:s})}addTouchAndClickListeners(e,t){const i=new pl(e,!0);this.addManagedListeners(i,{tap:t}),this.addDestroyFunc(()=>i.destroy()),this.addManagedElementListeners(e,{click:t})}updateIconVisibility(){if(this.params.columnGroup.isExpandable()){const t=this.params.columnGroup.isExpanded();oi(this.agOpened,t),oi(this.agClosed,!t)}else oi(this.agOpened,!1),oi(this.agClosed,!1)}addInIcon(e,t){const i=bn(e,this.gos,null);i&&t.appendChild(i)}addGroupExpandIcon(){if(!this.params.columnGroup.isExpandable()){oi(this.agOpened,!1),oi(this.agClosed,!1);return}}setupLabel(){var i;const{displayName:e,columnGroup:t}=this.params;if(ve(e)){const s=no(e,!0);this.agLabel.textContent=s}this.addOrRemoveCssClass("ag-sticky-label",!((i=t.getColGroupDef())!=null&&i.suppressStickyLabel))}},J8="",e7="",t7=class extends Ht{constructor(){super(),this.refreshCount=0;const e=document.createElement("span"),t=document.createElement("span");t.setAttribute("class","ag-value-change-delta");const i=document.createElement("span");i.setAttribute("class","ag-value-change-value"),e.appendChild(t),e.appendChild(i),this.setTemplateFromElement(e)}wireBeans(e){this.filterManager=e.filterManager}init(e){this.eValue=this.queryForHtmlElement(".ag-value-change-value"),this.eDelta=this.queryForHtmlElement(".ag-value-change-delta"),this.refresh(e,!0)}showDelta(e,t){const i=Math.abs(t),s=e.formatValue(i),n=ve(s)?s:i,r=t>=0;r?this.eDelta.textContent=J8+n:this.eDelta.textContent=e7+n,this.eDelta.classList.toggle("ag-value-change-delta-up",r),this.eDelta.classList.toggle("ag-value-change-delta-down",!r)}setTimerToRemoveDelta(){this.refreshCount++;const e=this.refreshCount;this.getFrameworkOverrides().wrapIncoming(()=>{window.setTimeout(()=>{e===this.refreshCount&&this.hideDeltaValue()},2e3)})}hideDeltaValue(){this.eValue.classList.remove("ag-value-change-value-highlight"),Rn(this.eDelta)}refresh(e,t=!1){var s;const i=e.value;if(i===this.lastValue||(ve(e.valueFormatted)?this.eValue.textContent=e.valueFormatted:ve(e.value)?this.eValue.textContent=i:Rn(this.eValue),(s=this.filterManager)!=null&&s.isSuppressFlashingCellsBecauseFiltering()))return!1;if(typeof i=="number"&&typeof this.lastValue=="number"){const n=i-this.lastValue;this.showDelta(e,n)}return this.lastValue&&this.eValue.classList.add("ag-value-change-value-highlight"),t||this.setTimerToRemoveDelta(),this.lastValue=i,!0}},i7=class extends Ht{constructor(){super(),this.refreshCount=0;const e=document.createElement("span"),t=document.createElement("span");t.setAttribute("class","ag-value-slide-current"),e.appendChild(t),this.setTemplateFromElement(e),this.eCurrent=this.queryForHtmlElement(".ag-value-slide-current")}wireBeans(e){this.filterManager=e.filterManager}init(e){this.refresh(e,!0)}addSlideAnimation(){this.refreshCount++;const e=this.refreshCount;this.ePrevious&&this.getGui().removeChild(this.ePrevious);const t=document.createElement("span");t.setAttribute("class","ag-value-slide-previous ag-value-slide-out"),this.ePrevious=t,this.ePrevious.textContent=this.eCurrent.textContent,this.getGui().insertBefore(this.ePrevious,this.eCurrent),this.getFrameworkOverrides().wrapIncoming(()=>{window.setTimeout(()=>{e===this.refreshCount&&this.ePrevious.classList.add("ag-value-slide-out-end")},50),window.setTimeout(()=>{e===this.refreshCount&&(this.getGui().removeChild(this.ePrevious),this.ePrevious=null)},3e3)})}refresh(e,t=!1){var s;let i=e.value;return rt(i)&&(i=""),i===this.lastValue||(s=this.filterManager)!=null&&s.isSuppressFlashingCellsBecauseFiltering()?!1:(t||this.addSlideAnimation(),this.lastValue=i,ve(e.valueFormatted)?this.eCurrent.textContent=e.valueFormatted:ve(e.value)?this.eCurrent.textContent=i:Rn(this.eCurrent),!0)}},te=class{};te.BACKSPACE="Backspace";te.TAB="Tab";te.ENTER="Enter";te.ESCAPE="Escape";te.SPACE=" ";te.LEFT="ArrowLeft";te.UP="ArrowUp";te.RIGHT="ArrowRight";te.DOWN="ArrowDown";te.DELETE="Delete";te.F2="F2";te.PAGE_UP="PageUp";te.PAGE_DOWN="PageDown";te.PAGE_HOME="Home";te.PAGE_END="End";te.A="KeyA";te.C="KeyC";te.D="KeyD";te.V="KeyV";te.X="KeyX";te.Y="KeyY";te.Z="KeyZ";var s7=class extends Ht{constructor(e,t,i){super(t,i),this.labelSeparator="",this.labelAlignment="left",this.disabled=!1,this.label="",this.config=e||{}}postConstruct(){this.addCssClass("ag-labeled"),this.eLabel.classList.add("ag-label");const{labelSeparator:e,label:t,labelWidth:i,labelAlignment:s,disabled:n}=this.config;n!=null&&this.setDisabled(n),e!=null&&this.setLabelSeparator(e),t!=null&&this.setLabel(t),i!=null&&this.setLabelWidth(i),this.setLabelAlignment(s||this.labelAlignment),this.refreshLabel()}refreshLabel(){Rn(this.eLabel),typeof this.label=="string"?this.eLabel.innerText=this.label+this.labelSeparator:this.label&&this.eLabel.appendChild(this.label),this.label===""?(oi(this.eLabel,!1),Or(this.eLabel,"presentation")):(oi(this.eLabel,!0),Or(this.eLabel,null))}setLabelSeparator(e){return this.labelSeparator===e?this:(this.labelSeparator=e,this.label!=null&&this.refreshLabel(),this)}getLabelId(){return this.eLabel.id=this.eLabel.id||`ag-${this.getCompId()}-label`,this.eLabel.id}getLabel(){return this.label}setLabel(e){return this.label===e?this:(this.label=e,this.refreshLabel(),this)}setLabelAlignment(e){const i=this.getGui().classList;return i.toggle("ag-label-align-left",e==="left"),i.toggle("ag-label-align-right",e==="right"),i.toggle("ag-label-align-top",e==="top"),this}setLabelEllipsis(e){return this.eLabel.classList.toggle("ag-label-ellipsis",e),this}setLabelWidth(e){return this.label==null?this:(Ey(this.eLabel,e),this)}setDisabled(e){e=!!e;const t=this.getGui();return Lp(t,e),t.classList.toggle("ag-disabled",e),this.disabled=e,this}isDisabled(){return!!this.disabled}},rN=class extends s7{constructor(e,t,i,s){super(e,t,i),this.className=s}postConstruct(){super.postConstruct();const{width:e,value:t,onValueChange:i}=this.config;e!=null&&this.setWidth(e),t!=null&&this.setValue(t),i!=null&&this.onValueChange(i),this.className&&this.addCssClass(this.className),this.refreshAriaLabelledBy()}setLabel(e){return super.setLabel(e),this.refreshAriaLabelledBy(),this}refreshAriaLabelledBy(){const e=this.getAriaElement(),t=this.getLabelId(),i=this.getLabel();i==null||i==""||C8(e)!==null?Ip(e,""):Ip(e,t??"")}setAriaLabel(e){return _d(this.getAriaElement(),e),this.refreshAriaLabelledBy(),this}onValueChange(e){return this.addManagedListeners(this,{fieldValueChanged:()=>e(this.getValue())}),this}getWidth(){return this.getGui().clientWidth}setWidth(e){return Ar(this.getGui(),e),this}getPreviousValue(){return this.previousValue}getValue(){return this.value}setValue(e,t){return this.value===e?this:(this.previousValue=this.value,this.value=e,t||this.dispatchLocalEvent({type:"fieldValueChanged"}),this)}},Ic=class extends rN{constructor(e,t,i="text",s="input"){super(e,(e==null?void 0:e.template)??`
            <div role="presentation">
                <div data-ref="eLabel" class="ag-input-field-label"></div>
                <div data-ref="eWrapper" class="ag-wrapper ag-input-wrapper" role="presentation">
                    <${s} data-ref="eInput" class="ag-input-field-input"></${s}>
                </div>
            </div>`,[],t),this.inputType=i,this.displayFieldTag=s,this.eLabel=Ie,this.eWrapper=Ie,this.eInput=Ie}postConstruct(){super.postConstruct(),this.setInputType(),this.eLabel.classList.add(`${this.className}-label`),this.eWrapper.classList.add(`${this.className}-input-wrapper`),this.eInput.classList.add(`${this.className}-input`),this.addCssClass("ag-input-field"),this.eInput.id=this.eInput.id||`ag-${this.getCompId()}-input`;const{inputName:e,inputWidth:t}=this.config;e!=null&&this.setInputName(e),t!=null&&this.setInputWidth(t),this.addInputListeners(),this.activateTabIndex([this.eInput])}addInputListeners(){this.addManagedElementListeners(this.eInput,{input:e=>this.setValue(e.target.value)})}setInputType(){this.displayFieldTag==="input"&&this.eInput.setAttribute("type",this.inputType)}getInputElement(){return this.eInput}setInputWidth(e){return Ey(this.eWrapper,e),this}setInputName(e){return this.getInputElement().setAttribute("name",e),this}getFocusableElement(){return this.eInput}setMaxLength(e){const t=this.eInput;return t.maxLength=e,this}setInputPlaceholder(e){return sr(this.eInput,"placeholder",e),this}setInputAriaLabel(e){return _d(this.eInput,e),this.refreshAriaLabelledBy(),this}setDisabled(e){return Lp(this.eInput,e),super.setDisabled(e)}setAutoComplete(e){if(e===!0)sr(this.eInput,"autocomplete",null);else{const t=typeof e=="string"?e:"off";sr(this.eInput,"autocomplete",t)}return this}},jD=class extends Ic{constructor(e,t="ag-checkbox",i="checkbox"){super(e,t,i),this.labelAlignment="right",this.selected=!1,this.readOnly=!1,this.passive=!1}postConstruct(){super.postConstruct();const{readOnly:e,passive:t}=this.config;typeof e=="boolean"&&this.setReadOnly(e),typeof t=="boolean"&&this.setPassive(t)}addInputListeners(){this.addManagedElementListeners(this.eInput,{click:this.onCheckboxClick.bind(this)}),this.addManagedElementListeners(this.eLabel,{click:this.toggle.bind(this)})}getNextValue(){return this.selected===void 0?!0:!this.selected}setPassive(e){this.passive=e}isReadOnly(){return this.readOnly}setReadOnly(e){this.eWrapper.classList.toggle("ag-disabled",e),this.eInput.disabled=e,this.readOnly=e}setDisabled(e){return this.eWrapper.classList.toggle("ag-disabled",e),super.setDisabled(e)}toggle(){if(this.eInput.disabled)return;const e=this.isSelected(),t=this.getNextValue();this.passive?this.dispatchChange(t,e):this.setValue(t)}getValue(){return this.isSelected()}setValue(e,t){return this.refreshSelectedClass(e),this.setSelected(e,t),this}setName(e){const t=this.getInputElement();return t.name=e,this}isSelected(){return this.selected}setSelected(e,t){this.isSelected()!==e&&(this.previousValue=this.isSelected(),e=this.selected=typeof e=="boolean"?e:void 0,this.eInput.checked=e,this.eInput.indeterminate=e===void 0,t||this.dispatchChange(this.selected,this.previousValue))}dispatchChange(e,t,i){this.dispatchLocalEvent({type:"fieldValueChanged",selected:e,previousValue:t,event:i});const s=this.getInputElement();this.eventService.dispatchEvent({type:"checkboxChanged",id:s.id,name:s.name,selected:e,previousValue:t})}onCheckboxClick(e){if(this.passive||this.eInput.disabled)return;const t=this.isSelected(),i=this.selected=e.target.checked;this.refreshSelectedClass(i),this.dispatchChange(i,t,e)}refreshSelectedClass(e){this.eWrapper.classList.toggle("ag-checked",e===!0),this.eWrapper.classList.toggle("ag-indeterminate",e==null)}},VD={selector:"AG-CHECKBOX",component:jD},n7=class extends Ht{constructor(){super(`
            <div class="ag-cell-wrapper ag-checkbox-cell" role="presentation">
                <ag-checkbox role="presentation" data-ref="eCheckbox"></ag-checkbox>
            </div>`,[VD]),this.eCheckbox=Ie}init(e){this.refresh(e);const t=this.eCheckbox.getInputElement();t.setAttribute("tabindex","-1"),_F(t,"polite"),this.addManagedListeners(t,{click:i=>{if(Vd(i),this.eCheckbox.isDisabled())return;const s=this.eCheckbox.getValue();this.onCheckboxChanged(s)},dblclick:i=>{Vd(i)}}),this.addManagedElementListeners(this.params.eGridCell,{keydown:i=>{if(i.key===te.SPACE&&!this.eCheckbox.isDisabled()){this.params.eGridCell===ui(this.gos)&&this.eCheckbox.toggle();const s=this.eCheckbox.getValue();this.onCheckboxChanged(s),i.preventDefault()}}})}refresh(e){return this.params=e,this.updateCheckbox(e),!0}updateCheckbox(e){var a;let t,i=!0;if(e.node.group&&e.column)if(typeof e.value=="boolean")t=e.value;else{const l=e.column.getColId();l.startsWith(SC)?t=e.value==null||e.value===""?void 0:e.value==="true":e.node.aggData&&e.node.aggData[l]!==void 0?t=e.value??void 0:i=!1}else t=e.value??void 0;if(!i){this.eCheckbox.setDisplayed(!1);return}this.eCheckbox.setValue(t);const s=e.disabled!=null?e.disabled:!((a=e.column)!=null&&a.isCellEditable(e.node));this.eCheckbox.setDisabled(s);const n=this.localeService.getLocaleTextFunc(),r=PD(n,t),o=s?r:`${n("ariaToggleCellValue","Press SPACE to toggle cell value")} (${r})`;this.eCheckbox.setInputAriaLabel(o)}onCheckboxChanged(e){const{column:t,node:i,value:s}=this.params;this.eventService.dispatchEvent({type:"cellEditingStarted",column:t,colDef:t==null?void 0:t.getColDef(),data:i.data,node:i,rowIndex:i.rowIndex,rowPinned:i.rowPinned,value:s});const n=this.params.node.setDataValue(this.params.column,e,"edit");this.eventService.dispatchEvent({type:"cellEditingStopped",column:t,colDef:t==null?void 0:t.getColDef(),data:i.data,node:i,rowIndex:i.rowIndex,rowPinned:i.rowPinned,value:s,oldValue:s,newValue:e,valueChanged:n}),n||this.updateCheckbox(this.params)}},r7=class extends Ht{constructor(){super(`<div class="ag-loading">
            <span class="ag-loading-icon" data-ref="eLoadingIcon"></span>
            <span class="ag-loading-text" data-ref="eLoadingText"></span>
        </div>`),this.eLoadingIcon=Ie,this.eLoadingText=Ie}init(e){e.node.failedLoad?this.setupFailed():this.setupLoading()}setupFailed(){const e=this.localeService.getLocaleTextFunc();this.eLoadingText.innerText=e("loadingError","ERR")}setupLoading(){const e=bn("groupLoading",this.gos,null);e&&this.eLoadingIcon.appendChild(e);const t=this.localeService.getLocaleTextFunc();this.eLoadingText.innerText=t("loadingOoo","Loading")}refresh(e){return!1}destroy(){super.destroy()}},o7=class extends Ht{constructor(){super('<div class="ag-skeleton-container"></div>')}init(e){const t=`ag-cell-skeleton-renderer-${this.getCompId()}`;this.getGui().setAttribute("id",t),this.addDestroyFunc(()=>Ip(e.eParentOfValue)),Ip(e.eParentOfValue,t),e.node.failedLoad?this.setupFailed():this.setupLoading(e)}setupFailed(){const e=this.localeService.getLocaleTextFunc();this.getGui().innerText=e("loadingError","ERR");const t=e("ariaSkeletonCellLoadingFailed","Row failed to load");_d(this.getGui(),t)}setupLoading(e){const i=yi(this.gos).createElement("div");i.classList.add("ag-skeleton-effect");const s=e.node.rowIndex;if(s!=null){const o=75+25*(s%2===0?Math.sin(s):Math.cos(s));i.style.width=`${o}%`}this.getGui().appendChild(i);const r=this.localeService.getLocaleTextFunc()("ariaSkeletonCellLoading","Row data is loading");_d(this.getGui(),r)}refresh(e){return!1}destroy(){super.destroy()}},oN=class extends Ht{constructor(){super()}destroy(){super.destroy()}},a7=class extends oN{init(){var t;const e=Jo((t=this.gos.get("overlayLoadingTemplate"))==null?void 0:t.trim());if(this.setTemplate(e??'<span aria-live="polite" aria-atomic="true" class="ag-overlay-loading-center"></span>'),!e){const i=this.localeService.getLocaleTextFunc();setTimeout(()=>{this.getGui().textContent=i("loadingOoo","Loading...")})}}},l7=class extends oN{init(){var t;const e=Jo((t=this.gos.get("overlayNoRowsTemplate"))==null?void 0:t.trim());if(this.setTemplate(e??'<span class="ag-overlay-no-rows-center"></span>'),!e){const i=this.localeService.getLocaleTextFunc();setTimeout(()=>{this.getGui().textContent=i("noRowsToShow","No Rows To Show")})}}},ch=class extends Ht{isPopup(){return!0}setParentComponent(e){e.addCssClass("ag-has-popup"),super.setParentComponent(e)}destroy(){const e=this.parentComponent;e&&e.isAlive()&&e.getGui().classList.remove("ag-has-popup"),super.destroy()}},c7=class extends ch{constructor(){super('<div class="ag-tooltip"></div>')}init(e){const{value:t}=e;this.getGui().textContent=no(t,!0)}};function aN(e){const{inputValue:t,allSuggestions:i,hideIrrelevant:s,filterByPercentageOfBestMatch:n,addSequentialWeight:r}=e;let o=i.map((d,h)=>({value:d,relevance:d7(t.toLowerCase(),d.toLocaleLowerCase(),r),idx:h}));if(o.sort((d,h)=>h.relevance-d.relevance),s&&(o=o.filter(d=>d.relevance!==0)),o.length>0&&n&&n>0){const h=o[0].relevance*n;o=o.filter(p=>h-p.relevance<0)}const a=[],l=[];for(const d of o)a.push(d.value),l.push(d.idx);return{values:a,indices:l}}function u7(e){const t=[],i=e.length;for(let s=1;s<=i;s++)for(let n=0;n<=i-s;n++){const r=n+s-1;t.push(e.slice(n,r+1))}return t}function d7(e,t,i=!1){const s=e.replace(/\s/g,""),n=t.replace(/\s/g,""),r=s.length,o=n.length,a=new Array(r+1).fill(null).map(()=>new Array(o+1).fill(0));for(let p=0;p<=r;p+=1)a[p][0]=p;for(let p=0;p<=o;p+=1)a[0][p]=p;for(let p=1;p<=r;p++)for(let f=1;f<=o;f++)s[p-1]===n[f-1]?a[p][f]=a[p-1][f-1]:a[p][f]=1+Math.min(a[p][f-1],Math.min(a[p-1][f],a[p-1][f-1]));const l=a[r][o];let h=Math.max(r,o)-l;if(i){const p=u7(s);for(let f=0;f<p.length;f++){const v=p[f];n.indexOf(v)!==-1&&(h+=1,h*=v.length)}}return h}var h7=class extends re{constructor(){super(...arguments),this.beanName="userComponentRegistry",this.agGridDefaults={agDragAndDropImage:K8,agColumnHeader:hM,agColumnGroupHeader:Q8,agSortIndicator:HD,agAnimateShowChangeCellRenderer:t7,agAnimateSlideCellRenderer:i7,agLoadingCellRenderer:r7,agSkeletonCellRenderer:o7,agCheckboxCellRenderer:n7,agLoadingOverlay:a7,agNoRowsOverlay:l7,agTooltipComponent:c7},this.agGridDefaultParams={},this.enterpriseAgDefaultCompsModule={agSetColumnFilter:"@ag-grid-enterprise/set-filter",agSetColumnFloatingFilter:"@ag-grid-enterprise/set-filter",agMultiColumnFilter:"@ag-grid-enterprise/multi-filter",agMultiColumnFloatingFilter:"@ag-grid-enterprise/multi-filter",agGroupColumnFilter:"@ag-grid-enterprise/row-grouping",agGroupColumnFloatingFilter:"@ag-grid-enterprise/row-grouping",agGroupCellRenderer:"@ag-grid-enterprise/row-grouping",agGroupRowRenderer:"@ag-grid-enterprise/row-grouping",agRichSelect:"@ag-grid-enterprise/rich-select",agRichSelectCellEditor:"@ag-grid-enterprise/rich-select",agDetailCellRenderer:"@ag-grid-enterprise/master-detail",agSparklineCellRenderer:"@ag-grid-enterprise/sparklines"},this.jsComps={}}postConstruct(){const e=this.gos.get("components");e!=null&&xr(e,(t,i)=>this.registerJsComponent(t,i))}registerDefaultComponent(e,t,i){this.agGridDefaults[e]=t,i&&(this.agGridDefaultParams[e]=i)}registerJsComponent(e,t){this.jsComps[e]=t}retrieve(e,t){const i=(a,l,d)=>({componentFromFramework:l,component:a,params:d}),s=this.getFrameworkOverrides().frameworkComponent(t,this.gos.get("components"));if(s!=null)return i(s,!0);const n=this.jsComps[t];if(n){const a=this.getFrameworkOverrides().isFrameworkComponent(n);return i(n,a)}const r=this.agGridDefaults[t];if(r)return i(r,!1,this.agGridDefaultParams[t]);const o=this.enterpriseAgDefaultCompsModule[t];return o?this.gos.assertModuleRegistered(o,`AG Grid '${e}' component: ${t}`):DD(()=>{this.warnAboutMissingComponent(e,t)},"MissingComp"+t),null}warnAboutMissingComponent(e,t){const i=[...Object.keys(this.agGridDefaults).filter(n=>!["agCellEditor","agGroupRowRenderer","agSortIndicator"].includes(n)),...Object.keys(this.jsComps)],s=aN({inputValue:t,allSuggestions:i,hideIrrelevant:!0,filterByPercentageOfBestMatch:.8}).values;ae(`Could not find '${t}' component. It was configured as "${e}: '${t}'" but it wasn't found in the list of registered components.`),s.length>0&&ae(`         Did you mean: [${s.slice(0,3)}]?`),ae(`If using a custom component check it has been registered as described in: ${this.getFrameworkOverrides().getDocLink("components/")}`)}},vi=class qg{constructor(t){this.status=0,this.resolution=null,this.waiters=[],t(i=>this.onDone(i),i=>this.onReject(i))}static all(t){return t.length?new qg(i=>{let s=t.length;const n=new Array(s);t.forEach((r,o)=>{r.then(a=>{n[o]=a,s--,s===0&&i(n)})})}):qg.resolve()}static resolve(t=null){return new qg(i=>i(t))}then(t){return new qg(i=>{this.status===1?i(t(this.resolution)):this.waiters.push(s=>i(t(s)))})}onDone(t){this.status=1,this.resolution=t,this.waiters.forEach(i=>i(t))}onReject(t){}},g7={propertyName:"dateComponent",cellRenderer:!1},p7={propertyName:"dragAndDropImageComponent",cellRenderer:!1},f7={propertyName:"headerComponent",cellRenderer:!1},m7={propertyName:"headerGroupComponent",cellRenderer:!1},vk={propertyName:"cellRenderer",cellRenderer:!0},v7={propertyName:"cellRenderer",cellRenderer:!1},y7={propertyName:"loadingCellRenderer",cellRenderer:!0},C7={propertyName:"cellEditor",cellRenderer:!1},yk={propertyName:"innerRenderer",cellRenderer:!0},b7={propertyName:"loadingOverlayComponent",cellRenderer:!1},S7={propertyName:"noRowsOverlayComponent",cellRenderer:!1},w7={propertyName:"tooltipComponent",cellRenderer:!1},_D={propertyName:"filter",cellRenderer:!1},x7={propertyName:"floatingFilterComponent",cellRenderer:!1},M7={propertyName:"toolPanel",cellRenderer:!1},D7={propertyName:"statusPanel",cellRenderer:!1},R7={propertyName:"fullWidthCellRenderer",cellRenderer:!0},E7={propertyName:"loadingCellRenderer",cellRenderer:!0},A7={propertyName:"groupRowRenderer",cellRenderer:!0},T7={propertyName:"detailCellRenderer",cellRenderer:!0},I7={propertyName:"menuItem",cellRenderer:!1},lN=class cN extends re{constructor(){super(...arguments),this.beanName="userComponentFactory"}wireBeans(t){this.agComponentUtils=t.agComponentUtils,this.componentMetadataProvider=t.componentMetadataProvider,this.userComponentRegistry=t.userComponentRegistry,this.frameworkComponentWrapper=t.frameworkComponentWrapper,this.gridOptions=t.gridOptions}getDragAndDropImageCompDetails(t){return this.getCompDetails(this.gridOptions,p7,"agDragAndDropImage",t,!0)}getHeaderCompDetails(t,i){return this.getCompDetails(t,f7,"agColumnHeader",i)}getHeaderGroupCompDetails(t){const i=t.columnGroup.getColGroupDef();return this.getCompDetails(i,m7,"agColumnGroupHeader",t)}getFullWidthCellRendererDetails(t){return this.getCompDetails(this.gridOptions,R7,null,t,!0)}getFullWidthLoadingCellRendererDetails(t){return this.getCompDetails(this.gridOptions,E7,"agLoadingCellRenderer",t,!0)}getFullWidthGroupCellRendererDetails(t){return this.getCompDetails(this.gridOptions,A7,"agGroupRowRenderer",t,!0)}getFullWidthDetailCellRendererDetails(t){return this.getCompDetails(this.gridOptions,T7,"agDetailCellRenderer",t,!0)}getInnerRendererDetails(t,i){return this.getCompDetails(t,yk,null,i)}getFullWidthGroupRowInnerCellRenderer(t,i){return this.getCompDetails(t,yk,null,i)}getCellRendererDetails(t,i){return this.getCompDetails(t,vk,null,i)}getEditorRendererDetails(t,i){return this.getCompDetails(t,v7,null,i)}getLoadingCellRendererDetails(t,i){return this.getCompDetails(t,y7,"agSkeletonCellRenderer",i,!0)}getCellEditorDetails(t,i){return this.getCompDetails(t,C7,"agCellEditor",i,!0)}getFilterDetails(t,i,s){return this.getCompDetails(t,_D,s,i,!0)}getDateCompDetails(t){return this.getCompDetails(this.gridOptions,g7,"agDateInput",t,!0)}getLoadingOverlayCompDetails(t){return this.getCompDetails(this.gridOptions,b7,"agLoadingOverlay",t,!0)}getNoRowsOverlayCompDetails(t){return this.getCompDetails(this.gridOptions,S7,"agNoRowsOverlay",t,!0)}getTooltipCompDetails(t){return this.getCompDetails(t.colDef,w7,"agTooltipComponent",t,!0)}getSetFilterCellRendererDetails(t,i){return this.getCompDetails(t,vk,null,i)}getFloatingFilterCompDetails(t,i,s){return this.getCompDetails(t,x7,s,i)}getToolPanelCompDetails(t,i){return this.getCompDetails(t,M7,null,i,!0)}getStatusPanelCompDetails(t,i){return this.getCompDetails(t,D7,null,i,!0)}getMenuItemCompDetails(t,i){return this.getCompDetails(t,I7,"agMenuItem",i,!0)}getCompDetails(t,i,s,n,r=!1){const{propertyName:o,cellRenderer:a}=i;let{compName:l,jsComp:d,fwComp:h,paramsFromSelector:p,popupFromSelector:f,popupPositionFromSelector:v}=cN.getCompKeys(this.frameworkOverrides,t,i,n),y;const S=D=>{const E=this.userComponentRegistry.retrieve(o,D);E&&(d=E.componentFromFramework?void 0:E.component,h=E.componentFromFramework?E.component:void 0,y=E.params)};if(l!=null&&S(l),d==null&&h==null&&s!=null&&S(s),d&&a&&!this.agComponentUtils.doesImplementIComponent(d)&&(d=this.agComponentUtils.adaptFunction(o,d)),!d&&!h){r&&at(`Could not find component ${l}, did you forget to configure this component?`);return}const w=this.mergeParamsWithApplicationProvidedParams(t,i,n,p,y),b=d==null,x=d||h;return{componentFromFramework:b,componentClass:x,params:w,type:i,popupFromSelector:f,popupPositionFromSelector:v,newAgStackInstance:()=>this.newAgStackInstance(x,b,w,i)}}static getCompKeys(t,i,s,n){const{propertyName:r}=s;let o,a,l,d,h,p;if(i){const f=i,v=f[r+"Selector"],y=v?v(n):null,S=w=>{typeof w=="string"?o=w:w!=null&&w!==!0&&(t.isFrameworkComponent(w)?l=w:a=w)};y?(S(y.component),d=y.params,h=y.popup,p=y.popupPosition):S(f[r])}return{compName:o,jsComp:a,fwComp:l,paramsFromSelector:d,popupFromSelector:h,popupPositionFromSelector:p}}newAgStackInstance(t,i,s,n){const r=n.propertyName,o=!i;let a;if(o)a=new t;else{const d=this.componentMetadataProvider.retrieve(r);a=this.frameworkComponentWrapper.wrap(t,d.mandatoryMethodList,d.optionalMethodList,n)}const l=this.initComponent(a,s);return l==null?vi.resolve(a):l.then(()=>a)}mergeParamsWithApplicationProvidedParams(t,i,s,n=null,r){const o=this.gos.getGridCommonParams();zs(o,s),r&&zs(o,r);const a=t,l=a&&a[i.propertyName+"Params"];if(typeof l=="function"){const d=l(s);zs(o,d)}else typeof l=="object"&&zs(o,l);return zs(o,n),o}initComponent(t,i){if(this.createBean(t),t.init!=null)return t.init(i)}};function lp(e){const t=e;return t!=null&&t.getFrameworkComponentInstance!=null?t.getFrameworkComponentInstance():e}var wC=class vt{static register(t){vt.__register(t,!0,void 0)}static registerModules(t){vt.__registerModules(t,!0,void 0)}static __register(t,i,s){vt.runVersionChecks(t),s!==void 0?(vt.areGridScopedModules=!0,vt.gridModulesMap[s]===void 0&&(vt.gridModulesMap[s]={}),vt.gridModulesMap[s][t.moduleName]=t):vt.globalModulesMap[t.moduleName]=t,vt.setModuleBased(i)}static __unRegisterGridModules(t){delete vt.gridModulesMap[t]}static __registerModules(t,i,s){vt.setModuleBased(i),t&&t.forEach(n=>vt.__register(n,i,s))}static isValidModuleVersion(t){const[i,s]=t.version.split(".")||[],[n,r]=vt.currentModuleVersion.split(".")||[];return i===n&&s===r}static runVersionChecks(t){vt.currentModuleVersion||(vt.currentModuleVersion=t.version);const i=s=>`You are using incompatible versions of AG Grid modules. Major and minor versions should always match across modules. ${s} Please update all modules to the same version.`;if(t.version?vt.isValidModuleVersion(t)||at(i(`'${t.moduleName}' is version ${t.version} but the other modules are version ${vt.currentModuleVersion}.`)):at(i(`'${t.moduleName}' is incompatible.`)),t.validate){const s=t.validate();s.isValid||at(`${s.message}`)}}static setModuleBased(t){vt.moduleBased===void 0?vt.moduleBased=t:vt.moduleBased!==t&&(at("AG Grid: You are mixing modules (i.e. @ag-grid-community/core) and packages (ag-grid-community) - you can only use one or the other of these mechanisms."),at("Please see https://www.ag-grid.com/javascript-grid/modules/ for more information."))}static __setIsBundled(){vt.isBundled=!0}static __assertRegistered(t,i,s){var r;if(this.__isRegistered(t,s))return!0;let n;if(vt.isBundled)n=`AG Grid: unable to use ${i} as 'ag-grid-enterprise' has not been loaded. Check you are using the Enterprise bundle:
        
        <script src="https://cdn.jsdelivr.net/npm/ag-grid-enterprise@AG_GRID_VERSION/dist/ag-grid-enterprise.min.js"><\/script>
        
For more info see: https://ag-grid.com/javascript-data-grid/getting-started/#getting-started-with-ag-grid-enterprise`;else if(vt.moduleBased||vt.moduleBased===void 0){const o=(r=Object.entries(bF).find(([a,l])=>l===t))==null?void 0:r[0];n=`AG Grid: unable to use ${i} as the ${o} is not registered${vt.areGridScopedModules?` for gridId: ${s}`:""}. Check if you have registered the module:
           
    import { ModuleRegistry } from '@ag-grid-community/core';
    import { ${o} } from '${t}';
    
    ModuleRegistry.registerModules([ ${o} ]);

For more info see: https://www.ag-grid.com/javascript-grid/modules/`}else n=`AG Grid: unable to use ${i} as package 'ag-grid-enterprise' has not been imported. Check that you have imported the package:
            
    import 'ag-grid-enterprise';`;return at(n),!1}static __isRegistered(t,i){var s;return!!vt.globalModulesMap[t]||!!((s=vt.gridModulesMap[i])!=null&&s[t])}static __getRegisteredModules(t){return[...Gv(vt.globalModulesMap),...Gv(vt.gridModulesMap[t]||{})]}static __getGridRegisteredModules(t){return Gv(vt.gridModulesMap[t]??{})||[]}static __isPackageBased(){return!vt.moduleBased}};wC.globalModulesMap={};wC.gridModulesMap={};wC.areGridScopedModules=!1;var Cn=wC,L7=class{constructor(e){this.beans={},this.createdBeans=[],this.destroyed=!1,!(!e||!e.beanClasses)&&(this.beanDestroyComparator=e.beanDestroyComparator,this.init(e))}init(e){var t;Object.entries(e.providedBeanInstances).forEach(([i,s])=>{this.beans[i]=s}),e.beanClasses.forEach(i=>{const s=new i;s.beanName?this.beans[s.beanName]=s:console.error(`Bean ${i.name} is missing beanName`),this.createdBeans.push(s)}),(t=e.derivedBeans)==null||t.forEach(i=>{const{beanName:s,bean:n}=i(this);this.beans[s]=n,this.createdBeans.push(n)}),e.beanInitComparator&&this.createdBeans.sort(e.beanInitComparator),this.initBeans(this.createdBeans)}getBeanInstances(){return Object.values(this.beans)}createBean(e,t){if(!e)throw Error("Can't wire to bean since it is null");return this.initBeans([e],t),e}initBeans(e,t){e.forEach(i=>{var s,n;(s=i.preWireBeans)==null||s.call(i,this.beans),(n=i.wireBeans)==null||n.call(i,this.beans)}),e.forEach(i=>{var s;return(s=i.preConstruct)==null?void 0:s.call(i)}),t&&e.forEach(t),e.forEach(i=>{var s;return(s=i.postConstruct)==null?void 0:s.call(i)})}getBeans(){return this.beans}getBean(e){return this.beans[e]}destroy(){if(this.destroyed)return;this.destroyed=!0;const e=this.getBeanInstances();this.beanDestroyComparator&&e.sort(this.beanDestroyComparator),this.destroyBeans(e),this.beans={},this.createdBeans=[]}destroyBean(e){var t;(t=e==null?void 0:e.destroy)==null||t.call(e)}destroyBeans(e){if(e)for(let t=0;t<e.length;t++)this.destroyBean(e[t]);return[]}isDestroyed(){return this.destroyed}},k7=class extends L7{init(e){this.gridId=e.gridId,this.beans.context=this,super.init(e)}destroy(){super.destroy(),Cn.__unRegisterGridModules(this.gridId)}getGridId(){return this.gridId}},uN=(e=>(e[e.Left=0]="Left",e[e.Right=1]="Right",e))(uN||{}),P7=class extends re{constructor(){super(...arguments),this.beanName="dragAndDropService",this.dragSourceAndParamsList=[],this.dropTargets=[]}wireBeans(e){this.ctrlsService=e.ctrlsService,this.dragService=e.dragService,this.mouseEventService=e.mouseEventService,this.environment=e.environment,this.userComponentFactory=e.userComponentFactory}addDragSource(e,t=!1){const i={eElement:e.eElement,dragStartPixels:e.dragStartPixels,onDragStart:this.onDragStart.bind(this,e),onDragStop:this.onDragStop.bind(this),onDragging:this.onDragging.bind(this),onDragCancel:this.onDragCancel.bind(this),includeTouch:t};this.dragSourceAndParamsList.push({params:i,dragSource:e}),this.dragService.addDragSource(i)}getDragAndDropImageComponent(){const{dragAndDropImageComp:e}=this;return!e||!e.comp?null:e.comp}removeDragSource(e){const t=this.dragSourceAndParamsList.find(i=>i.dragSource===e);t&&(this.dragService.removeDragSource(t.params),js(this.dragSourceAndParamsList,t))}destroy(){this.dragSourceAndParamsList.forEach(e=>this.dragService.removeDragSource(e.params)),this.dragSourceAndParamsList.length=0,this.dropTargets.length=0,this.clearDragAndDropProperties(),super.destroy()}nudge(){this.dragging&&this.onDragging(this.eventLastTime,!0)}onDragStart(e,t){var i,s;this.dragging=!0,this.dragSource=e,this.eventLastTime=t,this.dragItem=this.dragSource.getDragItem(),(s=(i=this.dragSource).onDragStarted)==null||s.call(i),this.createDragAndDropImageComponent()}onDragStop(e){var t,i,s;if((i=(t=this.dragSource)==null?void 0:t.onDragStopped)==null||i.call(t),(s=this.lastDropTarget)!=null&&s.onDragStop){const n=this.createDropTargetEvent(this.lastDropTarget,e,null,null,!1);this.lastDropTarget.onDragStop(n)}this.clearDragAndDropProperties()}onDragCancel(){var e,t,i;(t=(e=this.dragSource)==null?void 0:e.onDragCancelled)==null||t.call(e),(i=this.lastDropTarget)!=null&&i.onDragCancel&&this.lastDropTarget.onDragCancel(this.createDropTargetEvent(this.lastDropTarget,this.eventLastTime,null,null,!1)),this.clearDragAndDropProperties()}clearDragAndDropProperties(){this.eventLastTime=null,this.dragging=!1,this.lastDropTarget=void 0,this.dragItem=null,this.dragSource=null,this.removeDragAndDropImageComponent()}onDragging(e,t=!1){var o,a,l,d;const i=this.getHorizontalDirection(e),s=this.getVerticalDirection(e);this.eventLastTime=e,this.positionDragAndDropImageComp(e);const n=this.dropTargets.filter(h=>this.isMouseOnDropTarget(e,h)),r=this.findCurrentDropTarget(e,n);if(r!==this.lastDropTarget){if(this.leaveLastTargetIfExists(e,i,s,t),this.lastDropTarget!==null&&r===null&&((a=(o=this.dragSource)==null?void 0:o.onGridExit)==null||a.call(o,this.dragItem)),this.lastDropTarget===null&&r!==null&&((d=(l=this.dragSource)==null?void 0:l.onGridEnter)==null||d.call(l,this.dragItem)),this.enterDragTargetIfExists(r,e,i,s,t),r&&this.dragAndDropImageComp){const{comp:h,promise:p}=this.dragAndDropImageComp;h?h.setIcon(r.getIconName?r.getIconName():null):p.then(f=>{f&&f.setIcon(r.getIconName?r.getIconName():null)})}this.lastDropTarget=r}else if(r&&r.onDragging){const h=this.createDropTargetEvent(r,e,i,s,t);r.onDragging(h)}}getAllContainersFromDropTarget(e){const t=e.getSecondaryContainers?e.getSecondaryContainers():null,i=[[e.getContainer()]];return t?i.concat(t):i}allContainersIntersect(e,t){for(const i of t){const{width:s,height:n,left:r,right:o,top:a,bottom:l}=i.getBoundingClientRect();if(s===0||n===0)return!1;const d=e.clientX>=r&&e.clientX<o,h=e.clientY>=a&&e.clientY<l;if(!d||!h)return!1}return!0}isMouseOnDropTarget(e,t){const i=this.getAllContainersFromDropTarget(t);let s=!1;for(const o of i)if(this.allContainersIntersect(e,o)){s=!0;break}const{eElement:n,type:r}=this.dragSource;return t.targetContainsSource&&!t.getContainer().contains(n)?!1:s&&t.isInterestedIn(r,n)}findCurrentDropTarget(e,t){const i=t.length;if(i===0)return null;if(i===1)return t[0];const n=Ep(this.gos).elementsFromPoint(e.clientX,e.clientY);for(const r of n)for(const o of t)if(_U(this.getAllContainersFromDropTarget(o)).indexOf(r)!==-1)return o;return null}enterDragTargetIfExists(e,t,i,s,n){if(e&&e.onDragEnter){const r=this.createDropTargetEvent(e,t,i,s,n);e.onDragEnter(r)}}leaveLastTargetIfExists(e,t,i,s){if(!this.lastDropTarget)return;if(this.lastDropTarget.onDragLeave){const r=this.createDropTargetEvent(this.lastDropTarget,e,t,i,s);this.lastDropTarget.onDragLeave(r)}const n=this.getDragAndDropImageComponent();n&&n.setIcon(null)}addDropTarget(e){this.dropTargets.push(e)}removeDropTarget(e){this.dropTargets=this.dropTargets.filter(t=>t.getContainer()!==e.getContainer())}hasExternalDropZones(){return this.dropTargets.some(e=>e.external)}findExternalZone(e){return this.dropTargets.filter(i=>i.external).find(i=>i.getContainer()===e.getContainer())||null}isDropZoneWithinThisGrid(e){const i=this.ctrlsService.getGridBodyCtrl().getGui(),{dropZoneTarget:s}=e;return i.contains(s)}getHorizontalDirection(e){const t=this.eventLastTime&&this.eventLastTime.clientX,i=e.clientX;return t===i?null:t>i?0:1}getVerticalDirection(e){const t=this.eventLastTime&&this.eventLastTime.clientY,i=e.clientY;return t===i?null:t>i?0:1}createDropTargetEvent(e,t,i,s,n){const r=e.getContainer(),o=r.getBoundingClientRect(),{dragItem:a,dragSource:l}=this,d=t.clientX-o.left,h=t.clientY-o.top;return this.gos.addGridCommonParams({event:t,x:d,y:h,vDirection:s,hDirection:i,dragSource:l,fromNudge:n,dragItem:a,dropZoneTarget:r})}positionDragAndDropImageComp(e){const t=this.getDragAndDropImageComponent();if(!t)return;const i=t.getGui(),n=i.getBoundingClientRect().height,r=P8()-2,o=O8()-2;if(!i.offsetParent)return;const l=QF(i.offsetParent),{clientY:d,clientX:h}=e;let p=d-l.top-n/2,f=h-l.left-10;const v=yi(this.gos),y=v.defaultView||window,S=y.pageYOffset||v.documentElement.scrollTop,w=y.pageXOffset||v.documentElement.scrollLeft;r>0&&f+i.clientWidth>r+w&&(f=r+w-i.clientWidth),f<0&&(f=0),o>0&&p+i.clientHeight>o+S&&(p=o+S-i.clientHeight),p<0&&(p=0),i.style.left=`${f}px`,i.style.top=`${p}px`}removeDragAndDropImageComponent(){if(this.dragAndDropImageComp){const{comp:e}=this.dragAndDropImageComp;if(e){const t=e.getGui();this.dragAndDropImageParent&&this.dragAndDropImageParent.removeChild(t),this.destroyBean(e)}}this.dragAndDropImageComp=null}createDragAndDropImageComponent(){const{dragSource:e}=this;if(!e)return;const i=this.userComponentFactory.getDragAndDropImageCompDetails({dragSource:e}).newAgStackInstance();this.dragAndDropImageComp={promise:i},i.then(s=>{!s||!this.isAlive()||(this.processDragAndDropImageComponent(s),this.dragAndDropImageComp.comp=s)})}processDragAndDropImageComponent(e){const{dragSource:t,mouseEventService:i,environment:s}=this;if(!t)return;const n=e.getGui();n.style.setProperty("position","absolute"),n.style.setProperty("z-index","9999"),i.stampTopLevelGridCompWithGridInstance(n),s.applyThemeClasses(n),e.setIcon(null);let{dragItemName:r}=t;RD(r)&&(r=r()),e.setLabel(r||""),n.style.top="20px",n.style.left="20px";const o=yi(this.gos);let a=null,l=null;try{a=o.fullscreenElement}catch{}finally{a||(a=Ep(this.gos));const d=a.querySelector("body");d?l=d:a instanceof ShadowRoot?l=a:a instanceof Document?l=a==null?void 0:a.documentElement:l=a}this.dragAndDropImageParent=l,l?l.appendChild(n):ae("Could not find document body, it is needed for drag and drop.")}},O7=class{constructor(e){this.tickingInterval=null,this.onScrollCallback=null,this.scrollContainer=e.scrollContainer,this.scrollHorizontally=e.scrollAxis.indexOf("x")!==-1,this.scrollVertically=e.scrollAxis.indexOf("y")!==-1,this.scrollByTick=e.scrollByTick!=null?e.scrollByTick:20,e.onScrollCallback&&(this.onScrollCallback=e.onScrollCallback),this.scrollVertically&&(this.getVerticalPosition=e.getVerticalPosition,this.setVerticalPosition=e.setVerticalPosition),this.scrollHorizontally&&(this.getHorizontalPosition=e.getHorizontalPosition,this.setHorizontalPosition=e.setHorizontalPosition),this.shouldSkipVerticalScroll=e.shouldSkipVerticalScroll||(()=>!1),this.shouldSkipHorizontalScroll=e.shouldSkipHorizontalScroll||(()=>!1)}check(e,t=!1){const i=t||this.shouldSkipVerticalScroll();if(i&&this.shouldSkipHorizontalScroll())return;const s=this.scrollContainer.getBoundingClientRect(),n=this.scrollByTick;this.tickLeft=e.clientX<s.left+n,this.tickRight=e.clientX>s.right-n,this.tickUp=e.clientY<s.top+n&&!i,this.tickDown=e.clientY>s.bottom-n&&!i,this.tickLeft||this.tickRight||this.tickUp||this.tickDown?this.ensureTickingStarted():this.ensureCleared()}ensureTickingStarted(){this.tickingInterval===null&&(this.tickingInterval=window.setInterval(this.doTick.bind(this),100),this.tickCount=0)}doTick(){this.tickCount++;const e=this.tickCount>20?200:this.tickCount>10?80:40;if(this.scrollVertically){const t=this.getVerticalPosition();this.tickUp&&this.setVerticalPosition(t-e),this.tickDown&&this.setVerticalPosition(t+e)}if(this.scrollHorizontally){const t=this.getHorizontalPosition();this.tickLeft&&this.setHorizontalPosition(t-e),this.tickRight&&this.setHorizontalPosition(t+e)}this.onScrollCallback&&this.onScrollCallback()}ensureCleared(){this.tickingInterval&&(window.clearInterval(this.tickingInterval),this.tickingInterval=null)}},F7=class extends re{wireBeans(e){this.dragAndDropService=e.dragAndDropService,this.rowModel=e.rowModel,this.pageBoundsService=e.pageBoundsService,this.focusService=e.focusService,this.sortController=e.sortController,this.filterManager=e.filterManager,this.selectionService=e.selectionService,this.mouseEventService=e.mouseEventService,this.ctrlsService=e.ctrlsService,this.funcColsService=e.funcColsService,this.rangeService=e.rangeService}constructor(e){super(),this.eContainer=e}postConstruct(){Ut(this.gos)&&(this.clientSideRowModel=this.rowModel),this.ctrlsService.whenReady(this,e=>{const t=e.gridBodyCtrl;this.autoScrollService=new O7({scrollContainer:t.getBodyViewportElement(),scrollAxis:"y",getVerticalPosition:()=>t.getScrollFeature().getVScrollPosition().top,setVerticalPosition:i=>t.getScrollFeature().setVerticalScrollPosition(i),onScrollCallback:()=>{this.onDragging(this.lastDraggingEvent)}})})}getContainer(){return this.eContainer}isInterestedIn(e){return e===2}getIconName(){return this.gos.get("rowDragManaged")&&this.shouldPreventRowMove()?"notAllowed":"move"}shouldPreventRowMove(){var s;return!!(this.funcColsService.getRowGroupColumns().length||((s=this.filterManager)==null?void 0:s.isAnyFilterPresent())||this.sortController.isSortActive())}getRowNodes(e){if(!this.isFromThisGrid(e))return e.dragItem.rowNodes||[];const t=e.dragItem.rowNode;if(this.gos.get("rowDragMultiRow")){const s=[...this.selectionService.getSelectedNodes()].sort((n,r)=>n.rowIndex==null||r.rowIndex==null?0:this.getRowIndexNumber(n)-this.getRowIndexNumber(r));if(s.indexOf(t)!==-1)return s}return[t]}onDragEnter(e){e.dragItem.rowNodes=this.getRowNodes(e),this.dispatchGridEvent("rowDragEnter",e),this.getRowNodes(e).forEach(t=>{t.setDragging(!0)}),this.onEnterOrDragging(e)}onDragging(e){this.onEnterOrDragging(e)}isFromThisGrid(e){const{dragSourceDomDataKey:t}=e.dragSource;return t===this.gos.getDomDataKey()}onEnterOrDragging(e){this.dispatchGridEvent("rowDragMove",e),this.lastDraggingEvent=e;const t=this.mouseEventService.getNormalisedPosition(e).y;this.gos.get("rowDragManaged")&&this.doManagedDrag(e,t),this.autoScrollService.check(e.event)}doManagedDrag(e,t){const i=this.isFromThisGrid(e),s=this.gos.get("rowDragManaged"),n=e.dragItem.rowNodes;s&&this.shouldPreventRowMove()||(this.gos.get("suppressMoveWhenRowDragging")||!i?this.dragAndDropService.isDropZoneWithinThisGrid(e)&&this.clientSideRowModel.highlightRowAtPixel(n[0],t):this.moveRows(n,t))}getRowIndexNumber(e){const t=e.getRowIndexString();return parseInt(nt(t.split("-")),10)}moveRowAndClearHighlight(e){const t=this.clientSideRowModel.getLastHighlightedRowNode(),i=t&&t.highlighted===1,s=this.mouseEventService.getNormalisedPosition(e).y,n=e.dragItem.rowNodes;let r=i?1:0;if(this.isFromThisGrid(e))n.forEach(o=>{o.rowTop<s&&(r-=1)}),this.moveRows(n,s,r);else{const o=oh(this.gos);let a=this.clientSideRowModel.getRowIndexAtPixel(s)+1;this.clientSideRowModel.getHighlightPosition(s)===0&&a--,this.clientSideRowModel.updateRowData({add:n.filter(l=>!this.clientSideRowModel.getRowNode((o==null?void 0:o({data:l.data,level:0,rowPinned:l.rowPinned}))??l.data.id)).map(l=>l.data),addIndex:a})}this.clearRowHighlight()}clearRowHighlight(){this.clientSideRowModel.highlightRowAtPixel(null)}moveRows(e,t,i=0){var n;this.clientSideRowModel.ensureRowsAtPixel(e,t,i)&&(this.focusService.clearFocusedCell(),(n=this.rangeService)==null||n.removeAllCellRanges())}addRowDropZone(e){if(!e.getContainer()){ae("addRowDropZone - A container target needs to be provided");return}if(this.dragAndDropService.findExternalZone(e)){ae("addRowDropZone - target already exists in the list of DropZones. Use `removeRowDropZone` before adding it again.");return}let t={getContainer:e.getContainer};e.fromGrid?t=e:(e.onDragEnter&&(t.onDragEnter=s=>{e.onDragEnter(this.draggingToRowDragEvent("rowDragEnter",s))}),e.onDragLeave&&(t.onDragLeave=s=>{e.onDragLeave(this.draggingToRowDragEvent("rowDragLeave",s))}),e.onDragging&&(t.onDragging=s=>{e.onDragging(this.draggingToRowDragEvent("rowDragMove",s))}),e.onDragStop&&(t.onDragStop=s=>{e.onDragStop(this.draggingToRowDragEvent("rowDragEnd",s))}),e.onDragCancel&&(t.onDragCancel=s=>{e.onDragCancel(this.draggingToRowDragEvent("rowDragCancel",s))}));const i={isInterestedIn:s=>s===2,getIconName:()=>"move",external:!0,...t};this.dragAndDropService.addDropTarget(i),this.addDestroyFunc(()=>this.dragAndDropService.removeDropTarget(i))}getRowDropZone(e){const t=this.getContainer.bind(this),i=this.onDragEnter.bind(this),s=this.onDragLeave.bind(this),n=this.onDragging.bind(this),r=this.onDragStop.bind(this),o=this.onDragCancel.bind(this);let a;return e?a={getContainer:t,onDragEnter:e.onDragEnter?l=>{i(l),e.onDragEnter(this.draggingToRowDragEvent("rowDragEnter",l))}:i,onDragLeave:e.onDragLeave?l=>{s(l),e.onDragLeave(this.draggingToRowDragEvent("rowDragLeave",l))}:s,onDragging:e.onDragging?l=>{n(l),e.onDragging(this.draggingToRowDragEvent("rowDragMove",l))}:n,onDragStop:e.onDragStop?l=>{r(l),e.onDragStop(this.draggingToRowDragEvent("rowDragEnd",l))}:r,onDragCancel:e.onDragCancel?l=>{o(l),e.onDragCancel(this.draggingToRowDragEvent("rowDragCancel",l))}:o,fromGrid:!0}:a={getContainer:t,onDragEnter:i,onDragLeave:s,onDragging:n,onDragStop:r,onDragCancel:o,fromGrid:!0},a}draggingToRowDragEvent(e,t){const i=this.mouseEventService.getNormalisedPosition(t).y,s=i>this.pageBoundsService.getCurrentPageHeight();let n=-1,r;s||(n=this.rowModel.getRowIndexAtPixel(i),r=this.rowModel.getRow(n));let o;switch(t.vDirection){case 1:o="down";break;case 0:o="up";break;default:o=null;break}return this.gos.addGridCommonParams({type:e,event:t.event,node:t.dragItem.rowNode,nodes:t.dragItem.rowNodes,overIndex:n,overNode:r,y:i,vDirection:o})}dispatchGridEvent(e,t){const i=this.draggingToRowDragEvent(e,t);this.eventService.dispatchEvent(i)}onDragLeave(e){this.dispatchGridEvent("rowDragLeave",e),this.stopDragging(e),this.gos.get("rowDragManaged")&&this.clearRowHighlight()}onDragStop(e){this.dispatchGridEvent("rowDragEnd",e),this.stopDragging(e),this.gos.get("rowDragManaged")&&(this.gos.get("suppressMoveWhenRowDragging")||!this.isFromThisGrid(e))&&this.dragAndDropService.isDropZoneWithinThisGrid(e)&&this.moveRowAndClearHighlight(e)}onDragCancel(e){this.dispatchGridEvent("rowDragCancel",e),this.stopDragging(e),this.gos.get("rowDragManaged")&&(this.gos.get("suppressMoveWhenRowDragging")||!this.isFromThisGrid(e))&&this.dragAndDropService.isDropZoneWithinThisGrid(e)&&this.clearRowHighlight()}stopDragging(e){this.autoScrollService.ensureCleared(),this.getRowNodes(e).forEach(t=>{t.setDragging(!1)})}},N7=class extends re{constructor(){super(...arguments),this.beanName="dragService",this.dragEndFunctions=[],this.dragSources=[]}wireBeans(e){this.mouseEventService=e.mouseEventService}destroy(){this.dragSources.forEach(this.removeListener.bind(this)),this.dragSources.length=0,super.destroy()}removeListener(e){const t=e.dragSource.eElement,i=e.mouseDownListener;if(t.removeEventListener("mousedown",i),e.touchEnabled){const s=e.touchStartListener;t.removeEventListener("touchstart",s,{passive:!0})}}removeDragSource(e){const t=this.dragSources.find(i=>i.dragSource===e);t&&(this.removeListener(t),js(this.dragSources,t))}isDragging(){return this.dragging}addDragSource(e){const t=this.onMouseDown.bind(this,e),{eElement:i,includeTouch:s,stopPropagationForTouch:n}=e;i.addEventListener("mousedown",t);let r=null;const o=this.gos.get("suppressTouch");s&&!o&&(r=a=>{ND(a.target)||(n&&a.stopPropagation(),this.onTouchStart(e,a))},i.addEventListener("touchstart",r,{passive:!1})),this.dragSources.push({dragSource:e,mouseDownListener:t,touchStartListener:r,touchEnabled:!!s})}getStartTarget(){return this.startTarget}onTouchStart(e,t){this.currentDragParams=e,this.dragging=!1;const i=t.touches[0];this.touchLastTime=i,this.touchStart=i;const s=l=>this.onTouchMove(l,e.eElement),n=l=>this.onTouchUp(l,e.eElement),r=l=>{l.cancelable&&l.preventDefault()},o=t.target,a=[{target:Ep(this.gos),type:"touchmove",listener:r,options:{passive:!1}},{target:o,type:"touchmove",listener:s,options:{passive:!0}},{target:o,type:"touchend",listener:n,options:{passive:!0}},{target:o,type:"touchcancel",listener:n,options:{passive:!0}}];this.addTemporaryEvents(a),e.dragStartPixels===0&&this.onCommonMove(i,this.touchStart,e.eElement)}onMouseDown(e,t){const i=t;if(e.skipMouseEvent&&e.skipMouseEvent(t)||i._alreadyProcessedByDragService||(i._alreadyProcessedByDragService=!0,t.button!==0))return;this.shouldPreventMouseEvent(t)&&t.preventDefault(),this.currentDragParams=e,this.dragging=!1,this.mouseStartEvent=t,this.startTarget=t.target;const s=d=>this.onMouseMove(d,e.eElement),n=d=>this.onMouseUp(d,e.eElement),r=d=>d.preventDefault(),o=d=>{d.key===te.ESCAPE&&this.cancelDrag(e.eElement)},a=Ep(this.gos),l=[{target:a,type:"mousemove",listener:s},{target:a,type:"mouseup",listener:n},{target:a,type:"contextmenu",listener:r},{target:a,type:"keydown",listener:o}];this.addTemporaryEvents(l),e.dragStartPixels===0&&this.onMouseMove(t,e.eElement)}addTemporaryEvents(e){e.forEach(t=>{const{target:i,type:s,listener:n,options:r}=t;i.addEventListener(s,n,r)}),this.dragEndFunctions.push(()=>{e.forEach(t=>{const{target:i,type:s,listener:n,options:r}=t;i.removeEventListener(s,n,r)})})}isEventNearStartEvent(e,t){const{dragStartPixels:i}=this.currentDragParams,s=ve(i)?i:4;return nN(e,t,s)}getFirstActiveTouch(e){for(let t=0;t<e.length;t++)if(e[t].identifier===this.touchStart.identifier)return e[t];return null}onCommonMove(e,t,i){var s;if(!this.dragging){if(this.isEventNearStartEvent(e,t))return;if(this.dragging=!0,this.eventService.dispatchEvent({type:"dragStarted",target:i}),this.currentDragParams.onDragStart(t),!this.currentDragParams){this.dragging=!1;return}this.currentDragParams.onDragging(t)}(s=this.currentDragParams)==null||s.onDragging(e)}onTouchMove(e,t){const i=this.getFirstActiveTouch(e.touches);i&&this.onCommonMove(i,this.touchStart,t)}onMouseMove(e,t){var i;uo()&&((i=yi(this.gos).getSelection())==null||i.removeAllRanges()),this.shouldPreventMouseEvent(e)&&e.preventDefault(),this.onCommonMove(e,this.mouseStartEvent,t)}shouldPreventMouseEvent(e){const t=this.gos.get("enableCellTextSelection"),i=e.type==="mousemove";return t&&i&&e.cancelable&&this.mouseEventService.isEventFromThisGrid(e)&&!this.isOverFormFieldElement(e)}isOverFormFieldElement(e){const t=e.target,i=t==null?void 0:t.tagName.toLocaleLowerCase();return!!(i!=null&&i.match("^a$|textarea|input|select|button"))}onTouchUp(e,t){let i=this.getFirstActiveTouch(e.changedTouches);i||(i=this.touchLastTime),this.onUpCommon(i,t)}onMouseUp(e,t){this.onUpCommon(e,t)}onUpCommon(e,t){this.dragging&&(this.dragging=!1,this.currentDragParams.onDragStop(e),this.eventService.dispatchEvent({type:"dragStopped",target:t})),this.resetDragProperties()}cancelDrag(e){var t,i;this.eventService.dispatchEvent({type:"dragCancelled",target:e}),(i=(t=this.currentDragParams)==null?void 0:t.onDragCancel)==null||i.call(t),this.resetDragProperties()}resetDragProperties(){this.mouseStartEvent=null,this.startTarget=null,this.touchStart=null,this.touchLastTime=null,this.currentDragParams=null,this.dragEndFunctions.forEach(e=>e()),this.dragEndFunctions.length=0}},gM=class extends Ht{constructor(e,t,i,s,n,r){super(),this.cellValueFn=e,this.rowNode=t,this.column=i,this.customGui=s,this.dragStartPixels=n,this.suppressVisibilityChange=r,this.dragSource=null}wireBeans(e){this.beans=e}isCustomGui(){return this.customGui!=null}postConstruct(){if(this.customGui?this.setDragElement(this.customGui,this.dragStartPixels):(this.setTemplate('<div class="ag-drag-handle ag-row-drag" aria-hidden="true"></div>'),this.getGui().appendChild(bn("rowDrag",this.gos,null)),this.addDragSource()),this.checkCompatibility(),!this.suppressVisibilityChange){const e=this.gos.get("rowDragManaged")?new B7(this,this.beans,this.rowNode,this.column):new z7(this,this.beans,this.rowNode,this.column);this.createManagedBean(e,this.beans.context)}}setDragElement(e,t){this.setTemplateFromElement(e,void 0,void 0,!0),this.addDragSource(t)}getSelectedNodes(){if(!this.gos.get("rowDragMultiRow"))return[this.rowNode];const t=this.beans.selectionService.getSelectedNodes();return t.indexOf(this.rowNode)!==-1?t:[this.rowNode]}checkCompatibility(){const e=this.gos.get("rowDragManaged");this.gos.get("treeData")&&e&&ae("If using row drag with tree data, you cannot have rowDragManaged=true")}getDragItem(){return{rowNode:this.rowNode,rowNodes:this.getSelectedNodes(),columns:this.column?[this.column]:void 0,defaultTextValue:this.cellValueFn()}}getRowDragText(e){if(e){const t=e.getColDef();if(t.rowDragText)return t.rowDragText}return this.gos.get("rowDragText")}addDragSource(e=4){this.dragSource&&this.removeDragSource();const t=this.getGui();this.gos.get("enableCellTextSelection")&&(this.removeMouseDownListener(),this.mouseDownListener=this.addManagedElementListeners(t,{mousedown:s=>{s==null||s.preventDefault()}})[0]);const i=this.localeService.getLocaleTextFunc();this.dragSource={type:2,eElement:t,dragItemName:()=>{var o;const s=this.getDragItem(),n=((o=s.rowNodes)==null?void 0:o.length)||1,r=this.getRowDragText(this.column);return r?r(s,n):n===1?this.cellValueFn():`${n} ${i("rowDragRows","rows")}`},getDragItem:()=>this.getDragItem(),dragStartPixels:e,dragSourceDomDataKey:this.gos.getDomDataKey()},this.beans.dragAndDropService.addDragSource(this.dragSource,!0)}destroy(){this.removeDragSource(),this.removeMouseDownListener(),super.destroy()}removeDragSource(){this.dragSource&&(this.beans.dragAndDropService.removeDragSource(this.dragSource),this.dragSource=null)}removeMouseDownListener(){this.mouseDownListener&&(this.mouseDownListener(),this.mouseDownListener=void 0)}},dN=class extends re{constructor(e,t,i){super(),this.parent=e,this.rowNode=t,this.column=i}setDisplayedOrVisible(e){const t={skipAriaHidden:!0};if(e)this.parent.setDisplayed(!1,t);else{let i=!0,s=!1;this.column&&(i=this.column.isRowDrag(this.rowNode)||this.parent.isCustomGui(),s=RD(this.column.getColDef().rowDrag)),s?(this.parent.setDisplayed(!0,t),this.parent.setVisible(i,t)):(this.parent.setDisplayed(i,t),this.parent.setVisible(!0,t))}}},z7=class extends dN{constructor(e,t,i,s){super(e,i,s),this.beans=t}postConstruct(){this.addManagedPropertyListener("suppressRowDrag",this.onSuppressRowDrag.bind(this));const e=this.workOutVisibility.bind(this);this.addManagedListeners(this.rowNode,{dataChanged:e,cellChanged:e}),this.addManagedListeners(this.beans.eventService,{newColumnsLoaded:e}),this.workOutVisibility()}onSuppressRowDrag(){this.workOutVisibility()}workOutVisibility(){const e=this.gos.get("suppressRowDrag");this.setDisplayedOrVisible(e)}},B7=class extends dN{constructor(e,t,i,s){super(e,i,s),this.beans=t}postConstruct(){const e=this.workOutVisibility.bind(this);this.addManagedListeners(this.beans.eventService,{sortChanged:e,filterChanged:e,columnRowGroupChanged:e,newColumnsLoaded:e}),this.addManagedListeners(this.rowNode,{dataChanged:e,cellChanged:e}),this.addManagedPropertyListener("suppressRowDrag",this.onSuppressRowDrag.bind(this)),this.workOutVisibility()}onSuppressRowDrag(){this.workOutVisibility()}workOutVisibility(){const t=this.beans.ctrlsService.getGridBodyCtrl().getRowDragFeature(),i=t&&t.shouldPreventRowMove(),s=this.gos.get("suppressRowDrag"),n=this.beans.dragAndDropService.hasExternalDropZones(),r=i&&!n||s;this.setDisplayedOrVisible(r)}},G7=new Set(["localEventService","__objectId","sticky","__autoHeights","checkAutoHeightsDebounced"]),gf=class sl{constructor(t){this.rowIndex=null,this.key=null,this.sourceRowIndex=-1,this.childrenMapped={},this.treeNode=null,this.treeNodeFlags=0,this.displayed=!1,this.rowTop=null,this.oldRowTop=null,this.selectable=!0,this.__objectId=sl.OBJECT_ID_SEQUENCE++,this.__autoHeights={},this.alreadyRendered=!1,this.highlighted=null,this.hovered=!1,this.selected=!1,this.beans=t}setData(t){this.setDataCommon(t,!1)}updateData(t){this.setDataCommon(t,!0)}setDataCommon(t,i){var r;const s=this.data;this.data=t,this.beans.valueCache.onDataChanged(),this.updateDataOnDetailNode(),this.checkRowSelectable(),this.resetQuickFilterAggregateText();const n=this.createDataChangedEvent(t,s,i);(r=this.localEventService)==null||r.dispatchEvent(n)}updateDataOnDetailNode(){this.detailNode&&(this.detailNode.data=this.data)}createDataChangedEvent(t,i,s){return{type:"dataChanged",node:this,oldData:i,newData:t,update:s}}getRowIndexString(){return this.rowIndex==null?(at("Could not find rowIndex, this means tasks are being executed on a rowNode that has been removed from the grid."),null):this.rowPinned==="top"?sl.ID_PREFIX_TOP_PINNED+this.rowIndex:this.rowPinned==="bottom"?sl.ID_PREFIX_BOTTOM_PINNED+this.rowIndex:this.rowIndex.toString()}createDaemonNode(){const t=new sl(this.beans);return t.id=this.id,t.data=this.data,t.__daemon=!0,t.selected=this.selected,t.level=this.level,t}setDataAndId(t,i){var o;const s=ve(this.id)?this.createDaemonNode():null,n=this.data;this.data=t,this.updateDataOnDetailNode(),this.setId(i),this.checkRowSelectable(),this.beans.selectionService.syncInRowNode(this,s);const r=this.createDataChangedEvent(t,n,!1);(o=this.localEventService)==null||o.dispatchEvent(r)}checkRowSelectable(){const t=ED(this.beans.gos);this.setRowSelectable(t?t(this):!0)}setRowSelectable(t,i){if(this.selectable!==t){if(this.selectable=t,this.dispatchRowEvent("selectableChanged"),i)return;if(Kc(this.beans.gos)){const n=this.calculateSelectedFromChildren();this.setSelectedParams({newValue:n??!1,source:"selectableChanged"});return}this.isSelected()&&!this.selectable&&this.setSelectedParams({newValue:!1,source:"selectableChanged"})}}setId(t){var s;const i=oh(this.beans.gos);if(i)if(this.data){const n=((s=this.parent)==null?void 0:s.getRoute())??[];this.id=i({data:this.data,parentKeys:n.length>0?n:void 0,level:this.level,rowPinned:this.rowPinned}),this.id.startsWith(sl.ID_PREFIX_ROW_GROUP)&&at(`Row IDs cannot start with ${sl.ID_PREFIX_ROW_GROUP}, this is a reserved prefix for AG Grid's row grouping feature.`)}else this.id=void 0;else this.id=t}setRowTop(t){this.oldRowTop=this.rowTop,this.rowTop!==t&&(this.rowTop=t,this.dispatchRowEvent("topChanged"),this.setDisplayed(t!==null))}clearRowTopAndRowIndex(){this.oldRowTop=null,this.setRowTop(null),this.setRowIndex(null)}setHovered(t){this.hovered=t}isHovered(){return this.hovered}setMaster(t){this.master!==t&&(this.master&&!t&&(this.expanded=!1),this.master=t,this.dispatchRowEvent("masterChanged"))}setGroup(t){this.group!==t&&(this.group&&!t&&(this.expanded=!1),this.group=t,this.updateHasChildren(),this.checkRowSelectable(),this.dispatchRowEvent("groupChanged"))}setRowHeight(t,i=!1){this.rowHeight=t,this.rowHeightEstimated=i,this.dispatchRowEvent("heightChanged")}setRowAutoHeight(t,i){this.__autoHeights||(this.__autoHeights={}),this.__autoHeights[i.getId()]=t,t!=null&&(this.checkAutoHeightsDebounced==null&&(this.checkAutoHeightsDebounced=Hs(this.checkAutoHeights.bind(this),1)),this.checkAutoHeightsDebounced())}checkAutoHeights(){var a;let t=!1,i=!0,s=0;const n=this.__autoHeights;if(n==null||(this.beans.visibleColsService.getAllAutoHeightCols().forEach(l=>{let d=n[l.getId()];if(d==null)if(this.beans.columnModel.isColSpanActive()){let h=[];switch(l.getPinned()){case"left":h=this.beans.visibleColsService.getLeftColsForRow(this);break;case"right":h=this.beans.visibleColsService.getRightColsForRow(this);break;case null:h=this.beans.columnViewportService.getColsWithinViewport(this);break}if(h.includes(l)){t=!0;return}d=-1}else{t=!0;return}else i=!1;d>s&&(s=d)}),t)||((i||s<10)&&(s=Cl(this.beans.gos,this).height),s==this.rowHeight))return;this.setRowHeight(s);const o=this.beans.rowModel;(a=o.onRowHeightChangedDebounced)==null||a.call(o)}setExpanded(t,i,s){if(this.expanded===t)return;this.expanded=t,this.dispatchRowEvent("expandedChanged");const n={...this.createGlobalRowEvent("rowGroupOpened"),expanded:t,event:i||null};this.beans.rowNodeEventThrottle.dispatchExpanded(n,s),this.beans.rowRenderer.refreshCells({rowNodes:[this]})}createGlobalRowEvent(t){return this.beans.gos.addGridCommonParams({type:t,node:this,data:this.data,rowIndex:this.rowIndex,rowPinned:this.rowPinned})}setDataValue(t,i,s){const r=typeof t!="string"?t:this.beans.columnModel.getCol(t)??this.beans.columnModel.getColDefCol(t),o=this.beans.valueService.getValueForDisplay(r,this);if(this.beans.gos.get("readOnlyEdit"))return this.beans.eventService.dispatchEvent({type:"cellEditRequest",event:null,rowIndex:this.rowIndex,rowPinned:this.rowPinned,column:r,colDef:r.getColDef(),data:this.data,node:this,oldValue:o,newValue:i,value:i,source:s}),!1;const a=this.beans.valueService.setValue(this,r,i,s);return this.dispatchCellChangedEvent(r,i,o),this.checkRowSelectable(),a}setGroupValue(t,i){const s=this.beans.columnModel.getCol(t);rt(this.groupData)&&(this.groupData={});const n=s.getColId(),r=this.groupData[n];r!==i&&(this.groupData[n]=i,this.dispatchCellChangedEvent(s,i,r))}setAggData(t){const i=this.aggData;if(this.aggData=t,this.localEventService){const s=n=>{const r=this.aggData?this.aggData[n]:void 0,o=i?i[n]:void 0;if(r===o)return;const a=this.beans.columnModel.getCol(n);a&&this.dispatchCellChangedEvent(a,r,o)};for(const n in i)s(n);for(const n in t)(!i||!(n in i))&&s(n)}}updateHasChildren(){let t=this.group&&!this.footer||this.childrenAfterGroup&&this.childrenAfterGroup.length>0;if(wo(this.beans.gos)){const s=this.beans.gos.get("treeData"),n=this.beans.gos.get("isServerSideGroup");t=!this.stub&&!this.footer&&(s?!!n&&n(this.data):!!this.group)}t!==this.__hasChildren&&(this.__hasChildren=!!t,this.dispatchRowEvent("hasChildrenChanged"))}hasChildren(){return this.__hasChildren==null&&this.updateHasChildren(),this.__hasChildren}dispatchCellChangedEvent(t,i,s){var r;const n={type:"cellChanged",node:this,column:t,newValue:i,oldValue:s};(r=this.localEventService)==null||r.dispatchEvent(n)}resetQuickFilterAggregateText(){this.quickFilterAggregateText=null}isExpandable(){return this.footer?!1:this.beans.columnModel.isPivotMode()?this.hasChildren()&&!this.leafGroup:this.hasChildren()||!!this.master}isSelected(){return this.footer?this.sibling.isSelected():this.selected}depthFirstSearch(t){this.childrenAfterGroup&&this.childrenAfterGroup.forEach(i=>i.depthFirstSearch(t)),t(this)}calculateSelectedFromChildren(){var s;let t=!1,i=!1;if(!((s=this.childrenAfterGroup)!=null&&s.length))return this.selectable?this.selected:null;for(let n=0;n<this.childrenAfterGroup.length;n++){const r=this.childrenAfterGroup[n];let o=r.isSelected();if(!r.selectable){const a=r.calculateSelectedFromChildren();if(a===null)continue;o=a}switch(o){case!0:t=!0;break;case!1:i=!0;break;default:return}}if(!(t&&i))return t?!0:i?!1:this.selectable?this.selected:null}setSelectedInitialValue(t){this.selected=t}dispatchRowEvent(t){var i;(i=this.localEventService)==null||i.dispatchEvent({type:t,node:this})}selectThisNode(t,i,s="api"){const n=!this.selectable&&t,r=this.selected===t;if(n||r)return!1;this.selected=t,this.dispatchRowEvent("rowSelected");const o=this.sibling;return o&&o.footer&&o.localEventService&&o.dispatchRowEvent("rowSelected"),this.beans.eventService.dispatchEvent({...this.createGlobalRowEvent("rowSelected"),event:i||null,source:s}),!0}setSelected(t,i=!1,s="api"){if(typeof s=="boolean"){ae("since version v30, rowNode.setSelected() property `suppressFinishActions` has been removed, please use `gridApi.setNodesSelected()` for bulk actions, and the event `source` property for ignoring events instead.");return}this.setSelectedParams({newValue:t,clearSelection:i,rangeSelect:!1,source:s})}setSelectedParams(t){return this.rowPinned?(ae("cannot select pinned rows"),0):this.id===void 0?(ae("cannot select node until id for node is known"),0):this.beans.selectionService.setNodesSelected({...t,nodes:[this.footer?this.sibling:this]})}isRowPinned(){return!!this.rowPinned}addEventListener(t,i){var n;this.localEventService||(this.localEventService=new rh),this.beans.frameworkOverrides.shouldWrapOutgoing&&!this.frameworkEventListenerService&&(this.localEventService.setFrameworkOverrides(this.beans.frameworkOverrides),this.frameworkEventListenerService=new ID(this.beans.frameworkOverrides));const s=((n=this.frameworkEventListenerService)==null?void 0:n.wrap(i))??i;this.localEventService.addEventListener(t,s)}removeEventListener(t,i){var n;if(!this.localEventService)return;const s=((n=this.frameworkEventListenerService)==null?void 0:n.unwrap(i))??i;this.localEventService.removeEventListener(t,s),this.localEventService.noRegisteredListenersExist()&&(this.localEventService=null)}onMouseEnter(){this.dispatchRowEvent("mouseEnter")}onMouseLeave(){this.dispatchRowEvent("mouseLeave")}isFullWidthCell(){if(ae("since version v32.2.0, rowNode.isFullWidthCell() has been deprecated. Instead check `rowNode.detail` followed by the user provided `isFullWidthRow` grid option."),this.detail)return!0;const t=this.beans.gos.getCallback("isFullWidthRow");return t?t({rowNode:this}):!1}getRoute(){if(this.level===-1)return[];if(this.key==null)return;const t=[];let i=this;for(;i&&i.key!=null;)t.push(i.key),i=i.parent;return t.reverse()}createFooter(){if(this.sibling)return;const t=new sl(this.beans);Object.keys(this).forEach(i=>{G7.has(i)||(t[i]=this[i])}),t.footer=!0,t.setRowTop(null),t.setRowIndex(null),t.oldRowTop=null,t.id="rowGroupFooter_"+this.id,t.sibling=this,this.sibling=t}destroyFooter(){this.sibling&&(this.sibling.setRowTop(null),this.sibling.setRowIndex(null),this.sibling=void 0)}setFirstChild(t){this.firstChild!==t&&(this.firstChild=t,this.dispatchRowEvent("firstChildChanged"))}setLastChild(t){this.lastChild!==t&&(this.lastChild=t,this.dispatchRowEvent("lastChildChanged"))}setChildIndex(t){this.childIndex!==t&&(this.childIndex=t,this.dispatchRowEvent("childIndexChanged"))}setDisplayed(t){this.displayed!==t&&(this.displayed=t,this.dispatchRowEvent("displayedChanged"))}setDragging(t){this.dragging!==t&&(this.dragging=t,this.dispatchRowEvent("draggingChanged"))}setHighlighted(t){this.highlighted!==t&&(this.highlighted=t,this.dispatchRowEvent("rowHighlightChanged"))}setAllChildrenCount(t){this.allChildrenCount!==t&&(this.allChildrenCount=t,this.dispatchRowEvent("allChildrenCountChanged"))}setRowIndex(t){this.rowIndex!==t&&(this.rowIndex=t,this.dispatchRowEvent("rowIndexChanged"))}setUiLevel(t){this.uiLevel!==t&&(this.uiLevel=t,this.dispatchRowEvent("uiLevelChanged"))}};gf.ID_PREFIX_ROW_GROUP="row-group-";gf.ID_PREFIX_TOP_PINNED="t-";gf.ID_PREFIX_BOTTOM_PINNED="b-";gf.OBJECT_ID_SEQUENCE=0;var ta=gf,H7=class extends re{constructor(){super(...arguments),this.beanName="filterManager",this.advancedFilterModelUpdateQueue=[]}wireBeans(e){this.columnModel=e.columnModel,this.dataTypeService=e.dataTypeService,this.quickFilterService=e.quickFilterService,this.advancedFilterService=e.advancedFilterService,this.columnFilterService=e.columnFilterService}postConstruct(){const e=this.refreshFiltersForAggregations.bind(this),t=this.updateAdvancedFilterColumns.bind(this);this.addManagedEventListeners({columnValueChanged:e,columnPivotChanged:e,columnPivotModeChanged:e,newColumnsLoaded:t,columnVisible:t,advancedFilterEnabledChanged:({enabled:i})=>this.onAdvancedFilterEnabledChanged(i),dataTypesInferred:this.processFilterModelUpdateQueue.bind(this)}),this.externalFilterPresent=this.isExternalFilterPresentCallback(),this.addManagedPropertyListeners(["isExternalFilterPresent","doesExternalFilterPass"],()=>{this.onFilterChanged({source:"api"})}),this.updateAggFiltering(),this.addManagedPropertyListener("groupAggFiltering",()=>{this.updateAggFiltering(),this.onFilterChanged()}),this.addManagedPropertyListener("advancedFilterModel",i=>this.setAdvancedFilterModel(i.currentValue)),this.quickFilterService&&this.addManagedListeners(this.quickFilterService,{quickFilterChanged:()=>this.onFilterChanged({source:"quickFilter"})})}isExternalFilterPresentCallback(){const e=this.gos.getCallback("isExternalFilterPresent");return typeof e=="function"?e({}):!1}doesExternalFilterPass(e){const t=this.gos.get("doesExternalFilterPass");return typeof t=="function"?t(e):!1}setFilterModel(e,t="api"){var i;if(this.isAdvancedFilterEnabled()){this.warnAdvancedFilters();return}(i=this.columnFilterService)==null||i.setFilterModel(e,t)}getFilterModel(){var e;return((e=this.columnFilterService)==null?void 0:e.getFilterModel())??{}}isColumnFilterPresent(){var e;return!!((e=this.columnFilterService)!=null&&e.isColumnFilterPresent())}isAggregateFilterPresent(){var e;return!!((e=this.columnFilterService)!=null&&e.isAggregateFilterPresent())}isExternalFilterPresent(){return this.externalFilterPresent}isChildFilterPresent(){return this.isColumnFilterPresent()||this.isQuickFilterPresent()||this.isExternalFilterPresent()||this.isAdvancedFilterPresent()}isAdvancedFilterPresent(){return this.isAdvancedFilterEnabled()&&this.advancedFilterService.isFilterPresent()}onAdvancedFilterEnabledChanged(e){var t,i;e?(t=this.columnFilterService)!=null&&t.disableColumnFilters()&&this.onFilterChanged({source:"advancedFilter"}):(i=this.advancedFilterService)!=null&&i.isFilterPresent()&&(this.advancedFilterService.setModel(null),this.onFilterChanged({source:"advancedFilter"}))}isAdvancedFilterEnabled(){var e;return!!((e=this.advancedFilterService)!=null&&e.isEnabled())}isAdvancedFilterHeaderActive(){return this.isAdvancedFilterEnabled()&&this.advancedFilterService.isHeaderActive()}isAnyFilterPresent(){return this.isQuickFilterPresent()||this.isColumnFilterPresent()||this.isAggregateFilterPresent()||this.isExternalFilterPresent()||this.isAdvancedFilterPresent()}resetQuickFilterCache(){var e;(e=this.quickFilterService)==null||e.resetQuickFilterCache()}refreshFiltersForAggregations(){sM(this.gos)&&this.onFilterChanged()}onFilterChanged(e={}){const{source:t,additionalEventAttributes:i,columns:s=[]}=e;this.externalFilterPresent=this.isExternalFilterPresentCallback(),(this.columnFilterService?this.columnFilterService.updateBeforeFilterChanged(e):vi.resolve()).then(()=>{var r;const n={source:t,type:"filterChanged",columns:s};i&&zs(n,i),this.eventService.dispatchEvent(n),(r=this.columnFilterService)==null||r.updateAfterFilterChanged()})}isSuppressFlashingCellsBecauseFiltering(){var e;return!!((e=this.columnFilterService)!=null&&e.isSuppressFlashingCellsBecauseFiltering())}isQuickFilterPresent(){var e;return!!((e=this.quickFilterService)!=null&&e.isQuickFilterPresent())}updateAggFiltering(){this.aggFiltering=!!sM(this.gos)}isAggregateQuickFilterPresent(){return this.isQuickFilterPresent()&&this.shouldApplyQuickFilterAfterAgg()}isNonAggregateQuickFilterPresent(){return this.isQuickFilterPresent()&&!this.shouldApplyQuickFilterAfterAgg()}shouldApplyQuickFilterAfterAgg(){return(this.aggFiltering||this.columnModel.isPivotMode())&&!this.gos.get("applyQuickFilterBeforePivotOrAgg")}doesRowPassOtherFilters(e,t){return this.doesRowPassFilter({rowNode:t,filterInstanceToSkip:e})}doesRowPassAggregateFilters(e){return!(this.isAggregateQuickFilterPresent()&&!this.quickFilterService.doesRowPassQuickFilter(e.rowNode)||this.isAggregateFilterPresent()&&!this.columnFilterService.doAggregateFiltersPass(e.rowNode,e.filterInstanceToSkip))}doesRowPassFilter(e){return!(this.isNonAggregateQuickFilterPresent()&&!this.quickFilterService.doesRowPassQuickFilter(e.rowNode)||this.isExternalFilterPresent()&&!this.doesExternalFilterPass(e.rowNode)||this.isColumnFilterPresent()&&!this.columnFilterService.doColumnFiltersPass(e.rowNode,e.filterInstanceToSkip)||this.isAdvancedFilterPresent()&&!this.advancedFilterService.doesFilterPass(e.rowNode))}isFilterActive(e){var t;return!!((t=this.columnFilterService)!=null&&t.isFilterActive(e))}getOrCreateFilterWrapper(e){var t;return((t=this.columnFilterService)==null?void 0:t.getOrCreateFilterWrapper(e))??null}getDefaultFloatingFilter(e){return this.columnFilterService.getDefaultFloatingFilter(e)}createFilterParams(e,t){return this.columnFilterService.createFilterParams(e,t)}isFilterAllowed(e){var t;return this.isAdvancedFilterEnabled()?!1:!!((t=this.columnFilterService)!=null&&t.isFilterAllowed(e))}getFloatingFilterCompDetails(e,t){var i;return(i=this.columnFilterService)==null?void 0:i.getFloatingFilterCompDetails(e,t)}getCurrentFloatingFilterParentModel(e){var t;return(t=this.columnFilterService)==null?void 0:t.getCurrentFloatingFilterParentModel(e)}destroyFilter(e,t="api"){var i;(i=this.columnFilterService)==null||i.destroyFilter(e,t)}areFilterCompsDifferent(e,t){var i;return!!((i=this.columnFilterService)!=null&&i.areFilterCompsDifferent(e,t))}getAdvancedFilterModel(){return this.isAdvancedFilterEnabled()?this.advancedFilterService.getModel():null}setAdvancedFilterModel(e){var t;if(this.isAdvancedFilterEnabled()){if((t=this.dataTypeService)!=null&&t.isPendingInference()){this.advancedFilterModelUpdateQueue.push(e);return}this.advancedFilterService.setModel(e??null),this.onFilterChanged({source:"advancedFilter"})}}toggleAdvancedFilterBuilder(e,t){this.isAdvancedFilterEnabled()&&this.advancedFilterService.getCtrl().toggleFilterBuilder({source:t,force:e})}updateAdvancedFilterColumns(){this.isAdvancedFilterEnabled()&&this.advancedFilterService.updateValidity()&&this.onFilterChanged({source:"advancedFilter"})}hasFloatingFilters(){var e;return this.isAdvancedFilterEnabled()?!1:!!((e=this.columnFilterService)!=null&&e.hasFloatingFilters())}getFilterInstance(e,t){var i;if(this.isAdvancedFilterEnabled()){this.warnAdvancedFilters();return}return(i=this.columnFilterService)==null?void 0:i.getFilterInstance(e,t)}getColumnFilterInstance(e){var t;return this.isAdvancedFilterEnabled()?(this.warnAdvancedFilters(),Promise.resolve(void 0)):((t=this.columnFilterService)==null?void 0:t.getColumnFilterInstance(e))??Promise.resolve(void 0)}warnAdvancedFilters(){ae("Column Filter API methods have been disabled as Advanced Filters are enabled.")}setupAdvancedFilterHeaderComp(e){var t;(t=this.advancedFilterService)==null||t.getCtrl().setupHeaderComp(e)}getHeaderRowCount(){return this.isAdvancedFilterHeaderActive()?1:0}getHeaderHeight(){return this.isAdvancedFilterHeaderActive()?this.advancedFilterService.getCtrl().getHeaderHeight():0}processFilterModelUpdateQueue(){this.advancedFilterModelUpdateQueue.forEach(e=>this.setAdvancedFilterModel(e)),this.advancedFilterModelUpdateQueue=[]}getColumnFilterModel(e){var t;return(t=this.columnFilterService)==null?void 0:t.getColumnFilterModel(e)}setColumnFilterModel(e,t){var i;return this.isAdvancedFilterEnabled()?(this.warnAdvancedFilters(),Promise.resolve()):((i=this.columnFilterService)==null?void 0:i.setColumnFilterModel(e,t))??Promise.resolve()}setColDefPropertiesForDataType(e,t,i){var s;(s=this.columnFilterService)==null||s.setColDefPropertiesForDataType(e,t,i)}},j7=class extends Ht{constructor(e,t){super('<div class="ag-filter"></div>'),this.column=e,this.source=t,this.filterWrapper=null}wireBeans(e){this.filterManager=e.filterManager,this.columnModel=e.columnModel}postConstruct(){this.createFilter(!0),this.addManagedEventListeners({filterDestroyed:this.onFilterDestroyed.bind(this)})}hasFilter(){return!!this.filterWrapper}getFilter(){var e;return((e=this.filterWrapper)==null?void 0:e.filterPromise)??null}afterInit(){var e,t;return((t=(e=this.filterWrapper)==null?void 0:e.filterPromise)==null?void 0:t.then(()=>{}))??vi.resolve()}afterGuiAttached(e){var t,i;(i=(t=this.filterWrapper)==null?void 0:t.filterPromise)==null||i.then(s=>{var n;(n=s==null?void 0:s.afterGuiAttached)==null||n.call(s,e)})}afterGuiDetached(){var e,t;(t=(e=this.filterWrapper)==null?void 0:e.filterPromise)==null||t.then(i=>{var s;(s=i==null?void 0:i.afterGuiDetached)==null||s.call(i)})}createFilter(e){var s,n;const{column:t,source:i}=this;this.filterWrapper=((s=this.filterManager)==null?void 0:s.getOrCreateFilterWrapper(t))??null,(n=this.filterWrapper)!=null&&n.filterPromise&&this.filterWrapper.filterPromise.then(r=>{const o=r.getGui();ve(o)||ae(`getGui method from filter returned ${o}; it should be a DOM element.`),this.appendChild(o),e&&this.eventService.dispatchEvent({type:"filterOpened",column:t,source:i,eGui:this.getGui()})})}onFilterDestroyed(e){(e.source==="api"||e.source==="paramsUpdated")&&e.column.getId()===this.column.getId()&&this.columnModel.getColDefCol(this.column)&&(Rn(this.getGui()),this.createFilter())}destroy(){this.filterWrapper=null,super.destroy()}},hN="ag-resizer-wrapper",Qa=(e,t)=>`<div data-ref="${e}Resizer" class="ag-resizer ag-resizer-${t}"></div>`,V7=`<div class="${hN}">
        ${Qa("eTopLeft","topLeft")}
        ${Qa("eTop","top")}
        ${Qa("eTopRight","topRight")}
        ${Qa("eRight","right")}
        ${Qa("eBottomRight","bottomRight")}
        ${Qa("eBottom","bottom")}
        ${Qa("eBottomLeft","bottomLeft")}
        ${Qa("eLeft","left")}
    </div>`,_7=class extends re{constructor(e,t){super(),this.element=e,this.dragStartPosition={x:0,y:0},this.position={x:0,y:0},this.lastSize={width:-1,height:-1},this.positioned=!1,this.resizersAdded=!1,this.resizeListeners=[],this.boundaryEl=null,this.isResizing=!1,this.isMoving=!1,this.resizable={},this.movable=!1,this.currentResizer=null,this.config=Object.assign({},{popup:!1},t)}wireBeans(e){this.popupService=e.popupService,this.resizeObserverService=e.resizeObserverService,this.dragService=e.dragService}center(){const{clientHeight:e,clientWidth:t}=this.offsetParent,i=t/2-this.getWidth()/2,s=e/2-this.getHeight()/2;this.offsetElement(i,s)}initialisePosition(){if(this.positioned)return;const{centered:e,forcePopupParentAsOffsetParent:t,minWidth:i,width:s,minHeight:n,height:r,x:o,y:a}=this.config;this.offsetParent||this.setOffsetParent();let l=0,d=0;const h=ho(this.element);if(h){const p=this.findBoundaryElement(),f=window.getComputedStyle(p);if(f.minWidth!=null){const v=p.offsetWidth-this.element.offsetWidth;d=parseInt(f.minWidth,10)-v}if(f.minHeight!=null){const v=p.offsetHeight-this.element.offsetHeight;l=parseInt(f.minHeight,10)-v}}if(this.minHeight=n||l,this.minWidth=i||d,s&&this.setWidth(s),r&&this.setHeight(r),(!s||!r)&&this.refreshSize(),e)this.center();else if(o||a)this.offsetElement(o,a);else if(h&&t){let p=this.boundaryEl,f=!0;if(p||(p=this.findBoundaryElement(),f=!1),p){const v=parseFloat(p.style.top),y=parseFloat(p.style.left);f?this.offsetElement(isNaN(y)?0:y,isNaN(v)?0:v):this.setPosition(y,v)}}this.positioned=!!this.offsetParent}isPositioned(){return this.positioned}getPosition(){return this.position}setMovable(e,t){if(!this.config.popup||e===this.movable)return;this.movable=e;const i=this.moveElementDragListener||{eElement:t,onDragStart:this.onMoveStart.bind(this),onDragging:this.onMove.bind(this),onDragStop:this.onMoveEnd.bind(this)};e?(this.dragService.addDragSource(i),this.moveElementDragListener=i):(this.dragService.removeDragSource(i),this.moveElementDragListener=void 0)}setResizable(e){if(this.clearResizeListeners(),e?this.addResizers():this.removeResizers(),typeof e=="boolean"){if(e===!1)return;e={topLeft:e,top:e,topRight:e,right:e,bottomRight:e,bottom:e,bottomLeft:e,left:e}}Object.keys(e).forEach(t=>{const s=!!e[t],n=this.getResizerElement(t),r={dragStartPixels:0,eElement:n,onDragStart:o=>this.onResizeStart(o,t),onDragging:this.onResize.bind(this),onDragStop:o=>this.onResizeEnd(o,t)};(s||!this.isAlive()&&!s)&&(s?(this.dragService.addDragSource(r),this.resizeListeners.push(r),n.style.pointerEvents="all"):n.style.pointerEvents="none",this.resizable[t]=s)})}removeSizeFromEl(){this.element.style.removeProperty("height"),this.element.style.removeProperty("width"),this.element.style.removeProperty("flex")}restoreLastSize(){this.element.style.flex="0 0 auto";const{height:e,width:t}=this.lastSize;t!==-1&&(this.element.style.width=`${t}px`),e!==-1&&(this.element.style.height=`${e}px`)}getHeight(){return this.element.offsetHeight}setHeight(e){const{popup:t}=this.config,i=this.element;let s=!1;if(typeof e=="string"&&e.indexOf("%")!==-1)ap(i,e),e=XF(i),s=!0;else if(e=Math.max(this.minHeight,e),this.positioned){const n=this.getAvailableHeight();n&&e>n&&(e=n)}this.getHeight()!==e&&(s?(i.style.maxHeight="unset",i.style.minHeight="unset"):t?ap(i,e):(i.style.height=`${e}px`,i.style.flex="0 0 auto",this.lastSize.height=typeof e=="number"?e:parseFloat(e)))}getAvailableHeight(){const{popup:e,forcePopupParentAsOffsetParent:t}=this.config;this.positioned||this.initialisePosition();const{clientHeight:i}=this.offsetParent;if(!i)return null;const s=this.element.getBoundingClientRect(),n=this.offsetParent.getBoundingClientRect(),r=e?this.position.y:s.top,o=e?0:n.top;let a=0;if(t){const d=this.element.parentElement;if(d){const{bottom:h}=d.getBoundingClientRect();a=h-s.bottom}}return i+o-r-a}getWidth(){return this.element.offsetWidth}setWidth(e){const t=this.element,{popup:i}=this.config;let s=!1;if(typeof e=="string"&&e.indexOf("%")!==-1)Ar(t,e),e=xy(t),s=!0;else if(this.positioned){e=Math.max(this.minWidth,e);const{clientWidth:n}=this.offsetParent,r=i?this.position.x:this.element.getBoundingClientRect().left;n&&e+r>n&&(e=n-r)}this.getWidth()!==e&&(s?(t.style.maxWidth="unset",t.style.minWidth="unset"):this.config.popup?Ar(t,e):(t.style.width=`${e}px`,t.style.flex=" unset",this.lastSize.width=typeof e=="number"?e:parseFloat(e)))}offsetElement(e=0,t=0){const{forcePopupParentAsOffsetParent:i}=this.config,s=i?this.boundaryEl:this.element;s&&(this.popupService.positionPopup({ePopup:s,keepWithinBounds:!0,skipObserver:this.movable||this.isResizable(),updatePosition:()=>({x:e,y:t})}),this.setPosition(parseFloat(s.style.left),parseFloat(s.style.top)))}constrainSizeToAvailableHeight(e){if(!this.config.forcePopupParentAsOffsetParent)return;const t=()=>{const i=this.getAvailableHeight();this.element.style.setProperty("max-height",`${i}px`)};e?this.resizeObserverSubscriber=this.resizeObserverService.observeResize(this.popupService.getPopupParent(),t):(this.element.style.removeProperty("max-height"),this.resizeObserverSubscriber&&(this.resizeObserverSubscriber(),this.resizeObserverSubscriber=void 0))}setPosition(e,t){this.position.x=e,this.position.y=t}updateDragStartPosition(e,t){this.dragStartPosition={x:e,y:t}}calculateMouseMovement(e){const{e:t,isLeft:i,isTop:s,anywhereWithin:n,topBuffer:r}=e,o=t.clientX-this.dragStartPosition.x,a=t.clientY-this.dragStartPosition.y,l=this.shouldSkipX(t,!!i,!!n,o)?0:o,d=this.shouldSkipY(t,!!s,r,a)?0:a;return{movementX:l,movementY:d}}shouldSkipX(e,t,i,s){const n=this.element.getBoundingClientRect(),r=this.offsetParent.getBoundingClientRect(),o=this.boundaryEl.getBoundingClientRect(),a=this.config.popup?this.position.x:n.left;let l=a<=0&&r.left>=e.clientX||r.right<=e.clientX&&r.right<=o.right;return l?!0:(t?l=s<0&&e.clientX>a+r.left||s>0&&e.clientX<a+r.left:i?l=s<0&&e.clientX>o.right||s>0&&e.clientX<a+r.left:l=s<0&&e.clientX>o.right||s>0&&e.clientX<o.right,l)}shouldSkipY(e,t,i=0,s){const n=this.element.getBoundingClientRect(),r=this.offsetParent.getBoundingClientRect(),o=this.boundaryEl.getBoundingClientRect(),a=this.config.popup?this.position.y:n.top;let l=a<=0&&r.top>=e.clientY||r.bottom<=e.clientY&&r.bottom<=o.bottom;return l?!0:(t?l=s<0&&e.clientY>a+r.top+i||s>0&&e.clientY<a+r.top:l=s<0&&e.clientY>o.bottom||s>0&&e.clientY<o.bottom,l)}createResizeMap(){const e=this.element;this.resizerMap={topLeft:{element:e.querySelector("[data-ref=eTopLeftResizer]")},top:{element:e.querySelector("[data-ref=eTopResizer]")},topRight:{element:e.querySelector("[data-ref=eTopRightResizer]")},right:{element:e.querySelector("[data-ref=eRightResizer]")},bottomRight:{element:e.querySelector("[data-ref=eBottomRightResizer]")},bottom:{element:e.querySelector("[data-ref=eBottomResizer]")},bottomLeft:{element:e.querySelector("[data-ref=eBottomLeftResizer]")},left:{element:e.querySelector("[data-ref=eLeftResizer]")}}}addResizers(){if(this.resizersAdded)return;const e=this.element;if(!e)return;const i=new DOMParser().parseFromString(V7,"text/html").body;e.appendChild(i.firstChild),this.createResizeMap(),this.resizersAdded=!0}removeResizers(){this.resizerMap=void 0;const e=this.element.querySelector(`.${hN}`);e&&this.element.removeChild(e),this.resizersAdded=!1}getResizerElement(e){return this.resizerMap[e].element}onResizeStart(e,t){this.boundaryEl=this.findBoundaryElement(),this.positioned||this.initialisePosition(),this.currentResizer={isTop:!!t.match(/top/i),isRight:!!t.match(/right/i),isBottom:!!t.match(/bottom/i),isLeft:!!t.match(/left/i)},this.element.classList.add("ag-resizing"),this.resizerMap[t].element.classList.add("ag-active");const{popup:i,forcePopupParentAsOffsetParent:s}=this.config;!i&&!s&&this.applySizeToSiblings(this.currentResizer.isBottom||this.currentResizer.isTop),this.isResizing=!0,this.updateDragStartPosition(e.clientX,e.clientY)}getSiblings(){const t=this.element.parentElement;return t?Array.prototype.slice.call(t.children).filter(i=>!i.classList.contains("ag-hidden")):null}getMinSizeOfSiblings(){const e=this.getSiblings()||[];let t=0,i=0;for(let s=0;s<e.length;s++){const n=e[s],r=!!n.style.flex&&n.style.flex!=="0 0 auto";if(n===this.element)continue;let o=this.minHeight||0,a=this.minWidth||0;if(r){const l=window.getComputedStyle(n);l.minHeight&&(o=parseInt(l.minHeight,10)),l.minWidth&&(a=parseInt(l.minWidth,10))}else o=n.offsetHeight,a=n.offsetWidth;t+=o,i+=a}return{height:t,width:i}}applySizeToSiblings(e){let t=null;const i=this.getSiblings();if(i){for(let s=0;s<i.length;s++){const n=i[s];n!==t&&(e?n.style.height=`${n.offsetHeight}px`:n.style.width=`${n.offsetWidth}px`,n.style.flex="0 0 auto",n===this.element&&(t=i[s+1]))}t&&(t.style.removeProperty("height"),t.style.removeProperty("min-height"),t.style.removeProperty("max-height"),t.style.flex="1 1 auto")}}isResizable(){return Object.values(this.resizable).some(e=>e)}onResize(e){if(!this.isResizing||!this.currentResizer)return;const{popup:t,forcePopupParentAsOffsetParent:i}=this.config,{isTop:s,isRight:n,isBottom:r,isLeft:o}=this.currentResizer,a=n||o,l=r||s,{movementX:d,movementY:h}=this.calculateMouseMovement({e,isLeft:o,isTop:s}),p=this.position.x,f=this.position.y;let v=0,y=0;if(a&&d){const S=o?-1:1,w=this.getWidth(),b=w+d*S;let x=!1;o&&(v=w-b,(p+v<=0||b<=this.minWidth)&&(x=!0,v=0)),x||this.setWidth(b)}if(l&&h){const S=s?-1:1,w=this.getHeight(),b=w+h*S;let x=!1;s?(y=w-b,(f+y<=0||b<=this.minHeight)&&(x=!0,y=0)):!this.config.popup&&!this.config.forcePopupParentAsOffsetParent&&w<b&&this.getMinSizeOfSiblings().height+b>this.element.parentElement.offsetHeight&&(x=!0),x||this.setHeight(b)}this.updateDragStartPosition(e.clientX,e.clientY),((t||i)&&v||y)&&this.offsetElement(p+v,f+y)}onResizeEnd(e,t){this.isResizing=!1,this.currentResizer=null,this.boundaryEl=null,this.element.classList.remove("ag-resizing"),this.resizerMap[t].element.classList.remove("ag-active"),this.dispatchLocalEvent({type:"resize"})}refreshSize(){const e=this.element;this.config.popup&&(this.config.width||this.setWidth(e.offsetWidth),this.config.height||this.setHeight(e.offsetHeight))}onMoveStart(e){this.boundaryEl=this.findBoundaryElement(),this.positioned||this.initialisePosition(),this.isMoving=!0,this.element.classList.add("ag-moving"),this.updateDragStartPosition(e.clientX,e.clientY)}onMove(e){if(!this.isMoving)return;const{x:t,y:i}=this.position;let s;this.config.calculateTopBuffer&&(s=this.config.calculateTopBuffer());const{movementX:n,movementY:r}=this.calculateMouseMovement({e,isTop:!0,anywhereWithin:!0,topBuffer:s});this.offsetElement(t+n,i+r),this.updateDragStartPosition(e.clientX,e.clientY)}onMoveEnd(){this.isMoving=!1,this.boundaryEl=null,this.element.classList.remove("ag-moving")}setOffsetParent(){this.config.forcePopupParentAsOffsetParent?this.offsetParent=this.popupService.getPopupParent():this.offsetParent=this.element.offsetParent}findBoundaryElement(){let e=this.element;for(;e;){if(window.getComputedStyle(e).position!=="static")return e;e=e.parentElement}return this.element}clearResizeListeners(){for(;this.resizeListeners.length;){const e=this.resizeListeners.pop();this.dragService.removeDragSource(e)}}destroy(){super.destroy(),this.moveElementDragListener&&this.dragService.removeDragSource(this.moveElementDragListener),this.constrainSizeToAvailableHeight(!1),this.clearResizeListeners(),this.removeResizers()}},gN=class pN extends re{constructor(t,i={}){super(),this.eFocusableElement=t,this.callbacks=i,this.callbacks={shouldStopEventPropagation:()=>!1,onTabKeyDown:s=>{if(s.defaultPrevented)return;const n=this.focusService.findNextFocusableElement(this.eFocusableElement,!1,s.shiftKey);n&&(n.focus(),s.preventDefault())},...i}}wireBeans(t){this.focusService=t.focusService}postConstruct(){this.eFocusableElement.classList.add(pN.FOCUS_MANAGED_CLASS),this.addKeyDownListeners(this.eFocusableElement),this.callbacks.onFocusIn&&this.addManagedElementListeners(this.eFocusableElement,{focusin:this.callbacks.onFocusIn}),this.callbacks.onFocusOut&&this.addManagedElementListeners(this.eFocusableElement,{focusout:this.callbacks.onFocusOut})}addKeyDownListeners(t){this.addManagedElementListeners(t,{keydown:i=>{if(!(i.defaultPrevented||ea(i))){if(this.callbacks.shouldStopEventPropagation(i)){Vd(i);return}i.key===te.TAB?this.callbacks.onTabKeyDown(i):this.callbacks.handleKeyDown&&this.callbacks.handleKeyDown(i)}}})}};gN.FOCUS_MANAGED_CLASS="ag-focus-managed";var nu=gN,fN={applyFilter:"Apply",clearFilter:"Clear",resetFilter:"Reset",cancelFilter:"Cancel",textFilter:"Text Filter",numberFilter:"Number Filter",dateFilter:"Date Filter",setFilter:"Set Filter",filterOoo:"Filter...",empty:"Choose one",equals:"Equals",notEqual:"Does not equal",lessThan:"Less than",greaterThan:"Greater than",inRange:"Between",inRangeStart:"From",inRangeEnd:"To",lessThanOrEqual:"Less than or equal to",greaterThanOrEqual:"Greater than or equal to",contains:"Contains",notContains:"Does not contain",startsWith:"Begins with",endsWith:"Ends with",blank:"Blank",notBlank:"Not blank",before:"Before",after:"After",andCondition:"AND",orCondition:"OR",dateFormatOoo:"yyyy-mm-dd"};function WD(e,t){return Ay(e)?(e.debounceMs!=null&&ae("debounceMs is ignored when apply button is present"),0):e.debounceMs!=null?e.debounceMs:t}function Ay(e){return!!e.buttons&&e.buttons.indexOf("apply")>=0}var W7=class extends Ht{constructor(e){super(),this.filterNameKey=e,this.applyActive=!1,this.hidePopup=null,this.debouncePending=!1,this.appliedModel=null,this.eFilterBody=Ie,this.buttonListeners=[]}wireBeans(e){this.rowModel=e.rowModel}postConstruct(){this.resetTemplate(),this.createManagedBean(new nu(this.getFocusableElement(),{handleKeyDown:this.handleKeyDown.bind(this)})),this.positionableFeature=new _7(this.getPositionableElement(),{forcePopupParentAsOffsetParent:!0}),this.createBean(this.positionableFeature)}handleKeyDown(e){}getFilterTitle(){return this.translate(this.filterNameKey)}isFilterActive(){return!!this.appliedModel}resetTemplate(e){let t=this.getGui();t&&t.removeEventListener("submit",this.onFormSubmit);const i=`
            <form class="ag-filter-wrapper">
                <div class="ag-filter-body-wrapper ag-${this.getCssIdentifier()}-body-wrapper" data-ref="eFilterBody">
                    ${this.createBodyTemplate()}
                </div>
            </form>`;this.setTemplate(i,this.getAgComponents(),e),t=this.getGui(),t&&t.addEventListener("submit",this.onFormSubmit)}isReadOnly(){return!!this.providedFilterParams.readOnly}init(e){this.setParams(e),this.resetUiToDefaults(!0).then(()=>{this.updateUiVisibility(),this.setupOnBtApplyDebounce()})}setParams(e){this.providedFilterParams=e,this.applyActive=Ay(e),this.resetButtonsPanel(e)}updateParams(e){this.providedFilterParams=e,this.applyActive=Ay(e),this.resetUiToActiveModel(this.getModel(),()=>{this.updateUiVisibility(),this.setupOnBtApplyDebounce()})}resetButtonsPanel(e,t){const{buttons:i,readOnly:s}=t??{},{buttons:n,readOnly:r}=e;if(s===r&&Dp(i,n))return;const o=n&&n.length>0&&!this.isReadOnly();if(this.eButtonsPanel?(Rn(this.eButtonsPanel),this.buttonListeners.forEach(d=>d()),this.buttonListeners=[]):o&&(this.eButtonsPanel=document.createElement("div"),this.eButtonsPanel.classList.add("ag-filter-apply-panel")),!o){this.eButtonsPanel&&qc(this.eButtonsPanel);return}const a=document.createDocumentFragment(),l=d=>{let h,p;switch(d){case"apply":h=this.translate("applyFilter"),p=y=>this.onBtApply(!1,!1,y);break;case"clear":h=this.translate("clearFilter"),p=()=>this.onBtClear();break;case"reset":h=this.translate("resetFilter"),p=()=>this.onBtReset();break;case"cancel":h=this.translate("cancelFilter"),p=y=>{this.onBtCancel(y)};break;default:ae("Unknown button type specified");return}const v=kp(`<button
                    type="${d==="apply"?"submit":"button"}"
                    data-ref="${d}FilterButton"
                    class="ag-button ag-standard-button ag-filter-apply-panel-button"
                >${h}
                </button>`);this.buttonListeners.push(...this.addManagedElementListeners(v,{click:p})),a.append(v)};n.forEach(d=>l(d)),this.eButtonsPanel.append(a),this.getGui().appendChild(this.eButtonsPanel)}getDefaultDebounceMs(){return 0}setupOnBtApplyDebounce(){const e=WD(this.providedFilterParams,this.getDefaultDebounceMs()),t=Hs(this.checkApplyDebounce.bind(this),e);this.onBtApplyDebounce=()=>{this.debouncePending=!0,t()}}checkApplyDebounce(){this.debouncePending&&(this.debouncePending=!1,this.onBtApply())}getModel(){return this.appliedModel?this.appliedModel:null}setModel(e){return(e!=null?this.setModelIntoUi(e):this.resetUiToDefaults()).then(()=>{this.updateUiVisibility(),this.applyModel("api")})}onBtCancel(e){this.resetUiToActiveModel(this.getModel(),()=>{this.handleCancelEnd(e)})}handleCancelEnd(e){this.providedFilterParams.closeOnApply&&this.close(e)}resetUiToActiveModel(e,t){const i=()=>{this.onUiChanged(!1,"prevent"),t==null||t()};e!=null?this.setModelIntoUi(e).then(i):this.resetUiToDefaults().then(i)}onBtClear(){this.resetUiToDefaults().then(()=>this.onUiChanged())}onBtReset(){this.onBtClear(),this.onBtApply()}applyModel(e="api"){const t=this.getModelFromUi();if(!this.isModelValid(t))return!1;const i=this.appliedModel;return this.appliedModel=t,!this.areModelsEqual(i,t)}isModelValid(e){return!0}onFormSubmit(e){e.preventDefault()}onBtApply(e=!1,t=!1,i){i&&i.preventDefault(),this.applyModel(t?"rowDataUpdated":"ui")&&this.providedFilterParams.filterChangedCallback({afterFloatingFilter:e,afterDataChange:t,source:"columnFilter"});const{closeOnApply:s}=this.providedFilterParams;s&&this.applyActive&&!e&&!t&&this.close(i)}onNewRowsLoaded(){}close(e){if(!this.hidePopup)return;const t=e,i=t&&t.key;let s;(i==="Enter"||i==="Space")&&(s={keyboardEvent:t}),this.hidePopup(s),this.hidePopup=null}onUiChanged(e=!1,t){if(this.updateUiVisibility(),this.providedFilterParams.filterModifiedCallback(),this.applyActive&&!this.isReadOnly()){const i=this.isModelValid(this.getModelFromUi()),s=this.queryForHtmlElement('[data-ref="applyFilterButton"]');s&&Lp(s,!i)}e&&!t||t==="immediately"?this.onBtApply(e):(!this.applyActive&&!t||t==="debounce")&&this.onBtApplyDebounce()}afterGuiAttached(e){e&&(this.hidePopup=e.hidePopup),this.refreshFilterResizer(e==null?void 0:e.container)}refreshFilterResizer(e){if(!this.positionableFeature||e==="toolPanel")return;const t=e==="floatingFilter"||e==="columnFilter",{positionableFeature:i,gos:s}=this;t?(i.restoreLastSize(),i.setResizable(s.get("enableRtl")?{bottom:!0,bottomLeft:!0,left:!0}:{bottom:!0,bottomRight:!0,right:!0})):(this.positionableFeature.removeSizeFromEl(),this.positionableFeature.setResizable(!1)),this.positionableFeature.constrainSizeToAvailableHeight(!0)}afterGuiDetached(){this.checkApplyDebounce(),this.positionableFeature&&this.positionableFeature.constrainSizeToAvailableHeight(!1)}refresh(e){const t=this.providedFilterParams;return this.providedFilterParams=e,this.resetButtonsPanel(e,t),!0}destroy(){const e=this.getGui();e&&e.removeEventListener("submit",this.onFormSubmit),this.hidePopup=null,this.positionableFeature&&(this.positionableFeature=this.destroyBean(this.positionableFeature)),this.appliedModel=null,super.destroy()}translate(e){return this.localeService.getLocaleTextFunc()(e,fN[e])}getCellValue(e){return this.providedFilterParams.getValue(e)}getPositionableElement(){return this.eFilterBody}},U7=class extends jD{constructor(e){super(e,"ag-radio-button","radio")}isSelected(){return this.eInput.checked}toggle(){this.eInput.disabled||this.isSelected()||this.setValue(!0)}addInputListeners(){super.addInputListeners(),this.addManagedEventListeners({checkboxChanged:this.onChange.bind(this)})}onChange(e){e.selected&&e.name&&this.eInput.name&&this.eInput.name===e.name&&e.id&&this.eInput.id!==e.id&&this.setValue(!1,!0)}},$7=class extends Ht{constructor(e="default",t=!1){super(`<div class="ag-list ag-${e}-list" role="listbox"></div>`),this.cssIdentifier=e,this.unFocusable=t,this.activeClass="ag-active-item",this.options=[],this.itemEls=[]}postConstruct(){const e=this.getGui();this.addManagedElementListeners(e,{mouseleave:()=>this.clearHighlighted()}),!this.unFocusable&&this.addManagedElementListeners(e,{keydown:this.handleKeyDown.bind(this)})}handleKeyDown(e){const t=e.key;switch(t){case te.ENTER:if(!this.highlightedEl)this.setValue(this.getValue());else{const i=this.itemEls.indexOf(this.highlightedEl);this.setValueByIndex(i)}break;case te.DOWN:case te.UP:e.preventDefault(),this.navigate(t);break;case te.PAGE_DOWN:case te.PAGE_UP:case te.PAGE_HOME:case te.PAGE_END:e.preventDefault(),this.navigateToPage(t);break}}navigate(e){const t=e===te.DOWN;let i;if(!this.highlightedEl)i=this.itemEls[t?0:this.itemEls.length-1];else{let n=this.itemEls.indexOf(this.highlightedEl)+(t?1:-1);n=Math.min(Math.max(n,0),this.itemEls.length-1),i=this.itemEls[n]}this.highlightItem(i)}navigateToPage(e){if(!this.highlightedEl||this.itemEls.length===0)return;const t=this.itemEls.indexOf(this.highlightedEl),i=this.options.length-1,s=this.itemEls[0].clientHeight,n=Math.floor(this.getGui().clientHeight/s);let r=-1;e===te.PAGE_HOME?r=0:e===te.PAGE_END?r=i:e===te.PAGE_DOWN?r=Math.min(t+n,i):e===te.PAGE_UP&&(r=Math.max(t-n,0)),r!==-1&&this.highlightItem(this.itemEls[r])}addOptions(e){return e.forEach(t=>this.addOption(t)),this}addOption(e){const{value:t,text:i}=e,s=i||t;return this.options.push({value:t,text:s}),this.renderOption(t,s),this.updateIndices(),this}clearOptions(){this.options=[],this.reset(!0),this.itemEls.forEach(e=>{qc(e)}),this.itemEls=[]}updateIndices(){const e=this.getGui().querySelectorAll(".ag-list-item");e.forEach((t,i)=>{M8(t,i+1),x8(t,e.length)})}renderOption(e,t){const i=yi(this.gos),s=i.createElement("div");Or(s,"option"),s.classList.add("ag-list-item",`ag-${this.cssIdentifier}-list-item`);const n=i.createElement("span");s.appendChild(n),n.textContent=t,this.unFocusable||(s.tabIndex=-1),this.itemEls.push(s),this.addManagedListeners(s,{mouseover:()=>this.highlightItem(s),mousedown:r=>{r.preventDefault(),r.stopPropagation(),this.setValue(e)}}),this.createManagedBean(new lh({getTooltipValue:()=>t,getGui:()=>s,getLocation:()=>"UNKNOWN",shouldDisplayTooltip:()=>n.scrollWidth>n.clientWidth})),this.getGui().appendChild(s)}setValue(e,t){if(this.value===e)return this.fireItemSelected(),this;if(e==null)return this.reset(t),this;const i=this.options.findIndex(s=>s.value===e);if(i!==-1){const s=this.options[i];this.value=s.value,this.displayValue=s.text,this.highlightItem(this.itemEls[i]),t||this.fireChangeEvent()}return this}setValueByIndex(e){return this.setValue(this.options[e].value)}getValue(){return this.value}getDisplayValue(){return this.displayValue}refreshHighlighted(){this.clearHighlighted();const e=this.options.findIndex(t=>t.value===this.value);e!==-1&&this.highlightItem(this.itemEls[e])}reset(e){this.value=null,this.displayValue=null,this.clearHighlighted(),e||this.fireChangeEvent()}highlightItem(e){if(!ho(e))return;this.clearHighlighted(),this.highlightedEl=e,this.highlightedEl.classList.add(this.activeClass),wy(this.highlightedEl,!0);const t=this.getGui(),{scrollTop:i,clientHeight:s}=t,{offsetTop:n,offsetHeight:r}=e;(n+r>i+s||n<i)&&this.highlightedEl.scrollIntoView({block:"nearest"}),this.unFocusable||this.highlightedEl.focus()}clearHighlighted(){!this.highlightedEl||!ho(this.highlightedEl)||(this.highlightedEl.classList.remove(this.activeClass),wy(this.highlightedEl,!1),this.highlightedEl=null)}fireChangeEvent(){this.dispatchLocalEvent({type:"fieldValueChanged"}),this.fireItemSelected()}fireItemSelected(){this.dispatchLocalEvent({type:"selectedItem"})}},Y7=class extends rN{constructor(e){if(super(e,(e==null?void 0:e.template)||`
            <div class="ag-picker-field" role="presentation">
                <div data-ref="eLabel"></div>
                <div data-ref="eWrapper" class="ag-wrapper ag-picker-field-wrapper ag-picker-collapsed">
                    <div data-ref="eDisplayField" class="ag-picker-field-display"></div>
                    <div data-ref="eIcon" class="ag-picker-field-icon" aria-hidden="true"></div>
                </div>
            </div>`,(e==null?void 0:e.agComponents)||[],e==null?void 0:e.className),this.isPickerDisplayed=!1,this.skipClick=!1,this.pickerGap=4,this.hideCurrentPicker=null,this.eLabel=Ie,this.eWrapper=Ie,this.eDisplayField=Ie,this.eIcon=Ie,this.ariaRole=e==null?void 0:e.ariaRole,this.onPickerFocusIn=this.onPickerFocusIn.bind(this),this.onPickerFocusOut=this.onPickerFocusOut.bind(this),!e)return;const{pickerGap:t,maxPickerHeight:i,variableWidth:s,minPickerWidth:n,maxPickerWidth:r}=e;t!=null&&(this.pickerGap=t),this.variableWidth=!!s,i!=null&&this.setPickerMaxHeight(i),n!=null&&this.setPickerMinWidth(n),r!=null&&this.setPickerMaxWidth(r)}wireBeans(e){this.popupService=e.popupService}postConstruct(){super.postConstruct(),this.setupAria();const e=`ag-${this.getCompId()}-display`;this.eDisplayField.setAttribute("id",e);const t=this.getAriaElement();this.addManagedElementListeners(t,{keydown:this.onKeyDown.bind(this)}),this.addManagedElementListeners(this.eLabel,{mousedown:this.onLabelOrWrapperMouseDown.bind(this)}),this.addManagedElementListeners(this.eWrapper,{mousedown:this.onLabelOrWrapperMouseDown.bind(this)});const{pickerIcon:i,inputWidth:s}=this.config;if(i){const n=bn(i,this.gos);n&&this.eIcon.appendChild(n)}s!=null&&this.setInputWidth(s)}setupAria(){const e=this.getAriaElement();e.setAttribute("tabindex",this.gos.get("tabIndex").toString()),Sy(e,!1),this.ariaRole&&Or(e,this.ariaRole)}onLabelOrWrapperMouseDown(e){if(e){const t=this.getFocusableElement();if(t!==this.eWrapper&&(e==null?void 0:e.target)===t)return;e.preventDefault(),this.getFocusableElement().focus()}if(this.skipClick){this.skipClick=!1;return}this.isDisabled()||(this.isPickerDisplayed?this.hidePicker():this.showPicker())}onKeyDown(e){switch(e.key){case te.UP:case te.DOWN:case te.ENTER:case te.SPACE:e.preventDefault(),this.onLabelOrWrapperMouseDown();break;case te.ESCAPE:this.isPickerDisplayed&&(e.preventDefault(),e.stopPropagation(),this.hideCurrentPicker&&this.hideCurrentPicker());break}}showPicker(){this.isPickerDisplayed=!0,this.pickerComponent||(this.pickerComponent=this.createPickerComponent());const e=this.pickerComponent.getGui();e.addEventListener("focusin",this.onPickerFocusIn),e.addEventListener("focusout",this.onPickerFocusOut),this.hideCurrentPicker=this.renderAndPositionPicker(),this.toggleExpandedStyles(!0)}renderAndPositionPicker(){const e=this.pickerComponent.getGui();this.gos.get("suppressScrollWhenPopupsAreOpen")||([this.destroyMouseWheelFunc]=this.addManagedEventListeners({bodyScroll:()=>{this.hidePicker()}}));const t=this.localeService.getLocaleTextFunc(),{pickerAriaLabelKey:i,pickerAriaLabelValue:s,modalPicker:n=!0}=this.config,r={modal:n,eChild:e,closeOnEsc:!0,closedCallback:()=>{const f=MF(this.gos);this.beforeHidePicker(),f&&this.isAlive()&&this.getFocusableElement().focus()},ariaLabel:t(i,s),anchorToElement:this.eWrapper};e.style.position="absolute";const o=this.popupService.addPopup(r),{maxPickerHeight:a,minPickerWidth:l,maxPickerWidth:d,variableWidth:h}=this;h?(l&&(e.style.minWidth=l),e.style.width=BD(xy(this.eWrapper)),d&&(e.style.maxWidth=d)):Ey(e,d??xy(this.eWrapper));const p=a??`${zD(this.popupService.getPopupParent())}px`;return e.style.setProperty("max-height",p),this.alignPickerToComponent(),o.hideFunc}alignPickerToComponent(){if(!this.pickerComponent)return;const{pickerType:e}=this.config,{pickerGap:t}=this,i=this.gos.get("enableRtl")?"right":"left";this.popupService.positionPopupByComponent({type:e,eventSource:this.eWrapper,ePopup:this.pickerComponent.getGui(),position:"under",alignSide:i,keepWithinBounds:!0,nudgeY:t})}beforeHidePicker(){this.destroyMouseWheelFunc&&(this.destroyMouseWheelFunc(),this.destroyMouseWheelFunc=void 0),this.toggleExpandedStyles(!1);const e=this.pickerComponent.getGui();e.removeEventListener("focusin",this.onPickerFocusIn),e.removeEventListener("focusout",this.onPickerFocusOut),this.isPickerDisplayed=!1,this.pickerComponent=void 0,this.hideCurrentPicker=null}toggleExpandedStyles(e){if(!this.isAlive())return;const t=this.getAriaElement();Sy(t,e),this.eWrapper.classList.toggle("ag-picker-expanded",e),this.eWrapper.classList.toggle("ag-picker-collapsed",!e)}onPickerFocusIn(){this.togglePickerHasFocus(!0)}onPickerFocusOut(e){var t;(t=this.pickerComponent)!=null&&t.getGui().contains(e.relatedTarget)||this.togglePickerHasFocus(!1)}togglePickerHasFocus(e){this.pickerComponent&&this.eWrapper.classList.toggle("ag-picker-has-focus",e)}hidePicker(){this.hideCurrentPicker&&this.hideCurrentPicker()}setInputWidth(e){return Ey(this.eWrapper,e),this}getFocusableElement(){return this.eWrapper}setPickerGap(e){return this.pickerGap=e,this}setPickerMinWidth(e){return typeof e=="number"&&(e=`${e}px`),this.minPickerWidth=e??void 0,this}setPickerMaxWidth(e){return typeof e=="number"&&(e=`${e}px`),this.maxPickerWidth=e??void 0,this}setPickerMaxHeight(e){return typeof e=="number"&&(e=`${e}px`),this.maxPickerHeight=e??void 0,this}destroy(){this.hidePicker(),super.destroy()}},UD=class extends Y7{constructor(e){super({pickerAriaLabelKey:"ariaLabelSelectField",pickerAriaLabelValue:"Select Field",pickerType:"ag-list",className:"ag-select",pickerIcon:"smallDown",ariaRole:"combobox",...e})}postConstruct(){super.postConstruct(),this.createListComponent(),this.eWrapper.tabIndex=this.gos.get("tabIndex");const{options:e,value:t,placeholder:i}=this.config;e!=null&&this.addOptions(e),t!=null&&this.setValue(t,!0),i&&t==null&&(this.eDisplayField.textContent=i),this.addManagedElementListeners(this.eWrapper,{focusout:this.onWrapperFocusOut.bind(this)})}onWrapperFocusOut(e){this.eWrapper.contains(e.relatedTarget)||this.hidePicker()}createListComponent(){this.listComponent=this.createBean(new $7("select",!0)),this.listComponent.setParentComponent(this);const e=this.listComponent.getAriaElement(),t=`ag-select-list-${this.listComponent.getCompId()}`;e.setAttribute("id",t),L8(this.getAriaElement(),e),this.listComponent.addManagedListeners(this.listComponent,{selectedItem:()=>{this.hidePicker(),this.dispatchLocalEvent({type:"selectedItem"})}}),this.listComponent.addManagedListeners(this.listComponent,{fieldValueChanged:()=>{this.listComponent&&(this.setValue(this.listComponent.getValue(),!1,!0),this.hidePicker())}})}createPickerComponent(){return this.listComponent}onKeyDown(e){var i;const{key:t}=e;switch(t===te.TAB&&this.hidePicker(),t){case te.ENTER:case te.UP:case te.DOWN:case te.PAGE_UP:case te.PAGE_DOWN:case te.PAGE_HOME:case te.PAGE_END:e.preventDefault(),this.isPickerDisplayed?(i=this.listComponent)==null||i.handleKeyDown(e):super.onKeyDown(e);break;case te.ESCAPE:super.onKeyDown(e);break;case te.SPACE:this.isPickerDisplayed?e.preventDefault():super.onKeyDown(e);break}}showPicker(){this.listComponent&&(super.showPicker(),this.listComponent.refreshHighlighted())}addOptions(e){return e.forEach(t=>this.addOption(t)),this}addOption(e){return this.listComponent.addOption(e),this}clearOptions(){var e;return(e=this.listComponent)==null||e.clearOptions(),this}setValue(e,t,i){if(this.value===e||!this.listComponent)return this;if(i||this.listComponent.setValue(e,!0),this.listComponent.getValue()===this.getValue())return this;let n=this.listComponent.getDisplayValue();return n==null&&this.config.placeholder&&(n=this.config.placeholder),this.eDisplayField.textContent=n,this.setTooltip({newTooltipText:n??null,shouldDisplayTooltip:()=>this.eDisplayField.scrollWidth>this.eDisplayField.clientWidth}),super.setValue(e,t)}destroy(){this.listComponent&&(this.listComponent=this.destroyBean(this.listComponent)),super.destroy()}},K7={selector:"AG-SELECT",component:UD},mN=class{constructor(){this.customFilterOptions={}}init(e,t){this.filterOptions=e.filterOptions||t,this.mapCustomOptions(),this.selectDefaultItem(e)}getFilterOptions(){return this.filterOptions}mapCustomOptions(){this.filterOptions&&this.filterOptions.forEach(e=>{if(typeof e=="string")return;const t=[["displayKey"],["displayName"],["predicate","test"]],i=s=>s.some(n=>e[n]!=null)?!0:(ae(`ignoring FilterOptionDef as it doesn't contain one of '${s}'`),!1);if(!t.every(i)){this.filterOptions=this.filterOptions.filter(s=>s===e)||[];return}this.customFilterOptions[e.displayKey]=e})}selectDefaultItem(e){if(e.defaultOption)this.defaultOption=e.defaultOption;else if(this.filterOptions.length>=1){const t=this.filterOptions[0];typeof t=="string"?this.defaultOption=t:t.displayKey?this.defaultOption=t.displayKey:ae("invalid FilterOptionDef supplied as it doesn't contain a 'displayKey'")}else ae("no filter options for filter")}getDefaultOption(){return this.defaultOption}getCustomOption(e){return this.customFilterOptions[e]}},vN=class extends W7{constructor(){super(...arguments),this.eTypes=[],this.eJoinOperatorPanels=[],this.eJoinOperatorsAnd=[],this.eJoinOperatorsOr=[],this.eConditionBodies=[],this.listener=()=>this.onUiChanged(),this.lastUiCompletePosition=null,this.joinOperatorId=0}getNumberOfInputs(e){const t=this.optionsFactory.getCustomOption(e);if(t){const{numberOfInputs:s}=t;return s??1}return e&&["empty","notBlank","blank"].indexOf(e)>=0?0:e==="inRange"?2:1}onFloatingFilterChanged(e,t){this.setTypeFromFloatingFilter(e),this.setValueFromFloatingFilter(t),this.onUiChanged(!0)}setTypeFromFloatingFilter(e){this.eTypes.forEach((t,i)=>{i===0?t.setValue(e,!0):t.setValue(this.optionsFactory.getDefaultOption(),!0)})}getModelFromUi(){const e=this.getUiCompleteConditions();return e.length===0?null:this.maxNumConditions>1&&e.length>1?{filterType:this.getFilterType(),operator:this.getJoinOperator(),conditions:e}:e[0]}getConditionTypes(){return this.eTypes.map(e=>e.getValue())}getConditionType(e){return this.eTypes[e].getValue()}getJoinOperator(){return this.eJoinOperatorsOr.length===0?this.defaultJoinOperator:this.eJoinOperatorsOr[0].getValue()===!0?"OR":"AND"}areModelsEqual(e,t){if(!e&&!t)return!0;if(!e&&t||e&&!t)return!1;const i=!e.operator,s=!t.operator;if(!i&&s||i&&!s)return!1;let r;if(i){const o=e,a=t;r=this.areSimpleModelsEqual(o,a)}else{const o=e,a=t;r=o.operator===a.operator&&Tl(o.conditions,a.conditions,(l,d)=>this.areSimpleModelsEqual(l,d))}return r}shouldRefresh(e){var r;const t=this.getModel(),i=t?t.conditions??[t]:null,s=((r=e.filterOptions)==null?void 0:r.map(o=>typeof o=="string"?o:o.displayKey))??this.getDefaultFilterOptions();return!(!(!i||i.every(o=>s.find(a=>a===o.type)!==void 0))||typeof e.maxNumConditions=="number"&&i&&i.length>e.maxNumConditions)}refresh(e){return!this.shouldRefresh(e)||!super.refresh(e)?!1:(this.setParams(e),this.removeConditionsAndOperators(0),this.createOption(),this.setModel(this.getModel()),!0)}setModelIntoUi(e){if(e.operator){const i=e;let s=i.conditions;s==null&&(s=[],ae("Filter model is missing 'conditions'"));const n=this.validateAndUpdateConditions(s),r=this.getNumConditions();if(n<r)this.removeConditionsAndOperators(n);else if(n>r)for(let a=r;a<n;a++)this.createJoinOperatorPanel(),this.createOption();const o=i.operator==="OR";this.eJoinOperatorsAnd.forEach(a=>a.setValue(!o,!0)),this.eJoinOperatorsOr.forEach(a=>a.setValue(o,!0)),s.forEach((a,l)=>{this.eTypes[l].setValue(a.type,!0),this.setConditionIntoUi(a,l)})}else{const i=e;this.getNumConditions()>1&&this.removeConditionsAndOperators(1),this.eTypes[0].setValue(i.type,!0),this.setConditionIntoUi(i,0)}return this.lastUiCompletePosition=this.getNumConditions()-1,this.createMissingConditionsAndOperators(),this.onUiChanged(),vi.resolve()}validateAndUpdateConditions(e){let t=e.length;return t>this.maxNumConditions&&(e.splice(this.maxNumConditions),ae('Filter Model contains more conditions than "filterParams.maxNumConditions". Additional conditions have been ignored.'),t=this.maxNumConditions),t}doesFilterPass(e){const t=this.getModel();if(t==null)return!0;const{operator:i}=t,s=[];if(i){const r=t;s.push(...r.conditions??[])}else s.push(t);return s[i&&i==="OR"?"some":"every"](r=>this.individualConditionPasses(e,r))}setParams(e){super.setParams(e),this.setNumConditions(e),this.defaultJoinOperator=this.getDefaultJoinOperator(e.defaultJoinOperator),this.filterPlaceholder=e.filterPlaceholder,this.optionsFactory=new mN,this.optionsFactory.init(e,this.getDefaultFilterOptions()),this.createFilterListOptions(),this.createOption(),this.createMissingConditionsAndOperators(),this.isReadOnly()&&this.eFilterBody.setAttribute("tabindex","-1")}setNumConditions(e){this.maxNumConditions=e.maxNumConditions??2,this.maxNumConditions<1&&(ae('"filterParams.maxNumConditions" must be greater than or equal to zero.'),this.maxNumConditions=1),this.numAlwaysVisibleConditions=e.numAlwaysVisibleConditions??1,this.numAlwaysVisibleConditions<1&&(ae('"filterParams.numAlwaysVisibleConditions" must be greater than or equal to zero.'),this.numAlwaysVisibleConditions=1),this.numAlwaysVisibleConditions>this.maxNumConditions&&(ae('"filterParams.numAlwaysVisibleConditions" cannot be greater than "filterParams.maxNumConditions".'),this.numAlwaysVisibleConditions=this.maxNumConditions)}createOption(){const e=this.createManagedBean(new UD);this.eTypes.push(e),e.addCssClass("ag-filter-select"),this.eFilterBody.appendChild(e.getGui());const t=this.createValueElement();this.eConditionBodies.push(t),this.eFilterBody.appendChild(t),this.putOptionsIntoDropdown(e),this.resetType(e);const i=this.getNumConditions()-1;this.forEachPositionInput(i,s=>this.resetInput(s)),this.addChangedListeners(e,i)}createJoinOperatorPanel(){const e=document.createElement("div");this.eJoinOperatorPanels.push(e),e.classList.add("ag-filter-condition");const t=this.createJoinOperator(this.eJoinOperatorsAnd,e,"and"),i=this.createJoinOperator(this.eJoinOperatorsOr,e,"or");this.eFilterBody.appendChild(e);const s=this.eJoinOperatorPanels.length-1,n=this.joinOperatorId++;this.resetJoinOperatorAnd(t,s,n),this.resetJoinOperatorOr(i,s,n),this.isReadOnly()||(t.onValueChange(this.listener),i.onValueChange(this.listener))}createJoinOperator(e,t,i){const s=this.createManagedBean(new U7);return e.push(s),s.addCssClass("ag-filter-condition-operator"),s.addCssClass(`ag-filter-condition-operator-${i}`),t.appendChild(s.getGui()),s}getDefaultJoinOperator(e){return e==="AND"||e==="OR"?e:"AND"}createFilterListOptions(){const e=this.optionsFactory.getFilterOptions();this.filterListOptions=e.map(t=>typeof t=="string"?this.createBoilerplateListOption(t):this.createCustomListOption(t))}putOptionsIntoDropdown(e){this.filterListOptions.forEach(t=>{e.addOption(t)}),e.setDisabled(this.filterListOptions.length<=1)}createBoilerplateListOption(e){return{value:e,text:this.translate(e)}}createCustomListOption(e){const{displayKey:t}=e,i=this.optionsFactory.getCustomOption(e.displayKey);return{value:t,text:i?this.localeService.getLocaleTextFunc()(i.displayKey,i.displayName):this.translate(t)}}createBodyTemplate(){return""}getAgComponents(){return[]}getCssIdentifier(){return"simple-filter"}updateUiVisibility(){const e=this.getJoinOperator();this.updateNumConditions(),this.updateConditionStatusesAndValues(this.lastUiCompletePosition,e)}updateNumConditions(){let e=-1,t=!0;for(let i=0;i<this.getNumConditions();i++)this.isConditionUiComplete(i)?e=i:t=!1;if(this.shouldAddNewConditionAtEnd(t))this.createJoinOperatorPanel(),this.createOption();else{const i=this.lastUiCompletePosition??this.getNumConditions()-2;if(e<i){this.removeConditionsAndOperators(i+1);const s=e+1,n=i-s;n>0&&this.removeConditionsAndOperators(s,n),this.createMissingConditionsAndOperators()}}this.lastUiCompletePosition=e}updateConditionStatusesAndValues(e,t){this.eTypes.forEach((s,n)=>{const r=this.isConditionDisabled(n,e);s.setDisabled(r||this.filterListOptions.length<=1),n===1&&(Lp(this.eJoinOperatorPanels[0],r),this.eJoinOperatorsAnd[0].setDisabled(r),this.eJoinOperatorsOr[0].setDisabled(r))}),this.eConditionBodies.forEach((s,n)=>{oi(s,this.isConditionBodyVisible(n))});const i=(t??this.getJoinOperator())==="OR";this.eJoinOperatorsAnd.forEach(s=>{s.setValue(!i,!0)}),this.eJoinOperatorsOr.forEach(s=>{s.setValue(i,!0)}),this.forEachInput((s,n,r,o)=>{this.setElementDisplayed(s,n<o),this.setElementDisabled(s,this.isConditionDisabled(r,e))}),this.resetPlaceholder()}shouldAddNewConditionAtEnd(e){return e&&this.getNumConditions()<this.maxNumConditions&&!this.isReadOnly()}removeConditionsAndOperators(e,t){if(e>=this.getNumConditions())return;this.removeComponents(this.eTypes,e,t),this.removeElements(this.eConditionBodies,e,t),this.removeValueElements(e,t);const i=Math.max(e-1,0);this.removeElements(this.eJoinOperatorPanels,i,t),this.removeComponents(this.eJoinOperatorsAnd,i,t),this.removeComponents(this.eJoinOperatorsOr,i,t)}removeElements(e,t,i){this.removeItems(e,t,i).forEach(n=>qc(n))}removeComponents(e,t,i){this.removeItems(e,t,i).forEach(n=>{qc(n.getGui()),this.destroyBean(n)})}removeItems(e,t,i){return i==null?e.splice(t):e.splice(t,i)}afterGuiAttached(e){if(super.afterGuiAttached(e),this.resetPlaceholder(),!(e!=null&&e.suppressFocus))if(this.isReadOnly())this.eFilterBody.focus();else{const t=this.getInputs(0)[0];if(!t)return;t instanceof Ic&&t.getInputElement().focus()}}afterGuiDetached(){super.afterGuiDetached();const e=this.getModel();this.resetUiToActiveModel(e);let t=-1,i=-1,s=!1;const n=this.getJoinOperator();for(let o=this.getNumConditions()-1;o>=0;o--)if(this.isConditionUiComplete(o))t===-1&&(t=o,i=o);else{const a=o>=this.numAlwaysVisibleConditions&&!this.isConditionUiComplete(o-1),l=o<t;(a||l)&&(this.removeConditionsAndOperators(o,1),s=!0,l&&i--)}let r=!1;this.getNumConditions()<this.numAlwaysVisibleConditions&&(this.createMissingConditionsAndOperators(),r=!0),this.shouldAddNewConditionAtEnd(i===this.getNumConditions()-1)&&(this.createJoinOperatorPanel(),this.createOption(),r=!0),r&&this.updateConditionStatusesAndValues(i,n),s&&this.updateJoinOperatorsDisabled(),this.lastUiCompletePosition=i}getPlaceholderText(e,t){let i=this.translate(e);if(RD(this.filterPlaceholder)){const s=this.filterPlaceholder,n=this.eTypes[t].getValue(),r=this.translate(n);i=s({filterOptionKey:n,filterOption:r,placeholder:i})}else typeof this.filterPlaceholder=="string"&&(i=this.filterPlaceholder);return i}resetPlaceholder(){const e=this.localeService.getLocaleTextFunc();this.forEachInput((t,i,s,n)=>{if(!(t instanceof Ic))return;const r=i===0&&n>1?"inRangeStart":i===0?"filterOoo":"inRangeEnd",o=i===0&&n>1?e("ariaFilterFromValue","Filter from value"):i===0?e("ariaFilterValue","Filter Value"):e("ariaFilterToValue","Filter to Value");t.setInputPlaceholder(this.getPlaceholderText(r,s)),t.setInputAriaLabel(o)})}setElementValue(e,t,i){e instanceof Ic&&e.setValue(t!=null?String(t):null,!0)}setElementDisplayed(e,t){e instanceof Ht&&oi(e.getGui(),t)}setElementDisabled(e,t){e instanceof Ht&&Lp(e.getGui(),t)}attachElementOnChange(e,t){e instanceof Ic&&e.onValueChange(t)}forEachInput(e){this.getConditionTypes().forEach((t,i)=>{this.forEachPositionTypeInput(i,t,e)})}forEachPositionInput(e,t){const i=this.getConditionType(e);this.forEachPositionTypeInput(e,i,t)}forEachPositionTypeInput(e,t,i){const s=this.getNumberOfInputs(t),n=this.getInputs(e);for(let r=0;r<n.length;r++){const o=n[r];o!=null&&i(o,r,e,s)}}isConditionDisabled(e,t){return this.isReadOnly()?!0:e===0?!1:e>t+1}isConditionBodyVisible(e){const t=this.getConditionType(e);return this.getNumberOfInputs(t)>0}isConditionUiComplete(e){return!(e>=this.getNumConditions()||this.getConditionType(e)==="empty"||this.getValues(e).some(i=>i==null))}getNumConditions(){return this.eTypes.length}getUiCompleteConditions(){const e=[];for(let t=0;t<this.getNumConditions();t++)this.isConditionUiComplete(t)&&e.push(this.createCondition(t));return e}createMissingConditionsAndOperators(){if(!this.isReadOnly())for(let e=this.getNumConditions();e<this.numAlwaysVisibleConditions;e++)this.createJoinOperatorPanel(),this.createOption()}resetUiToDefaults(e){return this.removeConditionsAndOperators(this.isReadOnly()?1:this.numAlwaysVisibleConditions),this.eTypes.forEach(t=>this.resetType(t)),this.eJoinOperatorsAnd.forEach((t,i)=>this.resetJoinOperatorAnd(t,i,this.joinOperatorId+i)),this.eJoinOperatorsOr.forEach((t,i)=>this.resetJoinOperatorOr(t,i,this.joinOperatorId+i)),this.joinOperatorId++,this.forEachInput(t=>this.resetInput(t)),this.resetPlaceholder(),this.createMissingConditionsAndOperators(),this.lastUiCompletePosition=null,e||this.onUiChanged(),vi.resolve()}resetType(e){const i=this.localeService.getLocaleTextFunc()("ariaFilteringOperator","Filtering operator");e.setValue(this.optionsFactory.getDefaultOption(),!0).setAriaLabel(i).setDisabled(this.isReadOnly()||this.filterListOptions.length<=1)}resetJoinOperatorAnd(e,t,i){this.resetJoinOperator(e,t,this.isDefaultOperator("AND"),this.translate("andCondition"),i)}resetJoinOperatorOr(e,t,i){this.resetJoinOperator(e,t,this.isDefaultOperator("OR"),this.translate("orCondition"),i)}resetJoinOperator(e,t,i,s,n){this.updateJoinOperatorDisabled(e.setValue(i,!0).setName(`ag-simple-filter-and-or-${this.getCompId()}-${n}`).setLabel(s),t)}updateJoinOperatorsDisabled(){this.eJoinOperatorsAnd.forEach((e,t)=>this.updateJoinOperatorDisabled(e,t)),this.eJoinOperatorsOr.forEach((e,t)=>this.updateJoinOperatorDisabled(e,t))}updateJoinOperatorDisabled(e,t){e.setDisabled(this.isReadOnly()||t>0)}resetInput(e){this.setElementValue(e,null),this.setElementDisabled(e,this.isReadOnly())}setConditionIntoUi(e,t){const i=this.mapValuesFromModel(e);this.forEachInput((s,n,r)=>{r===t&&this.setElementValue(s,i[n]!=null?i[n]:null)})}setValueFromFloatingFilter(e){this.forEachInput((t,i,s)=>{this.setElementValue(t,i===0&&s===0?e:null,!0)})}isDefaultOperator(e){return e===this.defaultJoinOperator}addChangedListeners(e,t){this.isReadOnly()||(e.onValueChange(this.listener),this.forEachPositionInput(t,i=>{this.attachElementOnChange(i,this.listener)}))}individualConditionPasses(e,t){const i=this.getCellValue(e.node),s=this.mapValuesFromModel(t),n=this.optionsFactory.getCustomOption(t.type),r=this.evaluateCustomFilter(n,s,i);return r??(i==null?this.evaluateNullValue(t.type):this.evaluateNonNullValue(s,i,t,e))}evaluateCustomFilter(e,t,i){if(e==null)return;const{predicate:s}=e;if(s!=null&&!t.some(n=>n==null))return s(t,i)}isBlank(e){return e==null||typeof e=="string"&&e.trim().length===0}hasInvalidInputs(){return!1}},yN=class extends vN{setParams(e){super.setParams(e),this.scalarFilterParams=e}evaluateNullValue(e){switch(e){case"equals":if(this.scalarFilterParams.includeBlanksInEquals)return!0;break;case"notEqual":if(this.scalarFilterParams.includeBlanksInNotEqual)return!0;break;case"greaterThan":case"greaterThanOrEqual":if(this.scalarFilterParams.includeBlanksInGreaterThan)return!0;break;case"lessThan":case"lessThanOrEqual":if(this.scalarFilterParams.includeBlanksInLessThan)return!0;break;case"inRange":if(this.scalarFilterParams.includeBlanksInRange)return!0;break;case"blank":return!0;case"notBlank":return!1}return!1}evaluateNonNullValue(e,t,i){const s=this.comparator(),n=e[0]!=null?s(e[0],t):0;switch(i.type){case"equals":return n===0;case"notEqual":return n!==0;case"greaterThan":return n>0;case"greaterThanOrEqual":return n>=0;case"lessThan":return n<0;case"lessThanOrEqual":return n<=0;case"inRange":{const r=s(e[1],t);return this.scalarFilterParams.inRangeInclusive?n>=0&&r<=0:n>0&&r<0}case"blank":return this.isBlank(t);case"notBlank":return!this.isBlank(t);default:return ae('Unexpected type of filter "'+i.type+'", it looks like the filter was configured with incorrect Filter Options'),!0}}},q7=65,Z7=67,X7=86,Q7=68,J7=90,e9=89;function CN(e){var i;return e.altKey||e.ctrlKey||e.metaKey?!1:((i=e.key)==null?void 0:i.length)===1}function pM(e,t,i,s,n){const r=s?s.getColDef().suppressKeyboardEvent:void 0;if(!r)return!1;const o=e.addGridCommonParams({event:t,editing:n,column:s,node:i,data:i.data,colDef:s.getColDef()});return!!(r&&r(o))}function t9(e,t,i,s){const n=s.getDefinition(),r=n&&n.suppressHeaderKeyboardEvent;if(!ve(r))return!1;const o=e.addGridCommonParams({colDef:n,column:s,headerRowIndex:i,event:t});return!!r(o)}function i9(e){const{keyCode:t}=e;let i;switch(t){case q7:i=te.A;break;case Z7:i=te.C;break;case X7:i=te.V;break;case Q7:i=te.D;break;case J7:i=te.Z;break;case e9:i=te.Y;break;default:i=e.code}return i}function s9(e,t=!1){return e===te.DELETE?!0:!t&&e===te.BACKSPACE?YF():!1}var ru=class extends Ic{constructor(e,t="ag-text-field",i="text"){super(e,t,i)}postConstruct(){super.postConstruct(),this.config.allowedCharPattern&&this.preventDisallowedCharacters()}setValue(e,t){return this.eInput.value!==e&&(this.eInput.value=ve(e)?e:""),super.setValue(e,t)}setStartValue(e){this.setValue(e,!0)}preventDisallowedCharacters(){const e=new RegExp(`[${this.config.allowedCharPattern}]`),t=i=>{CN(i)&&i.key&&!e.test(i.key)&&i.preventDefault()};this.addManagedListeners(this.eInput,{keydown:t,paste:i=>{var n;const s=(n=i.clipboardData)==null?void 0:n.getData("text");s&&s.split("").some(r=>!e.test(r))&&i.preventDefault()}})}},xC={selector:"AG-INPUT-TEXT-FIELD",component:ru},$D=class extends ru{constructor(e){super(e,"ag-number-field","number")}postConstruct(){super.postConstruct(),this.addManagedListeners(this.eInput,{blur:()=>{const n=parseFloat(this.eInput.value),r=isNaN(n)?"":this.normalizeValue(n.toString());this.value!==r&&this.setValue(r)},wheel:this.onWheel.bind(this)}),this.eInput.step="any";const{precision:e,min:t,max:i,step:s}=this.config;typeof e=="number"&&this.setPrecision(e),typeof t=="number"&&this.setMin(t),typeof i=="number"&&this.setMax(i),typeof s=="number"&&this.setStep(s)}onWheel(e){ui(this.gos)===this.eInput&&e.preventDefault()}normalizeValue(e){if(e==="")return"";this.precision!=null&&(e=this.adjustPrecision(e));const t=parseFloat(e);return this.min!=null&&t<this.min?e=this.min.toString():this.max!=null&&t>this.max&&(e=this.max.toString()),e}adjustPrecision(e,t){if(this.precision==null)return e;if(t){const s=parseFloat(e).toFixed(this.precision);return parseFloat(s).toString()}const i=String(e).split(".");if(i.length>1){if(i[1].length<=this.precision)return e;if(this.precision>0)return`${i[0]}.${i[1].slice(0,this.precision)}`}return i[0]}setMin(e){return this.min===e?this:(this.min=e,sr(this.eInput,"min",e),this)}setMax(e){return this.max===e?this:(this.max=e,sr(this.eInput,"max",e),this)}setPrecision(e){return this.precision=e,this}setStep(e){return this.step===e?this:(this.step=e,sr(this.eInput,"step",e),this)}setValue(e,t){return this.setValueOrInputValue(i=>super.setValue(i,t),()=>this,e)}setStartValue(e){return this.setValueOrInputValue(t=>super.setValue(t,!0),t=>{this.eInput.value=t},e)}setValueOrInputValue(e,t,i){if(ve(i)){let s=this.isScientificNotation(i);if(s&&this.eInput.validity.valid)return e(i);if(!s){i=this.adjustPrecision(i);const n=this.normalizeValue(i);s=i!=n}if(s)return t(i)}return e(i)}getValue(){if(!this.eInput.validity.valid)return;const e=this.eInput.value;return this.isScientificNotation(e)?this.adjustPrecision(e,!0):super.getValue()}isScientificNotation(e){return typeof e=="string"&&e.includes("e")}},n9={selector:"AG-INPUT-NUMBER-FIELD",component:$D},bN=["equals","notEqual","greaterThan","greaterThanOrEqual","lessThan","lessThanOrEqual","inRange","blank","notBlank"],YD=class{constructor(e,t,i){this.localeService=e,this.optionsFactory=t,this.valueFormatter=i}getModelAsString(e){if(!e)return null;const t=e.operator!=null,i=this.localeService.getLocaleTextFunc();if(t){const s=e,r=(s.conditions??[]).map(a=>this.getModelAsString(a)),o=s.operator==="AND"?"andCondition":"orCondition";return r.join(` ${i(o,fN[o])} `)}else{if(e.type==="blank"||e.type==="notBlank")return i(e.type,e.type);{const s=e,n=this.optionsFactory.getCustomOption(s.type),{displayKey:r,displayName:o,numberOfInputs:a}=n||{};return r&&o&&a===0?(i(r,o),o):this.conditionToString(s,n)}}}updateParams(e){this.optionsFactory=e.optionsFactory}formatValue(e){return this.valueFormatter?this.valueFormatter(e??null)??"":String(e)}},SN=class extends YD{conditionToString(e,t){const{numberOfInputs:i}=t||{};return e.type=="inRange"||i===2?`${this.formatValue(e.filter)}-${this.formatValue(e.filterTo)}`:e.filter!=null?this.formatValue(e.filter):`${e.type}`}};function fM(e){const{allowedCharPattern:t}=e??{};return t??null}var r9=class extends yN{constructor(){super("numberFilter"),this.eValuesFrom=[],this.eValuesTo=[]}refresh(e){return this.numberFilterParams.allowedCharPattern!==e.allowedCharPattern?!1:super.refresh(e)}mapValuesFromModel(e){const{filter:t,filterTo:i,type:s}=e||{};return[this.processValue(t),this.processValue(i)].slice(0,this.getNumberOfInputs(s))}getDefaultDebounceMs(){return 500}comparator(){return(e,t)=>e===t?0:e<t?1:-1}setParams(e){this.numberFilterParams=e,super.setParams(e),this.filterModelFormatter=new SN(this.localeService,this.optionsFactory,this.numberFilterParams.numberFormatter)}getDefaultFilterOptions(){return bN}setElementValue(e,t,i){const s=!i&&this.numberFilterParams.numberFormatter?this.numberFilterParams.numberFormatter(t??null):t;super.setElementValue(e,s)}createValueElement(){const e=fM(this.numberFilterParams),t=document.createElement("div");return t.classList.add("ag-filter-body"),Or(t,"presentation"),this.createFromToElement(t,this.eValuesFrom,"from",e),this.createFromToElement(t,this.eValuesTo,"to",e),t}createFromToElement(e,t,i,s){const n=this.createManagedBean(s?new ru({allowedCharPattern:s}):new $D);n.addCssClass(`ag-filter-${i}`),n.addCssClass("ag-filter-filter"),t.push(n),e.appendChild(n.getGui())}removeValueElements(e,t){this.removeComponents(this.eValuesFrom,e,t),this.removeComponents(this.eValuesTo,e,t)}getValues(e){const t=[];return this.forEachPositionInput(e,(i,s,n,r)=>{s<r&&t.push(this.processValue(this.stringToFloat(i.getValue())))}),t}areSimpleModelsEqual(e,t){return e.filter===t.filter&&e.filterTo===t.filterTo&&e.type===t.type}getFilterType(){return"number"}processValue(e){return e==null||isNaN(e)?null:e}stringToFloat(e){if(typeof e=="number")return e;let t=Jo(e);return t!=null&&t.trim()===""&&(t=null),this.numberFilterParams.numberParser?this.numberFilterParams.numberParser(t):t==null||t.trim()==="-"?null:parseFloat(t)}createCondition(e){const t=this.getConditionType(e),i={filterType:this.getFilterType(),type:t},s=this.getValues(e);return s.length>0&&(i.filter=s[0]),s.length>1&&(i.filterTo=s[1]),i}getInputs(e){return e>=this.eValuesFrom.length?[null,null]:[this.eValuesFrom[e],this.eValuesTo[e]]}getModelAsString(e){return this.filterModelFormatter.getModelAsString(e)??""}hasInvalidInputs(){let e=!1;return this.forEachInput(t=>{if(!t.getInputElement().validity.valid){e=!0;return}}),e}},wN=["contains","notContains","equals","notEqual","startsWith","endsWith","blank","notBlank"],xN=class extends YD{conditionToString(e,t){const{numberOfInputs:i}=t||{};return e.type=="inRange"||i===2?`${e.filter}-${e.filterTo}`:e.filter!=null?`${e.filter}`:`${e.type}`}};function MN(e){const t=e&&e.trim();return t===""?e:t}var o9=class extends vN{constructor(){super("textFilter"),this.defaultFormatter=e=>e,this.defaultLowercaseFormatter=e=>e==null?null:e.toString().toLowerCase(),this.defaultMatcher=({filterOption:e,value:t,filterText:i})=>{if(i==null)return!1;switch(e){case"contains":return t.indexOf(i)>=0;case"notContains":return t.indexOf(i)<0;case"equals":return t===i;case"notEqual":return t!=i;case"startsWith":return t.indexOf(i)===0;case"endsWith":{const s=t.lastIndexOf(i);return s>=0&&s===t.length-i.length}default:return!1}},this.eValuesFrom=[],this.eValuesTo=[]}getDefaultDebounceMs(){return 500}setParams(e){this.textFilterParams=e,super.setParams(e),this.matcher=this.getTextMatcher(),this.formatter=this.textFilterParams.textFormatter||(this.textFilterParams.caseSensitive?this.defaultFormatter:this.defaultLowercaseFormatter),this.filterModelFormatter=new xN(this.localeService,this.optionsFactory)}getTextMatcher(){const e=this.textFilterParams.textCustomComparator;return e?(ae("textCustomComparator is deprecated, use textMatcher instead."),({filterOption:t,value:i,filterText:s})=>e(t,i,s)):this.textFilterParams.textMatcher||this.defaultMatcher}createCondition(e){const t=this.getConditionType(e),i={filterType:this.getFilterType(),type:t},s=this.getValuesWithSideEffects(e,!0);return s.length>0&&(i.filter=s[0]),s.length>1&&(i.filterTo=s[1]),i}getFilterType(){return"text"}areSimpleModelsEqual(e,t){return e.filter===t.filter&&e.filterTo===t.filterTo&&e.type===t.type}getInputs(e){return e>=this.eValuesFrom.length?[null,null]:[this.eValuesFrom[e],this.eValuesTo[e]]}getValues(e){return this.getValuesWithSideEffects(e,!1)}getValuesWithSideEffects(e,t){const i=[];return this.forEachPositionInput(e,(s,n,r,o)=>{if(n<o){let a=Jo(s.getValue());t&&this.textFilterParams.trimInput&&(a=MN(a)??null,s.setValue(a,!0)),i.push(a)}}),i}getDefaultFilterOptions(){return wN}createValueElement(){const e=document.createElement("div");return e.classList.add("ag-filter-body"),Or(e,"presentation"),this.createFromToElement(e,this.eValuesFrom,"from"),this.createFromToElement(e,this.eValuesTo,"to"),e}createFromToElement(e,t,i){const s=this.createManagedBean(new ru);s.addCssClass(`ag-filter-${i}`),s.addCssClass("ag-filter-filter"),t.push(s),e.appendChild(s.getGui())}removeValueElements(e,t){this.removeComponents(this.eValuesFrom,e,t),this.removeComponents(this.eValuesTo,e,t)}mapValuesFromModel(e){const{filter:t,filterTo:i,type:s}=e||{};return[t||null,i||null].slice(0,this.getNumberOfInputs(s))}evaluateNullValue(e){return e?["notEqual","notContains","blank"].indexOf(e)>=0:!1}evaluateNonNullValue(e,t,i,s){const n=e.map(f=>this.formatter(f))||[],r=this.formatter(t),{api:o,colDef:a,column:l,context:d,textFormatter:h}=this.textFilterParams;if(i.type==="blank")return this.isBlank(t);if(i.type==="notBlank")return!this.isBlank(t);const p={api:o,colDef:a,column:l,context:d,node:s.node,data:s.data,filterOption:i.type,value:r,textFormatter:h};return n.some(f=>this.matcher({...p,filterText:f}))}getModelAsString(e){return this.filterModelFormatter.getModelAsString(e)??""}};function DN(e){if(typeof e=="number")return e;if(typeof e=="string"){const t=parseInt(e);return isNaN(t)?void 0:t}}function qr(e,t=Number.MAX_VALUE){return i=>{const s=DN(i);if(!(s==null||s<e||s>t))return s}}function cp(e,t){return e.toString().padStart(t,"0")}function a9(e,t){const i=[];for(let s=e;s<=t;s++)i.push(s);return i}function l9(e,t,i){return typeof e!="number"?"":e.toString().replace(".",i).replace(/(\d)(?=(\d{3})+(?!\d))/g,`$1${t}`)}function nr(e,t=!0,i="-"){if(!e)return null;let s=[e.getFullYear(),e.getMonth()+1,e.getDate()].map(n=>cp(n,2)).join(i);return t&&(s+=" "+[e.getHours(),e.getMinutes(),e.getSeconds()].map(n=>cp(n,2)).join(":")),s}var C0=e=>{if(e>3&&e<21)return"th";switch(e%10){case 1:return"st";case 2:return"nd";case 3:return"rd"}return"th"};function up(e,t="YYYY-MM-DD"){const i=cp(e.getFullYear(),4),s=["January","February","March","April","May","June","July","August","September","October","November","December"],n=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],r={YYYY:()=>i.slice(i.length-4,i.length),YY:()=>i.slice(i.length-2,i.length),Y:()=>`${e.getFullYear()}`,MMMM:()=>s[e.getMonth()],MMM:()=>s[e.getMonth()].slice(0,3),MM:()=>cp(e.getMonth()+1,2),Mo:()=>`${e.getMonth()+1}${C0(e.getMonth()+1)}`,M:()=>`${e.getMonth()+1}`,Do:()=>`${e.getDate()}${C0(e.getDate())}`,DD:()=>cp(e.getDate(),2),D:()=>`${e.getDate()}`,dddd:()=>n[e.getDay()],ddd:()=>n[e.getDay()].slice(0,3),dd:()=>n[e.getDay()].slice(0,2),do:()=>`${e.getDay()}${C0(e.getDay())}`,d:()=>`${e.getDay()}`},o=new RegExp(Object.keys(r).join("|"),"g");return t.replace(o,a=>a in r?r[a]():a)}function sn(e){if(!e)return null;const[t,i]=e.split(" ");if(!t)return null;const s=t.split("-").map(p=>parseInt(p,10));if(s.filter(p=>!isNaN(p)).length!==3)return null;const[n,r,o]=s,a=new Date(n,r-1,o);if(a.getFullYear()!==n||a.getMonth()!==r-1||a.getDate()!==o)return null;if(!i||i==="00:00:00")return a;const[l,d,h]=i.split(":").map(p=>parseInt(p,10));return l>=0&&l<24&&a.setHours(l),d>=0&&d<60&&a.setMinutes(d),h>=0&&h<60&&a.setSeconds(h),a}var RN=class{constructor(e,t,i,s,n){this.alive=!0,this.context=e,this.eParent=s,t.getDateCompDetails(i).newAgStackInstance().then(a=>{if(!this.alive){e.destroyBean(a);return}this.dateComp=a,a&&(s.appendChild(a.getGui()),a.afterGuiAttached&&a.afterGuiAttached(),this.tempValue&&a.setDate(this.tempValue),this.disabled!=null&&this.setDateCompDisabled(this.disabled),n==null||n(this))})}destroy(){this.alive=!1,this.dateComp=this.context.destroyBean(this.dateComp)}getDate(){return this.dateComp?this.dateComp.getDate():this.tempValue}setDate(e){this.dateComp?this.dateComp.setDate(e):this.tempValue=e}setDisabled(e){this.dateComp?this.setDateCompDisabled(e):this.disabled=e}setDisplayed(e){oi(this.eParent,e)}setInputPlaceholder(e){this.dateComp&&this.dateComp.setInputPlaceholder&&this.dateComp.setInputPlaceholder(e)}setInputAriaLabel(e){this.dateComp&&this.dateComp.setInputAriaLabel&&this.dateComp.setInputAriaLabel(e)}afterGuiAttached(e){this.dateComp&&typeof this.dateComp.afterGuiAttached=="function"&&this.dateComp.afterGuiAttached(e)}updateParams(e){var i,s;let t=!1;(i=this.dateComp)!=null&&i.refresh&&typeof this.dateComp.refresh=="function"&&this.dateComp.refresh(e)!==null&&(t=!0),!t&&((s=this.dateComp)!=null&&s.onParamsUpdated)&&typeof this.dateComp.onParamsUpdated=="function"&&this.dateComp.onParamsUpdated(e)!==null&&ae("Custom date component method 'onParamsUpdated' is deprecated. Use 'refresh' instead.")}setDateCompDisabled(e){this.dateComp!=null&&this.dateComp.setDisabled!=null&&this.dateComp.setDisabled(e)}},EN=["equals","notEqual","lessThan","greaterThan","inRange","blank","notBlank"],AN=class extends YD{constructor(e,t,i){super(t,i),this.dateFilterParams=e}conditionToString(e,t){const{type:i}=e,{numberOfInputs:s}=t||{},n=i=="inRange"||s===2,r=sn(e.dateFrom),o=sn(e.dateTo),a=this.dateFilterParams.inRangeFloatingFilterDateFormat;if(n){const l=r!==null?up(r,a):"null",d=o!==null?up(o,a):"null";return`${l}-${d}`}return r!=null?up(r,a):`${i}`}updateParams(e){super.updateParams(e),this.dateFilterParams=e.dateFilterParams}},Ck=1e3,bk=1/0,c9=class extends yN{constructor(){super("dateFilter"),this.eConditionPanelsFrom=[],this.eConditionPanelsTo=[],this.dateConditionFromComps=[],this.dateConditionToComps=[],this.minValidYear=Ck,this.maxValidYear=bk,this.minValidDate=null,this.maxValidDate=null}wireBeans(e){super.wireBeans(e),this.context=e.context,this.userComponentFactory=e.userComponentFactory}afterGuiAttached(e){super.afterGuiAttached(e),this.dateConditionFromComps[0].afterGuiAttached(e)}mapValuesFromModel(e){const{dateFrom:t,dateTo:i,type:s}=e||{};return[t&&sn(t)||null,i&&sn(i)||null].slice(0,this.getNumberOfInputs(s))}comparator(){return this.dateFilterParams.comparator?this.dateFilterParams.comparator:this.defaultComparator.bind(this)}defaultComparator(e,t){const i=t;return t==null||i<e?-1:i>e?1:0}setParams(e){this.dateFilterParams=e,super.setParams(e);const t=(i,s)=>{if(e[i]!=null)if(isNaN(e[i]))ae(`DateFilter ${i} is not a number`);else return e[i]==null?s:Number(e[i]);return s};this.minValidYear=t("minValidYear",Ck),this.maxValidYear=t("maxValidYear",bk),this.minValidYear>this.maxValidYear&&ae("DateFilter minValidYear should be <= maxValidYear"),e.minValidDate?this.minValidDate=e.minValidDate instanceof Date?e.minValidDate:sn(e.minValidDate):this.minValidDate=null,e.maxValidDate?this.maxValidDate=e.maxValidDate instanceof Date?e.maxValidDate:sn(e.maxValidDate):this.maxValidDate=null,this.minValidDate&&this.maxValidDate&&this.minValidDate>this.maxValidDate&&ae("DateFilter minValidDate should be <= maxValidDate"),this.filterModelFormatter=new AN(this.dateFilterParams,this.localeService,this.optionsFactory)}createDateCompWrapper(e){const t=new RN(this.context,this.userComponentFactory,{onDateChanged:()=>this.onUiChanged(),filterParams:this.dateFilterParams},e);return this.addDestroyFunc(()=>t.destroy()),t}setElementValue(e,t){e.setDate(t)}setElementDisplayed(e,t){e.setDisplayed(t)}setElementDisabled(e,t){e.setDisabled(t)}getDefaultFilterOptions(){return EN}createValueElement(){const t=yi(this.gos).createElement("div");return t.classList.add("ag-filter-body"),this.createFromToElement(t,this.eConditionPanelsFrom,this.dateConditionFromComps,"from"),this.createFromToElement(t,this.eConditionPanelsTo,this.dateConditionToComps,"to"),t}createFromToElement(e,t,i,s){const r=yi(this.gos).createElement("div");r.classList.add(`ag-filter-${s}`),r.classList.add(`ag-filter-date-${s}`),t.push(r),e.appendChild(r),i.push(this.createDateCompWrapper(r))}removeValueElements(e,t){this.removeDateComps(this.dateConditionFromComps,e,t),this.removeDateComps(this.dateConditionToComps,e,t),this.removeItems(this.eConditionPanelsFrom,e,t),this.removeItems(this.eConditionPanelsTo,e,t)}removeDateComps(e,t,i){this.removeItems(e,t,i).forEach(n=>n.destroy())}isValidDateValue(e){if(e===null)return!1;if(this.minValidDate){if(e<this.minValidDate)return!1}else if(e.getUTCFullYear()<this.minValidYear)return!1;if(this.maxValidDate){if(e>this.maxValidDate)return!1}else if(e.getUTCFullYear()>this.maxValidYear)return!1;return!0}isConditionUiComplete(e){if(!super.isConditionUiComplete(e))return!1;let t=!0;return this.forEachInput((i,s,n,r)=>{n!==e||!t||s>=r||(t=t&&this.isValidDateValue(i.getDate()))}),t}areSimpleModelsEqual(e,t){return e.dateFrom===t.dateFrom&&e.dateTo===t.dateTo&&e.type===t.type}getFilterType(){return"date"}createCondition(e){const t=this.getConditionType(e),i={},s=this.getValues(e);return s.length>0&&(i.dateFrom=nr(s[0])),s.length>1&&(i.dateTo=nr(s[1])),{dateFrom:null,dateTo:null,filterType:this.getFilterType(),type:t,...i}}resetPlaceholder(){const e=this.localeService.getLocaleTextFunc(),t=this.translate("dateFormatOoo"),i=e("ariaFilterValue","Filter Value");this.forEachInput(s=>{s.setInputPlaceholder(t),s.setInputAriaLabel(i)})}getInputs(e){return e>=this.dateConditionFromComps.length?[null,null]:[this.dateConditionFromComps[e],this.dateConditionToComps[e]]}getValues(e){const t=[];return this.forEachPositionInput(e,(i,s,n,r)=>{s<r&&t.push(i.getDate())}),t}translate(e){return e==="lessThan"?super.translate("before"):e==="greaterThan"?super.translate("after"):super.translate(e)}getModelAsString(e){return this.filterModelFormatter.getModelAsString(e)??""}},KD=class extends re{constructor(e,t,i,s){super(),this.columnOrGroup=e,this.columnOrGroup=e,this.eCell=t,this.ariaEl=this.eCell.querySelector("[role=columnheader]")||this.eCell,this.colsSpanning=s,this.beans=i}setColsSpanning(e){this.colsSpanning=e,this.onLeftChanged()}getColumnOrGroup(){return this.beans.gos.get("enableRtl")&&this.colsSpanning?nt(this.colsSpanning):this.columnOrGroup}postConstruct(){const e=this.onLeftChanged.bind(this);this.addManagedListeners(this.columnOrGroup,{leftChanged:e}),this.setLeftFirstTime(),this.addManagedEventListeners({displayedColumnsWidthChanged:e}),this.addManagedPropertyListener("domLayout",e)}setLeftFirstTime(){const e=this.beans.gos.get("suppressColumnMoveAnimation"),t=ve(this.columnOrGroup.getOldLeft());this.beans.columnAnimationService.isActive()&&t&&!e?this.animateInLeft():this.onLeftChanged()}animateInLeft(){const e=this.getColumnOrGroup(),t=e.getLeft(),i=e.getOldLeft(),s=this.modifyLeftForPrintLayout(e,i),n=this.modifyLeftForPrintLayout(e,t);this.setLeft(s),this.actualLeft=n,this.beans.columnAnimationService.executeNextVMTurn(()=>{this.actualLeft===n&&this.setLeft(n)})}onLeftChanged(){const e=this.getColumnOrGroup(),t=e.getLeft();this.actualLeft=this.modifyLeftForPrintLayout(e,t),this.setLeft(this.actualLeft)}modifyLeftForPrintLayout(e,t){if(!ys(this.beans.gos,"print")||e.getPinned()==="left")return t;const s=this.beans.visibleColsService.getColsLeftWidth();if(e.getPinned()==="right"){const n=this.beans.visibleColsService.getBodyContainerWidth();return s+n+t}return s+t}setLeft(e){if(ve(e)&&(this.eCell.style.left=`${e}px`),Ei(this.columnOrGroup)){const t=this.columnOrGroup.getLeafColumns();if(!t.length)return;t.length>1&&A8(this.ariaEl,t.length)}}},u9="ag-column-first",d9="ag-column-last";function TN(e,t,i,s){return rt(e)?[]:g9(e.headerClass,e,t,i,s)}function IN(e,t,i){e.addOrRemoveCssClass(u9,i.isColAtEdge(t,"first")),e.addOrRemoveCssClass(d9,i.isColAtEdge(t,"last"))}function h9(e,t,i,s){return t.addGridCommonParams({colDef:e,column:i,columnGroup:s})}function g9(e,t,i,s,n){if(rt(e))return[];let r;if(typeof e=="function"){const o=h9(t,i,s,n);r=e(o)}else r=e;return typeof r=="string"?[r]:Array.isArray(r)?[...r]:[]}var p9=0,LN=class kN extends re{constructor(t,i,s){super(),this.resizeToggleTimeout=0,this.resizeMultiplier=1,this.resizeFeature=null,this.lastFocusEvent=null,this.dragSource=null,this.columnGroupChild=t,this.parentRowCtrl=s,this.beans=i,this.instanceId=t.getUniqueId()+"-"+p9++}wireBeans(t){this.pinnedWidthService=t.pinnedWidthService,this.focusService=t.focusService,this.userComponentFactory=t.userComponentFactory,this.ctrlsService=t.ctrlsService,this.dragAndDropService=t.dragAndDropService,this.menuService=t.menuService}postConstruct(){const t=this.refreshTabIndex.bind(this);this.addManagedPropertyListeners(["suppressHeaderFocus"],t),this.addManagedEventListeners({overlayExclusiveChanged:t})}shouldStopEventPropagation(t){const{headerRowIndex:i,column:s}=this.focusService.getFocusedHeader();return t9(this.gos,t,i,s)}getWrapperHasFocus(){return ui(this.gos)===this.eGui}setGui(t,i){this.eGui=t,this.addDomData(i),i.addManagedListeners(this.beans.eventService,{displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this)}),i.addManagedElementListeners(this.eGui,{focus:this.onGuiFocus.bind(this)}),this.onDisplayedColumnsChanged(),this.refreshTabIndex()}onGuiFocus(){this.eventService.dispatchEvent({type:"headerFocused",column:this.column})}setupAutoHeight(t){const{wrapperElement:i,checkMeasuringCallback:s,compBean:n}=t,{animationFrameService:r,resizeObserverService:o,columnModel:a,gos:l}=this.beans,d=S=>{if(!this.isAlive()||!n.isAlive())return;const{paddingTop:w,paddingBottom:b,borderBottomWidth:x,borderTopWidth:D}=su(this.getGui()),E=w+b+x+D,k=i.offsetHeight+E;if(S<5){const P=yi(l),O=!P||!P.contains(i),F=k==0;if(O||F){r.requestAnimationFrame(()=>d(S+1));return}}a.setColHeaderHeight(this.column,k)};let h=!1,p;const f=()=>{const S=this.column.isAutoHeaderHeight();S&&!h&&v(),!S&&h&&y()},v=()=>{h=!0,d(0),this.comp.addOrRemoveCssClass("ag-header-cell-auto-height",!0),p=o.observeResize(i,()=>d(0))},y=()=>{h=!1,p&&p(),this.comp.addOrRemoveCssClass("ag-header-cell-auto-height",!1),p=void 0};f(),n.addDestroyFunc(()=>y()),n.addManagedListeners(this.column,{widthChanged:()=>h&&d(0)}),n.addManagedEventListeners({sortChanged:()=>{h&&window.setTimeout(()=>d(0))}}),s&&s(f)}onDisplayedColumnsChanged(){const{comp:t,column:i,beans:s,eGui:n}=this;!t||!i||!n||(IN(t,i,s.visibleColsService),UF(n,s.visibleColsService.getAriaColIndex(i)))}addResizeAndMoveKeyboardListeners(t){this.resizeFeature&&t.addManagedListeners(this.eGui,{keydown:this.onGuiKeyDown.bind(this),keyup:this.onGuiKeyUp.bind(this)})}refreshTabIndex(){const t=this.focusService.isHeaderFocusSuppressed();this.eGui&&sr(this.eGui,"tabindex",t?null:"-1")}onGuiKeyDown(t){var o;const i=ui(this.gos),s=t.key===te.LEFT||t.key===te.RIGHT;if(this.isResizing&&(t.preventDefault(),t.stopImmediatePropagation()),i!==this.eGui||!t.shiftKey&&!t.altKey||((this.isResizing||s)&&(t.preventDefault(),t.stopImmediatePropagation()),!s))return;const n=t.key===te.LEFT!==this.gos.get("enableRtl"),r=uN[n?"Left":"Right"];if(t.altKey){this.isResizing=!0,this.resizeMultiplier+=1;const a=this.getViewportAdjustedResizeDiff(t);this.resizeHeader(a,t.shiftKey),(o=this.resizeFeature)==null||o.toggleColumnResizing(!0)}else this.moveHeader(r)}getViewportAdjustedResizeDiff(t){let i=this.getResizeDiff(t);if(this.column.getPinned()){const n=this.pinnedWidthService.getPinnedLeftWidth(),r=this.pinnedWidthService.getPinnedRightWidth(),o=hf(this.ctrlsService.getGridBodyCtrl().getBodyViewportElement())-50;if(n+r+i>o)if(o>n+r)i=o-n-r;else return 0}return i}getResizeDiff(t){let i=t.key===te.LEFT!==this.gos.get("enableRtl");const s=this.column.getPinned(),n=this.gos.get("enableRtl");return s&&n!==(s==="right")&&(i=!i),(i?-1:1)*this.resizeMultiplier}onGuiKeyUp(){this.isResizing&&(this.resizeToggleTimeout&&(window.clearTimeout(this.resizeToggleTimeout),this.resizeToggleTimeout=0),this.isResizing=!1,this.resizeMultiplier=1,this.resizeToggleTimeout=window.setTimeout(()=>{var t;(t=this.resizeFeature)==null||t.toggleColumnResizing(!1)},150))}handleKeyDown(t){const i=this.getWrapperHasFocus();switch(t.key){case te.PAGE_DOWN:case te.PAGE_UP:case te.PAGE_HOME:case te.PAGE_END:i&&t.preventDefault()}}addDomData(t){const i=kN.DOM_DATA_KEY_HEADER_CTRL;Yc(this.gos,this.eGui,i,this),t.addDestroyFunc(()=>Yc(this.gos,this.eGui,i,null))}getGui(){return this.eGui}focus(t){return this.eGui?(this.lastFocusEvent=t||null,this.eGui.focus(),!0):!1}getRowIndex(){return this.parentRowCtrl.getRowIndex()}getParentRowCtrl(){return this.parentRowCtrl}getPinned(){return this.parentRowCtrl.getPinned()}getColumnGroupChild(){return this.columnGroupChild}removeDragSource(){this.dragSource&&(this.dragAndDropService.removeDragSource(this.dragSource),this.dragSource=null)}handleContextMenuMouseEvent(t,i,s){const n=t??i;this.gos.get("preventDefaultOnContextMenu")&&n.preventDefault(),this.menuService.isHeaderContextMenuEnabled(s)&&this.menuService.showHeaderContextMenu(s,t,i),this.dispatchColumnMouseEvent("columnHeaderContextMenu",s)}dispatchColumnMouseEvent(t,i){this.eventService.dispatchEvent({type:t,column:i})}clearComponent(){this.removeDragSource(),this.resizeFeature=null,this.comp=null,this.eGui=null}destroy(){super.destroy(),this.column=null,this.lastFocusEvent=null,this.columnGroupChild=null,this.parentRowCtrl=null}};LN.DOM_DATA_KEY_HEADER_CTRL="headerCtrl";var MC=LN,qD=class extends re{wireBeans(e){this.columnHoverService=e.columnHoverService}constructor(e,t){super(),this.columns=e,this.element=t}postConstruct(){this.gos.get("columnHoverHighlight")&&this.addMouseHoverListeners()}addMouseHoverListeners(){this.addManagedListeners(this.element,{mouseout:this.onMouseOut.bind(this),mouseover:this.onMouseOver.bind(this)})}onMouseOut(){this.columnHoverService.clearMouseOver()}onMouseOver(){this.columnHoverService.setMouseOver(this.columns)}},f9=class extends MC{constructor(e,t,i){super(e,t,i),this.iconCreated=!1,this.column=e}setComp(e,t,i,s,n){this.comp=e,n=uf(this,this.beans.context,n),this.eButtonShowMainFilter=i,this.eFloatingFilterBody=s,this.setGui(t,n),this.setupActive(),this.setupWidth(n),this.setupLeft(n),this.setupHover(n),this.setupFocus(n),this.setupAria(),this.setupFilterButton(),this.setupUserComp(),this.setupSyncWithFilter(n),this.setupUi(),n.addManagedElementListeners(this.eButtonShowMainFilter,{click:this.showParentFilter.bind(this)}),this.setupFilterChangedListener(n),n.addManagedListeners(this.column,{colDefChanged:()=>this.onColDefChanged(n)}),n.addDestroyFunc(()=>{this.eButtonShowMainFilter=null,this.eFloatingFilterBody=null,this.userCompDetails=null,this.clearComponent()})}resizeHeader(){}moveHeader(){}setupActive(){const e=this.column.getColDef(),t=!!e.filter,i=!!e.floatingFilter;this.active=t&&i}setupUi(){if(this.comp.setButtonWrapperDisplayed(!this.suppressFilterButton&&this.active),this.comp.addOrRemoveBodyCssClass("ag-floating-filter-full-body",this.suppressFilterButton),this.comp.addOrRemoveBodyCssClass("ag-floating-filter-body",!this.suppressFilterButton),!this.active||this.iconCreated)return;const e=bn("filter",this.gos,this.column);e&&(this.iconCreated=!0,this.eButtonShowMainFilter.appendChild(e))}setupFocus(e){e.createManagedBean(new nu(this.eGui,{shouldStopEventPropagation:this.shouldStopEventPropagation.bind(this),onTabKeyDown:this.onTabKeyDown.bind(this),handleKeyDown:this.handleKeyDown.bind(this),onFocusIn:this.onFocusIn.bind(this)}))}setupAria(){const e=this.localeService.getLocaleTextFunc();_d(this.eButtonShowMainFilter,e("ariaFilterMenuOpen","Open Filter Menu"))}onTabKeyDown(e){if(ui(this.gos)===this.eGui)return;const s=this.focusService.findNextFocusableElement(this.eGui,null,e.shiftKey);if(s){this.beans.headerNavigationService.scrollToColumn(this.column),e.preventDefault(),s.focus();return}const n=this.findNextColumnWithFloatingFilter(e.shiftKey);n&&this.focusService.focusHeaderPosition({headerPosition:{headerRowIndex:this.getParentRowCtrl().getRowIndex(),column:n},event:e})&&e.preventDefault()}findNextColumnWithFloatingFilter(e){const t=this.beans.visibleColsService;let i=this.column;do if(i=e?t.getColBefore(i):t.getColAfter(i),!i)break;while(!i.getColDef().filter||!i.getColDef().floatingFilter);return i}handleKeyDown(e){super.handleKeyDown(e);const t=this.getWrapperHasFocus();switch(e.key){case te.UP:case te.DOWN:t||e.preventDefault();case te.LEFT:case te.RIGHT:if(t)return;e.stopPropagation();case te.ENTER:t&&this.focusService.focusInto(this.eGui)&&e.preventDefault();break;case te.ESCAPE:t||this.eGui.focus()}}onFocusIn(e){if(this.eGui.contains(e.relatedTarget))return;const i=!!e.relatedTarget&&!e.relatedTarget.classList.contains("ag-floating-filter"),s=!!e.relatedTarget&&Td(e.relatedTarget,"ag-floating-filter");if(i&&s&&e.target===this.eGui){const r=this.lastFocusEvent,o=!!(r&&r.key===te.TAB);if(r&&o){const a=r.shiftKey;this.focusService.focusInto(this.eGui,a)}}const n=this.getRowIndex();this.beans.focusService.setFocusedHeader(n,this.column)}setupHover(e){e.createManagedBean(new qD([this.column],this.eGui));const t=()=>{if(!this.gos.get("columnHoverHighlight"))return;const i=this.beans.columnHoverService.isHovered(this.column);this.comp.addOrRemoveCssClass("ag-column-hover",i)};e.addManagedEventListeners({columnHoverChanged:t}),t()}setupLeft(e){const t=new KD(this.column,this.eGui,this.beans);e.createManagedBean(t)}setupFilterButton(){this.suppressFilterButton=!this.menuService.isFloatingFilterButtonEnabled(this.column),this.highlightFilterButtonWhenActive=!this.menuService.isLegacyMenuEnabled()}setupUserComp(){var t;if(!this.active)return;const e=(t=this.beans.filterManager)==null?void 0:t.getFloatingFilterCompDetails(this.column,()=>this.showParentFilter());e&&this.setCompDetails(e)}setCompDetails(e){this.userCompDetails=e,this.comp.setCompDetails(e)}showParentFilter(){const e=this.suppressFilterButton?this.eFloatingFilterBody:this.eButtonShowMainFilter;this.menuService.showFilterMenu({column:this.column,buttonElement:e,containerType:"floatingFilter",positionBy:"button"})}setupSyncWithFilter(e){if(!this.active)return;const{filterManager:t}=this.beans,i=s=>{if((s==null?void 0:s.source)==="filterDestroyed"&&!this.isAlive())return;const n=this.comp.getFloatingFilterComp();n&&n.then(r=>{if(r){const o=t==null?void 0:t.getCurrentFloatingFilterParentModel(this.column),a=s?{...s,columns:s.columns??[],source:s.source==="api"?"api":"columnFilter"}:null;r.onParentModelChanged(o,a)}})};[this.destroySyncListener]=e.addManagedListeners(this.column,{filterChanged:i}),t!=null&&t.isFilterActive(this.column)&&i(null)}setupWidth(e){const t=()=>{const i=`${this.column.getActualWidth()}px`;this.comp.setWidth(i)};e.addManagedListeners(this.column,{widthChanged:t}),t()}setupFilterChangedListener(e){this.active&&([this.destroyFilterChangedListener]=e.addManagedListeners(this.column,{filterChanged:this.updateFilterButton.bind(this)}),this.updateFilterButton())}updateFilterButton(){var e;if(!this.suppressFilterButton&&this.comp){const t=!!((e=this.beans.filterManager)!=null&&e.isFilterAllowed(this.column));this.comp.setButtonWrapperDisplayed(t),this.highlightFilterButtonWhenActive&&t&&this.eButtonShowMainFilter.classList.toggle("ag-filter-active",this.column.isFilterActive())}}onColDefChanged(e){var r;const t=this.active;this.setupActive();const i=!t&&this.active;t&&!this.active&&(this.destroySyncListener(),this.destroyFilterChangedListener());const s=this.active?(r=this.beans.filterManager)==null?void 0:r.getFloatingFilterCompDetails(this.column,()=>this.showParentFilter()):null,n=this.comp.getFloatingFilterComp();!n||!s?this.updateCompDetails(e,s,i):n.then(o=>{var a;!o||(a=this.beans.filterManager)!=null&&a.areFilterCompsDifferent(this.userCompDetails??null,s)?this.updateCompDetails(e,s,i):this.updateFloatingFilterParams(s)})}updateCompDetails(e,t,i){this.isAlive()&&(this.setCompDetails(t),this.setupFilterButton(),this.setupUi(),i&&(this.setupSyncWithFilter(e),this.setupFilterChangedListener(e)))}updateFloatingFilterParams(e){var i;if(!e)return;const t=e.params;(i=this.comp.getFloatingFilterComp())==null||i.then(s=>{let n=!1;s!=null&&s.refresh&&typeof s.refresh=="function"&&s.refresh(t)!==null&&(n=!0),!n&&(s!=null&&s.onParamsUpdated)&&typeof s.onParamsUpdated=="function"&&s.onParamsUpdated(t)!==null&&ae("Custom floating filter method 'onParamsUpdated' is deprecated. Use 'refresh' instead.")})}destroy(){super.destroy(),this.destroySyncListener=null,this.destroyFilterChangedListener=null}};var Oe="32.3.5";function m9(e){var t,i;return!!((t=e.filterManager)!=null&&t.isColumnFilterPresent())||!!((i=e.filterManager)!=null&&i.isAggregateFilterPresent())}function v9(e,t,i){var s;return(s=e.filterManager)==null?void 0:s.getFilterInstance(t,i)}function y9(e,t){var i;return((i=e.filterManager)==null?void 0:i.getColumnFilterInstance(t))??Promise.resolve(void 0)}function C9(e,t){var s;const i=e.columnModel.getColDefCol(t);if(i)return(s=e.filterManager)==null?void 0:s.destroyFilter(i,"api")}function b9(e,t){e.frameworkOverrides.wrapIncoming(()=>{var i;return(i=e.filterManager)==null?void 0:i.setFilterModel(t)})}function S9(e){var t;return((t=e.filterManager)==null?void 0:t.getFilterModel())??{}}function w9(e,t){var i;return((i=e.filterManager)==null?void 0:i.getColumnFilterModel(t))??null}function x9(e,t,i){var s;return((s=e.filterManager)==null?void 0:s.setColumnFilterModel(t,i))??Promise.resolve()}function M9(e,t){const i=e.columnModel.getCol(t);if(!i){at(`column '${t}' not found`);return}e.menuService.showFilterMenu({column:i,containerType:"columnFilter",positionBy:"auto"})}function D9(e,t,i){if(t==null)return null;let s=null;const{compName:n,jsComp:r,fwComp:o}=lN.getCompKeys(e,t,_D);return n?s={set:"agSetColumnFloatingFilter",agSetColumnFilter:"agSetColumnFloatingFilter",multi:"agMultiColumnFloatingFilter",agMultiColumnFilter:"agMultiColumnFloatingFilter",group:"agGroupColumnFloatingFilter",agGroupColumnFilter:"agGroupColumnFloatingFilter",number:"agNumberColumnFloatingFilter",agNumberColumnFilter:"agNumberColumnFloatingFilter",date:"agDateColumnFloatingFilter",agDateColumnFilter:"agDateColumnFloatingFilter",text:"agTextColumnFloatingFilter",agTextColumnFilter:"agTextColumnFloatingFilter"}[n]:r==null&&o==null&&t.filter===!0&&(s=i()),s}var Sk={january:"January",february:"February",march:"March",april:"April",may:"May",june:"June",july:"July",august:"August",september:"September",october:"October",november:"November",december:"December"},wk=["january","february","march","april","may","june","july","august","september","october","november","december"],R9=class extends re{constructor(){super(...arguments),this.beanName="columnFilterService",this.allColumnFilters=new Map,this.allColumnListeners=new Map,this.activeAggregateFilters=[],this.activeColumnFilters=[],this.processingFilterChange=!1,this.filterModelUpdateQueue=[],this.columnFilterModelUpdateQueue=[]}wireBeans(e){this.valueService=e.valueService,this.columnModel=e.columnModel,this.rowModel=e.rowModel,this.userComponentFactory=e.userComponentFactory,this.rowRenderer=e.rowRenderer,this.dataTypeService=e.dataTypeService,this.filterManager=e.filterManager}postConstruct(){var e,t;this.addManagedEventListeners({gridColumnsChanged:this.onColumnsChanged.bind(this),rowDataUpdated:()=>this.onNewRowsLoaded("rowDataUpdated"),dataTypesInferred:this.processFilterModelUpdateQueue.bind(this)}),this.initialFilterModel={...((t=(e=this.gos.get("initialState"))==null?void 0:e.filter)==null?void 0:t.filterModel)??{}}}setFilterModel(e,t="api"){var n;if((n=this.dataTypeService)!=null&&n.isPendingInference()){this.filterModelUpdateQueue.push({model:e,source:t});return}const i=[],s=this.getFilterModel(!0);if(e){const r=new Set(Object.keys(e));this.allColumnFilters.forEach((o,a)=>{const l=e[a];i.push(this.setModelOnFilterWrapper(o.filterPromise,l)),r.delete(a)}),r.forEach(o=>{const a=this.columnModel.getColDefCol(o)||this.columnModel.getCol(o);if(!a){ae("setFilterModel() - no column found for colId: "+o);return}if(!a.isFilterAllowed()){ae("setFilterModel() - unable to fully apply model, filtering disabled for colId: "+o);return}const l=this.getOrCreateFilterWrapper(a);if(!l){ae("setFilterModel() - unable to fully apply model, unable to create filter for colId: "+o);return}i.push(this.setModelOnFilterWrapper(l.filterPromise,e[o]))})}else this.allColumnFilters.forEach(r=>{i.push(this.setModelOnFilterWrapper(r.filterPromise,null))});vi.all(i).then(()=>{var a;const r=this.getFilterModel(!0),o=[];this.allColumnFilters.forEach((l,d)=>{const h=s?s[d]:null,p=r?r[d]:null;Dp(h,p)||o.push(l.column)}),o.length>0&&((a=this.filterManager)==null||a.onFilterChanged({columns:o,source:t}))})}setModelOnFilterWrapper(e,t){return new vi(i=>{e.then(s=>{typeof s.setModel!="function"&&(ae("filter missing setModel method, which is needed for setFilterModel"),i()),(s.setModel(t)||vi.resolve()).then(()=>i())})})}getFilterModel(e){const t={},{allColumnFilters:i,initialFilterModel:s}=this;return i.forEach((n,r)=>{const o=this.getModelFromFilterWrapper(n);ve(o)&&(t[r]=o)}),e||Object.entries(s).forEach(([n,r])=>{var o;ve(r)&&!i.has(n)&&((o=this.columnModel.getCol(n))!=null&&o.isFilterAllowed())&&(t[n]=r)}),t}getModelFromFilterWrapper(e){const{filter:t}=e;return t?typeof t.getModel!="function"?(ae("filter API missing getModel method, which is needed for getFilterModel"),null):t.getModel():this.getModelFromInitialState(e.column)}getModelFromInitialState(e){return this.initialFilterModel[e.getColId()]??null}isColumnFilterPresent(){return this.activeColumnFilters.length>0}isAggregateFilterPresent(){return!!this.activeAggregateFilters.length}disableColumnFilters(){return this.allColumnFilters.size?(this.allColumnFilters.forEach(e=>this.disposeFilterWrapper(e,"advancedFilterEnabled")),!0):!1}doAggregateFiltersPass(e,t){return this.doColumnFiltersPass(e,t,!0)}updateActiveFilters(){const e=r=>r?r.isFilterActive?r.isFilterActive():(ae("Filter is missing isFilterActive() method"),!1):!1,t=!!sM(this.gos),i=r=>{if(!r.isPrimary())return!0;const a=!this.columnModel.isPivotActive();return!r.isValueActive()||!a?!1:this.columnModel.isPivotMode()?!0:t},s=[],n=[];return this.forEachColumnFilter((r,o)=>{e(r)&&(i(o.column)?s.push(r):n.push(r))}).then(()=>{this.activeAggregateFilters=s,this.activeColumnFilters=n})}updateFilterFlagInColumns(e,t){return this.forEachColumnFilter((i,s)=>s.column.setFilterActive(i.isFilterActive(),e,t))}forEachColumnFilter(e){return vi.all(Array.from(this.allColumnFilters.values()).map(t=>t.filterPromise.then(i=>e(i,t))))}doColumnFiltersPass(e,t,i){const{data:s,aggData:n}=e,r=i?this.activeAggregateFilters:this.activeColumnFilters,o=i?n:s;for(let a=0;a<r.length;a++){const l=r[a];if(!(l==null||l===t)){if(typeof l.doesFilterPass!="function")throw new Error("Filter is missing method doesFilterPass");if(!l.doesFilterPass({node:e,data:o}))return!1}}return!0}callOnFilterChangedOutsideRenderCycle(e){const t=()=>{var i;return(i=this.filterManager)==null?void 0:i.onFilterChanged(e)};this.rowRenderer.isRefreshInProgress()?setTimeout(t,0):t()}updateBeforeFilterChanged(e={}){const{filterInstance:t,additionalEventAttributes:i}=e;return this.updateDependentFilters(),this.updateActiveFilters().then(()=>this.updateFilterFlagInColumns("filterChanged",i).then(()=>{this.allColumnFilters.forEach(s=>{s.filterPromise&&s.filterPromise.then(n=>{n&&n!==t&&n.onAnyFilterChanged&&n.onAnyFilterChanged()})}),this.processingFilterChange=!0}))}updateAfterFilterChanged(){this.processingFilterChange=!1}isSuppressFlashingCellsBecauseFiltering(){return!(this.gos.get("allowShowChangeAfterFilter")??!1)&&this.processingFilterChange}onNewRowsLoaded(e){this.forEachColumnFilter(t=>{t.onNewRowsLoaded&&t.onNewRowsLoaded()}).then(()=>this.updateFilterFlagInColumns(e,{afterDataChange:!0})).then(()=>this.updateActiveFilters())}createValueGetter(e){return({node:t})=>this.valueService.getValue(e,t,!0)}createGetValue(e){return(t,i)=>{const s=i?this.columnModel.getCol(i):e;return s?this.valueService.getValue(s,t,!0):void 0}}isFilterActive(e){const{filter:t}=this.cachedFilter(e)??{};return t?t.isFilterActive():this.getModelFromInitialState(e)!=null}getOrCreateFilterWrapper(e){if(!e.isFilterAllowed())return null;let t=this.cachedFilter(e);return t||(t=this.createFilterWrapper(e),this.setColumnFilterWrapper(e,t)),t}cachedFilter(e){return this.allColumnFilters.get(e.getColId())}getDefaultFilter(e){var i;let t;if(u0(this.gos))t="agSetColumnFilter";else{const s=(i=this.dataTypeService)==null?void 0:i.getBaseDataType(e);s==="number"?t="agNumberColumnFilter":s==="date"||s==="dateString"?t="agDateColumnFilter":t="agTextColumnFilter"}return t}getDefaultFloatingFilter(e){var i;let t;if(u0(this.gos))t="agSetColumnFloatingFilter";else{const s=(i=this.dataTypeService)==null?void 0:i.getBaseDataType(e);s==="number"?t="agNumberColumnFloatingFilter":s==="date"||s==="dateString"?t="agDateColumnFloatingFilter":t="agTextColumnFloatingFilter"}return t}createFilterInstance(e,t){const i=this.getDefaultFilter(e),s=e.getColDef();let n;const r={...this.createFilterParams(e,s),filterModifiedCallback:()=>this.filterModifiedCallbackFactory(n,e)(),filterChangedCallback:a=>this.filterChangedCallbackFactory(n,e)(a),doesRowPassOtherFilter:a=>this.filterManager?this.filterManager.doesRowPassOtherFilters(n,a):!0},o=this.userComponentFactory.getFilterDetails(s,r,i);return o?{filterPromise:()=>{const a=o.newAgStackInstance();return a!=null&&a.then(l=>{n=l,t&&(t.filter=l)}),a},compDetails:o}:{filterPromise:null,compDetails:null}}createFilterParams(e,t){return this.gos.addGridCommonParams({column:e,colDef:FF(t),rowModel:this.rowModel,filterChangedCallback:()=>{},filterModifiedCallback:()=>{},valueGetter:this.createValueGetter(e),getValue:this.createGetValue(e),doesRowPassOtherFilter:()=>!0})}createFilterWrapper(e){const t={column:e,filterPromise:null,compiledElement:null,compDetails:null},{filterPromise:i,compDetails:s}=this.createFilterInstance(e,t);return t.filterPromise=(i==null?void 0:i())??null,t.compDetails=s,t}onColumnsChanged(){var i;const e=[];this.allColumnFilters.forEach((s,n)=>{let r;s.column.isPrimary()?r=this.columnModel.getColDefCol(n):r=this.columnModel.getCol(n),!(r&&r===s.column)&&(e.push(s.column),this.disposeFilterWrapper(s,"columnChanged"),this.disposeColumnListener(n))});const t=e.every(s=>s.getColDef().filter==="agGroupColumnFilter");e.length>0&&!t?(i=this.filterManager)==null||i.onFilterChanged({columns:e,source:"api"}):this.updateDependentFilters()}updateDependentFilters(){const e=this.columnModel.getAutoCols();e==null||e.forEach(t=>{t.getColDef().filter==="agGroupColumnFilter"&&this.getOrCreateFilterWrapper(t)})}isFilterAllowed(e){if(!e.isFilterAllowed())return!1;const{filter:i}=this.allColumnFilters.get(e.getColId())??{};return i&&typeof(i==null?void 0:i.isFilterAllowed)=="function"?i.isFilterAllowed():!0}getFloatingFilterCompDetails(e,t){const i=l=>{var h;const d=(h=this.getOrCreateFilterWrapper(e))==null?void 0:h.filterPromise;d!=null&&d.then(p=>{l(lp(p))})},s=e.getColDef(),n={...this.createFilterParams(e,s),filterChangedCallback:()=>i(l=>this.filterChangedCallbackFactory(l,e)())},r=this.userComponentFactory.mergeParamsWithApplicationProvidedParams(s,_D,n);let o=D9(this.frameworkOverrides,s,()=>this.getDefaultFloatingFilter(e));o==null&&(o="agReadOnlyFloatingFilter");const a={column:e,filterParams:r,currentParentModel:()=>this.getCurrentFloatingFilterParentModel(e),parentFilterInstance:i,showParentFilter:t,suppressFilterButton:!1};return this.userComponentFactory.getFloatingFilterCompDetails(s,a,o)}getCurrentFloatingFilterParentModel(e){return this.getModelFromFilterWrapper(this.cachedFilter(e)??{column:e})}destroyFilter(e,t="api"){var n;const i=e.getColId(),s=this.allColumnFilters.get(i);this.disposeColumnListener(i),delete this.initialFilterModel[i],s&&(this.disposeFilterWrapper(s,t),(n=this.filterManager)==null||n.onFilterChanged({columns:[e],source:"api"}))}disposeColumnListener(e){const t=this.allColumnListeners.get(e);t&&(this.allColumnListeners.delete(e),t())}disposeFilterWrapper(e,t){e.filterPromise.then(i=>{this.destroyBean(i),e.column.setFilterActive(!1,"filterDestroyed"),this.allColumnFilters.delete(e.column.getColId()),this.eventService.dispatchEvent({type:"filterDestroyed",source:t,column:e.column})})}filterModifiedCallbackFactory(e,t){return()=>{this.eventService.dispatchEvent({type:"filterModified",column:t,filterInstance:e})}}filterChangedCallbackFactory(e,t){return i=>{const s=(i==null?void 0:i.source)??"columnFilter",n={filter:e,additionalEventAttributes:i,columns:[t],source:s};this.callOnFilterChangedOutsideRenderCycle(n)}}checkDestroyFilter(e){const t=this.allColumnFilters.get(e);if(!t)return;const i=t.column,{compDetails:s}=i.isFilterAllowed()?this.createFilterInstance(i):{compDetails:null};if(this.areFilterCompsDifferent(t.compDetails,s)){this.destroyFilter(i,"paramsUpdated");return}const n=i.getColDef().filterParams;if(!t.filterPromise){this.destroyFilter(i,"paramsUpdated");return}t.filterPromise.then(r=>{(r!=null&&r.refresh?r.refresh({...this.createFilterParams(i,i.getColDef()),filterModifiedCallback:this.filterModifiedCallbackFactory(r,i),filterChangedCallback:this.filterChangedCallbackFactory(r,i),doesRowPassOtherFilter:a=>this.filterManager?this.filterManager.doesRowPassOtherFilters(r,a):!0,...n}):!0)===!1&&this.destroyFilter(i,"paramsUpdated")})}setColumnFilterWrapper(e,t){const i=e.getColId();this.allColumnFilters.set(i,t),this.allColumnListeners.set(i,this.addManagedListeners(e,{colDefChanged:()=>this.checkDestroyFilter(i)})[0])}areFilterCompsDifferent(e,t){if(!t||!e)return!0;const{componentClass:i}=e,{componentClass:s}=t;return!(i===s||(i==null?void 0:i.render)&&(s==null?void 0:s.render)&&i.render===s.render)}hasFloatingFilters(){return this.columnModel.getCols().some(t=>t.getColDef().floatingFilter)}getFilterInstance(e,t){t&&this.getFilterInstanceImpl(e).then(i=>{const s=lp(i);t(s)})}getColumnFilterInstance(e){return new Promise(t=>{this.getFilterInstanceImpl(e).then(i=>{t(lp(i))})})}getFilterInstanceImpl(e){var s;const t=this.columnModel.getColDefCol(e);return t?((s=this.getOrCreateFilterWrapper(t))==null?void 0:s.filterPromise)??vi.resolve(null):vi.resolve(void 0)}processFilterModelUpdateQueue(){this.filterModelUpdateQueue.forEach(({model:e,source:t})=>this.setFilterModel(e,t)),this.filterModelUpdateQueue=[],this.columnFilterModelUpdateQueue.forEach(({key:e,model:t,resolve:i})=>{this.setColumnFilterModel(e,t).then(()=>i())}),this.columnFilterModelUpdateQueue=[]}getColumnFilterModel(e){const t=this.getFilterWrapper(e);return t?this.getModelFromFilterWrapper(t):null}setColumnFilterModel(e,t){var r;if((r=this.dataTypeService)!=null&&r.isPendingInference()){let o=()=>{};const a=new Promise(l=>{o=l});return this.columnFilterModelUpdateQueue.push({key:e,model:t,resolve:o}),a}const i=this.columnModel.getColDefCol(e),s=i?this.getOrCreateFilterWrapper(i):null;return s?(o=>new Promise(a=>{o.then(l=>a(l))}))(this.setModelOnFilterWrapper(s.filterPromise,t)):Promise.resolve()}getFilterWrapper(e){const t=this.columnModel.getColDefCol(e);return t?this.cachedFilter(t)??null:null}setColDefPropertiesForDataType(e,t,i){const s=u0(this.gos),n=this.localeService.getLocaleTextFunc(),r=o=>{const{filterParams:a}=e;e.filterParams=typeof a=="object"?{...a,...o}:o};switch(t.baseDataType){case"number":{s&&r({comparator:(o,a)=>{const l=o==null?0:parseInt(o),d=a==null?0:parseInt(a);return l===d?0:l>d?1:-1}});break}case"boolean":{r(s?{valueFormatter:o=>ve(o.value)?n(String(o.value),o.value?"True":"False"):n("blanks","(Blanks)")}:{maxNumConditions:1,debounceMs:0,filterOptions:["empty",{displayKey:"true",displayName:"True",predicate:(o,a)=>a,numberOfInputs:0},{displayKey:"false",displayName:"False",predicate:(o,a)=>a===!1,numberOfInputs:0}]});break}case"date":{s&&r({valueFormatter:o=>{const a=i(o);return ve(a)?a:n("blanks","(Blanks)")},treeList:!0,treeListFormatter:(o,a)=>{if(a===1&&o!=null){const l=wk[Number(o)-1];return n(l,Sk[l])}return o??n("blanks","(Blanks)")}});break}case"dateString":{const o=t.dateParser;r(s?{valueFormatter:a=>{const l=i(a);return ve(l)?l:n("blanks","(Blanks)")},treeList:!0,treeListPathGetter:a=>{const l=o(a??void 0);return l?[String(l.getFullYear()),String(l.getMonth()+1),String(l.getDate())]:null},treeListFormatter:(a,l)=>{if(l===1&&a!=null){const d=wk[Number(a)-1];return n(d,Sk[d])}return a??n("blanks","(Blanks)")}}:{comparator:(a,l)=>{const d=o(l);return l==null||d<a?-1:d>a?1:0}});break}case"object":{s?r({valueFormatter:o=>{const a=i(o);return ve(a)?a:n("blanks","(Blanks)")}}):e.filterValueGetter=o=>i({column:o.column,node:o.node,value:this.valueService.getValue(o.column,o.node)});break}}}destroy(){super.destroy(),this.allColumnFilters.forEach(e=>this.disposeFilterWrapper(e,"gridDestroyed")),this.allColumnListeners.clear()}};function E9(e){var t;return!!((t=e.filterManager)!=null&&t.isAnyFilterPresent())}function A9(e,t="api"){var i;(i=e.filterManager)==null||i.onFilterChanged({source:t})}var T9=class extends Ht{constructor(){super(`
            <div class="ag-floating-filter-input" role="presentation">
                <ag-input-text-field data-ref="eFloatingFilterText"></ag-input-text-field>
            </div>`,[xC]),this.eFloatingFilterText=Ie}wireBeans(e){this.columnNameService=e.columnNameService}destroy(){super.destroy()}init(e){this.params=e;const t=this.columnNameService.getDisplayNameForColumn(e.column,"header",!0),i=this.localeService.getLocaleTextFunc();this.eFloatingFilterText.setDisabled(!0).setInputAriaLabel(`${t} ${i("ariaFilterInput","Filter Input")}`)}onParentModelChanged(e){if(e==null){this.eFloatingFilterText.setValue("");return}this.params.parentFilterInstance(t=>{if(t.getModelAsString){const i=t.getModelAsString(e);this.eFloatingFilterText.setValue(i)}})}onParamsUpdated(e){this.refresh(e)}refresh(e){this.init(e)}},PN=class extends Ht{wireBeans(e){this.columnNameService=e.columnNameService}getDefaultDebounceMs(){return 0}destroy(){super.destroy()}isEventFromFloatingFilter(e){return e&&e.afterFloatingFilter}isEventFromDataChange(e){return e==null?void 0:e.afterDataChange}getLastType(){return this.lastType}isReadOnly(){return this.readOnly}setLastTypeFromModel(e){if(!e){this.lastType=this.optionsFactory.getDefaultOption();return}const t=e.operator;let i;t?i=e.conditions[0]:i=e,this.lastType=i.type}canWeEditAfterModelFromParentFilter(e){if(!e)return this.isTypeEditable(this.lastType);if(e.operator)return!1;const i=e;return this.isTypeEditable(i.type)}init(e){this.setSimpleParams(e,!1)}setSimpleParams(e,t=!0){this.optionsFactory=new mN,this.optionsFactory.init(e.filterParams,this.getDefaultFilterOptions()),t||(this.lastType=this.optionsFactory.getDefaultOption()),this.readOnly=!!e.filterParams.readOnly;const i=this.isTypeEditable(this.optionsFactory.getDefaultOption());this.setEditable(i)}onParamsUpdated(e){this.refresh(e)}refresh(e){this.setSimpleParams(e)}doesFilterHaveSingleInput(e){const t=this.optionsFactory.getCustomOption(e),{numberOfInputs:i}=t||{};return i==null||i==1}isTypeEditable(e){const t=["inRange","empty","blank","notBlank"];return!!e&&!this.isReadOnly()&&this.doesFilterHaveSingleInput(e)&&t.indexOf(e)<0}getAriaLabel(e){const t=this.columnNameService.getDisplayNameForColumn(e.column,"header",!0),i=this.localeService.getLocaleTextFunc();return`${t} ${i("ariaFilterInput","Filter Input")}`}},I9=class extends PN{constructor(){super(`
            <div class="ag-floating-filter-input" role="presentation">
                <ag-input-text-field data-ref="eReadOnlyText"></ag-input-text-field>
                <div data-ref="eDateWrapper" style="display: flex;"></div>
            </div>`,[xC]),this.eReadOnlyText=Ie,this.eDateWrapper=Ie}wireBeans(e){super.wireBeans(e),this.context=e.context,this.userComponentFactory=e.userComponentFactory}getDefaultFilterOptions(){return EN}init(e){super.init(e),this.params=e,this.filterParams=e.filterParams,this.createDateComponent(),this.filterModelFormatter=new AN(this.filterParams,this.localeService,this.optionsFactory);const t=this.localeService.getLocaleTextFunc();this.eReadOnlyText.setDisabled(!0).setInputAriaLabel(t("ariaDateFilterInput","Date Filter Input"))}onParamsUpdated(e){this.refresh(e)}refresh(e){super.refresh(e),this.params=e,this.filterParams=e.filterParams,this.updateDateComponent(),this.filterModelFormatter.updateParams({optionsFactory:this.optionsFactory,dateFilterParams:this.filterParams}),this.updateCompOnModelChange(e.currentParentModel())}updateCompOnModelChange(e){const t=!this.isReadOnly()&&this.canWeEditAfterModelFromParentFilter(e);if(this.setEditable(t),t){if(e){const i=e;this.dateComp.setDate(sn(i.dateFrom))}else this.dateComp.setDate(null);this.eReadOnlyText.setValue("")}else this.eReadOnlyText.setValue(this.filterModelFormatter.getModelAsString(e)),this.dateComp.setDate(null)}setEditable(e){oi(this.eDateWrapper,e),oi(this.eReadOnlyText.getGui(),!e)}onParentModelChanged(e,t){this.isEventFromFloatingFilter(t)||this.isEventFromDataChange(t)||(super.setLastTypeFromModel(e),this.updateCompOnModelChange(e))}onDateChanged(){const e=this.dateComp.getDate(),t=nr(e);this.params.parentFilterInstance(i=>{if(i){const s=sn(t);i.onFloatingFilterChanged(this.getLastType()||null,s)}})}getDateComponentParams(){const e=WD(this.params.filterParams,this.getDefaultDebounceMs());return{onDateChanged:Hs(this.onDateChanged.bind(this),e),filterParams:this.params.column.getColDef().filterParams}}createDateComponent(){this.dateComp=new RN(this.context,this.userComponentFactory,this.getDateComponentParams(),this.eDateWrapper,e=>{e.setInputAriaLabel(this.getAriaLabel(this.params))}),this.addDestroyFunc(()=>this.dateComp.destroy())}updateDateComponent(){const e=this.gos.addGridCommonParams(this.getDateComponentParams());this.dateComp.updateParams(e)}getFilterModelFormatter(){return this.filterModelFormatter}},L9=class extends Ht{constructor(){super(`
            <div class="ag-filter-filter">
                <ag-input-text-field class="ag-date-filter" data-ref="eDateInput"></ag-input-text-field>
            </div>`,[xC]),this.eDateInput=Ie}destroy(){super.destroy()}init(e){this.params=e,this.setParams(e);const t=this.eDateInput.getInputElement();this.addManagedListeners(t,{mouseDown:()=>{this.eDateInput.isDisabled()||this.usingSafariDatePicker||t.focus()},input:i=>{i.target===ui(this.gos)&&(this.eDateInput.isDisabled()||this.params.onDateChanged())}})}setParams(e){const t=this.eDateInput.getInputElement(),i=this.shouldUseBrowserDatePicker(e);this.usingSafariDatePicker=i&&uo(),t.type=i?"date":"text";const{minValidYear:s,maxValidYear:n,minValidDate:r,maxValidDate:o}=e.filterParams||{};if(r&&s&&ae("DateFilter should not have both minValidDate and minValidYear parameters set at the same time! minValidYear will be ignored."),o&&n&&ae("DateFilter should not have both maxValidDate and maxValidYear parameters set at the same time! maxValidYear will be ignored."),r&&o){const[a,l]=[r,o].map(d=>d instanceof Date?d:sn(d));a&&l&&a.getTime()>l.getTime()&&ae("DateFilter parameter minValidDate should always be lower than or equal to parameter maxValidDate.")}r?r instanceof Date?t.min=up(r):t.min=r:s&&(t.min=`${s}-01-01`),o?o instanceof Date?t.max=up(o):t.max=o:n&&(t.max=`${n}-12-31`)}onParamsUpdated(e){this.refresh(e)}refresh(e){this.params=e,this.setParams(e)}getDate(){return sn(this.eDateInput.getValue())}setDate(e){this.eDateInput.setValue(nr(e,!1))}setInputPlaceholder(e){this.eDateInput.setInputPlaceholder(e)}setInputAriaLabel(e){this.eDateInput.setAriaLabel(e)}setDisabled(e){this.eDateInput.setDisabled(e)}afterGuiAttached(e){(!e||!e.suppressFocus)&&this.eDateInput.getInputElement().focus()}shouldUseBrowserDatePicker(e){return e.filterParams&&e.filterParams.browserDatePicker!=null?e.filterParams.browserDatePicker:OD()||FD()||uo()&&$F()>=14.1}},ON=class extends re{constructor(e){super(),this.params=e,this.eFloatingFilterTextInput=Ie,this.valueChangedListener=()=>{}}setupGui(e){var s;this.eFloatingFilterTextInput=this.createManagedBean(new ru((s=this.params)==null?void 0:s.config));const t=this.eFloatingFilterTextInput.getGui();e.appendChild(t);const i=n=>this.valueChangedListener(n);this.addManagedListeners(t,{input:i,keydown:i})}setEditable(e){this.eFloatingFilterTextInput.setDisabled(!e)}setAutoComplete(e){this.eFloatingFilterTextInput.setAutoComplete(e)}getValue(){return this.eFloatingFilterTextInput.getValue()}setValue(e,t){this.eFloatingFilterTextInput.setValue(e,t)}setValueChangedListener(e){this.valueChangedListener=e}setParams(e){this.setAriaLabel(e.ariaLabel),e.autoComplete!==void 0&&this.setAutoComplete(e.autoComplete)}setAriaLabel(e){this.eFloatingFilterTextInput.setInputAriaLabel(e)}},FN=class extends PN{constructor(){super(...arguments),this.eFloatingFilterInputContainer=Ie}postConstruct(){this.setTemplate(`
            <div class="ag-floating-filter-input" role="presentation" data-ref="eFloatingFilterInputContainer"></div>
        `)}getDefaultDebounceMs(){return 500}onParentModelChanged(e,t){this.isEventFromFloatingFilter(t)||this.isEventFromDataChange(t)||(this.setLastTypeFromModel(e),this.setEditable(this.canWeEditAfterModelFromParentFilter(e)),this.floatingFilterInputService.setValue(this.getFilterModelFormatter().getModelAsString(e)))}init(e){this.setupFloatingFilterInputService(e),super.init(e),this.setTextInputParams(e)}setupFloatingFilterInputService(e){this.floatingFilterInputService=this.createFloatingFilterInputService(e),this.floatingFilterInputService.setupGui(this.eFloatingFilterInputContainer)}setTextInputParams(e){this.params=e;const t=e.browserAutoComplete??!1;if(this.floatingFilterInputService.setParams({ariaLabel:this.getAriaLabel(e),autoComplete:t}),this.applyActive=Ay(this.params.filterParams),!this.isReadOnly()){const i=WD(this.params.filterParams,this.getDefaultDebounceMs()),s=Hs(this.syncUpWithParentFilter.bind(this),i);this.floatingFilterInputService.setValueChangedListener(s)}}onParamsUpdated(e){this.refresh(e)}refresh(e){super.refresh(e),this.setTextInputParams(e)}recreateFloatingFilterInputService(e){const t=this.floatingFilterInputService.getValue();Rn(this.eFloatingFilterInputContainer),this.destroyBean(this.floatingFilterInputService),this.setupFloatingFilterInputService(e),this.floatingFilterInputService.setValue(t,!0)}syncUpWithParentFilter(e){const t=e.key===te.ENTER;if(this.applyActive&&!t)return;let i=this.floatingFilterInputService.getValue();this.params.filterParams.trimInput&&(i=MN(i),this.floatingFilterInputService.setValue(i,!0)),this.params.parentFilterInstance(s=>{s&&s.onFloatingFilterChanged(this.getLastType()||null,i||null)})}setEditable(e){this.floatingFilterInputService.setEditable(e)}},k9=class extends re{constructor(){super(...arguments),this.valueChangedListener=()=>{},this.numberInputActive=!0}setupGui(e){this.eFloatingFilterNumberInput=this.createManagedBean(new $D),this.eFloatingFilterTextInput=this.createManagedBean(new ru),this.eFloatingFilterTextInput.setDisabled(!0);const t=this.eFloatingFilterNumberInput.getGui(),i=this.eFloatingFilterTextInput.getGui();e.appendChild(t),e.appendChild(i),this.setupListeners(t,s=>this.valueChangedListener(s)),this.setupListeners(i,s=>this.valueChangedListener(s))}setEditable(e){this.numberInputActive=e,this.eFloatingFilterNumberInput.setDisplayed(this.numberInputActive),this.eFloatingFilterTextInput.setDisplayed(!this.numberInputActive)}setAutoComplete(e){this.eFloatingFilterNumberInput.setAutoComplete(e),this.eFloatingFilterTextInput.setAutoComplete(e)}getValue(){return this.getActiveInputElement().getValue()}setValue(e,t){this.getActiveInputElement().setValue(e,t)}getActiveInputElement(){return this.numberInputActive?this.eFloatingFilterNumberInput:this.eFloatingFilterTextInput}setValueChangedListener(e){this.valueChangedListener=e}setupListeners(e,t){this.addManagedListeners(e,{input:t,keydown:t})}setParams(e){this.setAriaLabel(e.ariaLabel),e.autoComplete!==void 0&&this.setAutoComplete(e.autoComplete)}setAriaLabel(e){this.eFloatingFilterNumberInput.setInputAriaLabel(e),this.eFloatingFilterTextInput.setInputAriaLabel(e)}},P9=class extends FN{init(e){var t;super.init(e),this.filterModelFormatter=new SN(this.localeService,this.optionsFactory,(t=e.filterParams)==null?void 0:t.numberFormatter)}onParamsUpdated(e){this.refresh(e)}refresh(e){fM(e.filterParams)!==this.allowedCharPattern&&this.recreateFloatingFilterInputService(e),super.refresh(e),this.filterModelFormatter.updateParams({optionsFactory:this.optionsFactory})}getDefaultFilterOptions(){return bN}getFilterModelFormatter(){return this.filterModelFormatter}createFloatingFilterInputService(e){return this.allowedCharPattern=fM(e.filterParams),this.allowedCharPattern?this.createManagedBean(new ON({config:{allowedCharPattern:this.allowedCharPattern}})):this.createManagedBean(new k9)}},O9=class extends FN{init(e){super.init(e),this.filterModelFormatter=new xN(this.localeService,this.optionsFactory)}onParamsUpdated(e){this.refresh(e)}refresh(e){super.refresh(e),this.filterModelFormatter.updateParams({optionsFactory:this.optionsFactory})}getDefaultFilterOptions(){return wN}getFilterModelFormatter(){return this.filterModelFormatter}createFloatingFilterInputService(){return this.createManagedBean(new ON)}};function F9(e){var t;return!!((t=e.filterManager)!=null&&t.isQuickFilterPresent())}function N9(e){return e.gos.get("quickFilterText")}function z9(e){var t;(t=e.filterManager)==null||t.resetQuickFilterCache()}var B9=class extends re{constructor(){super(...arguments),this.beanName="quickFilterService",this.quickFilter=null,this.quickFilterParts=null}wireBeans(e){this.valueService=e.valueService,this.columnModel=e.columnModel,this.rowModel=e.rowModel,this.pivotResultColsService=e.pivotResultColsService}postConstruct(){const e=this.resetQuickFilterCache.bind(this);this.addManagedEventListeners({columnPivotModeChanged:e,newColumnsLoaded:e,columnRowGroupChanged:e,columnVisible:()=>{this.gos.get("includeHiddenColumnsInQuickFilter")||this.resetQuickFilterCache()}}),this.addManagedPropertyListener("quickFilterText",t=>this.setQuickFilter(t.currentValue)),this.addManagedPropertyListeners(["includeHiddenColumnsInQuickFilter","applyQuickFilterBeforePivotOrAgg"],()=>this.onQuickFilterColumnConfigChanged()),this.quickFilter=this.parseQuickFilter(this.gos.get("quickFilterText")),this.parser=this.gos.get("quickFilterParser"),this.matcher=this.gos.get("quickFilterMatcher"),this.setQuickFilterParts(),this.addManagedPropertyListeners(["quickFilterMatcher","quickFilterParser"],()=>this.setQuickFilterParserAndMatcher())}refreshQuickFilterCols(){var n;const e=this.columnModel.isPivotMode(),t=this.columnModel.getAutoCols(),i=this.columnModel.getColDefCols();let s=(e&&!this.gos.get("applyQuickFilterBeforePivotOrAgg")?(n=this.pivotResultColsService.getPivotResultCols())==null?void 0:n.list:i)??[];t&&(s=s.concat(t)),this.colsForQuickFilter=this.gos.get("includeHiddenColumnsInQuickFilter")?s:s.filter(r=>r.isVisible()||r.isRowGroupActive())}isQuickFilterPresent(){return this.quickFilter!==null}doesRowPassQuickFilter(e){const t=this.gos.get("cacheQuickFilter");return this.matcher?this.doesRowPassQuickFilterMatcher(t,e):this.quickFilterParts.every(i=>t?this.doesRowPassQuickFilterCache(e,i):this.doesRowPassQuickFilterNoCache(e,i))}resetQuickFilterCache(){this.rowModel.forEachNode(e=>e.quickFilterAggregateText=null)}setQuickFilterParts(){const{quickFilter:e,parser:t}=this;e?this.quickFilterParts=t?t(e):e.split(" "):this.quickFilterParts=null}parseQuickFilter(e){return ve(e)?Ut(this.gos)?e.toUpperCase():(ae("Quick filtering only works with the Client-Side Row Model"),null):null}setQuickFilter(e){if(e!=null&&typeof e!="string"){ae(`Grid option quickFilterText only supports string inputs, received: ${typeof e}`);return}const t=this.parseQuickFilter(e);this.quickFilter!==t&&(this.quickFilter=t,this.setQuickFilterParts(),this.dispatchLocalEvent({type:"quickFilterChanged"}))}setQuickFilterParserAndMatcher(){const e=this.gos.get("quickFilterParser"),t=this.gos.get("quickFilterMatcher"),i=e!==this.parser||t!==this.matcher;this.parser=e,this.matcher=t,i&&(this.setQuickFilterParts(),this.dispatchLocalEvent({type:"quickFilterChanged"}))}onQuickFilterColumnConfigChanged(){this.refreshQuickFilterCols(),this.resetQuickFilterCache(),this.isQuickFilterPresent()&&this.dispatchLocalEvent({type:"quickFilterChanged"})}doesRowPassQuickFilterNoCache(e,t){return this.colsForQuickFilter.some(i=>{const s=this.getQuickFilterTextForColumn(i,e);return ve(s)&&s.indexOf(t)>=0})}doesRowPassQuickFilterCache(e,t){return this.checkGenerateQuickFilterAggregateText(e),e.quickFilterAggregateText.indexOf(t)>=0}doesRowPassQuickFilterMatcher(e,t){let i;e?(this.checkGenerateQuickFilterAggregateText(t),i=t.quickFilterAggregateText):i=this.getQuickFilterAggregateText(t);const{quickFilterParts:s,matcher:n}=this;return n(s,i)}checkGenerateQuickFilterAggregateText(e){e.quickFilterAggregateText||(e.quickFilterAggregateText=this.getQuickFilterAggregateText(e))}getQuickFilterTextForColumn(e,t){let i=this.valueService.getValue(e,t,!0);const s=e.getColDef();if(s.getQuickFilterText){const n=this.gos.addGridCommonParams({value:i,node:t,data:t.data,column:e,colDef:s});i=s.getQuickFilterText(n)}return ve(i)?i.toString().toUpperCase():null}getQuickFilterAggregateText(e){const t=[];return this.colsForQuickFilter.forEach(i=>{const s=this.getQuickFilterTextForColumn(i,e);ve(s)&&t.push(s)}),t.join(`
`)}},ZD={version:Oe,moduleName:"@ag-grid-community/filter-core",beans:[H7]},G9={version:Oe,moduleName:"@ag-grid-community/filter-api",apiFunctions:{isAnyFilterPresent:E9,onFilterChanged:A9},dependantModules:[ZD]},XD={version:Oe,moduleName:"@ag-grid-community/column-filter",beans:[R9],dependantModules:[ZD]},H9={version:Oe,moduleName:"@ag-grid-community/column-filter-api",apiFunctions:{isColumnFilterPresent:m9,getFilterInstance:v9,getColumnFilterInstance:y9,destroyFilter:C9,setFilterModel:b9,getFilterModel:S9,getColumnFilterModel:w9,setColumnFilterModel:x9,showColumnFilter:M9},dependantModules:[XD,G9]},NN={version:Oe,moduleName:"@ag-grid-community/floating-filter-core",controllers:[{name:"headerFilterCell",classImp:f9}],dependantModules:[XD]},j9={version:Oe,moduleName:"@ag-grid-community/read-only-floating-filter",userComponents:[{name:"agReadOnlyFloatingFilter",classImp:T9}],dependantModules:[NN]},V9={version:Oe,moduleName:"@ag-grid-community/simple-filter",dependantModules:[XD],userComponents:[{name:"agTextColumnFilter",classImp:o9},{name:"agNumberColumnFilter",classImp:r9},{name:"agDateColumnFilter",classImp:c9},{name:"agDateInput",classImp:L9}]},_9={version:Oe,moduleName:"@ag-grid-community/simple-floating-filter",dependantModules:[V9,NN],userComponents:[{name:"agTextColumnFloatingFilter",classImp:O9},{name:"agNumberColumnFloatingFilter",classImp:P9},{name:"agDateColumnFloatingFilter",classImp:I9}]},zN={version:Oe,moduleName:"@ag-grid-community/quick-filter-core",beans:[B9],dependantModules:[ZD]},W9={version:Oe,moduleName:"@ag-grid-community/quick-filter-api",apiFunctions:{isQuickFilterPresent:F9,getQuickFilter:N9,resetQuickFilter:z9},dependantModules:[zN]},U9={version:Oe,moduleName:"@ag-grid-community/quick-filter",dependantModules:[zN,W9]},$9={version:Oe,moduleName:"@ag-grid-community/filter",dependantModules:[_9,j9,U9,H9]},mM=(e=>(e.COLUMN_GROUP="group",e.COLUMN="column",e.FLOATING_FILTER="filter",e))(mM||{}),Y9=class extends re{constructor(){super(...arguments),this.beanName="headerNavigationService",this.currentHeaderRowWithoutSpan=-1}wireBeans(e){this.focusService=e.focusService,this.headerPositionUtils=e.headerPositionUtils,this.ctrlsService=e.ctrlsService,this.columnModel=e.columnModel,this.visibleColService=e.visibleColsService}postConstruct(){this.ctrlsService.whenReady(this,t=>{this.gridBodyCon=t.gridBodyCtrl});const e=yi(this.gos);this.addManagedElementListeners(e,{mousedown:()=>this.setCurrentHeaderRowWithoutSpan(-1)})}getHeaderRowCount(){var e;return((e=this.ctrlsService.getHeaderRowContainerCtrl())==null?void 0:e.getRowCount())??0}getHeaderPositionForColumn(e,t){let i;if(typeof e=="string"?(i=this.columnModel.getCol(e),i||(i=this.visibleColService.getColumnGroup(e))):i=e,!i)return null;const s=this.ctrlsService.getHeaderRowContainerCtrl(),n=s==null?void 0:s.getAllCtrls(),r=nt(n||[]).getType()==="filter",o=this.getHeaderRowCount()-1;let a=-1,l=i;for(;l;)a++,l=l.getParent();let d=a;return t&&r&&d===o-1&&d++,d===-1?null:{headerRowIndex:d,column:i}}navigateVertically(e,t,i){if(t||(t=this.focusService.getFocusedHeader()),!t)return!1;const{headerRowIndex:s}=t,n=t.column,r=this.getHeaderRowCount(),o=e===0;let{headerRowIndex:a,column:l,headerRowIndexWithoutSpan:d}=o?this.headerPositionUtils.getColumnVisibleParent(n,s):this.headerPositionUtils.getColumnVisibleChild(n,s),h=!1;return a<0&&(a=0,l=n,h=!0),a>=r?(a=-1,this.setCurrentHeaderRowWithoutSpan(-1)):d!==void 0&&(this.currentHeaderRowWithoutSpan=d),!h&&!l?!1:this.focusService.focusHeaderPosition({headerPosition:{headerRowIndex:a,column:l},allowUserOverride:!0,event:i})}setCurrentHeaderRowWithoutSpan(e){this.currentHeaderRowWithoutSpan=e}navigateHorizontally(e,t=!1,i){const s=this.focusService.getFocusedHeader(),n=e===2,r=this.gos.get("enableRtl");let o,a;if(this.currentHeaderRowWithoutSpan!==-1?s.headerRowIndex=this.currentHeaderRowWithoutSpan:this.currentHeaderRowWithoutSpan=s.headerRowIndex,n!==r?(a="Before",o=this.headerPositionUtils.findHeader(s,a)):(a="After",o=this.headerPositionUtils.findHeader(s,a)),o||!t)return this.focusService.focusHeaderPosition({headerPosition:o,direction:a,fromTab:t,allowUserOverride:!0,event:i});if(t){const l=this.gos.getCallback("tabToNextHeader");if(l)return this.focusService.focusHeaderPositionFromUserFunc({userFunc:l,headerPosition:o,direction:a})}return this.focusNextHeaderRow(s,a,i)}focusNextHeaderRow(e,t,i){const s=e.headerRowIndex;let n=null,r;if(t==="Before"?s>0&&(r=s-1,this.currentHeaderRowWithoutSpan-=1,n=this.headerPositionUtils.findColAtEdgeForHeaderRow(r,"end")):(r=s+1,this.currentHeaderRowWithoutSpan<this.getHeaderRowCount()?this.currentHeaderRowWithoutSpan+=1:this.setCurrentHeaderRowWithoutSpan(-1),n=this.headerPositionUtils.findColAtEdgeForHeaderRow(r,"start")),!n)return!1;const{column:o,headerRowIndex:a}=this.headerPositionUtils.getHeaderIndexToFocus(n.column,n==null?void 0:n.headerRowIndex);return this.focusService.focusHeaderPosition({headerPosition:{column:o,headerRowIndex:a},direction:t,fromTab:!0,allowUserOverride:!0,event:i})}scrollToColumn(e,t="After"){if(e.getPinned())return;let i;if(Ei(e)){const s=e.getDisplayedLeafColumns();i=t==="Before"?nt(s):s[0]}else i=e;this.gridBodyCon.getScrollFeature().ensureColumnVisible(i)}},K9=class extends re{wireBeans(e){this.animationFrameService=e.animationFrameService,this.headerNavigationService=e.headerNavigationService,this.focusService=e.focusService,this.columnModel=e.columnModel,this.visibleColsService=e.visibleColsService,this.ctrlsService=e.ctrlsService,this.filterManager=e.filterManager,this.menuService=e.menuService}setComp(e,t,i){this.comp=e,this.eGui=t,this.createManagedBean(new nu(i,{onTabKeyDown:this.onTabKeyDown.bind(this),handleKeyDown:this.handleKeyDown.bind(this),onFocusOut:this.onFocusOut.bind(this)})),this.addManagedEventListeners({columnPivotModeChanged:this.onPivotModeChanged.bind(this),displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this)}),this.onPivotModeChanged(),this.setupHeaderHeight();const s=this.onHeaderContextMenu.bind(this);this.addManagedElementListeners(this.eGui,{contextmenu:s}),this.mockContextMenuForIPad(s),this.ctrlsService.register("gridHeaderCtrl",this)}setupHeaderHeight(){const e=this.setHeaderHeight.bind(this);e(),this.addManagedPropertyListeners(["headerHeight","pivotHeaderHeight","groupHeaderHeight","pivotGroupHeaderHeight","floatingFiltersHeight"],e),this.addManagedEventListeners({displayedColumnsChanged:e,columnHeaderHeightChanged:e,columnGroupHeaderHeightChanged:()=>this.animationFrameService.requestAnimationFrame(()=>e()),gridStylesChanged:e,advancedFilterEnabledChanged:e})}getHeaderHeight(){return this.headerHeight}setHeaderHeight(){var r;const{columnModel:e}=this;let t=0;const i=this.columnModel.getGroupRowsHeight().reduce((o,a)=>o+a,0),s=this.columnModel.getColumnHeaderRowHeight();if((r=this.filterManager)!=null&&r.hasFloatingFilters()&&(t+=e.getFloatingFiltersHeight()),t+=i,t+=s,this.headerHeight===t)return;this.headerHeight=t;const n=`${t+1}px`;this.comp.setHeightAndMinHeight(n),this.eventService.dispatchEvent({type:"headerHeightChanged"})}onPivotModeChanged(){const e=this.columnModel.isPivotMode();this.comp.addOrRemoveCssClass("ag-pivot-on",e),this.comp.addOrRemoveCssClass("ag-pivot-off",!e)}onDisplayedColumnsChanged(){const t=this.visibleColsService.getAllCols().some(i=>i.isSpanHeaderHeight());this.comp.addOrRemoveCssClass("ag-header-allow-overflow",t)}onTabKeyDown(e){const t=this.gos.get("enableRtl"),i=e.shiftKey,s=i!==t?2:3;(this.headerNavigationService.navigateHorizontally(s,!0,e)||!i&&this.focusService.focusOverlay(!1)||this.focusService.focusNextGridCoreContainer(i,!0))&&e.preventDefault()}handleKeyDown(e){let t=null;switch(e.key){case te.LEFT:t=2;case te.RIGHT:{ve(t)||(t=3),this.headerNavigationService.navigateHorizontally(t,!1,e)&&e.preventDefault();break}case te.UP:t=0;case te.DOWN:{ve(t)||(t=1),this.headerNavigationService.navigateVertically(t,null,e)&&e.preventDefault();break}default:return}}onFocusOut(e){const{relatedTarget:t}=e;!t&&this.eGui.contains(ui(this.gos))||this.eGui.contains(t)||this.focusService.clearFocusedHeader()}onHeaderContextMenu(e,t,i){var n;if(!e&&!i||!this.menuService.isHeaderContextMenuEnabled())return;const{target:s}=e??t;(s===this.eGui||s===((n=this.ctrlsService.getHeaderRowContainerCtrl())==null?void 0:n.getViewportElement()))&&this.menuService.showHeaderContextMenu(void 0,e,i)}mockContextMenuForIPad(e){if(!Il())return;const t=new pl(this.eGui),i=s=>{e(void 0,s.touchStart,s.touchEvent)};this.addManagedListeners(t,{longTap:i}),this.addDestroyFunc(()=>t.destroy())}},QD=class extends re{constructor(e,t=!1){super(),this.callback=e,this.addSpacer=t}wireBeans(e){this.visibleColsService=e.visibleColsService,this.scrollVisibleService=e.scrollVisibleService}postConstruct(){const e=this.setWidth.bind(this);this.addManagedPropertyListener("domLayout",e),this.addManagedEventListeners({columnContainerWidthChanged:e,displayedColumnsChanged:e,leftPinnedWidthChanged:e}),this.addSpacer&&this.addManagedEventListeners({rightPinnedWidthChanged:e,scrollVisibilityChanged:e,scrollbarWidthChanged:e}),this.setWidth()}setWidth(){const e=ys(this.gos,"print"),t=this.visibleColsService.getBodyContainerWidth(),i=this.visibleColsService.getColsLeftWidth(),s=this.visibleColsService.getDisplayedColumnsRightWidth();let n;e?n=t+i+s:(n=t,this.addSpacer&&(this.gos.get("enableRtl")?i:s)===0&&this.scrollVisibleService.isVerticalScrollShowing()&&(n+=this.scrollVisibleService.getScrollbarWidth())),this.callback(n)}},q9=class extends re{constructor(e){super(),this.columnsToAggregate=[],this.columnsToGroup=[],this.columnsToPivot=[],this.pinned=e}wireBeans(e){this.funcColsService=e.funcColsService}onDragEnter(e){if(this.clearColumnsList(),this.gos.get("functionsReadOnly"))return;const t=e.dragItem.columns;t&&t.forEach(i=>{i.isPrimary()&&(i.isAnyFunctionActive()||(i.isAllowValue()?this.columnsToAggregate.push(i):i.isAllowRowGroup()?this.columnsToGroup.push(i):i.isAllowPivot()&&this.columnsToPivot.push(i)))})}getIconName(){return this.columnsToAggregate.length+this.columnsToGroup.length+this.columnsToPivot.length>0?this.pinned?"pinned":"move":null}onDragLeave(e){this.clearColumnsList()}clearColumnsList(){this.columnsToAggregate.length=0,this.columnsToGroup.length=0,this.columnsToPivot.length=0}onDragging(e){}onDragStop(e){this.columnsToAggregate.length>0&&this.funcColsService.addValueColumns(this.columnsToAggregate,"toolPanelDragAndDrop"),this.columnsToGroup.length>0&&this.funcColsService.addRowGroupColumns(this.columnsToGroup,"toolPanelDragAndDrop"),this.columnsToPivot.length>0&&this.funcColsService.addPivotColumns(this.columnsToPivot,"toolPanelDragAndDrop")}onDragCancel(){this.clearColumnsList()}};function BN(e){const{isFromHeader:t,fromLeft:i,xPosition:s,fromEnter:n,fakeEvent:r,pinned:o,gos:a,columnModel:l,columnMoveService:d,visibleColsService:h}=e;let{allMovingColumns:p}=e;if(t){const T=[];p.forEach(k=>{var F;let P=null,O=k.getParent();for(;O!=null&&O.getDisplayedLeafColumns().length===1;)P=O,O=O.getParent();P!=null?(!!((F=P.getColGroupDef())!=null&&F.marryChildren)?P.getProvidedColumnGroup().getLeafColumns():P.getLeafColumns()).forEach(U=>{T.includes(U)||T.push(U)}):T.includes(k)||T.push(k)}),p=T}const f=p.slice();l.sortColsLikeCols(f);const v=J9({movingCols:f,draggingRight:i,xPosition:s,pinned:o,gos:a,columnModel:l,visibleColsService:h}),y=Z9(f,l);if(v.length===0)return;const S=v[0];let w=y!==null&&!n;if(t&&(w=y!==null),w&&!r&&(!i&&S>=y||i&&S<=y))return;const b=h.getAllCols(),x=[];let D=null;for(let T=0;T<v.length;T++){const k=v[T],P=d.getProposedColumnOrder(f,k);if(!d.doesOrderPassRules(P))continue;const O=P.filter(z=>b.includes(z));if(D===null)D=O;else if(!Tl(O,D))break;const F=X9(P);x.push({move:k,fragCount:F})}if(x.length===0)return;x.sort((T,k)=>T.fragCount-k.fragCount);const E=x[0].move;if(!(E>l.getCols().length-p.length))return{columns:p,toIndex:E}}function JD(e){const{columns:t,toIndex:i}=BN(e)||{},{finished:s,columnMoveService:n}=e;return!t||i==null?null:(n.moveColumns(t,i,"uiColumnMoved",s),s?null:{columns:t,toIndex:i})}function Z9(e,t){const i=t.getCols(),s=HU(e.map(l=>i.indexOf(l))),n=s[0];return nt(s)-n!==s.length-1?null:n}function X9(e){function t(s){const n=[];let r=s.getOriginalParent();for(;r!=null;)n.push(r),r=r.getOriginalParent();return n}let i=0;for(let s=0;s<e.length-1;s++){let n=t(e[s]),r=t(e[s+1]);[n,r]=n.length>r.length?[n,r]:[r,n],n.forEach(o=>{r.indexOf(o)===-1&&i++})}return i}function Q9(e,t){switch(t){case"left":return e.getLeftCols();case"right":return e.getRightCols();default:return e.getCenterCols()}}function J9(e){const{movingCols:t,draggingRight:i,xPosition:s,pinned:n,gos:r,columnModel:o,visibleColsService:a}=e;if(r.get("suppressMovableColumns")||t.some(D=>D.getColDef().suppressMovable))return[];const d=Q9(a,n),h=o.getCols(),p=d.filter(D=>Bc(t,D)),f=d.filter(D=>!Bc(t,D)),v=h.filter(D=>!Bc(t,D));let y=0,S=s;if(i){let D=0;p.forEach(E=>D+=E.getActualWidth()),S-=D}if(S>0){for(let D=0;D<f.length;D++){const E=f[D];if(S-=E.getActualWidth(),S<0)break;y++}i&&y++}let w;if(y>0){const D=f[y-1];w=v.indexOf(D)+1}else w=v.indexOf(f[0]),w===-1&&(w=0);const b=[w],x=(D,E)=>D-E;if(i){let D=w+1;const E=h.length-1;for(;D<=E;)b.push(D),D++;b.sort(x)}else{let D=w;const E=h.length-1;let T=h[D];for(;D<=E&&d.indexOf(T)<0;)D++,b.push(D),T=h[D];D=w-1;const k=0;for(;D>=k;)b.push(D),D--;b.sort(x).reverse()}return b}function Ty(e){var d;const{pinned:t,fromKeyboard:i,gos:s,ctrlsService:n,useHeaderRow:r,skipScrollPadding:o}=e;let a=(d=n.getHeaderRowContainerCtrl(t))==null?void 0:d.getViewportElement(),{x:l}=e;return a?(i&&(l-=a.getBoundingClientRect().left),s.get("enableRtl")&&(r&&(a=a.querySelector(".ag-header-row")),l=a.clientWidth-l),t==null&&!o&&(l+=n.get("center").getCenterViewportScrollLeft()),l):0}function Id(e,t){for(const i of e)i.setMoving(t,"uiColumnMoved")}var xk=7,vM=100,mv=vM/2,e$=5,t$=100,i$=class extends re{constructor(e){super(),this.needToMoveLeft=!1,this.needToMoveRight=!1,this.lastMovedInfo=null,this.pinned=e,this.isCenterContainer=!ve(e)}wireBeans(e){this.columnModel=e.columnModel,this.visibleColsService=e.visibleColsService,this.columnMoveService=e.columnMoveService,this.dragAndDropService=e.dragAndDropService,this.ctrlsService=e.ctrlsService}postConstruct(){this.ctrlsService.whenReady(this,e=>{this.gridBodyCon=e.gridBodyCtrl})}getIconName(){var t;const e=((t=this.lastDraggingEvent)==null?void 0:t.dragItem.columns)??[];for(const i of e){const s=i.getPinned();if(i.getColDef().lockPinned){if(s==this.pinned)return"move";continue}if(s===this.pinned||!this.pinned)return"move";if(!s&&this.pinned)return"pinned"}return"notAllowed"}onDragEnter(e){const t=e.dragItem.columns;if(e.dragSource.type===0)this.setColumnsVisible(t,!0,"uiColumnDragged");else{const s=e.dragItem.visibleState,n=(t||[]).filter(r=>s[r.getId()]);this.setColumnsVisible(n,!0,"uiColumnDragged")}this.gos.get("suppressMoveWhenColumnDragging")||this.attemptToPinColumns(t,this.pinned),this.onDragging(e,!0,!0)}onDragging(e=this.lastDraggingEvent,t=!1,i=!1,s=!1){const n=this.gos.get("suppressMoveWhenColumnDragging");if(s&&!n){this.finishColumnMoving();return}if(this.lastDraggingEvent=e,!e||!s&&rt(e.hDirection))return;const{pinned:r,gos:o,ctrlsService:a}=this,l=Ty({x:e.x,pinned:r,gos:o,ctrlsService:a});t||this.checkCenterForScrolling(l),n?this.handleColumnDragWhileSuppressingMovement(e,t,i,l,s):this.handleColumnDragWhileAllowingMovement(e,t,i,l,s)}onDragLeave(){this.ensureIntervalCleared(),this.clearHighlighted(),this.lastMovedInfo=null}onDragStop(){this.onDragging(this.lastDraggingEvent,!1,!0,!0),this.ensureIntervalCleared(),this.lastMovedInfo=null}onDragCancel(){this.clearHighlighted(),this.ensureIntervalCleared(),this.lastMovedInfo=null}setColumnsVisible(e,t,i){if(!e)return;const s=e.filter(n=>!n.getColDef().lockVisible);this.columnModel.setColsVisible(s,t,i)}finishColumnMoving(){if(this.clearHighlighted(),!this.lastMovedInfo)return;const{columns:e,toIndex:t}=this.lastMovedInfo;this.columnMoveService.moveColumns(e,t,"uiColumnMoved",!0)}handleColumnDragWhileSuppressingMovement(e,t,i,s,n){const r=this.getAllMovingColumns(e,!0);if(n){const o=this.isAttemptingToPin(r);o&&this.attemptToPinColumns(r,void 0,!0);const{fromLeft:a,xPosition:l}=this.getNormalisedXPositionInfo(r,o)||{};if(a==null||l==null){this.finishColumnMoving();return}this.moveColumnsAfterHighlight({allMovingColumns:r,xPosition:l,fromEnter:t,fakeEvent:i,fromLeft:a})}else{if(!this.dragAndDropService.isDropZoneWithinThisGrid(e))return;this.highlightHoveredColumn(r,s)}}handleColumnDragWhileAllowingMovement(e,t,i,s,n){const r=this.getAllMovingColumns(e),o=this.normaliseDirection(e.hDirection)===1,a=e.dragSource.type===1,l=this.getMoveColumnParams({allMovingColumns:r,isFromHeader:a,xPosition:s,fromLeft:o,fromEnter:t,fakeEvent:i}),d=JD({...l,finished:n});d&&(this.lastMovedInfo=d)}getAllMovingColumns(e,t=!1){const i=e.dragSource.getDragItem();let s=null;t?(s=i.columnsInSplit,s||(s=i.columns)):s=i.columns;const n=r=>r.getColDef().lockPinned?r.getPinned()==this.pinned:!0;return s?s.filter(n):[]}getMoveColumnParams(e){const{allMovingColumns:t,isFromHeader:i,xPosition:s,fromLeft:n,fromEnter:r,fakeEvent:o}=e,{pinned:a,gos:l,columnModel:d,columnMoveService:h,visibleColsService:p}=this;return{allMovingColumns:t,isFromHeader:i,fromLeft:n,xPosition:s,pinned:a,fromEnter:r,fakeEvent:o,gos:l,columnModel:d,columnMoveService:h,visibleColsService:p}}findFirstAndLastMovingColumns(e){const t=e.length;let i,s;for(let n=0;n<=t;n++){if(!i){const r=e[n];r.getLeft()!=null&&(i=r)}if(!s){const r=e[t-1-n];r.getLeft()!=null&&(s=r)}if(i&&s)break}return{firstMovingCol:i,lastMovingCol:s}}highlightHoveredColumn(e,t){var h;const{gos:i,columnModel:s}=this,n=i.get("enableRtl"),r=s.getCols().filter(p=>p.isVisible()&&p.getPinned()===this.pinned);let o=null,a=null,l=null;for(const p of r){if(a=p.getActualWidth(),o=this.getNormalisedColumnLeft(p,0,n),o!=null){const f=o+a;if(o<=t&&f>=t){l=p;break}}o=null,a=null}if(l)e.indexOf(l)!==-1&&(l=null);else{for(let p=r.length-1;p>=0;p--){const f=r[p],v=r[p].getParent();if(!v){l=f;break}const y=v==null?void 0:v.getDisplayedLeafColumns();if(y.length){l=nt(y);break}}if(!l)return;o=this.getNormalisedColumnLeft(l,0,n),a=l.getActualWidth()}if(((h=this.lastHighlightedColumn)==null?void 0:h.column)!==l&&this.clearHighlighted(),l==null||o==null||a==null)return;let d;t-o<a/2!==n?d=0:d=1,l.setHighlighted(d),this.lastHighlightedColumn={column:l,position:d}}getNormalisedXPositionInfo(e,t){const{gos:i,visibleColsService:s}=this,n=i.get("enableRtl"),{firstMovingCol:r,column:o,position:a}=this.getColumnMoveAndTargetInfo(e,t,n);if(!r||!o||a==null)return;const l=s.getAllCols(),d=l.indexOf(r),h=l.indexOf(o),p=a===0!==n,f=d<h||d===h&&!p;let v=0;if(p?f&&(v-=1):f||(v+=1),h+v===d)return;const y=l[h+v];if(!y)return;const S=this.getNormalisedColumnLeft(y,20,n);return{fromLeft:f,xPosition:S}}getColumnMoveAndTargetInfo(e,t,i){const s=this.lastHighlightedColumn||{},{firstMovingCol:n,lastMovingCol:r}=this.findFirstAndLastMovingColumns(e);if(!n||!r||s.column||!t)return{firstMovingCol:n,...s};const a=this.getPinDirection()==="left";return{firstMovingCol:n,position:a?1:0,column:a!==i?n:r}}normaliseDirection(e){if(this.gos.get("enableRtl"))switch(e){case 0:return 1;case 1:return 0}return e}getNormalisedColumnLeft(e,t,i){const{gos:s,ctrlsService:n}=this,r=e.getLeft();if(r==null)return null;const o=e.getActualWidth();return Ty({x:i?r+o-t:r+t,pinned:e.getPinned(),useHeaderRow:i,skipScrollPadding:!0,gos:s,ctrlsService:n})}isAttemptingToPin(e){const t=this.needToMoveLeft||this.needToMoveRight,i=this.failedMoveAttempts>xk;return t&&i||e.some(s=>s.getPinned()!==this.pinned)}moveColumnsAfterHighlight(e){const{allMovingColumns:t,xPosition:i,fromEnter:s,fakeEvent:n,fromLeft:r}=e,o=this.getMoveColumnParams({allMovingColumns:t,isFromHeader:!0,xPosition:i,fromLeft:r,fromEnter:s,fakeEvent:n}),{columns:a,toIndex:l}=BN(o)||{};a&&l!=null&&(this.lastMovedInfo={columns:a,toIndex:l}),this.finishColumnMoving()}clearHighlighted(){this.lastHighlightedColumn&&(this.lastHighlightedColumn.column.setHighlighted(null),this.lastHighlightedColumn=null)}checkCenterForScrolling(e){if(!this.isCenterContainer)return;const t=this.ctrlsService.get("center"),i=t.getCenterViewportScrollLeft(),s=i+t.getCenterWidth();this.gos.get("enableRtl")?(this.needToMoveRight=e<i+mv,this.needToMoveLeft=e>s-mv):(this.needToMoveLeft=e<i+mv,this.needToMoveRight=e>s-mv),this.needToMoveLeft||this.needToMoveRight?this.ensureIntervalStarted():this.ensureIntervalCleared()}ensureIntervalStarted(){var e;this.movingIntervalId||(this.intervalCount=0,this.failedMoveAttempts=0,this.movingIntervalId=window.setInterval(this.moveInterval.bind(this),t$),(e=this.dragAndDropService.getDragAndDropImageComponent())==null||e.setIcon(this.needToMoveLeft?"left":"right",!0))}ensureIntervalCleared(){var e;this.movingIntervalId&&(window.clearInterval(this.movingIntervalId),this.movingIntervalId=null,this.failedMoveAttempts=0,(e=this.dragAndDropService.getDragAndDropImageComponent())==null||e.setIcon(this.getIconName()))}moveInterval(){var s,n;let e;this.intervalCount++,e=10+this.intervalCount*e$,e>vM&&(e=vM);let t=null;const i=this.gridBodyCon.getScrollFeature();if(this.needToMoveLeft?t=i.scrollHorizontally(-e):this.needToMoveRight&&(t=i.scrollHorizontally(e)),t!==0)this.onDragging(this.lastDraggingEvent),this.failedMoveAttempts=0;else{if(this.failedMoveAttempts++,this.failedMoveAttempts<=xk+1)return;if((s=this.dragAndDropService.getDragAndDropImageComponent())==null||s.setIcon("pinned"),!this.gos.get("suppressMoveWhenColumnDragging")){const r=(n=this.lastDraggingEvent)==null?void 0:n.dragItem.columns;this.attemptToPinColumns(r,void 0,!0)}}}getPinDirection(){if(this.needToMoveLeft||this.pinned==="left")return"left";if(this.needToMoveRight||this.pinned==="right")return"right"}attemptToPinColumns(e,t,i=!1){const s=(e||[]).filter(n=>!n.getColDef().lockPinned);return s.length?(i&&(t=this.getPinDirection()),this.columnModel.setColsPinned(s,t,"uiColumnDragged"),i&&this.dragAndDropService.nudge(),s.length):0}destroy(){super.destroy(),this.lastDraggingEvent=null,this.clearHighlighted(),this.lastMovedInfo=null}},s$=class extends re{wireBeans(e){this.dragAndDropService=e.dragAndDropService,this.columnModel=e.columnModel,this.ctrlsService=e.ctrlsService}constructor(e,t){super(),this.pinned=e,this.eContainer=t}postConstruct(){this.ctrlsService.whenReady(this,e=>{switch(this.pinned){case"left":this.eSecondaryContainers=[[e.gridBodyCtrl.getBodyViewportElement(),e.left.getContainerElement()],[e.bottomLeft.getContainerElement()],[e.topLeft.getContainerElement()]];break;case"right":this.eSecondaryContainers=[[e.gridBodyCtrl.getBodyViewportElement(),e.right.getContainerElement()],[e.bottomRight.getContainerElement()],[e.topRight.getContainerElement()]];break;default:this.eSecondaryContainers=[[e.gridBodyCtrl.getBodyViewportElement(),e.center.getViewportElement()],[e.bottomCenter.getViewportElement()],[e.topCenter.getViewportElement()]];break}}),this.moveColumnFeature=this.createManagedBean(new i$(this.pinned)),this.bodyDropPivotTarget=this.createManagedBean(new q9(this.pinned)),this.dragAndDropService.addDropTarget(this),this.addDestroyFunc(()=>this.dragAndDropService.removeDropTarget(this))}isInterestedIn(e){return e===1||e===0&&this.gos.get("allowDragFromColumnsToolPanel")}getSecondaryContainers(){return this.eSecondaryContainers}getContainer(){return this.eContainer}getIconName(){return this.currentDropListener.getIconName()}isDropColumnInPivotMode(e){return this.columnModel.isPivotMode()&&e.dragSource.type===0}onDragEnter(e){this.currentDropListener=this.isDropColumnInPivotMode(e)?this.bodyDropPivotTarget:this.moveColumnFeature,this.currentDropListener.onDragEnter(e)}onDragLeave(e){this.currentDropListener.onDragLeave(e)}onDragging(e){this.currentDropListener.onDragging(e)}onDragStop(e){this.currentDropListener.onDragStop(e)}onDragCancel(){this.currentDropListener.onDragCancel()}},n$=class extends re{wireBeans(e){this.horizontalResizeService=e.horizontalResizeService,this.pinnedWidthService=e.pinnedWidthService,this.ctrlsService=e.ctrlsService,this.columnSizeService=e.columnSizeService,this.columnAutosizeService=e.columnAutosizeService}constructor(e,t,i,s,n){super(),this.pinned=e,this.column=t,this.eResize=i,this.comp=s,this.ctrl=n}postConstruct(){const e=[];let t,i;const s=()=>{if(oi(this.eResize,t),!t)return;const o=this.horizontalResizeService.addResizeBar({eResizeBar:this.eResize,onResizeStart:this.onResizeStart.bind(this),onResizing:this.onResizing.bind(this,!1),onResizeEnd:this.onResizing.bind(this,!0)});if(e.push(o),i){const a=this.gos.get("skipHeaderOnAutoSize"),l=()=>{this.columnAutosizeService.autoSizeColumn(this.column,"uiColumnResized",a)};this.eResize.addEventListener("dblclick",l);const d=new pl(this.eResize);d.addEventListener("doubleTap",l),e.push(()=>{this.eResize.removeEventListener("dblclick",l),d.removeEventListener("doubleTap",l),d.destroy()})}},n=()=>{e.forEach(o=>o()),e.length=0},r=()=>{const o=this.column.isResizable(),a=!this.gos.get("suppressAutoSize")&&!this.column.getColDef().suppressAutoSize;(o!==t||a!==i)&&(t=o,i=a,n(),s())};r(),this.addDestroyFunc(n),this.ctrl.setRefreshFunction("resize",r)}onResizing(e,t){const{column:i,lastResizeAmount:s,resizeStartWidth:n}=this,r=this.normaliseResizeAmount(t),o=n+r,a=[{key:i,newWidth:o}];if(this.column.getPinned()){const l=this.pinnedWidthService.getPinnedLeftWidth(),d=this.pinnedWidthService.getPinnedRightWidth(),h=hf(this.ctrlsService.getGridBodyCtrl().getBodyViewportElement())-50;if(l+d+(r-s)>h)return}this.lastResizeAmount=r,this.columnSizeService.setColumnWidths(a,this.resizeWithShiftKey,e,"uiColumnResized"),e&&this.toggleColumnResizing(!1)}onResizeStart(e){this.resizeStartWidth=this.column.getActualWidth(),this.lastResizeAmount=0,this.resizeWithShiftKey=e,this.toggleColumnResizing(!0)}toggleColumnResizing(e){this.comp.addOrRemoveCssClass("ag-column-resizing",e)}normaliseResizeAmount(e){let t=e;const i=this.pinned!=="left",s=this.pinned==="right";return this.gos.get("enableRtl")?i&&(t*=-1):s&&(t*=-1),t}},r$=class extends re{constructor(e){super(),this.cbSelectAllVisible=!1,this.processingEventFromCheckbox=!1,this.column=e}wireBeans(e){this.rowModel=e.rowModel,this.selectionService=e.selectionService}onSpaceKeyDown(e){const t=this.cbSelectAll;t.isDisplayed()&&!t.getGui().contains(ui(this.gos))&&(e.preventDefault(),t.setValue(!t.getValue()))}getCheckboxGui(){return this.cbSelectAll.getGui()}setComp(e){this.headerCellCtrl=e,this.cbSelectAll=this.createManagedBean(new jD),this.cbSelectAll.addCssClass("ag-header-select-all"),Or(this.cbSelectAll.getGui(),"presentation"),this.showOrHideSelectAll(),this.addManagedEventListeners({newColumnsLoaded:this.onNewColumnsLoaded.bind(this),displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this),selectionChanged:this.onSelectionChanged.bind(this),paginationChanged:this.onSelectionChanged.bind(this),modelUpdated:this.onModelChanged.bind(this)}),this.addManagedListeners(this.cbSelectAll,{fieldValueChanged:this.onCbSelectAll.bind(this)}),this.cbSelectAll.getInputElement().setAttribute("tabindex","-1"),this.refreshSelectAllLabel()}onNewColumnsLoaded(){this.showOrHideSelectAll()}onDisplayedColumnsChanged(){this.isAlive()&&this.showOrHideSelectAll()}showOrHideSelectAll(){this.cbSelectAllVisible=this.isCheckboxSelection(),this.cbSelectAll.setDisplayed(this.cbSelectAllVisible),this.cbSelectAllVisible&&(this.checkRightRowModelType("selectAllCheckbox"),this.checkSelectionType("selectAllCheckbox"),this.updateStateOfCheckbox()),this.refreshSelectAllLabel()}onModelChanged(){this.cbSelectAllVisible&&this.updateStateOfCheckbox()}onSelectionChanged(){this.cbSelectAllVisible&&this.updateStateOfCheckbox()}updateStateOfCheckbox(){if(this.processingEventFromCheckbox)return;this.processingEventFromCheckbox=!0;const e=this.selectionService.getSelectAllState(this.isFilteredOnly(),this.isCurrentPageOnly());this.cbSelectAll.setValue(e);const t=this.selectionService.hasNodesToSelect(this.isFilteredOnly(),this.isCurrentPageOnly());this.cbSelectAll.setDisabled(!t),this.refreshSelectAllLabel(),this.processingEventFromCheckbox=!1}refreshSelectAllLabel(){const e=this.localeService.getLocaleTextFunc(),i=this.cbSelectAll.getValue()?e("ariaChecked","checked"):e("ariaUnchecked","unchecked"),s=e("ariaRowSelectAll","Press Space to toggle all rows selection");this.cbSelectAllVisible?this.headerCellCtrl.setAriaDescriptionProperty("selectAll",`${s} (${i})`):this.headerCellCtrl.setAriaDescriptionProperty("selectAll",null),this.cbSelectAll.setInputAriaLabel(e("ariaHeaderSelection","Column with Header Selection")),this.headerCellCtrl.announceAriaDescription()}checkSelectionType(e){return TF(this.gos)?!0:(ae(`${e} is only available if using 'multiRow' selection mode.`),!1)}checkRightRowModelType(e){return Ut(this.gos)||wo(this.gos)?!0:(ae(`${e} is only available if using 'clientSide' or 'serverSide' rowModelType, you are using ${this.rowModel.getType()}.`),!1)}onCbSelectAll(){if(this.processingEventFromCheckbox||!this.cbSelectAllVisible)return;const e=this.cbSelectAll.getValue(),t=this.isFilteredOnly(),i=this.isCurrentPageOnly();let s="uiSelectAll";i?s="uiSelectAllCurrentPage":t&&(s="uiSelectAllFiltered");const n={source:s,justFiltered:t,justCurrentPage:i};e?this.selectionService.selectAllRowNodes(n):this.selectionService.deselectAllRowNodes(n)}isCheckboxSelection(){const e=this.gos.get("rowSelection"),t=typeof e=="object"&&yy(e)&&cf(this.column),i=this.column.getColDef().headerCheckboxSelection;let s=!1;return t?s=!0:typeof i=="function"?s=i(this.gos.addGridCommonParams({column:this.column,colDef:this.column.getColDef()})):s=!!i,s&&this.checkRightRowModelType(t?"headerCheckbox":"headerCheckboxSelection")&&this.checkSelectionType(t?"headerCheckbox":"headerCheckboxSelection")}isFilteredOnly(){const e=this.gos.get("rowSelection");return typeof e=="object"?e.mode==="multiRow"&&e.selectAll==="filtered":!!this.column.getColDef().headerCheckboxSelectionFilteredOnly}isCurrentPageOnly(){const e=this.gos.get("rowSelection");return typeof e=="object"?e.mode==="multiRow"&&e.selectAll==="currentPage":!!this.column.getColDef().headerCheckboxSelectionCurrentPageOnly}},o$=class extends MC{constructor(e,t,i){super(e,t,i),this.refreshFunctions={},this.userHeaderClasses=new Set,this.ariaDescriptionProperties=new Map,this.column=e}setComp(e,t,i,s,n){this.comp=e,n=uf(this,this.beans.context,n),this.setGui(t,n),this.updateState(),this.setupWidth(n),this.setupMovingCss(n),this.setupMenuClass(n),this.setupSortableClass(n),this.setupWrapTextClass(),this.refreshSpanHeaderHeight(),this.setupAutoHeight({wrapperElement:s,checkMeasuringCallback:o=>this.setRefreshFunction("measuring",o),compBean:n}),this.addColumnHoverListener(n),this.setupFilterClass(n),this.setupClassesFromColDef(),this.setupTooltip(n),this.addActiveHeaderMouseListeners(n),this.setupSelectAll(n),this.setupUserComp(n),this.refreshAria(),this.resizeFeature=n.createManagedBean(new n$(this.getPinned(),this.column,i,e,this)),n.createManagedBean(new qD([this.column],t)),n.createManagedBean(new KD(this.column,t,this.beans)),n.createManagedBean(new nu(t,{shouldStopEventPropagation:o=>this.shouldStopEventPropagation(o),onTabKeyDown:()=>null,handleKeyDown:this.handleKeyDown.bind(this),onFocusIn:this.onFocusIn.bind(this),onFocusOut:this.onFocusOut.bind(this)})),this.addResizeAndMoveKeyboardListeners(n),n.addManagedPropertyListeners(["suppressMovableColumns","suppressMenuHide","suppressAggFuncInHeader"],()=>this.refresh(n)),n.addManagedListeners(this.column,{colDefChanged:()=>this.refresh(n)}),n.addManagedListeners(this.column,{headerHighlightChanged:this.onHeaderHighlightChanged.bind(this)});const r=()=>this.checkDisplayName(n);n.addManagedEventListeners({columnValueChanged:r,columnRowGroupChanged:r,columnPivotChanged:r,headerHeightChanged:this.onHeaderHeightChanged.bind(this)}),n.addDestroyFunc(()=>{this.refreshFunctions={},this.selectAllFeature=null,this.dragSourceElement=void 0,this.userCompDetails=null,this.userHeaderClasses.clear(),this.ariaDescriptionProperties.clear(),this.clearComponent()})}resizeHeader(e,t){if(!this.column.isResizable())return;const i=this.column.getActualWidth(),s=this.column.getMinWidth(),n=this.column.getMaxWidth(),r=Math.min(Math.max(i+e,s),n);this.beans.columnSizeService.setColumnWidths([{key:this.column,newWidth:r}],t,!0,"uiColumnResized")}moveHeader(e){const{eGui:t,beans:i,column:s,ctrlsService:n}=this,{gos:r,columnModel:o,columnMoveService:a,visibleColsService:l}=i,d=this.getPinned(),h=t.getBoundingClientRect().left,p=s.getActualWidth(),f=r.get("enableRtl"),y=Ty({x:e===0!==f?h-20:h+p+20,pinned:d,fromKeyboard:!0,gos:r,ctrlsService:n}),S=this.focusService.getFocusedHeader();JD({allMovingColumns:[s],isFromHeader:!0,fromLeft:e===1,xPosition:y,pinned:d,fromEnter:!1,fakeEvent:!1,gos:r,columnModel:o,columnMoveService:a,visibleColsService:l,finished:!0}),n.getGridBodyCtrl().getScrollFeature().ensureColumnVisible(s,"auto"),(!this.isAlive()||this.beans.gos.get("ensureDomOrder"))&&S&&this.restoreFocus(S)}restoreFocus(e){this.focusService.focusHeaderPosition({headerPosition:{...e,column:this.column}})}setupUserComp(e){const t=this.lookupUserCompDetails(e);this.setCompDetails(t)}setCompDetails(e){this.userCompDetails=e,this.comp.setUserCompDetails(e)}lookupUserCompDetails(e){const t=this.createParams(e),i=this.column.getColDef();return this.userComponentFactory.getHeaderCompDetails(i,t)}createParams(e){return this.gos.addGridCommonParams({column:this.column,displayName:this.displayName,enableSorting:this.column.isSortable(),enableMenu:this.menuEnabled,enableFilterButton:this.openFilterEnabled&&this.menuService.isHeaderFilterButtonEnabled(this.column),enableFilterIcon:!this.openFilterEnabled||this.menuService.isLegacyMenuEnabled(),showColumnMenu:i=>{this.menuService.showColumnMenu({column:this.column,buttonElement:i,positionBy:"button"})},showColumnMenuAfterMouseClick:i=>{this.menuService.showColumnMenu({column:this.column,mouseEvent:i,positionBy:"mouse"})},showFilter:i=>{this.menuService.showFilterMenu({column:this.column,buttonElement:i,containerType:"columnFilter",positionBy:"button"})},progressSort:i=>{this.beans.sortController.progressSort(this.column,!!i,"uiColumnSorted")},setSort:(i,s)=>{this.beans.sortController.setSortForColumn(this.column,i,!!s,"uiColumnSorted")},eGridHeader:this.getGui(),setTooltip:(i,s)=>{this.setupTooltip(e,i,s)}})}setupSelectAll(e){this.selectAllFeature=e.createManagedBean(new r$(this.column)),this.selectAllFeature.setComp(this)}getSelectAllGui(){return this.selectAllFeature.getCheckboxGui()}handleKeyDown(e){super.handleKeyDown(e),e.key===te.SPACE&&this.selectAllFeature.onSpaceKeyDown(e),e.key===te.ENTER&&this.onEnterKeyDown(e),e.key===te.DOWN&&e.altKey&&this.showMenuOnKeyPress(e,!1)}onEnterKeyDown(e){if(e.ctrlKey||e.metaKey)this.showMenuOnKeyPress(e,!0);else if(this.sortable){const t=e.shiftKey;this.beans.sortController.progressSort(this.column,t,"uiColumnSorted")}}showMenuOnKeyPress(e,t){const i=this.comp.getUserCompInstance();!i||!(i instanceof hM)||i.onMenuKeyboardShortcut(t)&&e.preventDefault()}onFocusIn(e){if(!this.getGui().contains(e.relatedTarget)){const t=this.getRowIndex();this.focusService.setFocusedHeader(t,this.column),this.announceAriaDescription()}this.focusService.isKeyboardMode()&&this.setActiveHeader(!0)}onFocusOut(e){this.getGui().contains(e.relatedTarget)||this.setActiveHeader(!1)}setupTooltip(e,t,i){this.tooltipFeature&&(this.tooltipFeature=this.destroyBean(this.tooltipFeature));const s=this.gos.get("tooltipShowMode")==="whenTruncated",n=this.eGui,r=this.column.getColDef();!i&&s&&!r.headerComponent&&(i=()=>{const l=n.querySelector(".ag-header-cell-text");return l?l.scrollWidth>l.clientWidth:!0});const o={getColumn:()=>this.column,getColDef:()=>this.column.getColDef(),getGui:()=>n,getLocation:()=>"header",getTooltipValue:()=>t??this.column.getColDef().headerTooltip,shouldDisplayTooltip:i},a=e.createManagedBean(new lh(o));this.setRefreshFunction("tooltip",()=>a.refreshToolTip())}setupClassesFromColDef(){const e=()=>{const t=this.column.getColDef(),i=TN(t,this.gos,this.column,null),s=this.userHeaderClasses;this.userHeaderClasses=new Set(i),i.forEach(n=>{s.has(n)?s.delete(n):this.comp.addOrRemoveCssClass(n,!0)}),s.forEach(n=>this.comp.addOrRemoveCssClass(n,!1))};this.setRefreshFunction("headerClasses",e),e()}setDragSource(e){if(this.dragSourceElement=e,this.removeDragSource(),!e||!this.draggable)return;const{column:t,beans:i,displayName:s,dragAndDropService:n,gos:r}=this,{columnModel:o}=i;let a=!this.gos.get("suppressDragLeaveHidesColumns");const l=this.dragSource={type:1,eElement:e,getDefaultIconName:()=>a?"hide":"notAllowed",getDragItem:()=>this.createDragItem(t),dragItemName:s,onDragStarted:()=>{a=!r.get("suppressDragLeaveHidesColumns"),Id([t],!0)},onDragStopped:()=>Id([t],!1),onDragCancelled:()=>Id([t],!1),onGridEnter:d=>{var h;if(a){const p=((h=d==null?void 0:d.columns)==null?void 0:h.filter(f=>!f.getColDef().lockVisible))||[];o.setColsVisible(p,!0,"uiColumnMoved")}},onGridExit:d=>{var h;if(a){const p=((h=d==null?void 0:d.columns)==null?void 0:h.filter(f=>!f.getColDef().lockVisible))||[];o.setColsVisible(p,!1,"uiColumnMoved")}}};n.addDragSource(l,!0)}createDragItem(e){const t={};return t[e.getId()]=e.isVisible(),{columns:[e],visibleState:t}}updateState(){this.menuEnabled=this.menuService.isColumnMenuInHeaderEnabled(this.column),this.openFilterEnabled=this.menuService.isFilterMenuInHeaderEnabled(this.column),this.sortable=this.column.isSortable(),this.displayName=this.calculateDisplayName(),this.draggable=this.workOutDraggable()}setRefreshFunction(e,t){this.refreshFunctions[e]=t}refresh(e){this.updateState(),this.refreshHeaderComp(e),this.refreshAria(),Object.values(this.refreshFunctions).forEach(t=>t())}refreshHeaderComp(e){const t=this.lookupUserCompDetails(e);(this.comp.getUserCompInstance()!=null&&this.userCompDetails.componentClass==t.componentClass?this.attemptHeaderCompRefresh(t.params):!1)?this.setDragSource(this.dragSourceElement):this.setCompDetails(t)}attemptHeaderCompRefresh(e){const t=this.comp.getUserCompInstance();return!t||!t.refresh?!1:t.refresh(e)}calculateDisplayName(){return this.beans.columnNameService.getDisplayNameForColumn(this.column,"header",!0)}checkDisplayName(e){this.displayName!==this.calculateDisplayName()&&this.refresh(e)}workOutDraggable(){const e=this.column.getColDef();return!!(!this.gos.get("suppressMovableColumns")&&!e.suppressMovable&&!e.lockPosition)||!!e.enableRowGroup||!!e.enablePivot}setupWidth(e){const t=()=>{const i=this.column.getActualWidth();this.comp.setWidth(`${i}px`)};e.addManagedListeners(this.column,{widthChanged:t}),t()}setupMovingCss(e){const t=()=>{this.comp.addOrRemoveCssClass("ag-header-cell-moving",this.column.isMoving())};e.addManagedListeners(this.column,{movingChanged:t}),t()}setupMenuClass(e){const t=()=>{this.comp.addOrRemoveCssClass("ag-column-menu-visible",this.column.isMenuVisible())};e.addManagedListeners(this.column,{menuVisibleChanged:t}),t()}setupSortableClass(e){const t=()=>{this.comp.addOrRemoveCssClass("ag-header-cell-sortable",!!this.sortable)};t(),this.setRefreshFunction("updateSortable",t),e.addManagedEventListeners({sortChanged:this.refreshAriaSort.bind(this)})}setupFilterClass(e){const t=()=>{const i=this.column.isFilterActive();this.comp.addOrRemoveCssClass("ag-header-cell-filtered",i),this.refreshAria()};e.addManagedListeners(this.column,{filterActiveChanged:t}),t()}setupWrapTextClass(){const e=()=>{const t=!!this.column.getColDef().wrapHeaderText;this.comp.addOrRemoveCssClass("ag-header-cell-wrap-text",t)};e(),this.setRefreshFunction("wrapText",e)}onHeaderHighlightChanged(){const e=this.column.getHighlighted(),t=e===0,i=e===1;this.comp.addOrRemoveCssClass("ag-header-highlight-before",t),this.comp.addOrRemoveCssClass("ag-header-highlight-after",i)}onDisplayedColumnsChanged(){super.onDisplayedColumnsChanged(),this.isAlive()&&this.onHeaderHeightChanged()}onHeaderHeightChanged(){this.refreshSpanHeaderHeight()}refreshSpanHeaderHeight(){const{eGui:e,column:t,comp:i,beans:s}=this,n=this.beans.columnModel.getGroupRowsHeight(),r=n.reduce((p,f)=>p+=f,0)===0;if(i.addOrRemoveCssClass("ag-header-parent-hidden",r),!t.isSpanHeaderHeight()){e.style.removeProperty("top"),e.style.removeProperty("height"),i.addOrRemoveCssClass("ag-header-span-height",!1),i.addOrRemoveCssClass("ag-header-span-total",!1);return}const{numberOfParents:o,isSpanningTotal:a}=this.column.getColumnGroupPaddingInfo();i.addOrRemoveCssClass("ag-header-span-height",o>0);const{columnModel:l}=s,d=l.getColumnHeaderRowHeight();if(o===0){i.addOrRemoveCssClass("ag-header-span-total",!1),e.style.setProperty("top","0px"),e.style.setProperty("height",`${d}px`);return}i.addOrRemoveCssClass("ag-header-span-total",a);let h=0;for(let p=0;p<o;p++)h+=n[n.length-1-p];e.style.setProperty("top",`${-h}px`),e.style.setProperty("height",`${d+h}px`)}refreshAriaSort(){if(this.sortable){const e=this.localeService.getLocaleTextFunc(),t=this.beans.sortController.getDisplaySortForColumn(this.column)||null;this.comp.setAriaSort(y8(t)),this.setAriaDescriptionProperty("sort",e("ariaSortableColumn","Press ENTER to sort"))}else this.comp.setAriaSort(),this.setAriaDescriptionProperty("sort",null)}refreshAriaMenu(){if(this.menuEnabled){const e=this.localeService.getLocaleTextFunc();this.setAriaDescriptionProperty("menu",e("ariaMenuColumn","Press ALT DOWN to open column menu"))}else this.setAriaDescriptionProperty("menu",null)}refreshAriaFilterButton(){if(this.openFilterEnabled&&!this.menuService.isLegacyMenuEnabled()){const e=this.localeService.getLocaleTextFunc();this.setAriaDescriptionProperty("filterButton",e("ariaFilterColumn","Press CTRL ENTER to open filter"))}else this.setAriaDescriptionProperty("filterButton",null)}refreshAriaFiltered(){const e=this.localeService.getLocaleTextFunc();this.column.isFilterActive()?this.setAriaDescriptionProperty("filter",e("ariaColumnFiltered","Column Filtered")):this.setAriaDescriptionProperty("filter",null)}setAriaDescriptionProperty(e,t){t!=null?this.ariaDescriptionProperties.set(e,t):this.ariaDescriptionProperties.delete(e)}announceAriaDescription(){if(!this.eGui.contains(ui(this.beans.gos)))return;const e=Array.from(this.ariaDescriptionProperties.keys()).sort((t,i)=>t==="filter"?-1:i.charCodeAt(0)-t.charCodeAt(0)).map(t=>this.ariaDescriptionProperties.get(t)).join(". ");this.beans.ariaAnnouncementService.announceValue(e,"columnHeader")}refreshAria(){this.refreshAriaSort(),this.refreshAriaMenu(),this.refreshAriaFilterButton(),this.refreshAriaFiltered()}addColumnHoverListener(e){const t=()=>{if(!this.gos.get("columnHoverHighlight"))return;const i=this.beans.columnHoverService.isHovered(this.column);this.comp.addOrRemoveCssClass("ag-column-hover",i)};e.addManagedEventListeners({columnHoverChanged:t}),t()}getColId(){return this.column.getColId()}addActiveHeaderMouseListeners(e){const t=n=>this.handleMouseOverChange(n.type==="mouseenter"),i=()=>this.dispatchColumnMouseEvent("columnHeaderClicked",this.column),s=n=>this.handleContextMenuMouseEvent(n,void 0,this.column);e.addManagedListeners(this.getGui(),{mouseenter:t,mouseleave:t,click:i,contextmenu:s})}handleMouseOverChange(e){this.setActiveHeader(e),this.eventService.dispatchEvent({type:e?"columnHeaderMouseOver":"columnHeaderMouseLeave",column:this.column})}setActiveHeader(e){this.comp.addOrRemoveCssClass("ag-header-active",e)}getAnchorElementForMenu(e){const t=this.comp.getUserCompInstance();return t instanceof hM?t.getAnchorElementForMenu(e):this.getGui()}destroy(){super.destroy()}},a$=class extends re{wireBeans(e){this.horizontalResizeService=e.horizontalResizeService,this.autoWidthCalculator=e.autoWidthCalculator,this.visibleColsService=e.visibleColsService,this.columnSizeService=e.columnSizeService,this.columnAutosizeService=e.columnAutosizeService}constructor(e,t,i,s){super(),this.eResize=t,this.comp=e,this.pinned=i,this.columnGroup=s}postConstruct(){if(!this.columnGroup.isResizable()){this.comp.setResizableDisplayed(!1);return}const e=this.horizontalResizeService.addResizeBar({eResizeBar:this.eResize,onResizeStart:this.onResizeStart.bind(this),onResizing:this.onResizing.bind(this,!1),onResizeEnd:this.onResizing.bind(this,!0)});if(this.addDestroyFunc(e),!this.gos.get("suppressAutoSize")){const t=this.gos.get("skipHeaderOnAutoSize");this.eResize.addEventListener("dblclick",()=>{const i=[];this.columnGroup.getDisplayedLeafColumns().forEach(n=>{n.getColDef().suppressAutoSize||i.push(n.getColId())}),i.length>0&&this.columnAutosizeService.autoSizeCols({colKeys:i,skipHeader:t,stopAtGroup:this.columnGroup,source:"uiColumnResized"}),this.resizeLeafColumnsToFit("uiColumnResized")})}}onResizeStart(e){const t=this.getInitialValues(e);this.storeLocalValues(t),this.toggleColumnResizing(!0)}onResizing(e,t,i="uiColumnResized"){const s=this.normaliseDragChange(t),n=this.resizeStartWidth+s;this.resizeColumnsFromLocalValues(n,i,e)}getInitialValues(e){const t=this.getColumnsToResize(),i=this.getInitialSizeOfColumns(t),s=this.getSizeRatiosOfColumns(t,i),n={columnsToResize:t,resizeStartWidth:i,resizeRatios:s};let r=null;if(e&&(r=this.visibleColsService.getGroupAtDirection(this.columnGroup,"After")),r){const o=r.getDisplayedLeafColumns(),a=n.groupAfterColumns=o.filter(d=>d.isResizable()),l=n.groupAfterStartWidth=this.getInitialSizeOfColumns(a);n.groupAfterRatios=this.getSizeRatiosOfColumns(a,l)}else n.groupAfterColumns=void 0,n.groupAfterStartWidth=void 0,n.groupAfterRatios=void 0;return n}storeLocalValues(e){const{columnsToResize:t,resizeStartWidth:i,resizeRatios:s,groupAfterColumns:n,groupAfterStartWidth:r,groupAfterRatios:o}=e;this.resizeCols=t,this.resizeStartWidth=i,this.resizeRatios=s,this.resizeTakeFromCols=n,this.resizeTakeFromStartWidth=r,this.resizeTakeFromRatios=o}clearLocalValues(){this.resizeCols=void 0,this.resizeRatios=void 0,this.resizeTakeFromCols=void 0,this.resizeTakeFromRatios=void 0}resizeLeafColumnsToFit(e){const t=this.autoWidthCalculator.getPreferredWidthForColumnGroup(this.columnGroup),i=this.getInitialValues();t>i.resizeStartWidth&&this.resizeColumns(i,t,e,!0)}resizeColumnsFromLocalValues(e,t,i=!0){if(!this.resizeCols||!this.resizeRatios)return;const s={columnsToResize:this.resizeCols,resizeStartWidth:this.resizeStartWidth,resizeRatios:this.resizeRatios,groupAfterColumns:this.resizeTakeFromCols??void 0,groupAfterStartWidth:this.resizeTakeFromStartWidth??void 0,groupAfterRatios:this.resizeTakeFromRatios??void 0};this.resizeColumns(s,e,t,i)}resizeColumns(e,t,i,s=!0){const{columnsToResize:n,resizeStartWidth:r,resizeRatios:o,groupAfterColumns:a,groupAfterStartWidth:l,groupAfterRatios:d}=e,h=[];if(h.push({columns:n,ratios:o,width:t}),a){const p=t-r;h.push({columns:a,ratios:d,width:l-p})}this.columnSizeService.resizeColumnSets({resizeSets:h,finished:s,source:i}),s&&this.toggleColumnResizing(!1)}toggleColumnResizing(e){this.comp.addOrRemoveCssClass("ag-column-resizing",e)}getColumnsToResize(){return this.columnGroup.getDisplayedLeafColumns().filter(t=>t.isResizable())}getInitialSizeOfColumns(e){return e.reduce((t,i)=>t+i.getActualWidth(),0)}getSizeRatiosOfColumns(e,t){return e.map(i=>i.getActualWidth()/t)}normaliseDragChange(e){let t=e;return this.gos.get("enableRtl")?this.pinned!=="left"&&(t*=-1):this.pinned==="right"&&(t*=-1),t}destroy(){super.destroy(),this.clearLocalValues()}},l$=class extends re{constructor(e,t){super(),this.removeChildListenersFuncs=[],this.columnGroup=t,this.comp=e}postConstruct(){this.addListenersToChildrenColumns(),this.addManagedListeners(this.columnGroup,{displayedChildrenChanged:this.onDisplayedChildrenChanged.bind(this)}),this.onWidthChanged(),this.addDestroyFunc(this.removeListenersOnChildrenColumns.bind(this))}addListenersToChildrenColumns(){this.removeListenersOnChildrenColumns();const e=this.onWidthChanged.bind(this);this.columnGroup.getLeafColumns().forEach(t=>{t.addEventListener("widthChanged",e),t.addEventListener("visibleChanged",e),this.removeChildListenersFuncs.push(()=>{t.removeEventListener("widthChanged",e),t.removeEventListener("visibleChanged",e)})})}removeListenersOnChildrenColumns(){this.removeChildListenersFuncs.forEach(e=>e()),this.removeChildListenersFuncs=[]}onDisplayedChildrenChanged(){this.addListenersToChildrenColumns(),this.onWidthChanged()}onWidthChanged(){const e=this.columnGroup.getActualWidth();this.comp.setWidth(`${e}px`),this.comp.addOrRemoveCssClass("ag-hidden",e===0)}},c$=class extends MC{constructor(e,t,i){super(e,t,i),this.onSuppressColMoveChange=()=>{if(!this.isAlive()||this.isSuppressMoving())this.removeDragSource();else if(!this.dragSource){const s=this.getGui();this.setDragSource(s)}},this.column=e}setComp(e,t,i,s,n){this.comp=e,n=uf(this,this.beans.context,n),this.setGui(t,n),this.displayName=this.beans.columnNameService.getDisplayNameForColumnGroup(this.column,"header"),this.addClasses(),this.setupMovingCss(n),this.setupExpandable(n),this.setupTooltip(n),this.setupAutoHeight({wrapperElement:s,compBean:n}),this.setupUserComp(n),this.addHeaderMouseListeners(n),this.addManagedPropertyListener("groupHeaderHeight",this.refreshMaxHeaderHeight.bind(this)),this.refreshMaxHeaderHeight();const r=this.getParentRowCtrl().getPinned(),o=this.column.getProvidedColumnGroup().getLeafColumns();n.createManagedBean(new qD(o,t)),n.createManagedBean(new KD(this.column,t,this.beans)),n.createManagedBean(new l$(e,this.column)),this.resizeFeature=n.createManagedBean(new a$(e,i,r,this.column)),n.createManagedBean(new nu(t,{shouldStopEventPropagation:this.shouldStopEventPropagation.bind(this),onTabKeyDown:()=>{},handleKeyDown:this.handleKeyDown.bind(this),onFocusIn:this.onFocusIn.bind(this)})),this.addHighlightListeners(n,o),n.addManagedPropertyListener("suppressMovableColumns",this.onSuppressColMoveChange),this.addResizeAndMoveKeyboardListeners(n),n.addDestroyFunc(()=>this.clearComponent())}refreshMaxHeaderHeight(){const{gos:e,comp:t}=this,i=e.get("groupHeaderHeight");i!=null?i===0?t.setHeaderWrapperHidden(!0):t.setHeaderWrapperMaxHeight(i):(t.setHeaderWrapperHidden(!1),t.setHeaderWrapperMaxHeight(null))}addHighlightListeners(e,t){if(this.beans.gos.get("suppressMoveWhenColumnDragging"))for(const i of t)e.addManagedListeners(i,{headerHighlightChanged:this.onLeafColumnHighlightChanged.bind(this,i)})}onLeafColumnHighlightChanged(e){const t=this.column.getDisplayedLeafColumns(),i=t[0]===e,s=nt(t)===e;if(!i&&!s)return;const n=e.getHighlighted(),r=!!this.getParentRowCtrl().findHeaderCellCtrl(l=>l.getColumnGroupChild().isMoving());let o=!1,a=!1;if(r){const l=this.beans.gos.get("enableRtl"),d=n===1,h=n===0;i&&(l?a=d:o=h),s&&(l?o=h:a=d)}this.comp.addOrRemoveCssClass("ag-header-highlight-before",o),this.comp.addOrRemoveCssClass("ag-header-highlight-after",a)}getColumn(){return this.column}resizeHeader(e,t){if(!this.resizeFeature)return;const i=this.resizeFeature.getInitialValues(t);this.resizeFeature.resizeColumns(i,i.resizeStartWidth+e,"uiColumnResized",!0)}moveHeader(e){const{beans:t,eGui:i,column:s,ctrlsService:n}=this,{gos:r,columnModel:o,columnMoveService:a,visibleColsService:l}=t,d=r.get("enableRtl"),h=e===0,p=this.getPinned(),f=i.getBoundingClientRect(),v=f.left,y=f.width,S=Ty({x:h!==d?v-20:v+y+20,pinned:p,fromKeyboard:!0,gos:r,ctrlsService:n}),w=s.getGroupId(),b=this.focusService.getFocusedHeader();JD({allMovingColumns:this.column.getLeafColumns(),isFromHeader:!0,fromLeft:e===1,xPosition:S,pinned:p,fromEnter:!1,fakeEvent:!1,gos:r,columnModel:o,columnMoveService:a,visibleColsService:l,finished:!0});const x=s.getDisplayedLeafColumns(),D=h?x[0]:nt(x);this.ctrlsService.getGridBodyCtrl().getScrollFeature().ensureColumnVisible(D,"auto"),(!this.isAlive()||this.beans.gos.get("ensureDomOrder"))&&b&&this.restoreFocus(w,s,b)}restoreFocus(e,t,i){const s=t.getLeafColumns();if(!s.length)return;const n=s[0].getParent();if(!n)return;const r=this.findGroupWidthId(n,e);r&&this.focusService.focusHeaderPosition({headerPosition:{...i,column:r}})}findGroupWidthId(e,t){for(;e;){if(e.getGroupId()===t)return e;e=e.getParent()}return null}resizeLeafColumnsToFit(e){this.resizeFeature&&this.resizeFeature.resizeLeafColumnsToFit(e)}setupUserComp(e){const t=this.gos.addGridCommonParams({displayName:this.displayName,columnGroup:this.column,setExpanded:s=>{this.beans.columnModel.setColumnGroupOpened(this.column.getProvidedColumnGroup(),s,"gridInitializing")},setTooltip:(s,n)=>{this.setupTooltip(e,s,n)}}),i=this.userComponentFactory.getHeaderGroupCompDetails(t);this.comp.setUserCompDetails(i)}addHeaderMouseListeners(e){const t=n=>this.handleMouseOverChange(n.type==="mouseenter"),i=()=>this.dispatchColumnMouseEvent("columnHeaderClicked",this.column.getProvidedColumnGroup()),s=n=>this.handleContextMenuMouseEvent(n,void 0,this.column.getProvidedColumnGroup());e.addManagedListeners(this.getGui(),{mouseenter:t,mouseleave:t,click:i,contextmenu:s})}handleMouseOverChange(e){this.eventService.dispatchEvent({type:e?"columnHeaderMouseOver":"columnHeaderMouseLeave",column:this.column.getProvidedColumnGroup()})}setupTooltip(e,t,i){this.tooltipFeature&&(this.tooltipFeature=this.destroyBean(this.tooltipFeature));const s=this.column.getColGroupDef(),n=this.gos.get("tooltipShowMode")==="whenTruncated",r=this.eGui;!i&&n&&!(s!=null&&s.headerGroupComponent)&&(i=()=>{const a=r.querySelector(".ag-header-group-text");return a?a.scrollWidth>a.clientWidth:!0});const o={getColumn:()=>this.column,getGui:()=>r,getLocation:()=>"headerGroup",getTooltipValue:()=>t??(s&&s.headerTooltip),shouldDisplayTooltip:i};s&&(o.getColDef=()=>s),e.createManagedBean(new lh(o))}setupExpandable(e){const t=this.column.getProvidedColumnGroup();this.refreshExpanded();const i=this.refreshExpanded.bind(this);e.addManagedListeners(t,{expandedChanged:i,expandableChanged:i})}refreshExpanded(){const{column:e}=this;this.expandable=e.isExpandable();const t=e.isExpanded();this.expandable?this.comp.setAriaExpanded(t?"true":"false"):this.comp.setAriaExpanded(void 0)}getColId(){return this.column.getUniqueId()}addClasses(){const e=this.column.getColGroupDef(),t=TN(e,this.gos,null,this.column);this.column.isPadding()?(t.push("ag-header-group-cell-no-group"),this.column.getLeafColumns().every(s=>s.isSpanHeaderHeight())&&t.push("ag-header-span-height")):(t.push("ag-header-group-cell-with-group"),e!=null&&e.wrapHeaderText&&t.push("ag-header-cell-wrap-text")),t.forEach(i=>this.comp.addOrRemoveCssClass(i,!0))}setupMovingCss(e){const i=this.column.getProvidedColumnGroup().getLeafColumns(),s=()=>this.comp.addOrRemoveCssClass("ag-header-cell-moving",this.column.isMoving());i.forEach(n=>{e.addManagedListeners(n,{movingChanged:s})}),s()}onFocusIn(e){if(!this.eGui.contains(e.relatedTarget)){const t=this.getRowIndex();this.beans.focusService.setFocusedHeader(t,this.column)}}handleKeyDown(e){super.handleKeyDown(e);const t=this.getWrapperHasFocus();if(!(!this.expandable||!t)&&e.key===te.ENTER){const i=this.column,s=!i.isExpanded();this.beans.columnModel.setColumnGroupOpened(i.getProvidedColumnGroup(),s,"uiColumnExpanded")}}setDragSource(e){if(!this.isAlive()||this.isSuppressMoving()||(this.removeDragSource(),!e))return;const{beans:t,column:i,displayName:s,gos:n,dragAndDropService:r}=this,{columnModel:o}=t,a=i.getProvidedColumnGroup().getLeafColumns();let l=!n.get("suppressDragLeaveHidesColumns");const d=this.dragSource={type:1,eElement:e,getDefaultIconName:()=>l?"hide":"notAllowed",dragItemName:s,getDragItem:()=>this.getDragItemForGroup(i),onDragStarted:()=>{l=!n.get("suppressDragLeaveHidesColumns"),Id(a,!0)},onDragStopped:()=>Id(a,!1),onDragCancelled:()=>Id(a,!1),onGridEnter:h=>{if(l){const{columns:p=[],visibleState:f}=h??{},v=p.filter(y=>!y.getColDef().lockVisible&&(!f||f[y.getColId()]));o.setColsVisible(v,!0,"uiColumnMoved")}},onGridExit:h=>{var p;if(l){const f=((p=h==null?void 0:h.columns)==null?void 0:p.filter(v=>!v.getColDef().lockVisible))||[];o.setColsVisible(f,!1,"uiColumnMoved")}}};r.addDragSource(d,!0)}getDragItemForGroup(e){const t=e.getProvidedColumnGroup().getLeafColumns(),i={};t.forEach(o=>i[o.getId()]=o.isVisible());const s=[];this.beans.visibleColsService.getAllCols().forEach(o=>{t.indexOf(o)>=0&&(s.push(o),js(t,o))}),t.forEach(o=>s.push(o));const n=[],r=e.getLeafColumns();for(const o of s)r.indexOf(o)!==-1&&n.push(o);return{columns:s,columnsInSplit:n,visibleState:i}}isSuppressMoving(){let e=!1;return this.column.getLeafColumns().forEach(i=>{(i.getColDef().suppressMovable||i.getColDef().lockPosition)&&(e=!0)}),e||this.gos.get("suppressMovableColumns")}destroy(){super.destroy()}},u$=0,b0=class extends re{constructor(e,t,i){super(),this.instanceId=u$++,this.rowIndex=e,this.pinned=t,this.type=i;const s=i=="group"?"ag-header-row-column-group":i=="filter"?"ag-header-row-column-filter":"ag-header-row-column";this.headerRowClass=`ag-header-row ${s}`}wireBeans(e){this.beans=e}postConstruct(){this.isPrintLayout=ys(this.gos,"print"),this.isEnsureDomOrder=this.gos.get("ensureDomOrder")}areCellsRendered(){return this.comp?this.getHeaderCellCtrls().every(e=>e.getGui()!=null):!1}setComp(e,t,i=!0){this.comp=e,t=uf(this,this.beans.context,t),i&&(this.onRowHeightChanged(),this.onVirtualColumnsChanged()),this.setWidth(),this.addEventListeners(t)}getHeaderRowClass(){return this.headerRowClass}getAriaRowIndex(){return this.rowIndex+1}addEventListeners(e){const t=this.onRowHeightChanged.bind(this);e.addManagedEventListeners({columnResized:this.onColumnResized.bind(this),displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this),virtualColumnsChanged:i=>this.onVirtualColumnsChanged(i.afterScroll),columnGroupHeaderHeightChanged:t,columnHeaderHeightChanged:t,gridStylesChanged:t,advancedFilterEnabledChanged:t}),e.addManagedPropertyListener("domLayout",this.onDisplayedColumnsChanged.bind(this)),e.addManagedPropertyListener("ensureDomOrder",i=>this.isEnsureDomOrder=i.currentValue),e.addManagedPropertyListeners(["headerHeight","pivotHeaderHeight","groupHeaderHeight","pivotGroupHeaderHeight","floatingFiltersHeight"],t)}getHeaderCellCtrl(e){if(this.headerCellCtrls)return Gv(this.headerCellCtrls).find(t=>t.getColumnGroupChild()===e)}onDisplayedColumnsChanged(){this.isPrintLayout=ys(this.gos,"print"),this.onVirtualColumnsChanged(),this.setWidth(),this.onRowHeightChanged()}getType(){return this.type}onColumnResized(){this.setWidth()}setWidth(){const e=this.getWidthForRow();this.comp.setWidth(`${e}px`)}getWidthForRow(){const{visibleColsService:e}=this.beans;return this.isPrintLayout?this.pinned!=null?0:e.getContainerWidth("right")+e.getContainerWidth("left")+e.getContainerWidth(null):e.getContainerWidth(this.pinned)}onRowHeightChanged(){const{topOffset:e,rowHeight:t}=this.getTopAndHeight();this.comp.setTop(e+"px"),this.comp.setHeight(t+"px")}getTopAndHeight(){const{columnModel:e,filterManager:t}=this.beans,i=[],s=e.getGroupRowsHeight(),n=e.getColumnHeaderRowHeight();i.push(...s),i.push(n),t!=null&&t.hasFloatingFilters()&&i.push(e.getFloatingFiltersHeight());let r=0;for(let a=0;a<this.rowIndex;a++)r+=i[a];const o=i[this.rowIndex];return{topOffset:r,rowHeight:o}}getPinned(){return this.pinned}getRowIndex(){return this.rowIndex}onVirtualColumnsChanged(e=!1){const t=this.getHeaderCtrls(),i=this.isEnsureDomOrder||this.isPrintLayout;this.comp.setHeaderCtrls(t,i,e)}getHeaderCtrls(){const e=this.headerCellCtrls;this.headerCellCtrls=new Map;const t=this.getColumnsInViewport();for(const s of t)this.recycleAndCreateHeaderCtrls(s,e);const i=s=>{const{focusService:n,visibleColsService:r}=this.beans;return n.isHeaderWrapperFocused(s)?r.isVisible(s.getColumnGroupChild()):!1};if(e)for(const[s,n]of e)i(n)?this.headerCellCtrls.set(s,n):this.destroyBean(n);return this.getHeaderCellCtrls()}getHeaderCellCtrls(){var e;return Array.from(((e=this.headerCellCtrls)==null?void 0:e.values())??[])}recycleAndCreateHeaderCtrls(e,t){if(!this.headerCellCtrls||e.isEmptyGroup())return;const i=e.getUniqueId();let s;if(t&&(s=t.get(i),t.delete(i)),s&&s.getColumnGroupChild()!=e&&(this.destroyBean(s),s=void 0),s==null)switch(this.type){case"filter":{s=this.createBean(this.beans.ctrlsFactory.getInstance("headerFilterCell",e,this.beans,this));break}case"group":s=this.createBean(new c$(e,this.beans,this));break;default:s=this.createBean(new o$(e,this.beans,this));break}this.headerCellCtrls.set(i,s)}getColumnsInViewport(){return this.isPrintLayout?this.getColumnsInViewportPrintLayout():this.getColumnsInViewportNormalLayout()}getColumnsInViewportPrintLayout(){if(this.pinned!=null)return[];let e=[];const t=this.getActualDepth(),{columnViewportService:i}=this.beans;return["left",null,"right"].forEach(s=>{const n=i.getHeadersToRender(s,t);e=e.concat(n)}),e}getActualDepth(){return this.type=="filter"?this.rowIndex-1:this.rowIndex}getColumnsInViewportNormalLayout(){return this.beans.columnViewportService.getHeadersToRender(this.pinned,this.getActualDepth())}findHeaderCellCtrl(e){if(!this.headerCellCtrls)return;const t=this.getHeaderCellCtrls();let i;return typeof e=="function"?i=t.find(e):i=t.find(s=>s.getColumnGroupChild()==e),i}focusHeader(e,t){const i=this.findHeaderCellCtrl(e);return i?i.focus(t):!1}destroy(){var e;(e=this.headerCellCtrls)==null||e.forEach(t=>{this.destroyBean(t)}),this.headerCellCtrls=void 0,super.destroy()}},d$=class extends re{constructor(e){super(),this.hidden=!1,this.includeFloatingFilter=!1,this.groupsRowCtrls=[],this.pinned=e}wireBeans(e){this.ctrlsService=e.ctrlsService,this.scrollVisibleService=e.scrollVisibleService,this.pinnedWidthService=e.pinnedWidthService,this.columnModel=e.columnModel,this.focusService=e.focusService,this.filterManager=e.filterManager}setComp(e,t){this.comp=e,this.eViewport=t,this.setupCenterWidth(),this.setupPinnedWidth(),this.setupDragAndDrop(this.eViewport);const i=this.onDisplayedColumnsChanged.bind(this);this.addManagedEventListeners({gridColumnsChanged:this.onGridColumnsChanged.bind(this),displayedColumnsChanged:i,advancedFilterEnabledChanged:i});const s=`${typeof this.pinned=="string"?this.pinned:"center"}Header`;this.ctrlsService.register(s,this),this.columnModel.isReady()&&this.refresh()}getAllCtrls(){const e=[...this.groupsRowCtrls];return this.columnsRowCtrl&&e.push(this.columnsRowCtrl),this.filtersRowCtrl&&e.push(this.filtersRowCtrl),e}refresh(e=!1){const t=new Wd,i=this.focusService.getFocusHeaderToUseAfterRefresh(),s=()=>{const a=this.columnModel.getHeaderRowCount()-1;this.groupsRowCtrls=this.destroyBeans(this.groupsRowCtrls);for(let l=0;l<a;l++){const d=this.createBean(new b0(t.next(),this.pinned,"group"));this.groupsRowCtrls.push(d)}},n=()=>{const a=t.next(),l=!this.hidden&&(this.columnsRowCtrl==null||!e||this.columnsRowCtrl.getRowIndex()!==a);(l||this.hidden)&&(this.columnsRowCtrl=this.destroyBean(this.columnsRowCtrl)),l&&(this.columnsRowCtrl=this.createBean(new b0(a,this.pinned,"column")))},r=()=>{var d;this.includeFloatingFilter=!!((d=this.filterManager)!=null&&d.hasFloatingFilters())&&!this.hidden;const a=()=>{this.filtersRowCtrl=this.destroyBean(this.filtersRowCtrl)};if(!this.includeFloatingFilter){a();return}const l=t.next();if(this.filtersRowCtrl){const h=this.filtersRowCtrl.getRowIndex()!==l;(!e||h)&&a()}this.filtersRowCtrl||(this.filtersRowCtrl=this.createBean(new b0(l,this.pinned,"filter")))};s(),n(),r();const o=this.getAllCtrls();this.comp.setCtrls(o),this.restoreFocusOnHeader(i)}getHeaderCtrlForColumn(e){var t;if(bl(e))return(t=this.columnsRowCtrl)==null?void 0:t.getHeaderCellCtrl(e);if(this.groupsRowCtrls.length!==0)for(let i=0;i<this.groupsRowCtrls.length;i++){const s=this.groupsRowCtrls[i].getHeaderCellCtrl(e);if(s)return s}}getHtmlElementForColumnHeader(e){const t=this.getHeaderCtrlForColumn(e);return t?t.getGui():null}getRowType(e){const i=this.getAllCtrls()[e];return i?i.getType():void 0}focusHeader(e,t,i){const n=this.getAllCtrls()[e];return n?n.focusHeader(t,i):!1}getViewportElement(){return this.eViewport}getGroupRowCount(){return this.groupsRowCtrls.length}getGroupRowCtrlAtIndex(e){return this.groupsRowCtrls[e]}getRowCount(){return this.groupsRowCtrls.length+(this.columnsRowCtrl?1:0)+(this.filtersRowCtrl?1:0)}setHorizontalScroll(e){this.comp.setViewportScrollLeft(e)}onScrollCallback(e){this.addManagedElementListeners(this.getViewportElement(),{scroll:e})}destroy(){this.filtersRowCtrl&&(this.filtersRowCtrl=this.destroyBean(this.filtersRowCtrl)),this.columnsRowCtrl&&(this.columnsRowCtrl=this.destroyBean(this.columnsRowCtrl)),this.groupsRowCtrls&&this.groupsRowCtrls.length&&(this.groupsRowCtrls=this.destroyBeans(this.groupsRowCtrls)),super.destroy()}setupDragAndDrop(e){const t=new s$(this.pinned,e);this.createManagedBean(t)}restoreFocusOnHeader(e){if(!e)return;const{column:t}=e;t.getPinned()==this.pinned&&this.focusService.focusHeaderPosition({headerPosition:e})}onGridColumnsChanged(){this.refresh(!0)}onDisplayedColumnsChanged(){var t;const e=((t=this.filterManager)==null?void 0:t.hasFloatingFilters())&&!this.hidden;this.includeFloatingFilter!==e&&this.refresh(!0)}setupCenterWidth(){this.pinned==null&&this.createManagedBean(new QD(e=>this.comp.setCenterWidth(`${e}px`),!0))}setupPinnedWidth(){if(this.pinned==null)return;const e=this.pinned==="left",t=this.pinned==="right";this.hidden=!0;const i=()=>{const s=e?this.pinnedWidthService.getPinnedLeftWidth():this.pinnedWidthService.getPinnedRightWidth();if(s==null)return;const n=s==0,r=this.hidden!==n,o=this.gos.get("enableRtl"),a=this.scrollVisibleService.getScrollbarWidth(),d=this.scrollVisibleService.isVerticalScrollShowing()&&(o&&e||!o&&t)?s+a:s;this.comp.setPinnedContainerWidth(`${d}px`),this.comp.setDisplayed(!n),r&&(this.hidden=n,this.refresh())};this.addManagedEventListeners({leftPinnedWidthChanged:i,rightPinnedWidthChanged:i,scrollVisibilityChanged:i,scrollbarWidthChanged:i})}},eR=class extends re{constructor(e){super(),this.view=e}postConstruct(){this.addManagedPropertyListener("domLayout",this.updateLayoutClasses.bind(this)),this.updateLayoutClasses()}updateLayoutClasses(){const e=this.getDomLayout(),t={autoHeight:e==="autoHeight",normal:e==="normal",print:e==="print"},i=t.autoHeight?"ag-layout-auto-height":t.print?"ag-layout-print":"ag-layout-normal";this.view.updateLayoutClasses(i,t)}getDomLayout(){const e=this.gos.get("domLayout")??"normal";return["normal","print","autoHeight"].indexOf(e)===-1?(ae(`${e} is not valid for DOM Layout, valid values are 'normal', 'autoHeight', 'print'.`),"normal"):e}},h$=class extends Ht{constructor(){super(`
            <div class="ag-overlay" role="presentation">
                <div class="ag-overlay-panel" role="presentation">
                    <div class="ag-overlay-wrapper" data-ref="eOverlayWrapper" role="presentation"></div>
                </div>
            </div>`),this.eOverlayWrapper=Ie,this.activePromise=null,this.activeOverlay=null,this.updateListenerDestroyFunc=null,this.activeOverlayWrapperCssClass=null,this.elToFocusAfter=null}wireBeans(e){this.overlayService=e.overlayService,this.focusService=e.focusService,this.visibleColsService=e.visibleColsService}handleKeyDown(e){if(e.key!==te.TAB||e.defaultPrevented||ea(e)||this.focusService.findNextFocusableElement(this.eOverlayWrapper,!1,e.shiftKey))return;let i=!1;e.shiftKey?i=this.focusService.focusGridView(nt(this.visibleColsService.getAllCols()),!0,!1):i=this.focusService.focusNextGridCoreContainer(!1),i&&e.preventDefault()}updateLayoutClasses(e,t){const i=this.eOverlayWrapper.classList;i.toggle("ag-layout-auto-height",t.autoHeight),i.toggle("ag-layout-normal",t.normal),i.toggle("ag-layout-print",t.print)}postConstruct(){this.createManagedBean(new eR(this)),this.setDisplayed(!1,{skipAriaHidden:!0}),this.overlayService.setOverlayWrapperComp(this),this.addManagedElementListeners(this.getFocusableElement(),{keydown:this.handleKeyDown.bind(this)})}setWrapperTypeClass(e){const t=this.eOverlayWrapper.classList;this.activeOverlayWrapperCssClass&&t.toggle(this.activeOverlayWrapperCssClass,!1),this.activeOverlayWrapperCssClass=e,t.toggle(e,!0)}showOverlay(e,t,i,s){if(this.setWrapperTypeClass(t),this.destroyActiveOverlay(),this.elToFocusAfter=null,this.activePromise=e,!!e){if(this.setDisplayed(!0,{skipAriaHidden:!0}),i&&this.focusService.isGridFocused()){const n=ui(this.gos);n&&!MF(this.gos)&&(this.elToFocusAfter=n)}e.then(n=>{if(this.activePromise!==e){this.activeOverlay!==n&&(this.destroyBean(n),n=null);return}if(this.activePromise=null,!n)return;if(this.activeOverlay!==n&&(this.eOverlayWrapper.appendChild(n.getGui()),this.activeOverlay=n,s)){const o=n;this.updateListenerDestroyFunc=this.addManagedPropertyListener(s,({currentValue:a})=>{var l;(l=o.refresh)==null||l.call(o,this.gos.addGridCommonParams({...a??{}}))})}const r=this.focusService;i&&r.isGridFocused()&&r.focusInto(this.eOverlayWrapper)})}}updateOverlayWrapperPaddingTop(e){this.eOverlayWrapper.style.setProperty("padding-top",`${e}px`)}destroyActiveOverlay(){var s;this.activePromise=null;const e=this.activeOverlay;if(!e)return;let t=this.elToFocusAfter;this.activeOverlay=null,this.elToFocusAfter=null,t&&!this.focusService.isGridFocused()&&(t=null);const i=this.updateListenerDestroyFunc;i&&(i(),this.updateListenerDestroyFunc=null),this.destroyBean(e),Rn(this.eOverlayWrapper),(s=t==null?void 0:t.focus)==null||s.call(t,{preventScroll:!0})}hideOverlay(){this.destroyActiveOverlay(),this.setDisplayed(!1,{skipAriaHidden:!0})}destroy(){this.elToFocusAfter=null,this.destroyActiveOverlay(),this.overlayService.setOverlayWrapperComp(void 0),super.destroy()}},GN=class extends Ht{constructor(e,t){super(),this.direction=t,this.eViewport=Ie,this.eContainer=Ie,this.hideTimeout=null,this.setTemplate(e)}wireBeans(e){this.animationFrameService=e.animationFrameService}postConstruct(){this.addManagedEventListeners({scrollVisibilityChanged:this.onScrollVisibilityChanged.bind(this)}),this.onScrollVisibilityChanged(),this.addOrRemoveCssClass("ag-apple-scrollbar",YF()||Il())}initialiseInvisibleScrollbar(){this.invisibleScrollbar===void 0&&(this.invisibleScrollbar=qF(),this.invisibleScrollbar&&(this.hideAndShowInvisibleScrollAsNeeded(),this.addActiveListenerToggles()))}addActiveListenerToggles(){const e=this.getGui(),t=()=>this.addOrRemoveCssClass("ag-scrollbar-active",!0),i=()=>this.addOrRemoveCssClass("ag-scrollbar-active",!1);this.addManagedListeners(e,{mouseenter:t,mousedown:t,touchstart:t,mouseleave:i,touchend:i})}onScrollVisibilityChanged(){this.invisibleScrollbar===void 0&&this.initialiseInvisibleScrollbar(),this.animationFrameService.requestAnimationFrame(()=>this.setScrollVisible())}hideAndShowInvisibleScrollAsNeeded(){this.addManagedEventListeners({bodyScroll:e=>{e.direction===this.direction&&(this.hideTimeout!==null&&(window.clearTimeout(this.hideTimeout),this.hideTimeout=null),this.addOrRemoveCssClass("ag-scrollbar-scrolling",!0))},bodyScrollEnd:()=>{this.hideTimeout=window.setTimeout(()=>{this.addOrRemoveCssClass("ag-scrollbar-scrolling",!1),this.hideTimeout=null},400)}})}attemptSettingScrollPosition(e){const t=this.getViewportElement();AU(()=>ho(t),()=>this.setScrollPosition(e),100)}getViewportElement(){return this.eViewport}getContainer(){return this.eContainer}onScrollCallback(e){this.addManagedElementListeners(this.getViewportElement(),{scroll:e})}},g$=class extends GN{constructor(){super(`<div class="ag-body-horizontal-scroll" aria-hidden="true">
            <div class="ag-horizontal-left-spacer" data-ref="eLeftSpacer"></div>
            <div class="ag-body-horizontal-scroll-viewport" data-ref="eViewport">
                <div class="ag-body-horizontal-scroll-container" data-ref="eContainer"></div>
            </div>
            <div class="ag-horizontal-right-spacer" data-ref="eRightSpacer"></div>
        </div>`,"horizontal"),this.eLeftSpacer=Ie,this.eRightSpacer=Ie}wireBeans(e){super.wireBeans(e),this.visibleColsService=e.visibleColsService,this.pinnedRowModel=e.pinnedRowModel,this.ctrlsService=e.ctrlsService,this.scrollVisibleService=e.scrollVisibleService}postConstruct(){super.postConstruct();const e=this.setFakeHScrollSpacerWidths.bind(this);this.addManagedEventListeners({displayedColumnsChanged:e,displayedColumnsWidthChanged:e,pinnedRowDataChanged:this.onPinnedRowDataChanged.bind(this)}),this.addManagedPropertyListener("domLayout",e),this.ctrlsService.register("fakeHScrollComp",this),this.createManagedBean(new QD(t=>this.eContainer.style.width=`${t}px`)),this.addManagedPropertyListeners(["suppressHorizontalScroll"],this.onScrollVisibilityChanged.bind(this))}initialiseInvisibleScrollbar(){this.invisibleScrollbar===void 0&&(this.enableRtl=this.gos.get("enableRtl"),super.initialiseInvisibleScrollbar(),this.invisibleScrollbar&&this.refreshCompBottom())}onPinnedRowDataChanged(){this.refreshCompBottom()}refreshCompBottom(){if(!this.invisibleScrollbar)return;const e=this.pinnedRowModel.getPinnedBottomTotalHeight();this.getGui().style.bottom=`${e}px`}onScrollVisibilityChanged(){super.onScrollVisibilityChanged(),this.setFakeHScrollSpacerWidths()}setFakeHScrollSpacerWidths(){const e=this.scrollVisibleService.isVerticalScrollShowing();let t=this.visibleColsService.getDisplayedColumnsRightWidth();const i=!this.enableRtl&&e,s=this.scrollVisibleService.getScrollbarWidth();i&&(t+=s),Ar(this.eRightSpacer,t),this.eRightSpacer.classList.toggle("ag-scroller-corner",t<=s);let n=this.visibleColsService.getColsLeftWidth();this.enableRtl&&e&&(n+=s),Ar(this.eLeftSpacer,n),this.eLeftSpacer.classList.toggle("ag-scroller-corner",n<=s)}setScrollVisible(){const e=this.scrollVisibleService.isHorizontalScrollShowing(),t=this.invisibleScrollbar,i=this.gos.get("suppressHorizontalScroll"),s=e&&this.scrollVisibleService.getScrollbarWidth()||0,r=i?0:s===0&&t?16:s;this.addOrRemoveCssClass("ag-scrollbar-invisible",t),ap(this.getGui(),r),ap(this.eViewport,r),ap(this.eContainer,r),this.setDisplayed(e,{skipAriaHidden:!0})}getScrollPosition(){return Dy(this.getViewportElement(),this.enableRtl)}setScrollPosition(e){ho(this.getViewportElement())||this.attemptSettingScrollPosition(e),Ry(this.getViewportElement(),e,this.enableRtl)}},HN=class extends re{wireBeans(e){this.maxDivHeightScaler=e.rowContainerHeightService}constructor(e,t){super(),this.eContainer=e,this.eViewport=t}postConstruct(){this.addManagedEventListeners({rowContainerHeightChanged:this.onHeightChanged.bind(this)})}onHeightChanged(){const e=this.maxDivHeightScaler.getUiContainerHeight(),t=e!=null?`${e}px`:"";this.eContainer.style.height=t,this.eViewport&&(this.eViewport.style.height=t)}},p$=class extends GN{wireBeans(e){super.wireBeans(e),this.ctrlsService=e.ctrlsService,this.scrollVisibleService=e.scrollVisibleService}constructor(){super(`<div class="ag-body-vertical-scroll" aria-hidden="true">
            <div class="ag-body-vertical-scroll-viewport" data-ref="eViewport">
                <div class="ag-body-vertical-scroll-container" data-ref="eContainer"></div>
            </div>
        </div>`,"vertical")}postConstruct(){super.postConstruct(),this.createManagedBean(new HN(this.eContainer)),this.ctrlsService.register("fakeVScrollComp",this),this.addManagedEventListeners({rowContainerHeightChanged:this.onRowContainerHeightChanged.bind(this)})}setScrollVisible(){const e=this.scrollVisibleService.isVerticalScrollShowing(),t=this.invisibleScrollbar,i=e&&this.scrollVisibleService.getScrollbarWidth()||0,s=i===0&&t?16:i;this.addOrRemoveCssClass("ag-scrollbar-invisible",t),Ar(this.getGui(),s),Ar(this.eViewport,s),Ar(this.eContainer,s),this.setDisplayed(e,{skipAriaHidden:!0})}onRowContainerHeightChanged(){const{ctrlsService:e}=this,i=e.getGridBodyCtrl().getBodyViewportElement(),s=this.getScrollPosition(),n=i.scrollTop;s!=n&&this.setScrollPosition(n,!0)}getScrollPosition(){return this.getViewportElement().scrollTop}setScrollPosition(e,t){!t&&!ho(this.getViewportElement())&&this.attemptSettingScrollPosition(e),this.getViewportElement().scrollTop=e}},yM=(e=>(e.FakeHScrollbar="fakeHScrollComp",e.Header="centerHeader",e.PinnedTop="topCenter",e.PinnedBottom="bottomCenter",e.StickyTop="stickyTopCenter",e.StickyBottom="stickyBottomCenter",e))(yM||{}),f$=class extends re{constructor(e){super(),this.lastScrollSource=[null,null],this.scrollLeft=-1,this.nextScrollTop=-1,this.scrollTop=-1,this.lastOffsetHeight=-1,this.lastScrollTop=-1,this.eBodyViewport=e,this.resetLastHScrollDebounced=Hs(()=>this.lastScrollSource[1]=null,500),this.resetLastVScrollDebounced=Hs(()=>this.lastScrollSource[0]=null,500)}wireBeans(e){this.ctrlsService=e.ctrlsService,this.animationFrameService=e.animationFrameService,this.paginationService=e.paginationService,this.pageBoundsService=e.pageBoundsService,this.rowModel=e.rowModel,this.heightScaler=e.rowContainerHeightService,this.rowRenderer=e.rowRenderer,this.columnModel=e.columnModel,this.visibleColsService=e.visibleColsService}postConstruct(){this.enableRtl=this.gos.get("enableRtl"),this.addManagedEventListeners({displayedColumnsWidthChanged:this.onDisplayedColumnsWidthChanged.bind(this)}),this.ctrlsService.whenReady(this,e=>{this.centerRowsCtrl=e.center,this.onDisplayedColumnsWidthChanged(),this.addScrollListener()})}addScrollListener(){this.addHorizontalScrollListeners(),this.addVerticalScrollListeners()}addHorizontalScrollListeners(){this.addManagedElementListeners(this.centerRowsCtrl.getViewportElement(),{scroll:this.onHScroll.bind(this,"Viewport")});for(const e of Object.values(yM)){const t=this.ctrlsService.get(e);this.registerScrollPartner(t,this.onHScroll.bind(this,e))}}addVerticalScrollListeners(){const e=this.ctrlsService.get("fakeVScrollComp"),t=this.gos.get("debounceVerticalScrollbar"),i=t?Hs(this.onVScroll.bind(this,"Viewport"),100):this.onVScroll.bind(this,"Viewport"),s=t?Hs(this.onVScroll.bind(this,"fakeVScrollComp"),100):this.onVScroll.bind(this,"fakeVScrollComp");this.addManagedElementListeners(this.eBodyViewport,{scroll:i}),this.registerScrollPartner(e,s)}registerScrollPartner(e,t){e.onScrollCallback(t)}onDisplayedColumnsWidthChanged(){this.enableRtl&&this.horizontallyScrollHeaderCenterAndFloatingCenter()}horizontallyScrollHeaderCenterAndFloatingCenter(e){this.centerRowsCtrl!=null&&(e===void 0&&(e=this.centerRowsCtrl.getCenterViewportScrollLeft()),this.setScrollLeftForAllContainersExceptCurrent(Math.abs(e)))}setScrollLeftForAllContainersExceptCurrent(e){for(const t of[...Object.values(yM),"Viewport"]){if(this.lastScrollSource[1]===t)continue;const i=this.getViewportForSource(t);Ry(i,e,this.enableRtl)}}getViewportForSource(e){return e==="Viewport"?this.centerRowsCtrl.getViewportElement():this.ctrlsService.get(e).getViewportElement()}isControllingScroll(e,t){return this.lastScrollSource[t]==null?(t===0?this.lastScrollSource[0]=e:this.lastScrollSource[1]=e,!0):this.lastScrollSource[t]===e}onHScroll(e){if(!this.isControllingScroll(e,1))return;const t=this.centerRowsCtrl.getViewportElement(),{scrollLeft:i}=t;if(this.shouldBlockScrollUpdate(1,i,!0))return;const s=Dy(this.getViewportForSource(e),this.enableRtl);this.doHorizontalScroll(s),this.resetLastHScrollDebounced()}onVScroll(e){if(!this.isControllingScroll(e,0))return;let t;e==="Viewport"?t=this.eBodyViewport.scrollTop:t=this.ctrlsService.get("fakeVScrollComp").getScrollPosition(),!this.shouldBlockScrollUpdate(0,t,!0)&&(this.animationFrameService.setScrollTop(t),this.nextScrollTop=t,e==="Viewport"?this.ctrlsService.get("fakeVScrollComp").setScrollPosition(t):this.eBodyViewport.scrollTop=t,this.gos.get("suppressAnimationFrame")?this.scrollGridIfNeeded():this.animationFrameService.schedule(),this.resetLastVScrollDebounced())}doHorizontalScroll(e){const t=this.ctrlsService.get("fakeHScrollComp").getScrollPosition();this.scrollLeft===e&&e===t||(this.scrollLeft=e,this.fireScrollEvent(1),this.horizontallyScrollHeaderCenterAndFloatingCenter(e),this.centerRowsCtrl.onHorizontalViewportChanged(!0))}fireScrollEvent(e){const t={type:"bodyScroll",direction:e===1?"horizontal":"vertical",left:this.scrollLeft,top:this.scrollTop};this.eventService.dispatchEvent(t),window.clearTimeout(this.scrollTimer),this.scrollTimer=void 0,this.scrollTimer=window.setTimeout(()=>{this.eventService.dispatchEvent({...t,type:"bodyScrollEnd"})},100)}shouldBlockScrollUpdate(e,t,i=!1){return i&&!Il()?!1:e===0?this.shouldBlockVerticalScroll(t):this.shouldBlockHorizontalScroll(t)}shouldBlockVerticalScroll(e){const t=zD(this.eBodyViewport),{scrollHeight:i}=this.eBodyViewport;return e<0||e+t>i}shouldBlockHorizontalScroll(e){const t=this.centerRowsCtrl.getCenterWidth(),{scrollWidth:i}=this.centerRowsCtrl.getViewportElement();if(this.enableRtl&&My()){if(e>0)return!0}else if(e<0)return!0;return Math.abs(e)+t>i}redrawRowsAfterScroll(){this.fireScrollEvent(0)}checkScrollLeft(){this.scrollLeft!==this.centerRowsCtrl.getCenterViewportScrollLeft()&&this.onHScroll("Viewport")}scrollGridIfNeeded(){const e=this.scrollTop!=this.nextScrollTop;return e&&(this.scrollTop=this.nextScrollTop,this.redrawRowsAfterScroll()),e}setHorizontalScrollPosition(e,t=!1){const s=this.centerRowsCtrl.getViewportElement().scrollWidth-this.centerRowsCtrl.getCenterWidth();!t&&this.shouldBlockScrollUpdate(1,e)&&(this.enableRtl&&My()?e=e>0?0:s:e=Math.min(Math.max(e,0),s)),Ry(this.centerRowsCtrl.getViewportElement(),Math.abs(e),this.enableRtl),this.doHorizontalScroll(e)}setVerticalScrollPosition(e){this.eBodyViewport.scrollTop=e}getVScrollPosition(){return this.lastScrollTop=this.eBodyViewport.scrollTop,this.lastOffsetHeight=this.eBodyViewport.offsetHeight,{top:this.lastScrollTop,bottom:this.lastScrollTop+this.lastOffsetHeight}}getApproximateVScollPosition(){return this.lastScrollTop>=0&&this.lastOffsetHeight>=0?{top:this.scrollTop,bottom:this.scrollTop+this.lastOffsetHeight}:this.getVScrollPosition()}getHScrollPosition(){return this.centerRowsCtrl.getHScrollPosition()}isHorizontalScrollShowing(){return this.centerRowsCtrl.isHorizontalScrollShowing()}scrollHorizontally(e){const t=this.centerRowsCtrl.getViewportElement().scrollLeft;return this.setHorizontalScrollPosition(t+e),this.centerRowsCtrl.getViewportElement().scrollLeft-t}scrollToTop(){this.eBodyViewport.scrollTop=0}ensureNodeVisible(e,t=null){const i=this.rowModel.getRowCount();let s=-1;for(let n=0;n<i;n++){const r=this.rowModel.getRow(n);if(typeof e=="function"){if(r&&e(r)){s=n;break}}else if(e===r||e===r.data){s=n;break}}s>=0&&this.ensureIndexVisible(s,t)}ensureIndexVisible(e,t){if(ys(this.gos,"print"))return;const i=this.rowModel.getRowCount();if(typeof e!="number"||e<0||e>=i){ae("Invalid row index for ensureIndexVisible: "+e);return}const n=this.gos.get("pagination")&&!this.gos.get("suppressPaginationPanel");this.getFrameworkOverrides().wrapIncoming(()=>{var h;n||(h=this.paginationService)==null||h.goToPageWithIndex(e);const r=this.ctrlsService.getGridBodyCtrl(),o=r.getStickyTopHeight(),a=r.getStickyBottomHeight(),l=this.rowModel.getRow(e);let d;do{const p=l.rowTop,f=l.rowHeight,v=this.pageBoundsService.getPixelOffset(),y=l.rowTop-v,S=y+l.rowHeight,w=this.getVScrollPosition(),b=this.heightScaler.getDivStretchOffset(),x=w.top+b,D=w.bottom+b,E=D-x,T=this.heightScaler.getScrollPositionForPixel(y),k=this.heightScaler.getScrollPositionForPixel(S-E),P=Math.min((T+k)/2,y),O=x+o>y,F=D-a<S;let z=null;t==="top"?z=T:t==="bottom"?z=k:t==="middle"?z=P:O?z=T-o:F&&(z=k+a),z!==null&&(this.setVerticalScrollPosition(z),this.rowRenderer.redraw({afterScroll:!0})),d=p!==l.rowTop||f!==l.rowHeight}while(d);this.animationFrameService.flushAllFrames()})}ensureColumnVisible(e,t="auto"){const i=this.columnModel.getCol(e);if(!i||i.isPinned()||!this.visibleColsService.isColDisplayed(i))return;const s=this.getPositionedHorizontalScroll(i,t);this.getFrameworkOverrides().wrapIncoming(()=>{s!==null&&this.centerRowsCtrl.setCenterViewportScrollLeft(s),this.centerRowsCtrl.onHorizontalViewportChanged(),this.animationFrameService.flushAllFrames()})}setScrollPosition(e,t){this.getFrameworkOverrides().wrapIncoming(()=>{this.centerRowsCtrl.setCenterViewportScrollLeft(t),this.setVerticalScrollPosition(e),this.rowRenderer.redraw({afterScroll:!0}),this.animationFrameService.flushAllFrames()})}getPositionedHorizontalScroll(e,t){const{columnBeforeStart:i,columnAfterEnd:s}=this.isColumnOutsideViewport(e),n=this.centerRowsCtrl.getCenterWidth()<e.getActualWidth(),r=this.centerRowsCtrl.getCenterWidth(),o=this.enableRtl;let a=(o?i:s)||n,l=o?s:i;t!=="auto"&&(a=t==="start",l=t==="end");const d=t==="middle";if(a||l||d){const{colLeft:h,colMiddle:p,colRight:f}=this.getColumnBounds(e);return d?p-r/2:a?o?f:h:o?h-r:f-r}return null}isColumnOutsideViewport(e){const{start:t,end:i}=this.getViewportBounds(),{colLeft:s,colRight:n}=this.getColumnBounds(e),r=this.enableRtl,o=r?t>n:i<n,a=r?i<s:t>s;return{columnBeforeStart:o,columnAfterEnd:a}}getColumnBounds(e){const t=this.enableRtl,i=this.visibleColsService.getBodyContainerWidth(),s=e.getActualWidth(),n=e.getLeft(),r=t?-1:1,o=t?i-n:n,a=o+s*r,l=o+s/2*r;return{colLeft:o,colMiddle:l,colRight:a}}getViewportBounds(){const e=this.centerRowsCtrl.getCenterWidth(),t=this.centerRowsCtrl.getCenterViewportScrollLeft(),i=t,s=e+t;return{start:i,end:s,width:e}}},m$=class extends re{wireBeans(e){this.animationFrameService=e.animationFrameService,this.ctrlsService=e.ctrlsService,this.pinnedWidthService=e.pinnedWidthService,this.columnModel=e.columnModel,this.visibleColsService=e.visibleColsService,this.columnSizeService=e.columnSizeService,this.scrollVisibleService=e.scrollVisibleService,this.columnViewportService=e.columnViewportService}constructor(e){super(),this.centerContainerCtrl=e}postConstruct(){this.ctrlsService.whenReady(this,e=>{this.gridBodyCtrl=e.gridBodyCtrl,this.listenForResize()}),this.addManagedEventListeners({scrollbarWidthChanged:this.onScrollbarWidthChanged.bind(this)}),this.addManagedPropertyListeners(["alwaysShowHorizontalScroll","alwaysShowVerticalScroll"],()=>{this.checkViewportAndScrolls()})}listenForResize(){const e=()=>{this.animationFrameService.requestAnimationFrame(()=>{this.onCenterViewportResized()})};this.centerContainerCtrl.registerViewportResizeListener(e),this.gridBodyCtrl.registerBodyViewportResizeListener(e)}onScrollbarWidthChanged(){this.checkViewportAndScrolls()}onCenterViewportResized(){if(this.scrollVisibleService.onCentreViewportResized(),this.centerContainerCtrl.isViewportInTheDOMTree()){this.keepPinnedColumnsNarrowerThanViewport(),this.checkViewportAndScrolls();const e=this.centerContainerCtrl.getCenterWidth();e!==this.centerWidth&&(this.centerWidth=e,this.columnSizeService.refreshFlexedColumns({viewportWidth:this.centerWidth,updateBodyWidths:!0,fireResizedEvent:!0}))}else this.bodyHeight=0}keepPinnedColumnsNarrowerThanViewport(){const e=this.gridBodyCtrl.getBodyViewportElement(),t=hf(e);if(t<=50)return;let i=this.getPinnedColumnsOverflowingViewport(t-50);const s=this.gos.getCallback("processUnpinnedColumns");i.length&&(s&&(i=s({columns:i,viewportWidth:t})),this.columnModel.setColsPinned(i,null,"viewportSizeFeature"))}getPinnedColumnsOverflowingViewport(e){const t=this.pinnedWidthService.getPinnedRightWidth(),i=this.pinnedWidthService.getPinnedLeftWidth(),s=t+i;if(s<e)return[];const n=[...this.visibleColsService.getLeftCols()],r=[...this.visibleColsService.getRightCols()];let o=0,a=0;const l=0,d=[];let h=s-l-e;for(;(a<n.length||o<r.length)&&h>0;){if(o<r.length){const p=r[o++];h-=p.getActualWidth(),d.push(p)}if(a<n.length&&h>0){const p=n[a++];h-=p.getActualWidth(),d.push(p)}}return d}checkViewportAndScrolls(){this.updateScrollVisibleService(),this.checkBodyHeight(),this.onHorizontalViewportChanged(),this.gridBodyCtrl.getScrollFeature().checkScrollLeft()}getBodyHeight(){return this.bodyHeight}checkBodyHeight(){const e=this.gridBodyCtrl.getBodyViewportElement(),t=zD(e);this.bodyHeight!==t&&(this.bodyHeight=t,this.eventService.dispatchEvent({type:"bodyHeightChanged"}))}updateScrollVisibleService(){this.updateScrollVisibleServiceImpl(),setTimeout(this.updateScrollVisibleServiceImpl.bind(this),500)}updateScrollVisibleServiceImpl(){const e={horizontalScrollShowing:this.isHorizontalScrollShowing(),verticalScrollShowing:this.gridBodyCtrl.isVerticalScrollShowing()};this.scrollVisibleService.setScrollsVisible(e)}isHorizontalScrollShowing(){return this.centerContainerCtrl.isHorizontalScrollShowing()}onHorizontalViewportChanged(){const e=this.centerContainerCtrl.getCenterWidth(),t=this.centerContainerCtrl.getViewportScrollLeft();this.columnViewportService.setScrollPosition(e,t)}},v$=class extends re{wireBeans(e){this.dragService=e.dragService,this.rangeService=e.rangeService}constructor(e){super(),this.eContainer=e}postConstruct(){if(!this.rangeService)return;this.params={eElement:this.eContainer,onDragStart:this.rangeService.onDragStart.bind(this.rangeService),onDragStop:this.rangeService.onDragStop.bind(this.rangeService),onDragging:this.rangeService.onDragging.bind(this.rangeService)},this.addManagedPropertyListeners(["enableRangeSelection","cellSelection"],()=>{la(this.gos)?this.enableFeature():this.disableFeature()}),this.addDestroyFunc(()=>this.disableFeature()),la(this.gos)&&this.enableFeature()}enableFeature(){this.dragService.addDragSource(this.params)}disableFeature(){this.dragService.removeDragSource(this.params)}},y$=class extends Ht{constructor(){super(`
            <div class="ag-selection-checkbox" role="presentation">
                <ag-checkbox role="presentation" data-ref="eCheckbox"></ag-checkbox>
            </div>`,[VD]),this.eCheckbox=Ie}postConstruct(){this.eCheckbox.setPassive(!0)}getCheckboxId(){return this.eCheckbox.getInputElement().id}onDataChanged(){this.onSelectionChanged()}onSelectableChanged(){this.showOrHideSelect()}onSelectionChanged(){const e=this.localeService.getLocaleTextFunc(),t=this.rowNode.isSelected(),i=PD(e,t),[s,n]=this.rowNode.selectable?["ariaRowToggleSelection","Press Space to toggle row selection"]:["ariaRowSelectionDisabled","Row Selection is disabled for this row"],r=e(s,n);this.eCheckbox.setValue(t,!0),this.eCheckbox.setInputAriaLabel(`${r} (${i})`)}onClicked(e,t,i){return this.rowNode.setSelectedParams({newValue:e,rangeSelect:i.shiftKey,groupSelectsFiltered:t,event:i,source:"checkboxSelected"})}init(e){if(this.rowNode=e.rowNode,this.column=e.column,this.overrides=e.overrides,this.onSelectionChanged(),this.addManagedListeners(this.eCheckbox.getInputElement(),{dblclick:s=>Vd(s),click:s=>{Vd(s);const n=AD(this.gos)==="filteredDescendants",r=this.eCheckbox.getValue();this.shouldHandleIndeterminateState(r,n)?this.onClicked(!0,n,s||{})===0&&this.onClicked(!1,n,s):r?this.onClicked(!1,n,s):this.onClicked(!0,n,s||{})}}),this.addManagedListeners(this.rowNode,{rowSelected:this.onSelectionChanged.bind(this),dataChanged:this.onDataChanged.bind(this),selectableChanged:this.onSelectableChanged.bind(this)}),ED(this.gos)||typeof this.getIsVisible()=="function"){const s=this.showOrHideSelect.bind(this);this.addManagedEventListeners({displayedColumnsChanged:s}),this.addManagedListeners(this.rowNode,{dataChanged:s,cellChanged:s}),this.showOrHideSelect()}this.eCheckbox.getInputElement().setAttribute("tabindex","-1")}shouldHandleIndeterminateState(e,t){return t&&(this.eCheckbox.getPreviousValue()===void 0||e===void 0)&&Ut(this.gos)}showOrHideSelect(){var n,r,o;let e=this.rowNode.selectable;const t=this.getIsVisible();if(e)if(typeof t=="function"){const a=(n=this.overrides)==null?void 0:n.callbackParams;if(!this.column)e=t({...a,node:this.rowNode,data:this.rowNode.data});else{const l=this.column.createColumnFunctionCallbackParams(this.rowNode);e=t({...a,...l})}}else e=t??!1;const i=this.gos.get("rowSelection");if(i&&typeof i!="string"?!PU(i):(r=this.column)==null?void 0:r.getColDef().showDisabledCheckboxes){this.eCheckbox.setDisabled(!e),this.setVisible(!0),this.setDisplayed(!0);return}if((o=this.overrides)!=null&&o.removeHidden){this.setDisplayed(e);return}this.setVisible(e)}getIsVisible(){var t,i;if(this.overrides)return this.overrides.isVisible;const e=this.gos.get("rowSelection");return e&&typeof e!="string"?jd(e):(i=(t=this.column)==null?void 0:t.getColDef())==null?void 0:i.checkboxSelection}},C$=class extends Ht{constructor(e,t,i){super('<div class="ag-drag-handle ag-row-drag" draggable="true"></div>'),this.rowNode=e,this.column=t,this.eCell=i}postConstruct(){this.getGui().appendChild(bn("rowDrag",this.gos,null)),this.addGuiEventListener("mousedown",t=>{t.stopPropagation()}),this.addDragSource(),this.checkVisibility()}addDragSource(){this.addGuiEventListener("dragstart",this.onDragStart.bind(this))}onDragStart(e){const t=this.column.getColDef().dndSourceOnRowDrag;e.dataTransfer.setDragImage(this.eCell,0,0);const i=()=>{try{const s=JSON.stringify(this.rowNode.data);e.dataTransfer.setData("application/json",s),e.dataTransfer.setData("text/plain",s)}catch{}};if(t){const s=this.gos.addGridCommonParams({rowNode:this.rowNode,dragEvent:e});t(s)}else i()}checkVisibility(){const e=this.column.isDndSource(this.rowNode);this.setDisplayed(e)}},b$=class extends re{constructor(e,t){super(),this.staticClasses=[],this.cellCtrl=e,this.beans=t,this.column=e.getColumn(),this.rowNode=e.getRowNode()}setComp(e){this.cellComp=e,this.applyUserStyles(),this.applyCellClassRules(),this.applyClassesFromColDef()}applyCellClassRules(){const e=this.column.getColDef(),{cellClassRules:t}=e,i=this.beans.gos.addGridCommonParams({value:this.cellCtrl.getValue(),data:this.rowNode.data,node:this.rowNode,colDef:e,column:this.column,rowIndex:this.rowNode.rowIndex});this.beans.stylingService.processClassRules(t===this.cellClassRules?void 0:this.cellClassRules,t,i,s=>this.cellComp.addOrRemoveCssClass(s,!0),s=>this.cellComp.addOrRemoveCssClass(s,!1)),this.cellClassRules=t}applyUserStyles(){const e=this.column.getColDef();if(!e.cellStyle)return;let t;if(typeof e.cellStyle=="function"){const i=this.beans.gos.addGridCommonParams({column:this.column,value:this.cellCtrl.getValue(),colDef:e,data:this.rowNode.data,node:this.rowNode,rowIndex:this.rowNode.rowIndex}),s=e.cellStyle;t=s(i)}else t=e.cellStyle;t&&this.cellComp.setUserStyles(t)}applyClassesFromColDef(){const e=this.column.getColDef(),t=this.beans.gos.addGridCommonParams({value:this.cellCtrl.getValue(),data:this.rowNode.data,node:this.rowNode,column:this.column,colDef:e,rowIndex:this.rowNode.rowIndex});this.staticClasses.length&&this.staticClasses.forEach(i=>this.cellComp.addOrRemoveCssClass(i,!1)),this.staticClasses=this.beans.stylingService.getStaticCellClasses(e,t),this.staticClasses.length&&this.staticClasses.forEach(i=>this.cellComp.addOrRemoveCssClass(i,!0))}destroy(){super.destroy()}},S$=class extends re{constructor(e,t,i,s,n){super(),this.cellCtrl=e,this.beans=t,this.rowNode=s,this.rowCtrl=n}setComp(e){this.eGui=e}onKeyDown(e){const t=e.key;switch(t){case te.ENTER:this.onEnterKeyDown(e);break;case te.F2:this.onF2KeyDown(e);break;case te.ESCAPE:this.onEscapeKeyDown(e);break;case te.TAB:this.onTabKeyDown(e);break;case te.BACKSPACE:case te.DELETE:this.onBackspaceOrDeleteKeyDown(t,e);break;case te.DOWN:case te.UP:case te.RIGHT:case te.LEFT:this.onNavigationKeyDown(e,t);break}}onNavigationKeyDown(e,t){this.cellCtrl.isEditing()||(e.shiftKey&&this.cellCtrl.isRangeSelectionEnabled()?this.onShiftRangeSelect(e):this.beans.navigationService.navigateToNextCell(e,t,this.cellCtrl.getCellPosition(),!0),e.preventDefault())}onShiftRangeSelect(e){if(!this.beans.rangeService)return;const t=this.beans.rangeService.extendLatestRangeInDirection(e);t&&this.beans.navigationService.ensureCellVisible(t)}onTabKeyDown(e){this.beans.navigationService.onTabKeyDown(this.cellCtrl,e)}onBackspaceOrDeleteKeyDown(e,t){const{cellCtrl:i,beans:s,rowNode:n}=this,{gos:r,rangeService:o,eventService:a}=s;if(!i.isEditing()){if(a.dispatchEvent({type:"keyShortcutChangedCellStart"}),s9(e,r.get("enableCellEditingOnBackspace"))){if(o&&la(r))o.clearCellRangeCellValues({dispatchWrapperEvents:!0,wrapperEventSource:"deleteKey"});else if(i.isCellEditable()){const l=i.getColumn(),d=this.beans.valueService.getDeleteValue(l,n);n.setDataValue(l,d,"cellClear")}}else i.startRowOrCellEdit(e,t);a.dispatchEvent({type:"keyShortcutChangedCellEnd"})}}onEnterKeyDown(e){if(this.cellCtrl.isEditing()||this.rowCtrl.isEditing())this.cellCtrl.stopEditingAndFocus(!1,e.shiftKey);else if(this.beans.gos.get("enterNavigatesVertically")){const t=e.shiftKey?te.UP:te.DOWN;this.beans.navigationService.navigateToNextCell(null,t,this.cellCtrl.getCellPosition(),!1)}else this.cellCtrl.startRowOrCellEdit(te.ENTER,e),this.cellCtrl.isEditing()&&e.preventDefault()}onF2KeyDown(e){this.cellCtrl.isEditing()||this.cellCtrl.startRowOrCellEdit(te.F2,e)}onEscapeKeyDown(e){this.cellCtrl.isEditing()&&(this.cellCtrl.stopRowOrCellEdit(!0),this.cellCtrl.focusCell(!0))}processCharacter(e){if(e.target!==this.eGui||this.cellCtrl.isEditing())return;const s=e.key;s===" "?this.onSpaceKeyDown(e):this.cellCtrl.startRowOrCellEdit(s,e)&&e.preventDefault()}onSpaceKeyDown(e){const{gos:t}=this.beans;if(!this.cellCtrl.isEditing()&&my(t)){const i=this.rowNode.isSelected(),s=!i,n=AD(t)==="filteredDescendants",r=this.rowNode.setSelectedParams({newValue:s,rangeSelect:e.shiftKey,groupSelectsFiltered:n,event:e,source:"spaceKey"});i===void 0&&r===0&&this.rowNode.setSelectedParams({newValue:!1,rangeSelect:e.shiftKey,groupSelectsFiltered:n,event:e,source:"spaceKey"})}e.preventDefault()}destroy(){super.destroy()}},w$=class extends re{constructor(e,t,i){super(),this.cellCtrl=e,this.beans=t,this.column=i}onMouseEvent(e,t){if(!ea(t))switch(e){case"click":this.onCellClicked(t);break;case"mousedown":case"touchstart":this.onMouseDown(t);break;case"dblclick":this.onCellDoubleClicked(t);break;case"mouseout":this.onMouseOut(t);break;case"mouseover":this.onMouseOver(t);break}}onCellClicked(e){if(this.isDoubleClickOnIPad()){this.onCellDoubleClicked(e),e.preventDefault();return}const{eventService:t,rangeService:i,gos:s}=this.beans,n=e.ctrlKey||e.metaKey;i&&n&&i.getCellRangeCount(this.cellCtrl.getCellPosition())>1&&i.intersectLastRange(!0);const r=this.cellCtrl.createEvent(e,"cellClicked");t.dispatchEvent(r);const o=this.column.getColDef();o.onCellClicked&&window.setTimeout(()=>{this.beans.frameworkOverrides.wrapOutgoing(()=>{o.onCellClicked(r)})},0),(s.get("singleClickEdit")||o.singleClickEdit)&&!s.get("suppressClickEdit")&&!(e.shiftKey&&(i==null?void 0:i.getCellRanges().length)!=0)&&this.cellCtrl.startRowOrCellEdit()}isDoubleClickOnIPad(){if(!Il()||PF("dblclick"))return!1;const e=new Date().getTime(),t=e-this.lastIPadMouseClickEvent<200;return this.lastIPadMouseClickEvent=e,t}onCellDoubleClicked(e){const{column:t,beans:i,cellCtrl:s}=this,{eventService:n,frameworkOverrides:r,gos:o}=i,a=t.getColDef(),l=s.createEvent(e,"cellDoubleClicked");n.dispatchEvent(l),typeof a.onCellDoubleClicked=="function"&&window.setTimeout(()=>{r.wrapOutgoing(()=>{a.onCellDoubleClicked(l)})},0),!o.get("singleClickEdit")&&!o.get("suppressClickEdit")&&s.startRowOrCellEdit(null,e)}onMouseDown(e){const{ctrlKey:t,metaKey:i,shiftKey:s}=e,n=e.target,{cellCtrl:r,beans:o}=this,{eventService:a,rangeService:l,focusService:d,gos:h}=o;if(this.isRightClickInExistingRange(e))return;const p=l&&l.getCellRanges().length!=0;if(!s||!p){const v=h.get("enableCellTextSelection")&&e.defaultPrevented,y=(uo()||v)&&!r.isEditing()&&!ND(n);r.focusCell(y)}if(s&&p&&!d.isCellFocused(r.getCellPosition())){e.preventDefault();const f=d.getFocusedCell();if(f){const{column:v,rowIndex:y,rowPinned:S}=f,w=o.rowRenderer.getRowByPosition({rowIndex:y,rowPinned:S}),b=w==null?void 0:w.getCellCtrl(v);b!=null&&b.isEditing()&&b.stopEditing(),d.setFocusedCell({column:v,rowIndex:y,rowPinned:S,forceBrowserFocus:!0,preventScrollOnBrowserFocus:!0})}}if(!this.containsWidget(n)){if(l){const f=this.cellCtrl.getCellPosition();if(s)l.extendLatestRangeToCell(f);else{const v=t||i;l.setRangeToCell(f,v)}}a.dispatchEvent(this.cellCtrl.createEvent(e,"cellMouseDown"))}}isRightClickInExistingRange(e){const{rangeService:t}=this.beans;if(t){const i=t.isCellInAnyRange(this.cellCtrl.getCellPosition()),s=e.button===2||e.ctrlKey&&this.beans.gos.get("allowContextMenuWithControlKey");if(i&&s)return!0}return!1}containsWidget(e){return Td(e,"ag-selection-checkbox",3)}onMouseOut(e){this.mouseStayingInsideCell(e)||(this.beans.eventService.dispatchEvent(this.cellCtrl.createEvent(e,"cellMouseOut")),this.beans.columnHoverService.clearMouseOver())}onMouseOver(e){this.mouseStayingInsideCell(e)||(this.beans.eventService.dispatchEvent(this.cellCtrl.createEvent(e,"cellMouseOver")),this.beans.columnHoverService.setMouseOver([this.column]))}mouseStayingInsideCell(e){if(!e.target||!e.relatedTarget)return!1;const t=this.cellCtrl.getGui(),i=t.contains(e.target),s=t.contains(e.relatedTarget);return i&&s}destroy(){super.destroy()}},x$=class extends re{constructor(e,t){super(),this.cellCtrl=e,this.beans=t,this.column=e.getColumn(),this.rowNode=e.getRowNode()}setupRowSpan(){this.rowSpan=this.column.getRowSpan(this.rowNode),this.addManagedListeners(this.beans.eventService,{newColumnsLoaded:()=>this.onNewColumnsLoaded()})}setComp(e){this.eGui=e,this.setupColSpan(),this.setupRowSpan(),this.onLeftChanged(),this.onWidthChanged(),this.applyRowSpan()}onNewColumnsLoaded(){const e=this.column.getRowSpan(this.rowNode);this.rowSpan!==e&&(this.rowSpan=e,this.applyRowSpan(!0))}onDisplayColumnsChanged(){const e=this.getColSpanningList();Tl(this.colsSpanning,e)||(this.colsSpanning=e,this.onWidthChanged(),this.onLeftChanged())}setupColSpan(){this.column.getColDef().colSpan!=null&&(this.colsSpanning=this.getColSpanningList(),this.addManagedListeners(this.beans.eventService,{displayedColumnsChanged:this.onDisplayColumnsChanged.bind(this),displayedColumnsWidthChanged:this.onWidthChanged.bind(this)}))}onWidthChanged(){if(!this.eGui)return;const e=this.getCellWidth();this.eGui.style.width=`${e}px`}getCellWidth(){return this.colsSpanning?this.colsSpanning.reduce((e,t)=>e+t.getActualWidth(),0):this.column.getActualWidth()}getColSpanningList(){const e=this.column.getColSpan(this.rowNode),t=[];if(e===1)t.push(this.column);else{let i=this.column;const s=this.column.getPinned();for(let n=0;i&&n<e&&(t.push(i),i=this.beans.visibleColsService.getColAfter(i),!(!i||rt(i)||s!==i.getPinned()));n++);}return t}onLeftChanged(){if(!this.eGui)return;const e=this.modifyLeftForPrintLayout(this.getCellLeft());this.eGui.style.left=e+"px"}getCellLeft(){let e;return this.beans.gos.get("enableRtl")&&this.colsSpanning?e=nt(this.colsSpanning):e=this.column,e.getLeft()}modifyLeftForPrintLayout(e){if(!this.cellCtrl.isPrintLayout()||this.column.getPinned()==="left")return e;const t=this.beans.visibleColsService.getColsLeftWidth();if(this.column.getPinned()==="right"){const i=this.beans.visibleColsService.getBodyContainerWidth();return t+i+(e||0)}return t+(e||0)}applyRowSpan(e){if(this.rowSpan===1&&!e)return;const i=zc(this.beans.gos)*this.rowSpan;this.eGui.style.height=`${i}px`,this.eGui.style.zIndex="1"}destroy(){super.destroy()}},zg="ag-cell-range-selected",M$="ag-cell-range-chart",D$="ag-cell-range-single-cell",R$="ag-cell-range-chart-category",E$="ag-cell-range-handle",A$="ag-cell-range-top",T$="ag-cell-range-right",I$="ag-cell-range-bottom",L$="ag-cell-range-left",k$=class{constructor(e,t){this.beans=e,this.rangeService=e.rangeService,this.selectionHandleFactory=e.selectionHandleFactory,this.cellCtrl=t}setComp(e,t){this.cellComp=e,this.eGui=t,this.onCellSelectionChanged()}onCellSelectionChanged(){this.cellComp&&(this.rangeCount=this.rangeService.getCellRangeCount(this.cellCtrl.getCellPosition()),this.hasChartRange=this.getHasChartRange(),this.cellComp.addOrRemoveCssClass(zg,this.rangeCount!==0),this.cellComp.addOrRemoveCssClass(`${zg}-1`,this.rangeCount===1),this.cellComp.addOrRemoveCssClass(`${zg}-2`,this.rangeCount===2),this.cellComp.addOrRemoveCssClass(`${zg}-3`,this.rangeCount===3),this.cellComp.addOrRemoveCssClass(`${zg}-4`,this.rangeCount>=4),this.cellComp.addOrRemoveCssClass(M$,this.hasChartRange),wy(this.eGui,this.rangeCount>0?!0:void 0),this.cellComp.addOrRemoveCssClass(D$,this.isSingleCell()),this.updateRangeBorders(),this.refreshHandle())}updateRangeBorders(){const e=this.getRangeBorders(),t=this.isSingleCell(),i=!t&&e.top,s=!t&&e.right,n=!t&&e.bottom,r=!t&&e.left;this.cellComp.addOrRemoveCssClass(A$,i),this.cellComp.addOrRemoveCssClass(T$,s),this.cellComp.addOrRemoveCssClass(I$,n),this.cellComp.addOrRemoveCssClass(L$,r)}isSingleCell(){const{rangeService:e}=this.beans;return this.rangeCount===1&&!!e&&!e.isMoreThanOneCell()}getHasChartRange(){const{rangeService:e}=this.beans;if(!this.rangeCount||!e)return!1;const t=e.getCellRanges();return t.length>0&&t.every(i=>Bc([1,0],i.type))}updateRangeBordersIfRangeCount(){this.rangeCount>0&&(this.updateRangeBorders(),this.refreshHandle())}getRangeBorders(){const e=this.beans.gos.get("enableRtl");let t=!1,i=!1,s=!1,n=!1;const r=this.cellCtrl.getCellPosition().column,o=this.beans.visibleColsService;let a,l;e?(a=o.getColAfter(r),l=o.getColBefore(r)):(a=o.getColBefore(r),l=o.getColAfter(r));const d=this.rangeService.getCellRanges().filter(h=>this.rangeService.isCellInSpecificRange(this.cellCtrl.getCellPosition(),h));a||(n=!0),l||(i=!0);for(let h=0;h<d.length&&!(t&&i&&s&&n);h++){const p=d[h],f=this.rangeService.getRangeStartRow(p),v=this.rangeService.getRangeEndRow(p);!t&&this.beans.rowPositionUtils.sameRow(f,this.cellCtrl.getCellPosition())&&(t=!0),!s&&this.beans.rowPositionUtils.sameRow(v,this.cellCtrl.getCellPosition())&&(s=!0),!n&&a&&p.columns.indexOf(a)<0&&(n=!0),!i&&l&&p.columns.indexOf(l)<0&&(i=!0)}return{top:t,right:i,bottom:s,left:n}}refreshHandle(){if(this.beans.context.isDestroyed())return;const e=this.shouldHaveSelectionHandle();this.selectionHandle&&!e&&(this.selectionHandle=this.beans.context.destroyBean(this.selectionHandle)),e&&this.addSelectionHandle(),this.cellComp.addOrRemoveCssClass(E$,!!this.selectionHandle)}shouldHaveSelectionHandle(){const e=this.beans.gos,t=this.rangeService.getCellRanges(),i=t.length;if(this.rangeCount<1||i<1)return!1;const s=nt(t),n=this.cellCtrl.getCellPosition(),r=lk(e)&&!this.cellCtrl.isSuppressFillHandle(),o=zU(e);let a=i===1&&!this.cellCtrl.isEditing()&&(r||o);if(this.hasChartRange){const d=t[0].type===1&&this.rangeService.isCellInSpecificRange(n,t[0]);this.cellComp.addOrRemoveCssClass(R$,d),a=s.type===0}return a&&s.endRow!=null&&this.rangeService.isContiguousRange(s)&&this.rangeService.isBottomRightCell(s,n)}addSelectionHandle(){const e=nt(this.rangeService.getCellRanges()).type,i=lk(this.beans.gos)&&rt(e)?0:1;this.selectionHandle&&this.selectionHandle.getType()!==i&&(this.selectionHandle=this.beans.context.destroyBean(this.selectionHandle)),this.selectionHandle||(this.selectionHandle=this.selectionHandleFactory.createSelectionHandle(i)),this.selectionHandle.refresh(this.cellCtrl)}destroy(){this.beans.context.destroyBean(this.selectionHandle)}},P$="ag-cell",O$="ag-cell-auto-height",F$="ag-cell-normal-height",N$="ag-cell-focus",z$="ag-cell-first-right-pinned",B$="ag-cell-last-left-pinned",G$="ag-cell-not-inline-editing",H$="ag-column-hover",j$="ag-cell-wrap-text",V$=0,jN=class CM extends re{constructor(t,i,s,n){super(),this.column=t,this.rowNode=i,this.beans=s,this.rowCtrl=n,this.cellRangeFeature=void 0,this.cellPositionFeature=void 0,this.cellCustomStyleFeature=void 0,this.tooltipFeature=void 0,this.cellMouseListenerFeature=void 0,this.cellKeyboardListenerFeature=void 0,this.suppressRefreshCell=!1,this.onCellCompAttachedFuncs=[],this.onCellEditorAttachedFuncs=[],this.instanceId=t.getId()+"-"+V$++,this.colIdSanitised=no(this.column.getId()),this.createCellPosition(),this.updateAndFormatValue(!1)}shouldRestoreFocus(){return this.beans.focusService.shouldRestoreFocus(this.cellPosition)}onFocusOut(){this.beans.focusService.clearRestoreFocus()}addFeatures(){this.cellPositionFeature=new x$(this,this.beans),this.cellCustomStyleFeature=new b$(this,this.beans),this.cellMouseListenerFeature=new w$(this,this.beans,this.column),this.cellKeyboardListenerFeature=new S$(this,this.beans,this.column,this.rowNode,this.rowCtrl),this.column.isTooltipEnabled()&&this.enableTooltipFeature(),this.beans.rangeService&&la(this.beans.gos)&&(this.cellRangeFeature=new k$(this.beans,this))}removeFeatures(){const t=this.beans.context;this.cellPositionFeature=t.destroyBean(this.cellPositionFeature),this.cellCustomStyleFeature=t.destroyBean(this.cellCustomStyleFeature),this.cellMouseListenerFeature=t.destroyBean(this.cellMouseListenerFeature),this.cellKeyboardListenerFeature=t.destroyBean(this.cellKeyboardListenerFeature),this.cellRangeFeature=t.destroyBean(this.cellRangeFeature),this.disableTooltipFeature()}enableTooltipFeature(t,i){const s=()=>{const o=this.column.getColDef(),a=this.rowNode.data;if(o.tooltipField&&ve(a))return op(a,o.tooltipField,this.column.isTooltipFieldContainsDots());const l=o.tooltipValueGetter;return l?l(this.beans.gos.addGridCommonParams({location:"cell",colDef:this.column.getColDef(),column:this.column,rowIndex:this.cellPosition.rowIndex,node:this.rowNode,data:this.rowNode.data,value:this.value,valueFormatted:this.valueFormatted})):null},n=this.beans.gos.get("tooltipShowMode")==="whenTruncated";!i&&n&&!this.isCellRenderer()&&(i=()=>{const o=this.getGui(),a=o.children.length===0?o:o.querySelector(".ag-cell-value");return a?a.scrollWidth>a.clientWidth:!0});const r={getColumn:()=>this.column,getColDef:()=>this.column.getColDef(),getRowIndex:()=>this.cellPosition.rowIndex,getRowNode:()=>this.rowNode,getGui:()=>this.getGui(),getLocation:()=>"cell",getTooltipValue:t!=null?()=>t:s,getValueFormatted:()=>this.valueFormatted,shouldDisplayTooltip:i};this.tooltipFeature=new lh(r,this.beans)}disableTooltipFeature(){this.tooltipFeature=this.beans.context.destroyBean(this.tooltipFeature)}setComp(t,i,s,n,r,o){var a,l,d,h;this.cellComp=t,this.eGui=i,this.printLayout=n,o??(o=this),this.addDomData(o),this.addFeatures(),o.addDestroyFunc(()=>this.removeFeatures()),this.onSuppressCellFocusChanged(this.beans.gos.get("suppressCellFocus")),this.onCellFocused(this.focusEventToRestore),this.applyStaticCssClasses(),this.setWrapText(),this.onFirstRightPinnedChanged(),this.onLastLeftPinnedChanged(),this.onColumnHover(),this.setupControlComps(),this.setupAutoHeight(s,o),this.refreshFirstAndLastStyles(),this.refreshAriaColIndex(),(a=this.cellPositionFeature)==null||a.setComp(i),(l=this.cellCustomStyleFeature)==null||l.setComp(t),(d=this.tooltipFeature)==null||d.refreshToolTip(),(h=this.cellKeyboardListenerFeature)==null||h.setComp(this.eGui),this.cellRangeFeature&&this.cellRangeFeature.setComp(t,i),r&&this.isCellEditable()?this.startEditing():this.showValue(),this.onCellCompAttachedFuncs.length&&(this.onCellCompAttachedFuncs.forEach(p=>p()),this.onCellCompAttachedFuncs=[])}setupAutoHeight(t,i){if(this.isAutoHeight=this.column.isAutoHeight(),!this.isAutoHeight||!t)return;const s=t.parentElement,n=Cl(this.beans.gos,this.rowNode).height,r=l=>{if(this.editing||!this.isAlive()||!i.isAlive())return;const{paddingTop:d,paddingBottom:h,borderBottomWidth:p,borderTopWidth:f}=su(s),v=d+h+p+f,S=t.offsetHeight+v;if(l<5){const b=yi(this.beans.gos),x=!b||!b.contains(t),D=S==0;if(x||D){window.setTimeout(()=>r(l+1),0);return}}const w=Math.max(S,n);this.rowNode.setRowAutoHeight(w,this.column)},o=()=>r(0);o();const a=this.beans.resizeObserverService.observeResize(t,o);i.addDestroyFunc(()=>{a(),this.rowNode.setRowAutoHeight(void 0,this.column)})}getCellAriaRole(){return this.column.getColDef().cellAriaRole??"gridcell"}isCellRenderer(){const t=this.column.getColDef();return t.cellRenderer!=null||t.cellRendererSelector!=null}getValueToDisplay(){return this.valueFormatted??this.value}showValue(t=!1){var f;const{beans:i,column:s,rowNode:n,cellRangeFeature:r,cellComp:o}=this,{userComponentFactory:a,animationFrameService:l}=i,d=this.getValueToDisplay();let h;if(n.stub&&((f=n.groupData)==null?void 0:f[this.column.getId()])==null){const v=this.createCellRendererParams();h=a.getLoadingCellRendererDetails(s.getColDef(),v)}else if(this.isCellRenderer()){const v=this.createCellRendererParams();h=a.getCellRendererDetails(s.getColDef(),v)}o.setRenderDetails(h,d,t),l.requestAnimationFrame(()=>r==null?void 0:r.refreshHandle())}setupControlComps(){const t=this.column.getColDef();this.includeSelection=this.isIncludeControl(this.isCheckboxSelection(t)),this.includeRowDrag=this.isIncludeControl(t.rowDrag),this.includeDndSource=this.isIncludeControl(t.dndSource),this.cellComp.setIncludeSelection(this.includeSelection),this.cellComp.setIncludeDndSource(this.includeDndSource),this.cellComp.setIncludeRowDrag(this.includeRowDrag)}isForceWrapper(){return this.beans.gos.get("enableCellTextSelection")||this.column.isAutoHeight()}isIncludeControl(t){return this.rowNode.rowPinned!=null?!1:typeof t=="function"||t===!0}isCheckboxSelection(t){const{rowSelection:i}=this.beans.gridOptions;return t.checkboxSelection||cf(this.column)&&i&&typeof i!="string"&&jd(i)}refreshShouldDestroy(){const t=this.column.getColDef(),i=this.includeSelection!=this.isIncludeControl(this.isCheckboxSelection(t)),s=this.includeRowDrag!=this.isIncludeControl(t.rowDrag),n=this.includeDndSource!=this.isIncludeControl(t.dndSource),r=this.isAutoHeight!=this.column.isAutoHeight();return i||s||n||r}startEditing(t=null,i=!1,s=null){const{editService:n}=this.beans;return!this.isCellEditable()||this.editing||!n?!0:this.cellComp?n.startEditing(this,t,i,s):(this.onCellCompAttachedFuncs.push(()=>{this.startEditing(t,i,s)}),!0)}setEditing(t,i){this.editCompDetails=i,this.editing!==t&&(this.editing=t)}stopRowOrCellEdit(t=!1){this.beans.gos.get("editType")==="fullRow"?this.rowCtrl.stopEditing(t):this.stopEditing(t)}onPopupEditorClosed(){this.editing&&this.stopEditingAndFocus()}stopEditing(t=!1){this.onCellEditorAttachedFuncs=[];const{editService:i}=this.beans;return!this.editing||!i?!1:i.stopEditing(this,t)}createCellRendererParams(){return this.beans.gos.addGridCommonParams({value:this.value,valueFormatted:this.valueFormatted,getValue:()=>this.beans.valueService.getValueForDisplay(this.column,this.rowNode),setValue:i=>this.beans.valueService.setValue(this.rowNode,this.column,i),formatValue:this.formatValue.bind(this),data:this.rowNode.data,node:this.rowNode,pinned:this.column.getPinned(),colDef:this.column.getColDef(),column:this.column,refreshCell:this.refreshCell.bind(this),eGridCell:this.getGui(),eParentOfValue:this.cellComp.getParentOfValue(),registerRowDragger:(i,s,n,r)=>this.registerRowDragger(i,s,r),setTooltip:(i,s)=>{var n;this.tooltipFeature&&this.disableTooltipFeature(),this.enableTooltipFeature(i,s),(n=this.tooltipFeature)==null||n.refreshToolTip()}})}setFocusOutOnEditor(){var t;this.editing&&((t=this.beans.editService)==null||t.setFocusOutOnEditor(this))}setFocusInOnEditor(){var t;this.editing&&((t=this.beans.editService)==null||t.setFocusInOnEditor(this))}onCellChanged(t){t.column===this.column&&this.refreshCell({})}refreshOrDestroyCell(t){var i;this.refreshShouldDestroy()?(i=this.rowCtrl)==null||i.recreateCell(this):this.refreshCell(t)}refreshCell(t){var h,p,f,v,y;if(this.suppressRefreshCell||this.editing)return;const i=this.column.getColDef(),s=t!=null&&!!t.newData,n=t!=null&&!!t.suppressFlash||!!i.suppressCellFlash,r=i.field==null&&i.valueGetter==null&&i.showRowGroup==null,o=t&&t.forceRefresh||r||s,a=!!this.cellComp,l=this.updateAndFormatValue(a),d=o||l;if(a){if(d){this.showValue(s);const S=(h=this.beans.filterManager)==null?void 0:h.isSuppressFlashingCellsBecauseFiltering();!n&&!S&&(this.beans.gos.get("enableCellChangeFlash")||i.enableCellChangeFlash)&&this.flashCell(),(p=this.cellCustomStyleFeature)==null||p.applyUserStyles(),(f=this.cellCustomStyleFeature)==null||f.applyClassesFromColDef()}(v=this.tooltipFeature)==null||v.refreshToolTip(),(y=this.cellCustomStyleFeature)==null||y.applyCellClassRules()}}stopEditingAndFocus(t=!1,i=!1){var s;(s=this.beans.editService)==null||s.stopEditingAndFocus(this,t,i)}flashCell(t){const i=(t==null?void 0:t.flashDuration)??(t==null?void 0:t.flashDelay),s=(t==null?void 0:t.fadeDuration)??(t==null?void 0:t.fadeDelay);this.animateCell("data-changed",i,s)}animateCell(t,i,s){if(!this.cellComp)return;const{gos:n}=this.beans;if(i||(i=n.get("cellFlashDuration")),i===0)return;ve(s)||(s=n.get("cellFadeDuration"));const r=`ag-cell-${t}`,o=`ag-cell-${t}-animation`;this.cellComp.addOrRemoveCssClass(r,!0),this.cellComp.addOrRemoveCssClass(o,!1),this.beans.frameworkOverrides.wrapIncoming(()=>{window.setTimeout(()=>{this.isAlive()&&(this.cellComp.addOrRemoveCssClass(r,!1),this.cellComp.addOrRemoveCssClass(o,!0),this.eGui.style.transition=`background-color ${s}ms`,window.setTimeout(()=>{this.isAlive()&&(this.cellComp.addOrRemoveCssClass(o,!1),this.eGui.style.transition="")},s))},i)})}onFlashCells(t){if(!this.cellComp)return;const i=this.beans.cellPositionUtils.createId(this.getCellPosition());t.cells[i]&&this.animateCell("highlight")}isCellEditable(){return this.column.isCellEditable(this.rowNode)}isSuppressFillHandle(){return this.column.isSuppressFillHandle()}formatValue(t){return this.callValueFormatter(t)??t}callValueFormatter(t){return this.beans.valueService.formatValue(this.column,this.rowNode,t)}updateAndFormatValue(t){const i=this.value,s=this.valueFormatted;return this.value=this.beans.valueService.getValueForDisplay(this.column,this.rowNode),this.valueFormatted=this.callValueFormatter(this.value),t?!this.valuesAreEqual(i,this.value)||this.valueFormatted!=s:!0}valuesAreEqual(t,i){const s=this.column.getColDef();return s.equals?s.equals(t,i):t===i}getComp(){return this.cellComp}getValue(){return this.value}addDomData(t){const i=this.getGui();Yc(this.beans.gos,i,CM.DOM_DATA_KEY_CELL_CTRL,this),t.addDestroyFunc(()=>Yc(this.beans.gos,i,CM.DOM_DATA_KEY_CELL_CTRL,null))}createEvent(t,i){return this.beans.gos.addGridCommonParams({type:i,node:this.rowNode,data:this.rowNode.data,value:this.value,column:this.column,colDef:this.column.getColDef(),rowPinned:this.rowNode.rowPinned,event:t,rowIndex:this.rowNode.rowIndex})}processCharacter(t){var i;(i=this.cellKeyboardListenerFeature)==null||i.processCharacter(t)}onKeyDown(t){var i;(i=this.cellKeyboardListenerFeature)==null||i.onKeyDown(t)}onMouseEvent(t,i){var s;(s=this.cellMouseListenerFeature)==null||s.onMouseEvent(t,i)}getGui(){return this.eGui}getColSpanningList(){return this.cellPositionFeature.getColSpanningList()}onLeftChanged(){var t;this.cellComp&&((t=this.cellPositionFeature)==null||t.onLeftChanged())}onDisplayedColumnsChanged(){this.eGui&&(this.refreshAriaColIndex(),this.refreshFirstAndLastStyles())}refreshFirstAndLastStyles(){const{cellComp:t,column:i,beans:s}=this;IN(t,i,s.visibleColsService)}refreshAriaColIndex(){const t=this.beans.visibleColsService.getAriaColIndex(this.column);UF(this.getGui(),t)}isSuppressNavigable(){return this.column.isSuppressNavigable(this.rowNode)}onWidthChanged(){var t;return(t=this.cellPositionFeature)==null?void 0:t.onWidthChanged()}getColumn(){return this.column}getRowNode(){return this.rowNode}isPrintLayout(){return this.printLayout}getCellPosition(){return this.cellPosition}isEditing(){return this.editing}startRowOrCellEdit(t,i=null){return this.cellComp?this.beans.gos.get("editType")==="fullRow"?this.rowCtrl.startRowEditing(t,this):this.startEditing(t,!0,i):(this.onCellCompAttachedFuncs.push(()=>{this.startRowOrCellEdit(t,i)}),!0)}getRowCtrl(){return this.rowCtrl}getRowPosition(){return{rowIndex:this.cellPosition.rowIndex,rowPinned:this.cellPosition.rowPinned}}updateRangeBordersIfRangeCount(){this.cellComp&&this.cellRangeFeature&&this.cellRangeFeature.updateRangeBordersIfRangeCount()}onCellSelectionChanged(){this.cellComp&&this.cellRangeFeature&&this.cellRangeFeature.onCellSelectionChanged()}isRangeSelectionEnabled(){return this.cellRangeFeature!=null}focusCell(t=!1){this.beans.focusService.setFocusedCell({rowIndex:this.getCellPosition().rowIndex,column:this.column,rowPinned:this.rowNode.rowPinned,forceBrowserFocus:t})}onRowIndexChanged(){this.createCellPosition(),this.onCellFocused(),this.cellRangeFeature&&this.cellRangeFeature.onCellSelectionChanged()}onSuppressCellFocusChanged(t){this.eGui&&sr(this.eGui,"tabindex",t?void 0:-1)}onFirstRightPinnedChanged(){if(!this.cellComp)return;const t=this.column.isFirstRightPinned();this.cellComp.addOrRemoveCssClass(z$,t)}onLastLeftPinnedChanged(){if(!this.cellComp)return;const t=this.column.isLastLeftPinned();this.cellComp.addOrRemoveCssClass(B$,t)}onCellFocused(t){if(this.beans.focusService.isCellFocusSuppressed())return;const i=this.beans.focusService.isCellFocused(this.cellPosition);if(!this.cellComp){i&&(t!=null&&t.forceBrowserFocus)&&(this.focusEventToRestore=t);return}if(this.focusEventToRestore=void 0,this.cellComp.addOrRemoveCssClass(N$,i),i&&t&&t.forceBrowserFocus){let n=this.cellComp.getFocusableElement();if(this.editing){const r=this.beans.focusService.findFocusableElements(n,null,!0);r.length&&(n=r[0])}n.focus({preventScroll:!!t.preventScrollOnBrowserFocus})}const s=this.beans.gos.get("editType")==="fullRow";!i&&!s&&this.editing&&this.stopRowOrCellEdit(),i&&this.rowCtrl.announceDescription()}createCellPosition(){this.cellPosition={rowIndex:this.rowNode.rowIndex,rowPinned:Jo(this.rowNode.rowPinned),column:this.column}}applyStaticCssClasses(){this.cellComp.addOrRemoveCssClass(P$,!0),this.cellComp.addOrRemoveCssClass(G$,!0);const t=this.column.isAutoHeight()==!0;this.cellComp.addOrRemoveCssClass(O$,t),this.cellComp.addOrRemoveCssClass(F$,!t)}onColumnHover(){if(!this.cellComp||!this.beans.gos.get("columnHoverHighlight"))return;const t=this.beans.columnHoverService.isHovered(this.column);this.cellComp.addOrRemoveCssClass(H$,t)}onColDefChanged(){var i;if(!this.cellComp)return;this.column.isTooltipEnabled()?(this.disableTooltipFeature(),this.enableTooltipFeature()):this.disableTooltipFeature(),this.setWrapText(),this.editing?(i=this.beans.editService)==null||i.handleColDefChanged(this):this.refreshOrDestroyCell({forceRefresh:!0,suppressFlash:!0})}setWrapText(){const t=this.column.getColDef().wrapText==!0;this.cellComp.addOrRemoveCssClass(j$,t)}dispatchCellContextMenuEvent(t){const i=this.column.getColDef(),s=this.createEvent(t,"cellContextMenu");this.beans.eventService.dispatchEvent(s),i.onCellContextMenu&&window.setTimeout(()=>{this.beans.frameworkOverrides.wrapOutgoing(()=>{i.onCellContextMenu(s)})},0)}getCellRenderer(){return this.cellComp?this.cellComp.getCellRenderer():null}getCellEditor(){return this.cellComp?this.cellComp.getCellEditor():null}destroy(){this.onCellCompAttachedFuncs=[],this.onCellEditorAttachedFuncs=[],super.destroy()}createSelectionCheckbox(){const t=new y$;return this.beans.context.createBean(t),t.init({rowNode:this.rowNode,column:this.column}),t}createDndSource(){const t=new C$(this.rowNode,this.column,this.eGui);return this.beans.context.createBean(t),t}registerRowDragger(t,i,s){if(this.customRowDragComp){this.customRowDragComp.setDragElement(t,i);return}const n=this.createRowDragComp(t,i,s);n&&(this.customRowDragComp=n,this.addDestroyFunc(()=>{this.beans.context.destroyBean(n),this.customRowDragComp=null}))}createRowDragComp(t,i,s){const n=this.beans.gos.get("pagination"),r=this.beans.gos.get("rowDragManaged"),o=Ut(this.beans.gos);if(r){if(!o){ae("managed row dragging is only allowed in the Client Side Row Model");return}if(n){ae("managed row dragging is not possible when doing pagination");return}}const a=new gM(()=>this.value,this.rowNode,this.column,t,i,s);return this.beans.context.createBean(a),a}setSuppressRefreshCell(t){this.suppressRefreshCell=t}getEditCompDetails(){return this.editCompDetails}onCellEditorAttached(t){this.onCellEditorAttachedFuncs.push(t)}cellEditorAttached(){this.onCellEditorAttachedFuncs.forEach(t=>t()),this.onCellEditorAttachedFuncs=[]}};jN.DOM_DATA_KEY_CELL_CTRL="cellCtrl";var Gc=jN,_$=0,VN=class bM extends re{constructor(t,i,s,n,r){var o;super(),this.allRowGuis=[],this.active=!0,this.centerCellCtrls={list:[],map:{}},this.leftCellCtrls={list:[],map:{}},this.rightCellCtrls={list:[],map:{}},this.slideInAnimation={left:!1,center:!1,right:!1,fullWidth:!1},this.fadeInAnimation={left:!1,center:!1,right:!1,fullWidth:!1},this.rowDragComps=[],this.lastMouseDownOnDragger=!1,this.emptyStyle={},this.updateColumnListsPending=!1,this.rowId=null,this.businessKeySanitised=null,this.beans=i,this.gos=i.gos,this.rowNode=t,this.paginationPage=((o=i.paginationService)==null?void 0:o.getCurrentPage())??0,this.useAnimationFrameForCreate=n,this.printLayout=r,this.suppressRowTransform=this.gos.get("suppressRowTransform"),this.instanceId=t.id+"-"+_$++,this.rowId=no(t.id),this.initRowBusinessKey(),this.rowFocused=i.focusService.isRowFocused(this.rowNode.rowIndex,this.rowNode.rowPinned),this.rowLevel=i.rowCssClassCalculator.calculateRowLevel(this.rowNode),this.setRowType(),this.setAnimateFlags(s),this.rowStyles=this.processStylesFromGridOptions(),this.addListeners()}initRowBusinessKey(){this.businessKeyForNodeFunc=this.gos.get("getBusinessKeyForNode"),this.updateRowBusinessKey()}updateRowBusinessKey(){if(typeof this.businessKeyForNodeFunc!="function")return;const t=this.businessKeyForNodeFunc(this.rowNode);this.businessKeySanitised=no(t)}getRowId(){return this.rowId}getRowStyles(){return this.rowStyles}isSticky(){return this.rowNode.sticky}updateGui(t,i){t==="left"?this.leftGui=i:t==="right"?this.rightGui=i:t==="fullWidth"?this.fullWidthGui=i:this.centerGui=i}setComp(t,i,s,n){n=uf(this,this.beans.context,n);const r={rowComp:t,element:i,containerType:s,compBean:n};this.allRowGuis.push(r),this.updateGui(s,r),this.initialiseRowComp(r),this.rowType!=="FullWidthLoading"&&!this.rowNode.rowPinned&&this.beans.rowRenderer.dispatchFirstDataRenderedEvent()}unsetComp(t){this.allRowGuis=this.allRowGuis.filter(i=>i.containerType!==t),this.updateGui(t,void 0)}isCacheable(){return this.rowType==="FullWidthDetail"&&this.gos.get("keepDetailRows")}setCached(t){const i=t?"none":"";this.allRowGuis.forEach(s=>s.element.style.display=i)}initialiseRowComp(t){const i=this.gos;this.onSuppressCellFocusChanged(this.beans.gos.get("suppressCellFocus")),this.listenOnDomOrder(t),this.beans.columnModel.wasAutoRowHeightEverActive()&&this.rowNode.checkAutoHeights(),this.onRowHeightChanged(t),this.updateRowIndexes(t),this.setFocusedClasses(t),this.setStylesFromGridOptions(!1,t),my(i)&&this.rowNode.selectable&&this.onRowSelected(t),this.updateColumnLists(!this.useAnimationFrameForCreate);const s=t.rowComp;this.getInitialRowClasses(t.containerType).forEach(r=>s.addOrRemoveCssClass(r,!0)),this.executeSlideAndFadeAnimations(t),this.rowNode.group&&Sy(t.element,this.rowNode.expanded==!0),this.setRowCompRowId(s),this.setRowCompRowBusinessKey(s),Yc(i,t.element,bM.DOM_DATA_KEY_ROW_CTRL,this),t.compBean.addDestroyFunc(()=>Yc(i,t.element,bM.DOM_DATA_KEY_ROW_CTRL,null)),this.useAnimationFrameForCreate?this.beans.animationFrameService.createTask(this.addHoverFunctionality.bind(this,t),this.rowNode.rowIndex,"createTasksP2"):this.addHoverFunctionality(t),this.isFullWidth()&&this.setupFullWidth(t),i.get("rowDragEntireRow")&&this.addRowDraggerToRow(t),this.useAnimationFrameForCreate&&this.beans.animationFrameService.addDestroyTask(()=>{this.isAlive()&&t.rowComp.addOrRemoveCssClass("ag-after-created",!0)}),this.executeProcessRowPostCreateFunc()}setRowCompRowBusinessKey(t){this.businessKeySanitised!=null&&t.setRowBusinessKey(this.businessKeySanitised)}getBusinessKey(){return this.businessKeySanitised}setRowCompRowId(t){this.rowId=no(this.rowNode.id),this.rowId!=null&&t.setRowId(this.rowId)}executeSlideAndFadeAnimations(t){const{containerType:i}=t;this.slideInAnimation[i]&&(ok(()=>{this.onTopChanged()}),this.slideInAnimation[i]=!1),this.fadeInAnimation[i]&&(ok(()=>{t.rowComp.addOrRemoveCssClass("ag-opacity-zero",!1)}),this.fadeInAnimation[i]=!1)}addRowDraggerToRow(t){if(la(this.gos)){ae("Setting `rowDragEntireRow: true` in the gridOptions doesn't work with `cellSelection: true`");return}const i=this.beans.localeService.getLocaleTextFunc(),s=new gM(()=>`1 ${i("rowDragRow","row")}`,this.rowNode,void 0,t.element,void 0,!0),n=this.createBean(s,this.beans.context);this.rowDragComps.push(n),t.compBean.addDestroyFunc(()=>{this.rowDragComps=this.rowDragComps.filter(r=>r!==n),this.destroyBean(n,this.beans.context)})}setupFullWidth(t){const i=this.getPinnedForContainer(t.containerType);if(this.rowType=="FullWidthDetail"&&!this.gos.assertModuleRegistered("@ag-grid-enterprise/master-detail","cell renderer 'agDetailCellRenderer' (for master detail)"))return;const s=this.createFullWidthCompDetails(t.element,i);t.rowComp.showFullWidth(s)}isPrintLayout(){return this.printLayout}getFullWidthCellRenderers(){var t,i;return this.gos.get("embedFullWidthRows")?this.allRowGuis.map(s=>{var n;return(n=s==null?void 0:s.rowComp)==null?void 0:n.getFullWidthCellRenderer()}):[(i=(t=this.fullWidthGui)==null?void 0:t.rowComp)==null?void 0:i.getFullWidthCellRenderer()]}getCellElement(t){const i=this.getCellCtrl(t);return i?i.getGui():null}executeProcessRowPostCreateFunc(){const t=this.gos.getCallback("processRowPostCreate");if(!t||!this.areAllContainersReady())return;const i={eRow:this.centerGui.element,ePinnedLeftRow:this.leftGui?this.leftGui.element:void 0,ePinnedRightRow:this.rightGui?this.rightGui.element:void 0,node:this.rowNode,rowIndex:this.rowNode.rowIndex,addRenderedRowListener:this.addEventListener.bind(this)};t(i)}areAllContainersReady(){const t=!!this.leftGui||!this.beans.visibleColsService.isPinningLeft(),i=!!this.centerGui,s=!!this.rightGui||!this.beans.visibleColsService.isPinningRight();return t&&i&&s}isNodeFullWidthCell(){if(this.rowNode.detail)return!0;const t=this.beans.gos.getCallback("isFullWidthRow");return t?t({rowNode:this.rowNode}):!1}setRowType(){const t=this.rowNode.stub&&!this.gos.get("suppressServerSideFullWidthLoadingRow")&&!this.gos.get("groupHideOpenParents"),i=this.isNodeFullWidthCell(),s=this.gos.get("masterDetail")&&this.rowNode.detail,n=this.beans.columnModel.isPivotMode(),o=!!this.rowNode.group&&!this.rowNode.footer&&bC(this.gos,n);t?this.rowType="FullWidthLoading":s?this.rowType="FullWidthDetail":i?this.rowType="FullWidth":o?this.rowType="FullWidthGroup":this.rowType="Normal"}updateColumnLists(t=!1,i=!1){if(this.isFullWidth())return;if(t||this.gos.get("suppressAnimationFrame")||this.printLayout){this.updateColumnListsImpl(i);return}this.updateColumnListsPending||(this.beans.animationFrameService.createTask(()=>{this.active&&this.updateColumnListsImpl(!0)},this.rowNode.rowIndex,"createTasksP1"),this.updateColumnListsPending=!0)}createCellCtrls(t,i,s=null){const n={list:[],map:{}},r=(a,l,d)=>{d!=null?n.list.splice(d,0,l):n.list.push(l),n.map[a]=l},o=[];for(const a of i){const l=a.getInstanceId();let d=t.map[l];d||(d=new Gc(a,this.rowNode,this.beans,this)),r(l,d)}for(const a of t.list){const l=a.getColumn().getInstanceId();if(n.map[l]!=null)continue;!this.isCellEligibleToBeRemoved(a,s)?o.push([l,a]):a.destroy()}if(o.length)for(const[a,l]of o){const d=n.list.findIndex(p=>p.getColumn().getLeft()>l.getColumn().getLeft()),h=d===-1?void 0:Math.max(d-1,0);r(a,l,h)}return n}updateColumnListsImpl(t){this.updateColumnListsPending=!1,this.createAllCellCtrls(),this.setCellCtrls(t)}setCellCtrls(t){this.allRowGuis.forEach(i=>{const s=this.getCellCtrlsForContainer(i.containerType);i.rowComp.setCellCtrls(s,t)})}getCellCtrlsForContainer(t){switch(t){case"left":return this.leftCellCtrls.list;case"right":return this.rightCellCtrls.list;case"fullWidth":return[];case"center":return this.centerCellCtrls.list}}createAllCellCtrls(){const t=this.beans.columnViewportService,i=this.beans.visibleColsService;if(this.printLayout)this.centerCellCtrls=this.createCellCtrls(this.centerCellCtrls,i.getAllCols()),this.leftCellCtrls={list:[],map:{}},this.rightCellCtrls={list:[],map:{}};else{const s=t.getColsWithinViewport(this.rowNode);this.centerCellCtrls=this.createCellCtrls(this.centerCellCtrls,s);const n=i.getLeftColsForRow(this.rowNode);this.leftCellCtrls=this.createCellCtrls(this.leftCellCtrls,n,"left");const r=i.getRightColsForRow(this.rowNode);this.rightCellCtrls=this.createCellCtrls(this.rightCellCtrls,r,"right")}}isCellEligibleToBeRemoved(t,i){if(t.getColumn().getPinned()!=i)return!0;const o=t.isEditing(),a=this.beans.focusService.isCellFocused(t.getCellPosition());if(o||a){const d=t.getColumn();return!(this.beans.visibleColsService.getAllCols().indexOf(d)>=0)}return!0}getDomOrder(){return this.gos.get("ensureDomOrder")||ys(this.gos,"print")}listenOnDomOrder(t){const i=()=>{t.rowComp.setDomOrder(this.getDomOrder())};t.compBean.addManagedPropertyListeners(["domLayout","ensureDomOrder"],i)}setAnimateFlags(t){if(this.isSticky()||!t)return;const i=ve(this.rowNode.oldRowTop),s=this.beans.visibleColsService.isPinningLeft(),n=this.beans.visibleColsService.isPinningRight();if(i){if(this.isFullWidth()&&!this.gos.get("embedFullWidthRows")){this.slideInAnimation.fullWidth=!0;return}this.slideInAnimation.center=!0,this.slideInAnimation.left=s,this.slideInAnimation.right=n}else{if(this.isFullWidth()&&!this.gos.get("embedFullWidthRows")){this.fadeInAnimation.fullWidth=!0;return}this.fadeInAnimation.center=!0,this.fadeInAnimation.left=s,this.fadeInAnimation.right=n}}isEditing(){return this.editingRow}isFullWidth(){return this.rowType!=="Normal"}refreshFullWidth(){const t=(a,l)=>a?a.rowComp.refreshFullWidth(()=>this.createFullWidthCompDetails(a.element,l).params):!0,i=t(this.fullWidthGui,null),s=t(this.centerGui,null),n=t(this.leftGui,"left"),r=t(this.rightGui,"right");return i&&s&&n&&r}addListeners(){this.addManagedListeners(this.rowNode,{heightChanged:()=>this.onRowHeightChanged(),rowSelected:()=>this.onRowSelected(),rowIndexChanged:this.onRowIndexChanged.bind(this),topChanged:this.onTopChanged.bind(this),expandedChanged:this.updateExpandedCss.bind(this),hasChildrenChanged:this.updateExpandedCss.bind(this)}),this.rowNode.detail&&this.addManagedListeners(this.rowNode.parent,{dataChanged:this.onRowNodeDataChanged.bind(this)}),this.addManagedListeners(this.rowNode,{dataChanged:this.onRowNodeDataChanged.bind(this),cellChanged:this.postProcessCss.bind(this),rowHighlightChanged:this.onRowNodeHighlightChanged.bind(this),draggingChanged:this.postProcessRowDragging.bind(this),uiLevelChanged:this.onUiLevelChanged.bind(this)}),this.addManagedListeners(this.beans.eventService,{paginationPixelOffsetChanged:this.onPaginationPixelOffsetChanged.bind(this),heightScaleChanged:this.onTopChanged.bind(this),displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this),virtualColumnsChanged:this.onVirtualColumnsChanged.bind(this),cellFocused:this.onCellFocusChanged.bind(this),cellFocusCleared:this.onCellFocusChanged.bind(this),paginationChanged:this.onPaginationChanged.bind(this),modelUpdated:this.refreshFirstAndLastRowStyles.bind(this),columnMoved:()=>this.updateColumnLists()}),this.addDestroyFunc(()=>{this.rowDragComps=this.destroyBeans(this.rowDragComps,this.beans.context),this.tooltipFeature&&(this.tooltipFeature=this.destroyBean(this.tooltipFeature,this.beans.context))}),this.addManagedPropertyListeners(["rowStyle","getRowStyle","rowClass","getRowClass","rowClassRules"],this.postProcessCss.bind(this)),this.addManagedPropertyListener("rowDragEntireRow",()=>{if(this.gos.get("rowDragEntireRow")){this.allRowGuis.forEach(i=>{this.addRowDraggerToRow(i)});return}this.rowDragComps=this.destroyBeans(this.rowDragComps,this.beans.context)}),this.addListenersForCellComps()}addListenersForCellComps(){this.addManagedListeners(this.rowNode,{rowIndexChanged:()=>{this.getAllCellCtrls().forEach(t=>t.onRowIndexChanged())},cellChanged:t=>{this.getAllCellCtrls().forEach(i=>i.onCellChanged(t))}})}onRowNodeDataChanged(t){if(this.isFullWidth()!==!!this.isNodeFullWidthCell()){this.beans.rowRenderer.redrawRow(this.rowNode);return}if(this.isFullWidth()){this.refreshFullWidth()||this.beans.rowRenderer.redrawRow(this.rowNode);return}this.getAllCellCtrls().forEach(s=>s.refreshCell({suppressFlash:!t.update,newData:!t.update})),this.allRowGuis.forEach(s=>{this.setRowCompRowId(s.rowComp),this.updateRowBusinessKey(),this.setRowCompRowBusinessKey(s.rowComp)}),this.onRowSelected(),this.postProcessCss()}postProcessCss(){this.setStylesFromGridOptions(!0),this.postProcessClassesFromGridOptions(),this.postProcessRowClassRules(),this.postProcessRowDragging()}onRowNodeHighlightChanged(){const t=this.rowNode.highlighted;this.allRowGuis.forEach(i=>{const s=t===0,n=t===1;i.rowComp.addOrRemoveCssClass("ag-row-highlight-above",s),i.rowComp.addOrRemoveCssClass("ag-row-highlight-below",n)})}postProcessRowDragging(){const t=this.rowNode.dragging;this.allRowGuis.forEach(i=>i.rowComp.addOrRemoveCssClass("ag-row-dragging",t))}updateExpandedCss(){const t=this.rowNode.isExpandable(),i=this.rowNode.expanded==!0;this.allRowGuis.forEach(s=>{s.rowComp.addOrRemoveCssClass("ag-row-group",t),s.rowComp.addOrRemoveCssClass("ag-row-group-expanded",t&&i),s.rowComp.addOrRemoveCssClass("ag-row-group-contracted",t&&!i),Sy(s.element,t&&i)})}onDisplayedColumnsChanged(){this.updateColumnLists(!0),this.beans.columnModel.wasAutoRowHeightEverActive()&&this.rowNode.checkAutoHeights()}onVirtualColumnsChanged(){this.updateColumnLists(!1,!0)}getRowPosition(){return{rowPinned:Jo(this.rowNode.rowPinned),rowIndex:this.rowNode.rowIndex}}findFullWidthRowGui(t){return this.allRowGuis.find(i=>i.element.contains(t))}onKeyboardNavigate(t){const i=this.findFullWidthRowGui(t.target);if(!((i?i.element:null)===t.target))return;const r=this.rowNode,o=this.beans.focusService.getFocusedCell(),a={rowIndex:r.rowIndex,rowPinned:r.rowPinned,column:(o==null?void 0:o.column)??this.getColumnForFullWidth(i)};this.beans.navigationService.navigateToNextCell(t,t.key,a,!0),t.preventDefault()}onTabKeyDown(t){if(t.defaultPrevented||ea(t))return;const i=this.allRowGuis.find(l=>l.element.contains(t.target)),s=i?i.element:null,n=s===t.target,r=ui(this.gos);let o=!1;s&&r&&(o=s.contains(r)&&r.classList.contains("ag-cell"));let a=null;!n&&!o&&(a=this.beans.focusService.findNextFocusableElement(s,!1,t.shiftKey)),(this.isFullWidth()&&n||!a)&&this.beans.navigationService.onTabKeyDown(this,t)}getFullWidthElement(){return this.fullWidthGui?this.fullWidthGui.element:null}getRowYPosition(){var i;const t=(i=this.allRowGuis.find(s=>ho(s.element)))==null?void 0:i.element;return t?t.getBoundingClientRect().top:0}onSuppressCellFocusChanged(t){const i=this.isFullWidth()&&t?void 0:-1;this.allRowGuis.forEach(s=>{sr(s.element,"tabindex",i)})}onFullWidthRowFocused(t){var r;const i=this.rowNode,s=t?this.isFullWidth()&&t.rowIndex===i.rowIndex&&t.rowPinned==i.rowPinned:!1,n=this.fullWidthGui?this.fullWidthGui.element:(r=this.centerGui)==null?void 0:r.element;n&&(n.classList.toggle("ag-full-width-focus",s),s&&(t!=null&&t.forceBrowserFocus)&&n.focus({preventScroll:!0}))}recreateCell(t){this.centerCellCtrls=this.removeCellCtrl(this.centerCellCtrls,t),this.leftCellCtrls=this.removeCellCtrl(this.leftCellCtrls,t),this.rightCellCtrls=this.removeCellCtrl(this.rightCellCtrls,t),t.destroy(),this.updateColumnLists()}removeCellCtrl(t,i){const s={list:[],map:{}};return t.list.forEach(n=>{n!==i&&(s.list.push(n),s.map[n.getColumn().getInstanceId()]=n)}),s}onMouseEvent(t,i){switch(t){case"dblclick":this.onRowDblClick(i);break;case"click":this.onRowClick(i);break;case"touchstart":case"mousedown":this.onRowMouseDown(i);break}}createRowEvent(t,i){return this.gos.addGridCommonParams({type:t,node:this.rowNode,data:this.rowNode.data,rowIndex:this.rowNode.rowIndex,rowPinned:this.rowNode.rowPinned,event:i})}createRowEventWithSource(t,i){const s=this.createRowEvent(t,i);return s.source=this,s}onRowDblClick(t){ea(t)||this.beans.eventService.dispatchEvent(this.createRowEventWithSource("rowDoubleClicked",t))}getColumnForFullWidth(t){const{visibleColsService:i}=this.beans;switch(t==null?void 0:t.containerType){case"center":return i.getCenterCols()[0];case"left":return i.getLeftCols()[0];case"right":return i.getRightCols()[0];default:return i.getAllCols()[0]}}onRowMouseDown(t){if(this.lastMouseDownOnDragger=Td(t.target,"ag-row-drag",3),!this.isFullWidth())return;const i=this.rowNode;this.beans.rangeService&&this.beans.rangeService.removeAllCellRanges();const s=this.findFullWidthRowGui(t.target),n=s==null?void 0:s.element,r=t.target;let o=!0;n&&n.contains(r)&&ND(r)&&(o=!1),this.beans.focusService.setFocusedCell({rowIndex:i.rowIndex,column:this.getColumnForFullWidth(s),rowPinned:i.rowPinned,forceBrowserFocus:o})}onRowClick(t){if(ea(t)||this.lastMouseDownOnDragger)return;const{gos:s}=this;this.beans.eventService.dispatchEvent(this.createRowEventWithSource("rowClicked",t));const n=t.ctrlKey||t.metaKey,r=t.shiftKey,o=this.rowNode.isSelected(),a=Kc(s),l=ck(s),d=BU(s);if(a&&this.rowNode.group||this.isRowSelectionBlocked()||!d&&!o||!l&&o)return;const h=GU(s),p="rowClicked";if(o)h?this.rowNode.setSelectedParams({newValue:!1,event:t,source:p}):n?l&&this.rowNode.setSelectedParams({newValue:!1,event:t,source:p}):d&&this.rowNode.setSelectedParams({newValue:!0,clearSelection:!r,rangeSelect:r,event:t,source:p});else{const f=h?!1:!n;this.rowNode.setSelectedParams({newValue:!0,clearSelection:f,rangeSelect:r,event:t,source:p})}}isRowSelectionBlocked(){return!this.rowNode.selectable||!!this.rowNode.rowPinned||!my(this.gos)}setupDetailRowAutoHeight(t){if(this.rowType!=="FullWidthDetail"||!this.gos.get("detailRowAutoHeight"))return;const i=()=>{const n=t.clientHeight;if(n!=null&&n>0){const r=()=>{this.rowNode.setRowHeight(n),(Ut(this.gos)||wo(this.gos))&&this.beans.rowModel.onRowHeightChanged()};window.setTimeout(r,0)}},s=this.beans.resizeObserverService.observeResize(t,i);this.addDestroyFunc(s),i()}createFullWidthCompDetails(t,i){const{gos:s,rowNode:n}=this,r=s.addGridCommonParams({fullWidth:!0,data:n.data,node:n,value:n.key,valueFormatted:n.key,eGridCell:t,eParentOfValue:t,pinned:i,addRenderedRowListener:this.addEventListener.bind(this),registerRowDragger:(a,l,d,h)=>this.addFullWidthRowDragging(a,l,d,h),setTooltip:(a,l)=>this.refreshRowTooltip(a,l)}),o=this.beans.userComponentFactory;switch(this.rowType){case"FullWidthDetail":return o.getFullWidthDetailCellRendererDetails(r);case"FullWidthGroup":return o.getFullWidthGroupCellRendererDetails(r);case"FullWidthLoading":return o.getFullWidthLoadingCellRendererDetails(r);default:return o.getFullWidthCellRendererDetails(r)}}refreshRowTooltip(t,i){if(!this.fullWidthGui)return;const s={getGui:()=>this.fullWidthGui.element,getTooltipValue:()=>t,getLocation:()=>"fullWidthRow",shouldDisplayTooltip:i};this.tooltipFeature&&this.destroyBean(this.tooltipFeature,this.beans.context),this.tooltipFeature=this.createBean(new lh(s,this.beans))}addFullWidthRowDragging(t,i,s="",n){if(!this.isFullWidth())return;const r=new gM(()=>s,this.rowNode,void 0,t,i,n);this.createBean(r,this.beans.context),this.addDestroyFunc(()=>{this.destroyBean(r,this.beans.context)})}onUiLevelChanged(){const t=this.beans.rowCssClassCalculator.calculateRowLevel(this.rowNode);if(this.rowLevel!=t){const i="ag-row-level-"+t,s="ag-row-level-"+this.rowLevel;this.allRowGuis.forEach(n=>{n.rowComp.addOrRemoveCssClass(i,!0),n.rowComp.addOrRemoveCssClass(s,!1)})}this.rowLevel=t}isFirstRowOnPage(){return this.rowNode.rowIndex===this.beans.pageBoundsService.getFirstRow()}isLastRowOnPage(){return this.rowNode.rowIndex===this.beans.pageBoundsService.getLastRow()}refreshFirstAndLastRowStyles(){const t=this.isFirstRowOnPage(),i=this.isLastRowOnPage();this.firstRowOnPage!==t&&(this.firstRowOnPage=t,this.allRowGuis.forEach(s=>s.rowComp.addOrRemoveCssClass("ag-row-first",t))),this.lastRowOnPage!==i&&(this.lastRowOnPage=i,this.allRowGuis.forEach(s=>s.rowComp.addOrRemoveCssClass("ag-row-last",i)))}stopEditing(t=!1){var i;this.stoppingRowEdit||(i=this.beans.rowEditService)==null||i.stopEditing(this,t)}setInlineEditingCss(){const t=this.editingRow||this.getAllCellCtrls().some(i=>i.isEditing());this.allRowGuis.forEach(i=>{i.rowComp.addOrRemoveCssClass("ag-row-inline-editing",t),i.rowComp.addOrRemoveCssClass("ag-row-not-inline-editing",!t)})}setEditingRow(t){this.editingRow=t}startRowEditing(t=null,i=null,s=null){var n;return this.editingRow?!0:((n=this.beans.rowEditService)==null?void 0:n.startEditing(this,t,i,s))??!0}getAllCellCtrls(){return this.leftCellCtrls.list.length===0&&this.rightCellCtrls.list.length===0?this.centerCellCtrls.list:[...this.centerCellCtrls.list,...this.leftCellCtrls.list,...this.rightCellCtrls.list]}postProcessClassesFromGridOptions(){const t=this.beans.rowCssClassCalculator.processClassesFromGridOptions(this.rowNode);!t||!t.length||t.forEach(i=>{this.allRowGuis.forEach(s=>s.rowComp.addOrRemoveCssClass(i,!0))})}postProcessRowClassRules(){this.beans.rowCssClassCalculator.processRowClassRules(this.rowNode,t=>{this.allRowGuis.forEach(i=>i.rowComp.addOrRemoveCssClass(t,!0))},t=>{this.allRowGuis.forEach(i=>i.rowComp.addOrRemoveCssClass(t,!1))})}setStylesFromGridOptions(t,i){t&&(this.rowStyles=this.processStylesFromGridOptions()),this.forEachGui(i,s=>s.rowComp.setUserStyles(this.rowStyles))}getPinnedForContainer(t){return t==="left"||t==="right"?t:null}getInitialRowClasses(t){const i=this.getPinnedForContainer(t),s={rowNode:this.rowNode,rowFocused:this.rowFocused,fadeRowIn:this.fadeInAnimation[t],rowIsEven:this.rowNode.rowIndex%2===0,rowLevel:this.rowLevel,fullWidthRow:this.isFullWidth(),firstRowOnPage:this.isFirstRowOnPage(),lastRowOnPage:this.isLastRowOnPage(),printLayout:this.printLayout,expandable:this.rowNode.isExpandable(),pinned:i};return this.beans.rowCssClassCalculator.getInitialRowClasses(s)}processStylesFromGridOptions(){const t=this.gos.get("rowStyle");if(t&&typeof t=="function"){ae("rowStyle should be an object of key/value styles, not be a function, use getRowStyle() instead");return}const i=this.gos.getCallback("getRowStyle");let s;if(i){const n={data:this.rowNode.data,node:this.rowNode,rowIndex:this.rowNode.rowIndex};s=i(n)}return s||t?Object.assign({},t,s):this.emptyStyle}onRowSelected(t){const i=!!this.rowNode.isSelected();this.forEachGui(t,s=>{s.rowComp.addOrRemoveCssClass("ag-row-selected",i),wy(s.element,i),s.element.contains(ui(this.gos))&&(s===this.centerGui||s===this.fullWidthGui)&&this.announceDescription()})}announceDescription(){if(this.isRowSelectionBlocked())return;const t=this.rowNode.isSelected();if(t&&!ck(this.gos))return;const s=this.beans.localeService.getLocaleTextFunc()(t?"ariaRowDeselect":"ariaRowSelect",`Press SPACE to ${t?"deselect":"select"} this row.`);this.beans.ariaAnnouncementService.announceValue(s,"rowSelection")}addHoverFunctionality(t){if(!this.active)return;const{element:i,compBean:s}=t,{rowNode:n,beans:r,gos:o}=this;s.addManagedListeners(i,{mouseenter:()=>n.onMouseEnter(),mouseleave:()=>n.onMouseLeave()}),s.addManagedListeners(n,{mouseEnter:()=>{!r.dragService.isDragging()&&!o.get("suppressRowHoverHighlight")&&(i.classList.add("ag-row-hover"),n.setHovered(!0))},mouseLeave:()=>{i.classList.remove("ag-row-hover"),n.setHovered(!1)}})}roundRowTopToBounds(t){const i=this.beans.ctrlsService.getGridBodyCtrl().getScrollFeature().getApproximateVScollPosition(),s=this.applyPaginationOffset(i.top,!0)-100,n=this.applyPaginationOffset(i.bottom,!0)+100;return Math.min(Math.max(s,t),n)}getFrameworkOverrides(){return this.beans.frameworkOverrides}forEachGui(t,i){t?i(t):this.allRowGuis.forEach(i)}onRowHeightChanged(t){if(this.rowNode.rowHeight==null)return;const i=this.rowNode.rowHeight,s=this.beans.environment.getDefaultRowHeight(),r=wF(this.gos)?Cl(this.gos,this.rowNode).height:void 0,o=r?`${Math.min(s,r)-2}px`:void 0;this.forEachGui(t,a=>{a.element.style.height=`${i}px`,o&&a.element.style.setProperty("--ag-line-height",o)})}addEventListener(t,i){super.addEventListener(t,i)}removeEventListener(t,i){super.removeEventListener(t,i)}destroyFirstPass(t=!1){if(this.active=!1,!t&&Ad(this.gos)&&!this.isSticky())if(this.rowNode.rowTop!=null){const n=this.roundRowTopToBounds(this.rowNode.rowTop);this.setRowTop(n)}else this.allRowGuis.forEach(n=>n.rowComp.addOrRemoveCssClass("ag-opacity-zero",!0));this.rowNode.setHovered(!1);const i=this.createRowEvent("virtualRowRemoved");this.dispatchLocalEvent(i),this.beans.eventService.dispatchEvent(i),super.destroy()}destroySecondPass(){this.allRowGuis.length=0,this.stopEditing();const t=i=>(i.list.forEach(s=>s.destroy()),{list:[],map:{}});this.centerCellCtrls=t(this.centerCellCtrls),this.leftCellCtrls=t(this.leftCellCtrls),this.rightCellCtrls=t(this.rightCellCtrls)}setFocusedClasses(t){this.forEachGui(t,i=>{i.rowComp.addOrRemoveCssClass("ag-row-focus",this.rowFocused),i.rowComp.addOrRemoveCssClass("ag-row-no-focus",!this.rowFocused)})}onCellFocusChanged(){const t=this.beans.focusService.isRowFocused(this.rowNode.rowIndex,this.rowNode.rowPinned);t!==this.rowFocused&&(this.rowFocused=t,this.setFocusedClasses()),!t&&this.editingRow&&this.stopEditing(!1)}onPaginationChanged(){var i;const t=((i=this.beans.paginationService)==null?void 0:i.getCurrentPage())??0;this.paginationPage!==t&&(this.paginationPage=t,this.onTopChanged()),this.refreshFirstAndLastRowStyles()}onTopChanged(){this.setRowTop(this.rowNode.rowTop)}onPaginationPixelOffsetChanged(){this.onTopChanged()}applyPaginationOffset(t,i=!1){if(this.rowNode.isRowPinned()||this.rowNode.sticky)return t;const s=this.beans.pageBoundsService.getPixelOffset();return t+s*(i?1:-1)}setRowTop(t){if(!this.printLayout&&ve(t)){const i=this.applyPaginationOffset(t),r=`${this.rowNode.isRowPinned()||this.rowNode.sticky?i:this.beans.rowContainerHeightService.getRealPixelPosition(i)}px`;this.setRowTopStyle(r)}}getInitialRowTop(t){return this.suppressRowTransform?this.getInitialRowTopShared(t):void 0}getInitialTransform(t){return this.suppressRowTransform?void 0:`translateY(${this.getInitialRowTopShared(t)})`}getInitialRowTopShared(t){if(this.printLayout)return"";const i=this.rowNode;let s;if(this.isSticky())s=i.stickyRowTop;else{const n=this.slideInAnimation[t]?this.roundRowTopToBounds(i.oldRowTop):i.rowTop,r=this.applyPaginationOffset(n);s=i.isRowPinned()?r:this.beans.rowContainerHeightService.getRealPixelPosition(r)}return s+"px"}setRowTopStyle(t){this.allRowGuis.forEach(i=>this.suppressRowTransform?i.rowComp.setTop(t):i.rowComp.setTransform(`translateY(${t})`))}getRowNode(){return this.rowNode}getCellCtrl(t){let i=null;return this.getAllCellCtrls().forEach(s=>{s.getColumn()==t&&(i=s)}),i!=null||this.getAllCellCtrls().forEach(s=>{s.getColSpanningList().indexOf(t)>=0&&(i=s)}),i}onRowIndexChanged(){this.rowNode.rowIndex!=null&&(this.onCellFocusChanged(),this.updateRowIndexes(),this.postProcessCss())}getRowIndex(){return this.rowNode.getRowIndexString()}updateRowIndexes(t){var o;const i=this.rowNode.getRowIndexString();if(i===null)return;const s=this.beans.headerNavigationService.getHeaderRowCount()+(((o=this.beans.filterManager)==null?void 0:o.getHeaderRowCount())??0),n=this.rowNode.rowIndex%2===0,r=s+this.rowNode.rowIndex+1;this.forEachGui(t,a=>{a.rowComp.setRowIndex(i),a.rowComp.addOrRemoveCssClass("ag-row-even",n),a.rowComp.addOrRemoveCssClass("ag-row-odd",!n),R8(a.element,r)})}setStoppingRowEdit(t){this.stoppingRowEdit=t}};VN.DOM_DATA_KEY_ROW_CTRL="renderedRow";var Hc=VN,W$=class extends re{wireBeans(e){this.mouseEventService=e.mouseEventService,this.valueService=e.valueService,this.menuService=e.menuService,this.ctrlsService=e.ctrlsService,this.navigationService=e.navigationService,this.focusService=e.focusService,this.undoRedoService=e.undoRedoService,this.visibleColsService=e.visibleColsService,this.rowModel=e.rowModel,this.pinnedRowModel=e.pinnedRowModel,this.rangeService=e.rangeService,this.clipboardService=e.clipboardService}constructor(e){super(),this.element=e}postConstruct(){this.addKeyboardListeners(),this.addMouseListeners(),this.mockContextMenuForIPad()}addKeyboardListeners(){const e="keydown",t=this.processKeyboardEvent.bind(this,e);this.addManagedElementListeners(this.element,{[e]:t})}addMouseListeners(){["dblclick","contextmenu","mouseover","mouseout","click",PF("touchstart")?"touchstart":"mousedown"].forEach(i=>{const s=this.processMouseEvent.bind(this,i);this.addManagedElementListeners(this.element,{[i]:s})})}processMouseEvent(e,t){if(!this.mouseEventService.isEventFromThisGrid(t)||ea(t))return;const i=this.getRowForEvent(t),s=this.mouseEventService.getRenderedCellForEvent(t);e==="contextmenu"?this.handleContextMenuMouseEvent(t,void 0,i,s):(s&&s.onMouseEvent(e,t),i&&i.onMouseEvent(e,t))}mockContextMenuForIPad(){if(!Il())return;const e=new pl(this.element),t=i=>{const s=this.getRowForEvent(i.touchEvent),n=this.mouseEventService.getRenderedCellForEvent(i.touchEvent);this.handleContextMenuMouseEvent(void 0,i.touchEvent,s,n)};this.addManagedListeners(e,{longTap:t}),this.addDestroyFunc(()=>e.destroy())}getRowForEvent(e){let t=e.target;for(;t;){const i=Rp(this.gos,t,Hc.DOM_DATA_KEY_ROW_CTRL);if(i)return i;t=t.parentElement}return null}handleContextMenuMouseEvent(e,t,i,s){const n=i?i.getRowNode():null,r=s?s.getColumn():null;let o=null;if(r){const d=e||t;s.dispatchCellContextMenuEvent(d??null),o=this.valueService.getValue(r,n)}const a=this.ctrlsService.getGridBodyCtrl(),l=s?s.getGui():a.getGridBodyElement();this.menuService.showContextMenu({mouseEvent:e,touchEvent:t,rowNode:n,column:r,value:o,anchorToElement:l})}getControlsForEventTarget(e){return{cellCtrl:nM(this.gos,e,Gc.DOM_DATA_KEY_CELL_CTRL),rowCtrl:nM(this.gos,e,Hc.DOM_DATA_KEY_ROW_CTRL)}}processKeyboardEvent(e,t){const{cellCtrl:i,rowCtrl:s}=this.getControlsForEventTarget(t.target);t.defaultPrevented||(i?this.processCellKeyboardEvent(i,e,t):s&&s.isFullWidth()&&this.processFullWidthRowKeyboardEvent(s,e,t))}processCellKeyboardEvent(e,t,i){const s=e.getRowNode(),n=e.getColumn(),r=e.isEditing();!pM(this.gos,i,s,n,r)&&t==="keydown"&&(!r&&this.navigationService.handlePageScrollingKey(i)||e.onKeyDown(i),this.doGridOperations(i,e.isEditing()),CN(i)&&e.processCharacter(i)),t==="keydown"&&this.eventService.dispatchEvent(e.createEvent(i,"cellKeyDown"))}processFullWidthRowKeyboardEvent(e,t,i){const s=e.getRowNode(),n=this.focusService.getFocusedCell(),r=n&&n.column;if(!pM(this.gos,i,s,r,!1)){const a=i.key;if(t==="keydown")switch(a){case te.PAGE_HOME:case te.PAGE_END:case te.PAGE_UP:case te.PAGE_DOWN:this.navigationService.handlePageScrollingKey(i,!0);break;case te.UP:case te.DOWN:e.onKeyboardNavigate(i);break;case te.TAB:e.onTabKeyDown(i);break}}t==="keydown"&&this.eventService.dispatchEvent(e.createRowEvent("cellKeyDown",i))}doGridOperations(e,t){if(!e.ctrlKey&&!e.metaKey||t||!this.mouseEventService.isEventFromThisGrid(e))return;const i=i9(e);if(i===te.A)return this.onCtrlAndA(e);if(i===te.C)return this.onCtrlAndC(e);if(i===te.D)return this.onCtrlAndD(e);if(i===te.V)return this.onCtrlAndV(e);if(i===te.X)return this.onCtrlAndX(e);if(i===te.Y)return this.onCtrlAndY();if(i===te.Z)return this.onCtrlAndZ(e)}onCtrlAndA(e){const{pinnedRowModel:t,rowModel:i,rangeService:s}=this;if(s&&i.isRowsToRender()){const[n,r]=[t.isEmpty("top"),t.isEmpty("bottom")],o=n?null:"top";let a,l;r?(a=null,l=i.getRowCount()-1):(a="bottom",l=t.getPinnedBottomRowCount()-1);const d=this.visibleColsService.getAllCols();if(wn(d))return;s.setCellRange({rowStartIndex:0,rowStartPinned:o,rowEndIndex:l,rowEndPinned:a,columnStart:d[0],columnEnd:nt(d)})}e.preventDefault()}onCtrlAndC(e){if(!this.clipboardService||this.gos.get("enableCellTextSelection"))return;const{cellCtrl:t,rowCtrl:i}=this.getControlsForEventTarget(e.target);t!=null&&t.isEditing()||i!=null&&i.isEditing()||(e.preventDefault(),this.clipboardService.copyToClipboard())}onCtrlAndX(e){if(!this.clipboardService||this.gos.get("enableCellTextSelection")||this.gos.get("suppressCutToClipboard"))return;const{cellCtrl:t,rowCtrl:i}=this.getControlsForEventTarget(e.target);t!=null&&t.isEditing()||i!=null&&i.isEditing()||(e.preventDefault(),this.clipboardService.cutToClipboard(void 0,"ui"))}onCtrlAndV(e){const{cellCtrl:t,rowCtrl:i}=this.getControlsForEventTarget(e.target);t!=null&&t.isEditing()||i!=null&&i.isEditing()||this.clipboardService&&!this.gos.get("suppressClipboardPaste")&&this.clipboardService.pasteFromClipboard()}onCtrlAndD(e){this.clipboardService&&!this.gos.get("suppressClipboardPaste")&&this.clipboardService.copyRangeDown(),e.preventDefault()}onCtrlAndZ(e){!this.gos.get("undoRedoCellEditing")||!this.undoRedoService||(e.preventDefault(),e.shiftKey?this.undoRedoService.redo("ui"):this.undoRedoService.undo("ui"))}onCtrlAndY(){var e;(e=this.undoRedoService)==null||e.redo("ui")}},U$=class extends re{wireBeans(e){this.pinnedWidthService=e.pinnedWidthService}constructor(e){super(),this.element=e}postConstruct(){this.addManagedEventListeners({leftPinnedWidthChanged:this.onPinnedLeftWidthChanged.bind(this)})}onPinnedLeftWidthChanged(){const e=this.pinnedWidthService.getPinnedLeftWidth(),t=e>0;oi(this.element,t),Ar(this.element,e)}getWidth(){return this.pinnedWidthService.getPinnedLeftWidth()}},$$=class extends re{wireBeans(e){this.pinnedWidthService=e.pinnedWidthService}constructor(e){super(),this.element=e}postConstruct(){this.addManagedEventListeners({rightPinnedWidthChanged:this.onPinnedRightWidthChanged.bind(this)})}onPinnedRightWidthChanged(){const e=this.pinnedWidthService.getPinnedRightWidth(),t=e>0;oi(this.element,t),Ar(this.element,e)}getWidth(){return this.pinnedWidthService.getPinnedRightWidth()}},vv=e=>e.getTopRowCtrls(),yv=e=>e.getStickyTopRowCtrls(),Cv=e=>e.getStickyBottomRowCtrls(),bv=e=>e.getBottomRowCtrls(),Sv=e=>e.getCentreRowCtrls(),Y$={center:{type:"center",container:"ag-center-cols-container",viewport:"ag-center-cols-viewport",getRowCtrls:Sv},left:{type:"left",container:"ag-pinned-left-cols-container",pinnedType:"left",getRowCtrls:Sv},right:{type:"right",container:"ag-pinned-right-cols-container",pinnedType:"right",getRowCtrls:Sv},fullWidth:{type:"fullWidth",container:"ag-full-width-container",fullWidth:!0,getRowCtrls:Sv},topCenter:{type:"center",container:"ag-floating-top-container",viewport:"ag-floating-top-viewport",getRowCtrls:vv},topLeft:{type:"left",container:"ag-pinned-left-floating-top",pinnedType:"left",getRowCtrls:vv},topRight:{type:"right",container:"ag-pinned-right-floating-top",pinnedType:"right",getRowCtrls:vv},topFullWidth:{type:"fullWidth",container:"ag-floating-top-full-width-container",fullWidth:!0,getRowCtrls:vv},stickyTopCenter:{type:"center",container:"ag-sticky-top-container",viewport:"ag-sticky-top-viewport",getRowCtrls:yv},stickyTopLeft:{type:"left",container:"ag-pinned-left-sticky-top",pinnedType:"left",getRowCtrls:yv},stickyTopRight:{type:"right",container:"ag-pinned-right-sticky-top",pinnedType:"right",getRowCtrls:yv},stickyTopFullWidth:{type:"fullWidth",container:"ag-sticky-top-full-width-container",fullWidth:!0,getRowCtrls:yv},stickyBottomCenter:{type:"center",container:"ag-sticky-bottom-container",viewport:"ag-sticky-bottom-viewport",getRowCtrls:Cv},stickyBottomLeft:{type:"left",container:"ag-pinned-left-sticky-bottom",pinnedType:"left",getRowCtrls:Cv},stickyBottomRight:{type:"right",container:"ag-pinned-right-sticky-bottom",pinnedType:"right",getRowCtrls:Cv},stickyBottomFullWidth:{type:"fullWidth",container:"ag-sticky-bottom-full-width-container",fullWidth:!0,getRowCtrls:Cv},bottomCenter:{type:"center",container:"ag-floating-bottom-container",viewport:"ag-floating-bottom-viewport",getRowCtrls:bv},bottomLeft:{type:"left",container:"ag-pinned-left-floating-bottom",pinnedType:"left",getRowCtrls:bv},bottomRight:{type:"right",container:"ag-pinned-right-floating-bottom",pinnedType:"right",getRowCtrls:bv},bottomFullWidth:{type:"fullWidth",container:"ag-floating-bottom-full-width-container",fullWidth:!0,getRowCtrls:bv}};function yd(e){return Y$[e]}var K$=["topCenter","topLeft","topRight"],q$=["bottomCenter","bottomLeft","bottomRight"],Z$=["center","left","right"],X$=["center","left","right","fullWidth"],Q$=["stickyTopCenter","stickyBottomCenter","center","topCenter","bottomCenter"],J$=["left","bottomLeft","topLeft","stickyTopLeft","stickyBottomLeft"],eY=["right","bottomRight","topRight","stickyTopRight","stickyBottomRight"],_N=["stickyTopCenter","stickyTopLeft","stickyTopRight"],WN=["stickyBottomCenter","stickyBottomLeft","stickyBottomRight"],tY=[..._N,"stickyTopFullWidth",...WN,"stickyBottomFullWidth"],iY=[...K$,...q$,...Z$,..._N,...WN],sY=class extends re{constructor(e){super(),this.visible=!0,this.EMPTY_CTRLS=[],this.name=e,this.options=yd(e)}wireBeans(e){this.dragService=e.dragService,this.ctrlsService=e.ctrlsService,this.columnViewportService=e.columnViewportService,this.resizeObserverService=e.resizeObserverService,this.rowRenderer=e.rowRenderer}postConstruct(){this.enableRtl=this.gos.get("enableRtl"),this.forContainers(["center"],()=>{this.viewportSizeFeature=this.createManagedBean(new m$(this)),this.addManagedEventListeners({stickyTopOffsetChanged:this.onStickyTopOffsetChanged.bind(this)})})}onStickyTopOffsetChanged(e){this.comp.setOffsetTop(`${e.offset}px`)}registerWithCtrlsService(){this.options.fullWidth||this.ctrlsService.register(this.name,this)}forContainers(e,t){e.indexOf(this.name)>=0&&t()}getContainerElement(){return this.eContainer}getViewportSizeFeature(){return this.viewportSizeFeature}setComp(e,t,i){this.comp=e,this.eContainer=t,this.eViewport=i,this.createManagedBean(new W$(this.eContainer)),this.addPreventScrollWhileDragging(),this.listenOnDomOrder();const s=()=>this.onPinnedWidthChanged();this.forContainers(J$,()=>{this.pinnedWidthFeature=this.createManagedBean(new U$(this.eContainer)),this.addManagedEventListeners({leftPinnedWidthChanged:s})}),this.forContainers(eY,()=>{this.pinnedWidthFeature=this.createManagedBean(new $$(this.eContainer)),this.addManagedEventListeners({rightPinnedWidthChanged:s})}),this.forContainers(X$,()=>this.createManagedBean(new HN(this.eContainer,this.name==="center"?i:void 0))),this.forContainers(iY,()=>this.createManagedBean(new v$(this.eContainer))),this.forContainers(Q$,()=>this.createManagedBean(new QD(n=>this.comp.setContainerWidth(`${n}px`)))),this.visible=this.isContainerVisible(),this.addListeners(),this.registerWithCtrlsService()}onScrollCallback(e){this.addManagedElementListeners(this.getViewportElement(),{scroll:e})}addListeners(){this.addManagedEventListeners({displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this),displayedColumnsWidthChanged:this.onDisplayedColumnsWidthChanged.bind(this),displayedRowsChanged:e=>this.onDisplayedRowsChanged(e.afterScroll)}),this.onDisplayedColumnsChanged(),this.onDisplayedColumnsWidthChanged(),this.onDisplayedRowsChanged()}listenOnDomOrder(){if(tY.indexOf(this.name)>=0){this.comp.setDomOrder(!0);return}const t=()=>{const i=this.gos.get("ensureDomOrder"),s=ys(this.gos,"print");this.comp.setDomOrder(i||s)};this.addManagedPropertyListener("domLayout",t),t()}onDisplayedColumnsChanged(){this.forContainers(["center"],()=>this.onHorizontalViewportChanged())}onDisplayedColumnsWidthChanged(){this.forContainers(["center"],()=>this.onHorizontalViewportChanged())}addPreventScrollWhileDragging(){const e=t=>{this.dragService.isDragging()&&t.cancelable&&t.preventDefault()};this.eContainer.addEventListener("touchmove",e,{passive:!1}),this.addDestroyFunc(()=>this.eContainer.removeEventListener("touchmove",e))}onHorizontalViewportChanged(e=!1){const t=this.getCenterWidth(),i=this.getCenterViewportScrollLeft();this.columnViewportService.setScrollPosition(t,i,e)}hasHorizontalScrollGap(){return this.eContainer.clientWidth-this.eViewport.clientWidth<0}hasVerticalScrollGap(){return this.eContainer.clientHeight-this.eViewport.clientHeight<0}getCenterWidth(){return hf(this.eViewport)}getCenterViewportScrollLeft(){return Dy(this.eViewport,this.enableRtl)}registerViewportResizeListener(e){const t=this.resizeObserverService.observeResize(this.eViewport,e);this.addDestroyFunc(()=>t())}isViewportInTheDOMTree(){return JF(this.eViewport)}getViewportScrollLeft(){return Dy(this.eViewport,this.enableRtl)}isHorizontalScrollShowing(){return this.gos.get("alwaysShowHorizontalScroll")||B8(this.eViewport)}getViewportElement(){return this.eViewport}setHorizontalScroll(e){this.comp.setHorizontalScroll(e)}getHScrollPosition(){return{left:this.eViewport.scrollLeft,right:this.eViewport.scrollLeft+this.eViewport.offsetWidth}}setCenterViewportScrollLeft(e){Ry(this.eViewport,e,this.enableRtl)}isContainerVisible(){return!(this.options.pinnedType!=null)||!!this.pinnedWidthFeature&&this.pinnedWidthFeature.getWidth()>0}onPinnedWidthChanged(){const e=this.isContainerVisible();this.visible!=e&&(this.visible=e,this.onDisplayedRowsChanged())}onDisplayedRowsChanged(e=!1){const t=this.options.getRowCtrls(this.rowRenderer);if(!this.visible||t.length===0){this.comp.setRowCtrls({rowCtrls:this.EMPTY_CTRLS});return}const i=ys(this.gos,"print"),n=this.gos.get("embedFullWidthRows")||i,r=t.filter(o=>{const a=o.isFullWidth();return this.options.fullWidth?!n&&a:n||!a});this.comp.setRowCtrls({rowCtrls:r,useFlushSync:e})}},nY="ag-force-vertical-scroll",rY="ag-selectable",oY="ag-column-moving",aY=class extends re{constructor(){super(...arguments),this.stickyTopHeight=0,this.stickyBottomHeight=0}wireBeans(e){this.animationFrameService=e.animationFrameService,this.rowContainerHeightService=e.rowContainerHeightService,this.ctrlsService=e.ctrlsService,this.columnModel=e.columnModel,this.columnSizeService=e.columnSizeService,this.scrollVisibleService=e.scrollVisibleService,this.menuService=e.menuService,this.headerNavigationService=e.headerNavigationService,this.dragAndDropService=e.dragAndDropService,this.pinnedRowModel=e.pinnedRowModel,this.rowRenderer=e.rowRenderer,this.popupService=e.popupService,this.mouseEventService=e.mouseEventService,this.rowModel=e.rowModel,this.filterManager=e.filterManager,this.environment=e.environment}getScrollFeature(){return this.bodyScrollFeature}getBodyViewportElement(){return this.eBodyViewport}setComp(e,t,i,s,n,r,o){var a;this.comp=e,this.eGridBody=t,this.eBodyViewport=i,this.eTop=s,this.eBottom=n,this.eStickyTop=r,this.eStickyBottom=o,this.eCenterColsViewport=i.querySelector(`.${yd("center").viewport}`),this.eFullWidthContainer=i.querySelector(`.${yd("fullWidth").container}`),this.eStickyTopFullWidthContainer=r.querySelector(`.${yd("stickyTopFullWidth").container}`),this.eStickyBottomFullWidthContainer=o.querySelector(`.${yd("stickyBottomFullWidth").container}`),this.setCellTextSelection(this.gos.get("enableCellTextSelection")),this.addManagedPropertyListener("enableCellTextSelection",l=>this.setCellTextSelection(l.currentValue)),this.createManagedBean(new eR(this.comp)),this.bodyScrollFeature=this.createManagedBean(new f$(this.eBodyViewport)),this.addRowDragListener(),this.setupRowAnimationCssClass(),this.addEventListeners(),this.addFocusListeners([s,i,n,r,o]),this.onGridColumnsChanged(),this.addBodyViewportListener(),this.setFloatingHeights(),this.disableBrowserDragging(),this.addStopEditingWhenGridLosesFocus(),this.updateScrollingClasses(),(a=this.filterManager)==null||a.setupAdvancedFilterHeaderComp(s),this.ctrlsService.register("gridBodyCtrl",this)}getComp(){return this.comp}addEventListeners(){const e=this.setFloatingHeights.bind(this);this.addManagedEventListeners({gridColumnsChanged:this.onGridColumnsChanged.bind(this),scrollVisibilityChanged:this.onScrollVisibilityChanged.bind(this),scrollGapChanged:this.onScrollGapChanged.bind(this),pinnedRowDataChanged:e,pinnedHeightChanged:e,headerHeightChanged:this.onHeaderHeightChanged.bind(this)})}addFocusListeners(e){e.forEach(t=>{this.addManagedElementListeners(t,{focusin:i=>{const{target:s}=i,n=Td(s,"ag-root",t);t.classList.toggle("ag-has-focus",!n)},focusout:i=>{const{target:s,relatedTarget:n}=i,r=t.contains(n),o=Td(n,"ag-root",t);Td(s,"ag-root",t)||(!r||o)&&t.classList.remove("ag-has-focus")}})})}setColumnMovingCss(e){this.comp.setColumnMovingCss(oY,e)}setCellTextSelection(e=!1){this.comp.setCellSelectableCss(rY,e)}onScrollVisibilityChanged(){const e=this.scrollVisibleService.isVerticalScrollShowing();this.setVerticalScrollPaddingVisible(e),this.setStickyWidth(e),this.setStickyBottomOffsetBottom();const t=e&&this.scrollVisibleService.getScrollbarWidth()||0,i=qF()?16:0,s=`calc(100% + ${t+i}px)`;this.animationFrameService.requestAnimationFrame(()=>this.comp.setBodyViewportWidth(s)),this.updateScrollingClasses()}onScrollGapChanged(){this.updateScrollingClasses()}updateScrollingClasses(){this.eGridBody.classList.toggle("ag-body-vertical-content-no-gap",!this.scrollVisibleService.hasVerticalScrollGap()),this.eGridBody.classList.toggle("ag-body-horizontal-content-no-gap",!this.scrollVisibleService.hasHorizontalScrollGap())}onGridColumnsChanged(){const e=this.columnModel.getCols();this.comp.setColumnCount(e.length)}disableBrowserDragging(){this.addManagedElementListeners(this.eGridBody,{dragstart:e=>{if(e.target instanceof HTMLImageElement)return e.preventDefault(),!1}})}addStopEditingWhenGridLosesFocus(){if(!this.gos.get("stopEditingWhenCellsLoseFocus"))return;const e=i=>{const s=i.relatedTarget;if(dM(s)===null){this.rowRenderer.stopEditing();return}let n=t.some(r=>r.contains(s))&&this.mouseEventService.isElementInThisGrid(s);if(!n){const r=this.popupService;n=r.getActivePopups().some(o=>o.contains(s))||r.isElementWithinCustomPopup(s)}n||this.rowRenderer.stopEditing()},t=[this.eBodyViewport,this.eBottom,this.eTop,this.eStickyTop,this.eStickyBottom];t.forEach(i=>this.addManagedElementListeners(i,{focusout:e}))}updateRowCount(){var s;const e=this.headerNavigationService.getHeaderRowCount()+(((s=this.filterManager)==null?void 0:s.getHeaderRowCount())??0),t=this.rowModel.isLastRowIndexKnown()?this.rowModel.getRowCount():-1,i=t===-1?-1:e+t;this.comp.setRowCount(i)}registerBodyViewportResizeListener(e){this.comp.registerBodyViewportResizeListener(e)}setVerticalScrollPaddingVisible(e){const t=e?"scroll":"hidden";this.comp.setPinnedTopBottomOverflowY(t)}isVerticalScrollShowing(){const e=this.gos.get("alwaysShowVerticalScroll"),t=e?nY:null,i=ys(this.gos,"normal");return this.comp.setAlwaysVerticalScrollClass(t,e),e||i&&G8(this.eBodyViewport)}setupRowAnimationCssClass(){let e=this.environment.hasMeasuredSizes();const t=()=>{const i=e&&Ad(this.gos)&&!this.rowContainerHeightService.isStretching(),s=i?"ag-row-animation":"ag-row-no-animation";this.comp.setRowAnimationCssOnBodyViewport(s,i)};t(),this.addManagedEventListeners({heightScaleChanged:t}),this.addManagedPropertyListener("animateRows",t),this.addManagedEventListeners({gridStylesChanged:()=>{!e&&this.environment.hasMeasuredSizes()&&(e=!0,t())}})}getGridBodyElement(){return this.eGridBody}addBodyViewportListener(){const e=this.onBodyViewportContextMenu.bind(this);this.addManagedElementListeners(this.eBodyViewport,{contextmenu:e}),this.mockContextMenuForIPad(e),this.addManagedElementListeners(this.eBodyViewport,{wheel:this.onBodyViewportWheel.bind(this)}),this.addManagedElementListeners(this.eStickyTop,{wheel:this.onStickyWheel.bind(this)}),this.addManagedElementListeners(this.eStickyBottom,{wheel:this.onStickyWheel.bind(this)}),this.addFullWidthContainerWheelListener()}addFullWidthContainerWheelListener(){this.addManagedElementListeners(this.eFullWidthContainer,{wheel:e=>this.onFullWidthContainerWheel(e)})}onFullWidthContainerWheel(e){const{deltaX:t,deltaY:i,shiftKey:s}=e;(s||Math.abs(t)>Math.abs(i))&&this.mouseEventService.isEventFromThisGrid(e)&&this.scrollGridBodyToMatchEvent(e)}onStickyWheel(e){const{deltaX:t,deltaY:i,shiftKey:s}=e,n=s||Math.abs(t)>Math.abs(i),r=e.target;n?(this.eStickyTopFullWidthContainer.contains(r)||this.eStickyBottomFullWidthContainer.contains(r))&&this.scrollGridBodyToMatchEvent(e):(e.preventDefault(),this.scrollVertically(i))}scrollGridBodyToMatchEvent(e){const{deltaX:t,deltaY:i}=e;e.preventDefault(),this.eCenterColsViewport.scrollBy({left:t||i})}onBodyViewportContextMenu(e,t,i){if(!e&&!i)return;this.gos.get("preventDefaultOnContextMenu")&&(e||i).preventDefault();const{target:s}=e||t;(s===this.eBodyViewport||s===this.ctrlsService.get("center").getViewportElement())&&this.menuService.showContextMenu({mouseEvent:e,touchEvent:i,value:null,anchorToElement:this.eGridBody})}mockContextMenuForIPad(e){if(!Il())return;const t=new pl(this.eBodyViewport),i=s=>{e(void 0,s.touchStart,s.touchEvent)};this.addManagedListeners(t,{longTap:i}),this.addDestroyFunc(()=>t.destroy())}onBodyViewportWheel(e){this.gos.get("suppressScrollWhenPopupsAreOpen")&&this.popupService.hasAnchoredPopup()&&e.preventDefault()}getGui(){return this.eGridBody}scrollVertically(e){const t=this.eBodyViewport.scrollTop;return this.bodyScrollFeature.setVerticalScrollPosition(t+e),this.eBodyViewport.scrollTop-t}addRowDragListener(){this.rowDragFeature=this.createManagedBean(new F7(this.eBodyViewport)),this.dragAndDropService.addDropTarget(this.rowDragFeature),this.addDestroyFunc(()=>this.dragAndDropService.removeDropTarget(this.rowDragFeature))}getRowDragFeature(){return this.rowDragFeature}setFloatingHeights(){const{pinnedRowModel:e}=this,t=e.getPinnedTopTotalHeight(),i=e.getPinnedBottomTotalHeight();this.comp.setTopHeight(t),this.comp.setBottomHeight(i),this.comp.setTopDisplay(t?"inherit":"none"),this.comp.setBottomDisplay(i?"inherit":"none"),this.setStickyTopOffsetTop(),this.setStickyBottomOffsetBottom()}setStickyTopHeight(e=0){this.comp.setStickyTopHeight(`${e}px`),this.stickyTopHeight=e}getStickyTopHeight(){return this.stickyTopHeight}setStickyBottomHeight(e=0){this.comp.setStickyBottomHeight(`${e}px`),this.stickyBottomHeight=e}getStickyBottomHeight(){return this.stickyBottomHeight}setStickyWidth(e){if(!e)this.comp.setStickyTopWidth("100%"),this.comp.setStickyBottomWidth("100%");else{const t=this.scrollVisibleService.getScrollbarWidth();this.comp.setStickyTopWidth(`calc(100% - ${t}px)`),this.comp.setStickyBottomWidth(`calc(100% - ${t}px)`)}}onHeaderHeightChanged(){this.setStickyTopOffsetTop()}setStickyTopOffsetTop(){var n;const t=this.ctrlsService.get("gridHeaderCtrl").getHeaderHeight()+(((n=this.filterManager)==null?void 0:n.getHeaderHeight())??0),i=this.pinnedRowModel.getPinnedTopTotalHeight();let s=0;t>0&&(s+=t),i>0&&(s+=i),s>0&&(s+=1),this.comp.setStickyTopTop(`${s}px`)}setStickyBottomOffsetBottom(){const e=this.pinnedRowModel.getPinnedBottomTotalHeight(),i=this.scrollVisibleService.isHorizontalScrollShowing()&&this.scrollVisibleService.getScrollbarWidth()||0,s=e+i;this.comp.setStickyBottomBottom(`${s}px`)}sizeColumnsToFit(e,t){const s=this.isVerticalScrollShowing()?this.scrollVisibleService.getScrollbarWidth():0,r=hf(this.eGridBody)-s;if(r>0){this.columnSizeService.sizeColumnsToFit(r,"sizeColumnsToFit",!1,e);return}t===void 0?window.setTimeout(()=>{this.sizeColumnsToFit(e,100)},0):t===100?window.setTimeout(()=>{this.sizeColumnsToFit(e,500)},100):t===500?window.setTimeout(()=>{this.sizeColumnsToFit(e,-1)},500):ae("tried to call sizeColumnsToFit() but the grid is coming back with zero width, maybe the grid is not visible yet on the screen?")}addScrollEventListener(e){this.eBodyViewport.addEventListener("scroll",e,{passive:!0})}removeScrollEventListener(e){this.eBodyViewport.removeEventListener("scroll",e)}};function Bg(e){return e.map(t=>`<ag-row-container name="${t}"></ag-row-container>`).join("")}`${Bg(["topLeft","topCenter","topRight","topFullWidth"])}${Bg(["left","center","right","fullWidth"])}${Bg(["stickyTopLeft","stickyTopCenter","stickyTopRight","stickyTopFullWidth"])}${Bg(["stickyBottomLeft","stickyBottomCenter","stickyBottomRight","stickyBottomFullWidth"])}${Bg(["bottomLeft","bottomCenter","bottomRight","bottomFullWidth"])}`;var lY=class extends re{constructor(){super(...arguments),this.beanName="scrollVisibleService"}wireBeans(e){this.ctrlsService=e.ctrlsService,this.columnAnimationService=e.columnAnimationService}postConstruct(){this.getScrollbarWidth(),this.addManagedEventListeners({displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this),displayedColumnsWidthChanged:this.onDisplayedColumnsWidthChanged.bind(this)})}onDisplayedColumnsChanged(){this.updateScrollVisible()}onDisplayedColumnsWidthChanged(){this.updateScrollVisible()}onCentreViewportResized(){this.updateScrollGap()}updateScrollVisible(){this.columnAnimationService.isActive()?this.columnAnimationService.executeLaterVMTurn(()=>{this.columnAnimationService.executeLaterVMTurn(()=>this.updateScrollVisibleImpl())}):this.updateScrollVisibleImpl()}updateScrollVisibleImpl(){const e=this.ctrlsService.get("center");if(!e||this.columnAnimationService.isActive())return;const t={horizontalScrollShowing:e.isHorizontalScrollShowing(),verticalScrollShowing:this.isVerticalScrollShowing()};this.setScrollsVisible(t),this.updateScrollGap()}updateScrollGap(){const e=this.ctrlsService.get("center"),t=e.hasHorizontalScrollGap(),i=e.hasVerticalScrollGap();(this.horizontalScrollGap!==t||this.verticalScrollGap!==i)&&(this.horizontalScrollGap=t,this.verticalScrollGap=i,this.eventService.dispatchEvent({type:"scrollGapChanged"}))}setScrollsVisible(e){(this.horizontalScrollShowing!==e.horizontalScrollShowing||this.verticalScrollShowing!==e.verticalScrollShowing)&&(this.horizontalScrollShowing=e.horizontalScrollShowing,this.verticalScrollShowing=e.verticalScrollShowing,this.eventService.dispatchEvent({type:"scrollVisibilityChanged"}))}isHorizontalScrollShowing(){return this.horizontalScrollShowing}isVerticalScrollShowing(){return this.verticalScrollShowing}hasHorizontalScrollGap(){return this.horizontalScrollGap}hasVerticalScrollGap(){return this.verticalScrollGap}getScrollbarWidth(){if(this.scrollbarWidth==null){const e=this.gos.get("scrollbarWidth"),i=typeof e=="number"&&e>=0?e:F8();i!=null&&(this.scrollbarWidth=i,this.eventService.dispatchEvent({type:"scrollbarWidthChanged"}))}return this.scrollbarWidth}},Mk="__ag_grid_instance",UN=class $N extends re{constructor(){super(...arguments),this.beanName="mouseEventService",this.gridInstanceId=$N.gridInstanceSequence.next()}wireBeans(t){this.ctrlsService=t.ctrlsService}stampTopLevelGridCompWithGridInstance(t){t[Mk]=this.gridInstanceId}getRenderedCellForEvent(t){return nM(this.gos,t.target,Gc.DOM_DATA_KEY_CELL_CTRL)}isEventFromThisGrid(t){return this.isElementInThisGrid(t.target)}isElementInThisGrid(t){let i=t;for(;i;){const s=i[Mk];if(ve(s))return s===this.gridInstanceId;i=i.parentElement}return!1}getCellPositionForEvent(t){const i=this.getRenderedCellForEvent(t);return i?i.getCellPosition():null}getNormalisedPosition(t){const i=ys(this.gos,"normal"),s=t;let n,r;if(s.clientX!=null||s.clientY!=null?(n=s.clientX,r=s.clientY):(n=s.x,r=s.y),i){const o=this.ctrlsService.getGridBodyCtrl(),a=o.getScrollFeature().getVScrollPosition(),l=o.getScrollFeature().getHScrollPosition();n+=l.left,r+=a.top}return{x:n,y:r}}};UN.gridInstanceSequence=new Wd;var cY=UN,uY=class extends re{constructor(){super(),this.beanName="navigationService",this.onPageDown=ak(this.onPageDown,100),this.onPageUp=ak(this.onPageUp,100)}wireBeans(e){this.mouseEventService=e.mouseEventService,this.pageBoundsService=e.pageBoundsService,this.focusService=e.focusService,this.columnModel=e.columnModel,this.visibleColsService=e.visibleColsService,this.rowModel=e.rowModel,this.ctrlsService=e.ctrlsService,this.rowRenderer=e.rowRenderer,this.headerNavigationService=e.headerNavigationService,this.rowPositionUtils=e.rowPositionUtils,this.cellNavigationService=e.cellNavigationService,this.pinnedRowModel=e.pinnedRowModel,this.scrollVisibleService=e.scrollVisibleService,this.rangeService=e.rangeService}postConstruct(){this.ctrlsService.whenReady(this,e=>{this.gridBodyCon=e.gridBodyCtrl})}handlePageScrollingKey(e,t=!1){const i=e.key,s=e.altKey,n=e.ctrlKey||e.metaKey,r=!!this.rangeService&&e.shiftKey,o=this.mouseEventService.getCellPositionForEvent(e);let a=!1;switch(i){case te.PAGE_HOME:case te.PAGE_END:!n&&!s&&(this.onHomeOrEndKey(i),a=!0);break;case te.LEFT:case te.RIGHT:case te.UP:case te.DOWN:if(!o)return!1;n&&!s&&!r&&(this.onCtrlUpDownLeftRight(i,o),a=!0);break;case te.PAGE_DOWN:case te.PAGE_UP:!n&&!s&&(a=this.handlePageUpDown(i,o,t));break}return a&&e.preventDefault(),a}handlePageUpDown(e,t,i){return i&&(t=this.focusService.getFocusedCell()),t?(e===te.PAGE_UP?this.onPageUp(t):this.onPageDown(t),!0):!1}navigateTo(e){var o;const{scrollIndex:t,scrollType:i,scrollColumn:s,focusIndex:n,focusColumn:r}=e;ve(s)&&!s.isPinned()&&this.gridBodyCon.getScrollFeature().ensureColumnVisible(s),ve(t)&&this.gridBodyCon.getScrollFeature().ensureIndexVisible(t,i),e.isAsync||this.gridBodyCon.getScrollFeature().ensureIndexVisible(n),this.focusService.setFocusedCell({rowIndex:n,column:r,rowPinned:null,forceBrowserFocus:!0}),(o=this.rangeService)==null||o.setRangeToCell({rowIndex:n,rowPinned:null,column:r})}onPageDown(e){const i=this.ctrlsService.getGridBodyCtrl().getScrollFeature().getVScrollPosition(),s=this.getViewportHeight(),n=this.pageBoundsService.getPixelOffset(),r=i.top+s,o=this.rowModel.getRowIndexAtPixel(r+n);this.columnModel.isAutoRowHeightActive()?this.navigateToNextPageWithAutoHeight(e,o):this.navigateToNextPage(e,o)}onPageUp(e){const i=this.ctrlsService.getGridBodyCtrl().getScrollFeature().getVScrollPosition(),s=this.pageBoundsService.getPixelOffset(),n=i.top,r=this.rowModel.getRowIndexAtPixel(n+s);this.columnModel.isAutoRowHeightActive()?this.navigateToNextPageWithAutoHeight(e,r,!0):this.navigateToNextPage(e,r,!0)}navigateToNextPage(e,t,i=!1){const s=this.getViewportHeight(),n=this.pageBoundsService.getFirstRow(),r=this.pageBoundsService.getLastRow(),o=this.pageBoundsService.getPixelOffset(),a=this.rowModel.getRow(e.rowIndex),l=i?(a==null?void 0:a.rowHeight)-s-o:s-o,d=(a==null?void 0:a.rowTop)+l;let h=this.rowModel.getRowIndexAtPixel(d+o);if(h===e.rowIndex){const f=i?-1:1;t=h=e.rowIndex+f}let p;i?(p="bottom",h<n&&(h=n),t<n&&(t=n)):(p="top",h>r&&(h=r),t>r&&(t=r)),this.isRowTallerThanView(h)&&(t=h,p="top"),this.navigateTo({scrollIndex:t,scrollType:p,scrollColumn:null,focusIndex:h,focusColumn:e.column})}navigateToNextPageWithAutoHeight(e,t,i=!1){this.navigateTo({scrollIndex:t,scrollType:i?"bottom":"top",scrollColumn:null,focusIndex:t,focusColumn:e.column}),setTimeout(()=>{const s=this.getNextFocusIndexForAutoHeight(e,i);this.navigateTo({scrollIndex:t,scrollType:i?"bottom":"top",scrollColumn:null,focusIndex:s,focusColumn:e.column,isAsync:!0})},50)}getNextFocusIndexForAutoHeight(e,t=!1){const i=t?-1:1,s=this.getViewportHeight(),n=this.pageBoundsService.getLastRow();let r=0,o=e.rowIndex;for(;o>=0&&o<=n;){const a=this.rowModel.getRow(o);if(a){const l=a.rowHeight??0;if(r+l>s)break;r+=l}o+=i}return Math.max(0,Math.min(o,n))}getViewportHeight(){const e=this.ctrlsService.getGridBodyCtrl().getScrollFeature().getVScrollPosition(),t=this.scrollVisibleService.getScrollbarWidth();let i=e.bottom-e.top;return this.ctrlsService.get("center").isHorizontalScrollShowing()&&(i-=t),i}isRowTallerThanView(e){const t=this.rowModel.getRow(e);if(!t)return!1;const i=t.rowHeight;return typeof i!="number"?!1:i>this.getViewportHeight()}onCtrlUpDownLeftRight(e,t){const i=this.cellNavigationService.getNextCellToFocus(e,t,!0),{rowIndex:s}=i,n=i.column;this.navigateTo({scrollIndex:s,scrollType:null,scrollColumn:n,focusIndex:s,focusColumn:n})}onHomeOrEndKey(e){const t=e===te.PAGE_HOME,i=this.visibleColsService.getAllCols(),s=t?i[0]:nt(i),n=t?this.pageBoundsService.getFirstRow():this.pageBoundsService.getLastRow();this.navigateTo({scrollIndex:n,scrollType:null,scrollColumn:s,focusIndex:n,focusColumn:s})}onTabKeyDown(e,t){const i=t.shiftKey,s=this.tabToNextCellCommon(e,i,t);if(s!==!1){s?t.preventDefault():s===null&&this.focusService.allowFocusForNextGridCoreContainer(i);return}if(i){const{rowIndex:n,rowPinned:r}=e.getRowPosition();(r?n===0:n===this.pageBoundsService.getFirstRow())&&(this.gos.get("headerHeight")===0||this.focusService.isHeaderFocusSuppressed()?this.focusService.focusNextGridCoreContainer(!0,!0):(t.preventDefault(),this.focusService.focusPreviousFromFirstCell(t)))}else e instanceof Gc&&e.focusCell(!0),(!i&&this.focusService.focusOverlay(!1)||this.focusService.focusNextGridCoreContainer(i))&&t.preventDefault()}tabToNextCell(e,t){const i=this.focusService.getFocusedCell();if(!i)return!1;let s=this.getCellByPosition(i);return!s&&(s=this.rowRenderer.getRowByPosition(i),!s||!s.isFullWidth())?!1:!!this.tabToNextCellCommon(s,e,t)}tabToNextCellCommon(e,t,i){let s=e.isEditing();if(!s&&e instanceof Gc){const o=e.getRowCtrl();o&&(s=o.isEditing())}let n;return s?this.gos.get("editType")==="fullRow"?n=this.moveToNextEditingRow(e,t,i):n=this.moveToNextEditingCell(e,t,i):n=this.moveToNextCellNotEditing(e,t),n===null?n:n||!!this.focusService.getFocusedHeader()}moveToNextEditingCell(e,t,i=null){const s=e.getCellPosition();e.getGui().focus(),e.stopEditing();const n=this.findNextCellToFocusOn(s,t,!0);return n===!1?null:n==null?!1:(n.startEditing(null,!0,i),n.focusCell(!1),!0)}moveToNextEditingRow(e,t,i=null){const s=e.getCellPosition(),n=this.findNextCellToFocusOn(s,t,!0);if(n===!1)return null;if(n==null)return!1;const r=n.getCellPosition(),o=this.isCellEditable(s),a=this.isCellEditable(r),l=r&&s.rowIndex===r.rowIndex&&s.rowPinned===r.rowPinned;return o&&e.setFocusOutOnEditor(),l||(e.getRowCtrl().stopEditing(),n.getRowCtrl().startRowEditing(void 0,void 0,i)),a?(n.setFocusInOnEditor(),n.focusCell()):n.focusCell(!0),!0}moveToNextCellNotEditing(e,t){const i=this.visibleColsService.getAllCols();let s;e instanceof Hc?s={...e.getRowPosition(),column:t?i[0]:nt(i)}:s=e.getCellPosition();const n=this.findNextCellToFocusOn(s,t,!1);if(n===!1)return null;if(n instanceof Gc)n.focusCell(!0);else if(n)return this.tryToFocusFullWidthRow(n.getRowPosition(),t);return ve(n)}findNextCellToFocusOn(e,t,i){var n;let s=e;for(;;){e!==s&&(e=s),t||(s=this.getLastCellOfColSpan(s)),s=this.cellNavigationService.getNextTabbedCell(s,t);const r=this.gos.getCallback("tabToNextCell");if(ve(r)){const d=r({backwards:t,editing:i,previousCellPosition:e,nextCellPosition:s||null});if(d===!0||d===null)d===null&&ae("Returning `null` from tabToNextCell is deprecated. Return `true` to stay on the current cell, or `false` to let the browser handle the tab behaviour."),s=e;else{if(d===!1)return!1;s={rowIndex:d.rowIndex,column:d.column,rowPinned:d.rowPinned}}}if(!s)return null;if(s.rowIndex<0){const l=this.headerNavigationService.getHeaderRowCount();return this.focusService.focusHeaderPosition({headerPosition:{headerRowIndex:l+s.rowIndex,column:s.column},fromCell:!0}),null}const o=this.gos.get("editType")==="fullRow";if(i&&!o&&!this.isCellEditable(s))continue;this.ensureCellVisible(s);const a=this.getCellByPosition(s);if(!a){const l=this.rowRenderer.getRowByPosition(s);if(!l||!l.isFullWidth()||i)continue;return l}if(!a.isSuppressNavigable())return(n=this.rangeService)==null||n.setRangeToCell(s),a}}isCellEditable(e){const t=this.lookupRowNodeForCell(e);return t?e.column.isCellEditable(t):!1}getCellByPosition(e){const t=this.rowRenderer.getRowByPosition(e);return t?t.getCellCtrl(e.column):null}lookupRowNodeForCell(e){return e.rowPinned==="top"?this.pinnedRowModel.getPinnedTopRow(e.rowIndex):e.rowPinned==="bottom"?this.pinnedRowModel.getPinnedBottomRow(e.rowIndex):this.rowModel.getRow(e.rowIndex)}navigateToNextCell(e,t,i,s){let n=i,r=!1;for(;n&&(n===i||!this.isValidNavigateCell(n));)this.gos.get("enableRtl")?t===te.LEFT&&(n=this.getLastCellOfColSpan(n)):t===te.RIGHT&&(n=this.getLastCellOfColSpan(n)),n=this.cellNavigationService.getNextCellToFocus(t,n),r=rt(n);if(r&&e&&e.key===te.UP&&(n={rowIndex:-1,rowPinned:null,column:i.column}),s){const a=this.gos.getCallback("navigateToNextCell");if(ve(a)){const d=a({key:t,previousCellPosition:i,nextCellPosition:n||null,event:e});ve(d)?n={rowPinned:d.rowPinned,rowIndex:d.rowIndex,column:d.column}:n=null}}if(!n)return;if(n.rowIndex<0){const a=this.headerNavigationService.getHeaderRowCount();this.focusService.focusHeaderPosition({headerPosition:{headerRowIndex:a+n.rowIndex,column:i.column},event:e||void 0,fromCell:!0});return}const o=this.getNormalisedPosition(n);o?this.focusPosition(o):this.tryToFocusFullWidthRow(n)}getNormalisedPosition(e){this.ensureCellVisible(e);const t=this.getCellByPosition(e);return t?(e=t.getCellPosition(),this.ensureCellVisible(e),e):null}tryToFocusFullWidthRow(e,t){const i=this.visibleColsService.getAllCols(),s=this.rowRenderer.getRowByPosition(e);if(!s||!s.isFullWidth())return!1;const n=this.focusService.getFocusedCell(),r={rowIndex:e.rowIndex,rowPinned:e.rowPinned,column:e.column||(t?nt(i):i[0])};this.focusPosition(r);const o=t??(n!=null&&this.rowPositionUtils.before(r,n));return this.eventService.dispatchEvent({type:"fullWidthRowFocused",rowIndex:r.rowIndex,rowPinned:r.rowPinned,column:r.column,isFullWidthCell:!0,fromBelow:o}),!0}focusPosition(e){var t;this.focusService.setFocusedCell({rowIndex:e.rowIndex,column:e.column,rowPinned:e.rowPinned,forceBrowserFocus:!0}),(t=this.rangeService)==null||t.setRangeToCell(e)}isValidNavigateCell(e){return!!this.rowPositionUtils.getRowNode(e)}getLastCellOfColSpan(e){const t=this.getCellByPosition(e);if(!t)return e;const i=t.getColSpanningList();return i.length===1?e:{rowIndex:e.rowIndex,column:nt(i),rowPinned:e.rowPinned}}ensureCellVisible(e){const t=CC(this.gos),i=this.rowModel.getRow(e.rowIndex);!(t&&(i==null?void 0:i.sticky))&&rt(e.rowPinned)&&this.gridBodyCon.getScrollFeature().ensureIndexVisible(e.rowIndex),e.column.isPinned()||this.gridBodyCon.getScrollFeature().ensureColumnVisible(e.column)}},dY=class extends re{constructor(){super(...arguments),this.beanName="horizontalResizeService"}wireBeans(e){this.dragService=e.dragService,this.ctrlsService=e.ctrlsService}addResizeBar(e){const t={dragStartPixels:e.dragStartPixels||0,eElement:e.eResizeBar,onDragStart:this.onDragStart.bind(this,e),onDragStop:this.onDragStop.bind(this,e),onDragging:this.onDragging.bind(this,e),onDragCancel:this.onDragStop.bind(this,e),includeTouch:!0,stopPropagationForTouch:!0};return this.dragService.addDragSource(t),()=>this.dragService.removeDragSource(t)}onDragStart(e,t){this.dragStartX=t.clientX,this.setResizeIcons();const i=t instanceof MouseEvent&&t.shiftKey===!0;e.onResizeStart(i)}setResizeIcons(){const e=this.ctrlsService.get("gridCtrl");e.setResizeCursor(!0),e.disableUserSelect(!0)}onDragStop(e){e.onResizeEnd(this.resizeAmount),this.resetIcons()}resetIcons(){const e=this.ctrlsService.get("gridCtrl");e.setResizeCursor(!1),e.disableUserSelect(!1)}onDragging(e,t){this.resizeAmount=t.clientX-this.dragStartX,e.onResizing(this.resizeAmount)}},hY=class extends re{constructor(){super(...arguments),this.beanName="filterMenuFactory"}wireBeans(e){this.popupService=e.popupService,this.focusService=e.focusService,this.ctrlsService=e.ctrlsService,this.menuService=e.menuService}hideActiveMenu(){this.hidePopup&&this.hidePopup()}showMenuAfterMouseEvent(e,t,i){this.showPopup(e,s=>{this.popupService.positionPopupUnderMouseEvent({column:e,type:i,mouseEvent:t,ePopup:s})},i,t.target,this.menuService.isLegacyMenuEnabled())}showMenuAfterButtonClick(e,t,i){let s=-1,n="left";const r=this.menuService.isLegacyMenuEnabled();!r&&this.gos.get("enableRtl")&&(s=1,n="right");const o=r?void 0:4*s,a=r?void 0:4;this.showPopup(e,l=>{this.popupService.positionPopupByComponent({type:i,eventSource:t,ePopup:l,nudgeX:o,nudgeY:a,alignSide:n,keepWithinBounds:!0,position:"under",column:e})},i,t,r)}showPopup(e,t,i,s,n){const r=e?this.createBean(new j7(e,"COLUMN_MENU")):void 0;if(this.activeMenu=r,!(r!=null&&r.hasFilter())||!e)throw new Error("AG Grid - unable to show popup filter, filter instantiation failed");const o=document.createElement("div");Or(o,"presentation"),o.classList.add("ag-menu"),n||o.classList.add("ag-filter-menu"),[this.tabListener]=this.addManagedElementListeners(o,{keydown:y=>this.trapFocusWithin(y,o)}),o.appendChild(r==null?void 0:r.getGui());let a;const l=()=>r==null?void 0:r.afterGuiDetached(),d=this.menuService.isColumnMenuAnchoringEnabled()?s??this.ctrlsService.getGridBodyCtrl().getGui():void 0,h=y=>{e.setMenuVisible(!1,"contextMenu");const S=y instanceof KeyboardEvent;if(this.tabListener&&(this.tabListener=this.tabListener()),S&&s&&ho(s)){const w=this.focusService.findTabbableParent(s);w&&w.focus()}l(),this.destroyBean(this.activeMenu),this.dispatchVisibleChangedEvent(!1,i,e)},p=this.localeService.getLocaleTextFunc(),f=n&&i!=="columnFilter"?p("ariaLabelColumnMenu","Column Menu"):p("ariaLabelColumnFilter","Column Filter"),v=this.popupService.addPopup({modal:!0,eChild:o,closeOnEsc:!0,closedCallback:h,positionCallback:()=>t(o),anchorToElement:d,ariaLabel:f});v&&(this.hidePopup=a=v.hideFunc),r.afterInit().then(()=>{t(o),r.afterGuiAttached({container:i,hidePopup:a})}),e.setMenuVisible(!0,"contextMenu"),this.dispatchVisibleChangedEvent(!0,i,e)}trapFocusWithin(e,t){e.key!==te.TAB||e.defaultPrevented||this.focusService.findNextFocusableElement(t,!1,e.shiftKey)||(e.preventDefault(),this.focusService.focusInto(t,e.shiftKey))}dispatchVisibleChangedEvent(e,t,i){this.eventService.dispatchEvent({type:"columnMenuVisibleChanged",visible:e,switchingTab:!1,key:t,column:i??null,columnGroup:null})}isMenuEnabled(e){return e.isFilterAllowed()&&(e.getColDef().menuTabs??["filterMenuTab"]).includes("filterMenuTab")}showMenuAfterContextMenuEvent(){}destroy(){this.destroyBean(this.activeMenu),super.destroy()}},gY=class extends re{constructor(){super(...arguments),this.beanName="resizeObserverService"}observeResize(e,t){const s=xF(this.gos).ResizeObserver,n=s?new s(t):null;return n==null||n.observe(e),()=>n==null?void 0:n.disconnect()}},pY=class extends re{constructor(){super(...arguments),this.beanName="animationFrameService",this.createTasksP1={list:[],sorted:!1},this.createTasksP2={list:[],sorted:!1},this.destroyTasks=[],this.ticking=!1,this.scrollGoingDown=!0,this.lastPage=0,this.lastScrollTop=0,this.taskCount=0,this.cancelledTasks=new Set}wireBeans(e){this.ctrlsService=e.ctrlsService,this.paginationService=e.paginationService}setScrollTop(e){var i;const t=this.gos.get("pagination");if(this.scrollGoingDown=e>=this.lastScrollTop,t&&e===0){const s=((i=this.paginationService)==null?void 0:i.getCurrentPage())??0;s!==this.lastPage&&(this.lastPage=s,this.scrollGoingDown=!0)}this.lastScrollTop=e}postConstruct(){this.useAnimationFrame=!this.gos.get("suppressAnimationFrame")}isOn(){return this.useAnimationFrame}verifyAnimationFrameOn(e){this.useAnimationFrame===!1&&ae(`AnimationFrameService.${e} called but animation frames are off`)}createTask(e,t,i){this.verifyAnimationFrameOn(i);const s={task:e,index:t,createOrder:++this.taskCount};this.addTaskToList(this[i],s),this.schedule()}cancelTask(e){this.cancelledTasks.add(e)}addTaskToList(e,t){e.list.push(t),e.sorted=!1}sortTaskList(e){if(e.sorted)return;const t=this.scrollGoingDown?1:-1;e.list.sort((i,s)=>i.index!==s.index?t*(s.index-i.index):s.createOrder-i.createOrder),e.sorted=!0}addDestroyTask(e){this.verifyAnimationFrameOn("createTasksP3"),this.destroyTasks.push(e),this.schedule()}executeFrame(e){this.verifyAnimationFrameOn("executeFrame");const t=this.createTasksP1,i=t.list,s=this.createTasksP2,n=s.list,r=this.destroyTasks,o=new Date().getTime();let a=new Date().getTime()-o;const l=e<=0,d=this.ctrlsService.getGridBodyCtrl();for(;l||a<e;){if(!d.getScrollFeature().scrollGridIfNeeded()){let p;if(i.length)this.sortTaskList(t),p=i.pop().task;else if(n.length)this.sortTaskList(s),p=n.pop().task;else if(r.length)p=r.pop();else{this.cancelledTasks.clear();break}this.cancelledTasks.has(p)||p()}a=new Date().getTime()-o}i.length||n.length||r.length?this.requestFrame():this.stopTicking()}stopTicking(){this.ticking=!1}flushAllFrames(){this.useAnimationFrame&&this.executeFrame(-1)}schedule(){this.useAnimationFrame&&(this.ticking||(this.ticking=!0,this.requestFrame()))}requestFrame(){const e=this.executeFrame.bind(this,60);this.requestAnimationFrame(e)}requestAnimationFrame(e){const t=xF(this.gos);t.requestAnimationFrame?t.requestAnimationFrame(e):t.webkitRequestAnimationFrame?t.webkitRequestAnimationFrame(e):t.setTimeout(e,0)}isQueueEmpty(){return!this.ticking}debounce(e){let t=!1;return()=>{if(!this.isOn()){window.setTimeout(e,0);return}t||(t=!0,this.addDestroyTask(()=>{t=!1,e()}))}}},fY=class extends re{constructor(){super(...arguments),this.beanName="expansionService"}wireBeans(e){this.rowModel=e.rowModel}postConstruct(){this.isClientSideRowModel=Ut(this.gos)}expandRows(e){if(!this.isClientSideRowModel)return;const t=new Set(e);this.rowModel.forEachNode(i=>{i.id&&t.has(i.id)&&(i.expanded=!0)}),this.onGroupExpandedOrCollapsed()}getExpandedRows(){const e=[];return this.rowModel.forEachNode(({expanded:t,id:i})=>{t&&i&&e.push(i)}),e}expandAll(e){this.isClientSideRowModel&&this.rowModel.expandOrCollapseAll(e)}setRowNodeExpanded(e,t,i,s){e&&(i&&e.parent&&e.parent.level!==-1&&this.setRowNodeExpanded(e.parent,t,i,s),e.setExpanded(t,void 0,s))}onGroupExpandedOrCollapsed(){this.isClientSideRowModel&&this.rowModel.refreshModel({step:"map"})}},mY=class extends re{constructor(){super(...arguments),this.beanName="menuService"}wireBeans(e){this.valueService=e.valueService,this.filterMenuFactory=e.filterMenuFactory,this.ctrlsService=e.ctrlsService,this.animationFrameService=e.animationFrameService,this.filterManager=e.filterManager,this.rowRenderer=e.rowRenderer,this.columnChooserFactory=e.columnChooserFactory,this.contextMenuFactory=e.contextMenuFactory,this.enterpriseMenuFactory=e.enterpriseMenuFactory}postConstruct(){this.activeMenuFactory=this.enterpriseMenuFactory??this.filterMenuFactory}showColumnMenu(e){this.showColumnMenuCommon(this.activeMenuFactory,e,"columnMenu")}showFilterMenu(e){const t=this.enterpriseMenuFactory&&this.isLegacyMenuEnabled()?this.enterpriseMenuFactory:this.filterMenuFactory;this.showColumnMenuCommon(t,e,e.containerType,!0)}showHeaderContextMenu(e,t,i){this.activeMenuFactory.showMenuAfterContextMenuEvent(e,t,i)}getContextMenuPosition(e,t){const i=this.getRowCtrl(e),s=this.getCellGui(i,t);if(!s)return i?{x:0,y:i.getRowYPosition()}:{x:0,y:0};const n=s.getBoundingClientRect();return{x:n.x+n.width/2,y:n.y+n.height/2}}showContextMenu(e){var r;const t=e.rowNode,i=e.column;let{anchorToElement:s,value:n}=e;t&&i&&n==null&&(n=this.valueService.getValueForDisplay(i,t)),s==null&&(s=this.getContextMenuAnchorElement(t,i)),(r=this.contextMenuFactory)==null||r.onContextMenu(e.mouseEvent??null,e.touchEvent??null,t??null,i??null,n,s)}showColumnChooser(e){var t;(t=this.columnChooserFactory)==null||t.showColumnChooser(e)}hidePopupMenu(){var e;(e=this.contextMenuFactory)==null||e.hideActiveMenu(),this.activeMenuFactory.hideActiveMenu()}hideColumnChooser(){var e;(e=this.columnChooserFactory)==null||e.hideActiveColumnChooser()}isColumnMenuInHeaderEnabled(e){const{suppressMenu:t,suppressHeaderMenuButton:i}=e.getColDef();return!(i??t)&&this.activeMenuFactory.isMenuEnabled(e)&&(this.isLegacyMenuEnabled()||!!this.enterpriseMenuFactory)}isFilterMenuInHeaderEnabled(e){var t;return!e.getColDef().suppressHeaderFilterButton&&!!((t=this.filterManager)!=null&&t.isFilterAllowed(e))}isHeaderContextMenuEnabled(e){const t=e&&bl(e)?e.getColDef():e==null?void 0:e.getColGroupDef();return!(t!=null&&t.suppressHeaderContextMenu)&&this.getColumnMenuType()==="new"}isHeaderMenuButtonAlwaysShowEnabled(){return this.isSuppressMenuHide()}isHeaderMenuButtonEnabled(){const e=!this.isSuppressMenuHide();return!(Il()&&e)}isHeaderFilterButtonEnabled(e){return this.isFilterMenuInHeaderEnabled(e)&&!this.isLegacyMenuEnabled()&&!this.isFloatingFilterButtonDisplayed(e)}isFilterMenuItemEnabled(e){var t;return!!((t=this.filterManager)!=null&&t.isFilterAllowed(e))&&!this.isLegacyMenuEnabled()&&!this.isFilterMenuInHeaderEnabled(e)&&!this.isFloatingFilterButtonDisplayed(e)}isColumnMenuAnchoringEnabled(){return!this.isLegacyMenuEnabled()}areAdditionalColumnMenuItemsEnabled(){return this.getColumnMenuType()==="new"}isLegacyMenuEnabled(){return this.getColumnMenuType()==="legacy"}isFloatingFilterButtonEnabled(e){var s;const t=e.getColDef(),i=(s=t.floatingFilterComponentParams)==null?void 0:s.suppressFilterButton;return i!=null&&ae("As of v31.1, 'colDef.floatingFilterComponentParams.suppressFilterButton' is deprecated. Use 'colDef.suppressFloatingFilterButton' instead."),t.suppressFloatingFilterButton==null?!i:!t.suppressFloatingFilterButton}getColumnMenuType(){return this.gos.get("columnMenu")}isFloatingFilterButtonDisplayed(e){return!!e.getColDef().floatingFilter&&this.isFloatingFilterButtonEnabled(e)}isSuppressMenuHide(){const e=this.gos.get("suppressMenuHide");return this.isLegacyMenuEnabled()?this.gos.exists("suppressMenuHide")?e:!1:e}showColumnMenuCommon(e,t,i,s){const{positionBy:n}=t,r=t.column;if(n==="button"){const{buttonElement:o}=t;e.showMenuAfterButtonClick(r,o,i,s)}else if(n==="mouse"){const{mouseEvent:o}=t;e.showMenuAfterMouseEvent(r,o,i,s)}else r&&(this.ctrlsService.getGridBodyCtrl().getScrollFeature().ensureColumnVisible(r,"auto"),this.animationFrameService.requestAnimationFrame(()=>{var a;const o=(a=this.ctrlsService.getHeaderRowContainerCtrl(r.getPinned()))==null?void 0:a.getHeaderCtrlForColumn(r);o&&e.showMenuAfterButtonClick(r,o.getAnchorElementForMenu(s),i,!0)}))}getRowCtrl(e){const{rowIndex:t,rowPinned:i}=e||{};if(t!=null)return this.rowRenderer.getRowByPosition({rowIndex:t,rowPinned:i})||void 0}getCellGui(e,t){if(!e||!t)return;const i=e.getCellCtrl(t);return(i==null?void 0:i.getGui())||void 0}getContextMenuAnchorElement(e,t){const i=this.ctrlsService.getGridBodyCtrl().getGridBodyElement(),s=this.getRowCtrl(e);if(!s)return i;const n=this.getCellGui(s,t);return n||(s.isFullWidth()?s.getFullWidthElement():i)}},vY=class extends Ic{constructor(e){super(e,"ag-text-area",null,"textarea")}setValue(e,t){const i=super.setValue(e,t);return this.eInput.value=e,i}setCols(e){return this.eInput.cols=e,this}setRows(e){return this.eInput.rows=e,this}},yY={selector:"AG-INPUT-TEXT-AREA",component:vY},CY=class extends ch{constructor(){super(`<div class="ag-large-text">
        <ag-input-text-area data-ref="eTextArea" class="ag-large-text-input"></ag-input-text-area>
        </div>`,[yY]),this.eTextArea=Ie}init(e){this.params=e,this.focusAfterAttached=e.cellStartedEdit,this.eTextArea.setMaxLength(e.maxLength||200).setCols(e.cols||60).setRows(e.rows||10),ve(e.value,!0)&&this.eTextArea.setValue(e.value.toString(),!0),this.addGuiEventListener("keydown",this.onKeyDown.bind(this)),this.activateTabIndex()}onKeyDown(e){const t=e.key;(t===te.LEFT||t===te.UP||t===te.RIGHT||t===te.DOWN||e.shiftKey&&t===te.ENTER)&&e.stopPropagation()}afterGuiAttached(){const e=this.localeService.getLocaleTextFunc();this.eTextArea.setInputAriaLabel(e("ariaInputEditor","Input Editor")),this.focusAfterAttached&&this.eTextArea.getFocusableElement().focus()}getValue(){const e=this.eTextArea.getValue();return!ve(e)&&!ve(this.params.value)?this.params.value:this.params.parseValue(e)}},bY=class extends ch{constructor(e){super('<div class="ag-popup-editor" tabindex="-1"/>'),this.params=e}postConstruct(){Yc(this.gos,this.getGui(),"popupEditorWrapper",!0),this.addKeyDownListener()}addKeyDownListener(){const e=this.getGui(),t=this.params,i=s=>{pM(this.gos,s,t.node,t.column,!0)||t.onKeyDown(s)};this.addManagedElementListeners(e,{keydown:i})}},SY=class extends ch{constructor(){super(`<div class="ag-cell-edit-wrapper">
                <ag-select class="ag-cell-editor" data-ref="eSelect"></ag-select>
            </div>`,[K7]),this.eSelect=Ie,this.startedByEnter=!1}wireBeans(e){this.valueService=e.valueService}init(e){this.focusAfterAttached=e.cellStartedEdit;const{eSelect:t,valueService:i,gos:s}=this,{values:n,value:r,eventKey:o}=e;if(rt(n)){ae("no values found for select cellEditor");return}this.startedByEnter=o!=null?o===te.ENTER:!1;let a=!1;n.forEach(p=>{const f={value:p},v=i.formatValue(e.column,null,p),y=v!=null;f.text=y?v:p,t.addOption(f),a=a||r===p}),a?t.setValue(e.value,!0):e.values.length&&t.setValue(e.values[0],!0);const{valueListGap:l,valueListMaxWidth:d,valueListMaxHeight:h}=e;l!=null&&t.setPickerGap(l),h!=null&&t.setPickerMaxHeight(h),d!=null&&t.setPickerMaxWidth(d),s.get("editType")!=="fullRow"&&this.addManagedListeners(this.eSelect,{selectedItem:()=>e.stopEditing()})}afterGuiAttached(){this.focusAfterAttached&&this.eSelect.getFocusableElement().focus(),this.startedByEnter&&setTimeout(()=>{this.isAlive()&&this.eSelect.showPicker()})}focusIn(){this.eSelect.getFocusableElement().focus()}getValue(){return this.eSelect.getValue()}isPopup(){return!1}},DC=class extends ch{constructor(e){super(`
            <div class="ag-cell-edit-wrapper">
                ${e.getTemplate()}
            </div>`,e.getAgComponents()),this.cellEditorInput=e,this.eInput=Ie}init(e){this.params=e;const{cellStartedEdit:t,eventKey:i,suppressPreventDefault:s}=e,n=this.eInput;this.cellEditorInput.init(n,e);let r,o=!0;t?(this.focusAfterAttached=!0,i===te.BACKSPACE||i===te.DELETE?r="":i&&i.length===1?s?o=!1:r=i:(r=this.cellEditorInput.getStartValue(),i!==te.F2&&(this.highlightAllOnFocus=!0))):(this.focusAfterAttached=!1,r=this.cellEditorInput.getStartValue()),o&&r!=null&&n.setStartValue(r),this.addManagedElementListeners(n.getGui(),{keydown:a=>{const{key:l}=a;(l===te.PAGE_UP||l===te.PAGE_DOWN)&&a.preventDefault()}})}afterGuiAttached(){var s,n;const e=this.localeService.getLocaleTextFunc(),t=this.eInput;if(t.setInputAriaLabel(e("ariaInputEditor","Input Editor")),!this.focusAfterAttached)return;uo()||t.getFocusableElement().focus();const i=t.getInputElement();this.highlightAllOnFocus?i.select():(n=(s=this.cellEditorInput).setCaret)==null||n.call(s)}focusIn(){const e=this.eInput,t=e.getFocusableElement(),i=e.getInputElement();t.focus(),i.select()}getValue(){return this.cellEditorInput.getValue()}isPopup(){return!1}},wY=class{getTemplate(){return'<ag-input-text-field class="ag-cell-editor" data-ref="eInput"></ag-input-text-field>'}getAgComponents(){return[xC]}init(e,t){this.eInput=e,this.params=t,t.maxLength!=null&&e.setMaxLength(t.maxLength)}getValue(){const e=this.eInput.getValue();return!ve(e)&&!ve(this.params.value)?this.params.value:this.params.parseValue(e)}getStartValue(){return this.params.useFormatter||this.params.column.getColDef().refData?this.params.formatValue(this.params.value):this.params.value}setCaret(){const e=this.eInput.getValue(),t=ve(e)&&e.length||0;t&&this.eInput.getInputElement().setSelectionRange(t,t)}},YN=class extends DC{constructor(){super(new wY)}},xY=class{getTemplate(){return'<ag-input-number-field class="ag-cell-editor" data-ref="eInput"></ag-input-number-field>'}getAgComponents(){return[n9]}init(e,t){this.eInput=e,this.params=t,t.max!=null&&e.setMax(t.max),t.min!=null&&e.setMin(t.min),t.precision!=null&&e.setPrecision(t.precision),t.step!=null&&e.setStep(t.step);const i=e.getInputElement();t.preventStepping?e.addManagedElementListeners(i,{keydown:this.preventStepping}):t.showStepperButtons&&i.classList.add("ag-number-field-input-stepper")}preventStepping(e){(e.key===te.UP||e.key===te.DOWN)&&e.preventDefault()}getValue(){const e=this.eInput.getValue();if(!ve(e)&&!ve(this.params.value))return this.params.value;let t=this.params.parseValue(e);if(t==null)return t;if(typeof t=="string"){if(t==="")return null;t=Number(t)}return isNaN(t)?null:t}getStartValue(){return this.params.value}setCaret(){uo()&&this.eInput.getInputElement().focus({preventScroll:!0})}},MY=class extends DC{constructor(){super(new xY)}},DY=class extends ru{constructor(e){super(e,"ag-date-field","date")}postConstruct(){super.postConstruct();const e=uo();this.addManagedListeners(this.eInput,{wheel:this.onWheel.bind(this),mousedown:()=>{this.isDisabled()||e||this.eInput.focus()}}),this.eInput.step="any"}onWheel(e){ui(this.gos)===this.eInput&&e.preventDefault()}setMin(e){const t=e instanceof Date?nr(e??null,!1)??void 0:e;return this.min===t?this:(this.min=t,sr(this.eInput,"min",t),this)}setMax(e){const t=e instanceof Date?nr(e??null,!1)??void 0:e;return this.max===t?this:(this.max=t,sr(this.eInput,"max",t),this)}setStep(e){return this.step===e?this:(this.step=e,sr(this.eInput,"step",e),this)}getDate(){if(this.eInput.validity.valid)return sn(this.getValue())??void 0}setDate(e,t){this.setValue(nr(e??null,!1),t)}},KN={selector:"AG-INPUT-DATE-FIELD",component:DY},RY=class{getTemplate(){return'<ag-input-date-field class="ag-cell-editor" data-ref="eInput"></ag-input-date-field>'}getAgComponents(){return[KN]}init(e,t){this.eInput=e,this.params=t,t.min!=null&&e.setMin(t.min),t.max!=null&&e.setMax(t.max),t.step!=null&&e.setStep(t.step)}getValue(){const e=this.eInput.getDate();return!ve(e)&&!ve(this.params.value)?this.params.value:e??null}getStartValue(){const{value:e}=this.params;if(e instanceof Date)return nr(e,!1)}},EY=class extends DC{constructor(){super(new RY)}},AY=class{constructor(e){this.getDataTypeService=e}getTemplate(){return'<ag-input-date-field class="ag-cell-editor" data-ref="eInput"></ag-input-date-field>'}getAgComponents(){return[KN]}init(e,t){this.eInput=e,this.params=t,t.min!=null&&e.setMin(t.min),t.max!=null&&e.setMax(t.max),t.step!=null&&e.setStep(t.step)}getValue(){const e=this.formatDate(this.eInput.getDate());return!ve(e)&&!ve(this.params.value)?this.params.value:this.params.parseValue(e??"")}getStartValue(){return nr(this.parseDate(this.params.value??void 0)??null,!1)}parseDate(e){const t=this.getDataTypeService();return t?t.getDateParserFunction(this.params.column)(e):sn(e)??void 0}formatDate(e){const t=this.getDataTypeService();return t?t.getDateFormatterFunction(this.params.column)(e):nr(e??null,!1)??void 0}},TY=class extends DC{wireBeans(e){this.dataTypeService=e.dataTypeService}constructor(){super(new AY(()=>this.dataTypeService))}},IY=class extends ch{constructor(){super(`
            <div class="ag-cell-wrapper ag-cell-edit-wrapper ag-checkbox-edit">
                <ag-checkbox role="presentation" data-ref="eCheckbox"></ag-checkbox>
            </div>`,[VD]),this.eCheckbox=Ie}init(e){this.params=e;const t=e.value??void 0;this.eCheckbox.setValue(t),this.eCheckbox.getInputElement().setAttribute("tabindex","-1"),this.setAriaLabel(t),this.addManagedListeners(this.eCheckbox,{fieldValueChanged:s=>this.setAriaLabel(s.selected)})}getValue(){return this.eCheckbox.getValue()}focusIn(){this.eCheckbox.getFocusableElement().focus()}afterGuiAttached(){this.params.cellStartedEdit&&this.focusIn()}isPopup(){return!1}setAriaLabel(e){const t=this.localeService.getLocaleTextFunc(),i=PD(t,e),s=t("ariaToggleCellValue","Press SPACE to toggle cell value");this.eCheckbox.setInputAriaLabel(`${s} (${i})`)}},Zg=class{constructor(e){this.cellValueChanges=e}},S0=class extends Zg{constructor(e,t,i,s){super(e),this.initialRange=t,this.finalRange=i,this.ranges=s}},LY=10,Dk=class{constructor(e){this.actionStack=[],this.maxStackSize=e||LY,this.actionStack=new Array(this.maxStackSize)}pop(){return this.actionStack.pop()}push(e){e.cellValueChanges&&e.cellValueChanges.length>0&&(this.actionStack.length===this.maxStackSize&&this.actionStack.shift(),this.actionStack.push(e))}clear(){this.actionStack=[]}getCurrentStackSize(){return this.actionStack.length}},kY=class extends re{constructor(){super(...arguments),this.beanName="undoRedoService",this.cellValueChanges=[],this.activeCellEdit=null,this.activeRowEdit=null,this.isPasting=!1,this.isRangeInAction=!1,this.onCellValueChanged=e=>{const t={column:e.column,rowIndex:e.rowIndex,rowPinned:e.rowPinned},i=this.activeCellEdit!==null&&this.cellPositionUtils.equals(this.activeCellEdit,t),s=this.activeRowEdit!==null&&this.rowPositionUtils.sameRow(this.activeRowEdit,t);if(!(i||s||this.isPasting||this.isRangeInAction))return;const{rowPinned:r,rowIndex:o,column:a,oldValue:l,value:d}=e,h={rowPinned:r,rowIndex:o,columnId:a.getColId(),newValue:d,oldValue:l};this.cellValueChanges.push(h)},this.clearStacks=()=>{this.undoStack.clear(),this.redoStack.clear()}}wireBeans(e){this.focusService=e.focusService,this.ctrlsService=e.ctrlsService,this.cellPositionUtils=e.cellPositionUtils,this.rowPositionUtils=e.rowPositionUtils,this.columnModel=e.columnModel,this.rangeService=e.rangeService}postConstruct(){if(!this.gos.get("undoRedoCellEditing"))return;const e=this.gos.get("undoRedoCellEditingLimit");if(e<=0)return;this.undoStack=new Dk(e),this.redoStack=new Dk(e),this.addListeners();const t=this.clearStacks.bind(this);this.addManagedEventListeners({cellValueChanged:this.onCellValueChanged.bind(this),modelUpdated:i=>{i.keepUndoRedoStack||this.clearStacks()},columnPivotModeChanged:t,newColumnsLoaded:t,columnGroupOpened:t,columnRowGroupChanged:t,columnMoved:t,columnPinned:t,columnVisible:t,rowDragEnd:t}),this.ctrlsService.whenReady(this,i=>{this.gridBodyCtrl=i.gridBodyCtrl})}getCurrentUndoStackSize(){return this.undoStack?this.undoStack.getCurrentStackSize():0}getCurrentRedoStackSize(){return this.redoStack?this.redoStack.getCurrentStackSize():0}undo(e){this.eventService.dispatchEvent({type:"undoStarted",source:e});const t=this.undoRedo(this.undoStack,this.redoStack,"initialRange","oldValue","undo");this.eventService.dispatchEvent({type:"undoEnded",source:e,operationPerformed:t})}redo(e){this.eventService.dispatchEvent({type:"redoStarted",source:e});const t=this.undoRedo(this.redoStack,this.undoStack,"finalRange","newValue","redo");this.eventService.dispatchEvent({type:"redoEnded",source:e,operationPerformed:t})}undoRedo(e,t,i,s,n){if(!e)return!1;const r=e.pop();return!r||!r.cellValueChanges?!1:(this.processAction(r,o=>o[s],n),r instanceof S0?this.processRange(this.rangeService,r.ranges||[r[i]]):this.processCell(r.cellValueChanges),t.push(r),!0)}processAction(e,t,i){e.cellValueChanges.forEach(s=>{const{rowIndex:n,rowPinned:r,columnId:o}=s,a={rowIndex:n,rowPinned:r},l=this.rowPositionUtils.getRowNode(a);l.displayed&&l.setDataValue(o,t(s),i)})}processRange(e,t){let i;e.removeAllCellRanges(!0),t.forEach((s,n)=>{if(!s)return;const r=s.startRow,o=s.endRow;n===t.length-1&&(i={rowPinned:r.rowPinned,rowIndex:r.rowIndex,columnId:s.startColumn.getColId()},this.setLastFocusedCell(i));const a={rowStartIndex:r.rowIndex,rowStartPinned:r.rowPinned,rowEndIndex:o.rowIndex,rowEndPinned:o.rowPinned,columnStart:s.startColumn,columns:s.columns};e.addCellRange(a)})}processCell(e){const t=e[0],{rowIndex:i,rowPinned:s}=t,n={rowIndex:i,rowPinned:s},r=this.rowPositionUtils.getRowNode(n),o={rowPinned:t.rowPinned,rowIndex:r.rowIndex,columnId:t.columnId};this.setLastFocusedCell(o,this.rangeService)}setLastFocusedCell(e,t){const{rowIndex:i,columnId:s,rowPinned:n}=e,r=this.gridBodyCtrl.getScrollFeature(),o=this.columnModel.getCol(s);if(!o)return;r.ensureIndexVisible(i),r.ensureColumnVisible(o);const a={rowIndex:i,column:o,rowPinned:n};this.focusService.setFocusedCell({...a,forceBrowserFocus:!0}),t==null||t.setRangeToCell(a)}addListeners(){this.addManagedEventListeners({rowEditingStarted:e=>{this.activeRowEdit={rowIndex:e.rowIndex,rowPinned:e.rowPinned}},rowEditingStopped:()=>{const e=new Zg(this.cellValueChanges);this.pushActionsToUndoStack(e),this.activeRowEdit=null},cellEditingStarted:e=>{this.activeCellEdit={column:e.column,rowIndex:e.rowIndex,rowPinned:e.rowPinned}},cellEditingStopped:e=>{if(this.activeCellEdit=null,e.valueChanged&&!this.activeRowEdit&&!this.isPasting&&!this.isRangeInAction){const i=new Zg(this.cellValueChanges);this.pushActionsToUndoStack(i)}},pasteStart:()=>{this.isPasting=!0},pasteEnd:()=>{const e=new Zg(this.cellValueChanges);this.pushActionsToUndoStack(e),this.isPasting=!1},fillStart:()=>{this.isRangeInAction=!0},fillEnd:e=>{const t=new S0(this.cellValueChanges,e.initialRange,e.finalRange);this.pushActionsToUndoStack(t),this.isRangeInAction=!1},keyShortcutChangedCellStart:()=>{this.isRangeInAction=!0},keyShortcutChangedCellEnd:()=>{let e;this.rangeService&&la(this.gos)?e=new S0(this.cellValueChanges,void 0,void 0,[...this.rangeService.getCellRanges()]):e=new Zg(this.cellValueChanges),this.pushActionsToUndoStack(e),this.isRangeInAction=!1}})}pushActionsToUndoStack(e){this.undoStack.push(e),this.cellValueChanges=[],this.redoStack.clear()}};function PY(e){return e.ctrlsService.getGridBodyCtrl().getScrollFeature().getVScrollPosition()}function OY(e){return e.ctrlsService.getGridBodyCtrl().getScrollFeature().getHScrollPosition()}function qN(e,t,i="auto"){e.frameworkOverrides.wrapIncoming(()=>e.ctrlsService.getGridBodyCtrl().getScrollFeature().ensureColumnVisible(t,i),"ensureVisible")}function ZN(e,t,i){e.frameworkOverrides.wrapIncoming(()=>e.ctrlsService.getGridBodyCtrl().getScrollFeature().ensureIndexVisible(t,i),"ensureVisible")}function FY(e,t,i=null){e.frameworkOverrides.wrapIncoming(()=>e.ctrlsService.getGridBodyCtrl().getScrollFeature().ensureNodeVisible(t,i),"ensureVisible")}function NY(e){var t;(t=e.undoRedoService)==null||t.undo("api")}function zY(e){var t;(t=e.undoRedoService)==null||t.redo("api")}function BY(e,t={}){return e.rowRenderer.getCellEditorInstances(t).map(lp)}function GY(e){return e.rowRenderer.getEditingCells()}function HY(e,t=!1){e.rowRenderer.stopEditing(t)}function jY(e,t){const i=e.columnModel.getCol(t.colKey);if(!i){ae(`no column found for ${t.colKey}`);return}const s={rowIndex:t.rowIndex,rowPinned:t.rowPinned||null,column:i};t.rowPinned==null&&ZN(e,t.rowIndex),qN(e,t.colKey);const r=e.navigationService.getCellByPosition(s);if(!r)return;const{focusService:o,gos:a}=e,l=()=>{const h=ui(a),p=r.getGui();return h!==p&&!!(p!=null&&p.contains(h))},d=a.get("stopEditingWhenCellsLoseFocus")&&l();(d||!o.isCellFocused(s))&&o.setFocusedCell({...s,forceBrowserFocus:d,preventScrollOnBrowserFocus:!0}),r.startRowOrCellEdit(t.key)}function VY(e){var t;return((t=e.undoRedoService)==null?void 0:t.getCurrentUndoStackSize())??0}function _Y(e){var t;return((t=e.undoRedoService)==null?void 0:t.getCurrentRedoStackSize())??0}var WY=class extends re{constructor(){super(...arguments),this.beanName="editService"}wireBeans(e){this.navigationService=e.navigationService,this.userComponentFactory=e.userComponentFactory,this.valueService=e.valueService}startEditing(e,t=null,i=!1,s=null){var d;const n=this.createCellEditorParams(e,t,i),r=e.getColumn().getColDef(),o=this.userComponentFactory.getCellEditorDetails(r,n),a=(o==null?void 0:o.popupFromSelector)!=null?o.popupFromSelector:!!r.cellEditorPopup,l=(o==null?void 0:o.popupPositionFromSelector)!=null?o.popupPositionFromSelector:r.cellEditorPopupPosition;return e.setEditing(!0,o),e.getComp().setEditDetails(o,a,l,this.gos.get("reactiveCustomComponents")),this.eventService.dispatchEvent(e.createEvent(s,"cellEditingStarted")),!((d=o==null?void 0:o.params)!=null&&d.suppressPreventDefault)}stopEditing(e,t){const i=e.getComp(),{newValue:s,newValueExists:n}=this.takeValueFromCellEditor(t,i),r=e.getRowNode(),o=e.getColumn(),a=this.valueService.getValueForDisplay(o,r);let l=!1;return n&&(l=this.saveNewValue(e,a,s,r,o)),e.setEditing(!1,void 0),i.setEditDetails(),e.updateAndFormatValue(!1),e.refreshCell({forceRefresh:!0,suppressFlash:!0}),this.eventService.dispatchEvent({...e.createEvent(null,"cellEditingStopped"),oldValue:a,newValue:s,valueChanged:l}),l}handleColDefChanged(e){const t=e.getCellEditor();if(t!=null&&t.refresh){const{eventKey:i,cellStartedEdit:s}=e.getEditCompDetails().params,n=this.createCellEditorParams(e,i,s),r=e.getColumn().getColDef(),o=this.userComponentFactory.getCellEditorDetails(r,n);t.refresh(o.params)}}setFocusOutOnEditor(e){const t=e.getComp().getCellEditor();t&&t.focusOut&&t.focusOut()}setFocusInOnEditor(e){const t=e.getComp(),i=t.getCellEditor();i!=null&&i.focusIn?i.focusIn():(e.focusCell(!0),e.onCellEditorAttached(()=>{var s,n;return(n=(s=t.getCellEditor())==null?void 0:s.focusIn)==null?void 0:n.call(s)}))}stopEditingAndFocus(e,t=!1,i=!1){e.stopRowOrCellEdit(),e.focusCell(!0),t||this.navigateAfterEdit(i,e.getCellPosition())}createPopupEditorWrapper(e){return new bY(e)}takeValueFromCellEditor(e,t){const i={newValueExists:!1};if(e)return i;const s=t.getCellEditor();return!s||s.isCancelAfterEnd&&s.isCancelAfterEnd()?i:{newValue:s.getValue(),newValueExists:!0}}saveNewValue(e,t,i,s,n){if(i===t)return!1;e.setSuppressRefreshCell(!0);const r=s.setDataValue(n,i,"edit");return e.setSuppressRefreshCell(!1),r}createCellEditorParams(e,t,i){const s=e.getColumn(),n=e.getRowNode();return this.gos.addGridCommonParams({value:this.valueService.getValueForDisplay(s,n),eventKey:t,column:s,colDef:s.getColDef(),rowIndex:e.getCellPosition().rowIndex,node:n,data:n.data,cellStartedEdit:i,onKeyDown:e.onKeyDown.bind(e),stopEditing:e.stopEditingAndFocus.bind(e),eGridCell:e.getGui(),parseValue:r=>this.valueService.parseValue(s,n,r,e.getValue()),formatValue:e.formatValue.bind(e)})}navigateAfterEdit(e,t){if(this.gos.get("enterNavigatesVerticallyAfterEdit")){const s=e?te.UP:te.DOWN;this.navigationService.navigateToNextCell(null,s,t,!1)}}},UY=class extends re{constructor(){super(...arguments),this.beanName="rowEditService"}startEditing(e,t=null,i=null,s=null){let n=!0;return e.getAllCellCtrls().reduce((o,a)=>{const l=a===i;return l?n=a.startEditing(t,l,s):a.startEditing(null,l,s),o?!0:a.isEditing()},!1)&&this.setEditing(e,!0),n}stopEditing(e,t=!1){const i=e.getAllCellCtrls(),s=e.isEditing();e.setStoppingRowEdit(!0);let n=!1;for(const r of i){const o=r.stopEditing(t);s&&!t&&!n&&o&&(n=!0)}n&&this.eventService.dispatchEvent(e.createRowEvent("rowValueChanged")),s&&this.setEditing(e,!1),e.setStoppingRowEdit(!1)}setEditing(e,t){e.setEditingRow(t),e.forEachGui(void 0,s=>s.rowComp.addOrRemoveCssClass("ag-row-editing",t));const i=t?e.createRowEvent("rowEditingStarted"):e.createRowEvent("rowEditingStopped");this.eventService.dispatchEvent(i)}},ou={version:Oe,moduleName:"@ag-grid-community/edit-core",beans:[WY]},$Y={version:Oe,moduleName:"@ag-grid-community/edit-api",apiFunctions:{undoCellEditing:NY,redoCellEditing:zY,getCellEditorInstances:BY,getEditingCells:GY,stopEditing:HY,startEditingCell:jY,getCurrentUndoSize:VY,getCurrentRedoSize:_Y},dependantModules:[ou]},YY={version:Oe,moduleName:"@ag-grid-community/undo-redo-edit",beans:[kY],dependantModules:[ou]},KY={version:Oe,moduleName:"@ag-grid-community/full-row-edit",beans:[UY],dependantModules:[ou]},XN={version:Oe,moduleName:"@ag-grid-community/default-editor",userComponents:[{name:"agCellEditor",classImp:YN}],dependantModules:[ou]},qY={version:Oe,moduleName:"@ag-grid-community/data-type-editors",userComponents:[{name:"agTextCellEditor",classImp:YN},{name:"agNumberCellEditor",classImp:MY,params:{suppressPreventDefault:!0}},{name:"agDateCellEditor",classImp:EY},{name:"agDateStringCellEditor",classImp:TY},{name:"agCheckboxCellEditor",classImp:IY}],dependantModules:[XN]},ZY={version:Oe,moduleName:"@ag-grid-community/select-editor",userComponents:[{name:"agSelectCellEditor",classImp:SY}],dependantModules:[ou]},XY={version:Oe,moduleName:"@ag-grid-community/large-text-editor",userComponents:[{name:"agLargeTextCellEditor",classImp:CY}],dependantModules:[ou]},QY={version:Oe,moduleName:"@ag-grid-community/all-editors",dependantModules:[XN,qY,ZY,XY]},JY={version:Oe,moduleName:"@ag-grid-community/editing",dependantModules:[ou,YY,KY,QY,$Y]},eK=class extends re{constructor(){super(...arguments),this.beanName="autoWidthCalculator"}wireBeans(e){this.rowRenderer=e.rowRenderer,this.ctrlsService=e.ctrlsService}postConstruct(){this.ctrlsService.whenReady(this,e=>{this.centerRowContainerCtrl=e.center})}getPreferredWidthForColumn(e,t){const i=this.getHeaderCellForColumn(e);if(!i)return-1;const s=this.rowRenderer.getAllCellsForColumn(e);return t||s.push(i),this.addElementsToContainerAndGetWidth(s)}getPreferredWidthForColumnGroup(e){const t=this.getHeaderCellForColumn(e);return t?this.addElementsToContainerAndGetWidth([t]):-1}addElementsToContainerAndGetWidth(e){const t=document.createElement("form");t.style.position="fixed";const i=this.centerRowContainerCtrl.getContainerElement();e.forEach(r=>this.cloneItemIntoDummy(r,t)),i.appendChild(t);const s=t.offsetWidth;i.removeChild(t);const n=this.getAutoSizePadding();return s+n}getAutoSizePadding(){return this.gos.get("autoSizePadding")}getHeaderCellForColumn(e){let t=null;return this.ctrlsService.getHeaderRowContainerCtrls().forEach(i=>{const s=i.getHtmlElementForColumnHeader(e);s!=null&&(t=s)}),t}cloneItemIntoDummy(e,t){const i=e.cloneNode(!0);i.style.width="",i.style.position="static",i.style.left="";const s=document.createElement("div"),n=s.classList;["ag-header-cell","ag-header-group-cell"].some(a=>i.classList.contains(a))?(n.add("ag-header","ag-header-row"),s.style.position="static"):n.add("ag-row");let o=e.parentElement;for(;o;){if(["ag-header-row","ag-row"].some(l=>o.classList.contains(l))){for(let l=0;l<o.classList.length;l++){const d=o.classList[l];d!="ag-row-position-absolute"&&n.add(d)}break}o=o.parentElement}s.appendChild(i),t.appendChild(s)}},tK=class extends re{constructor(e,t){super(),this.createRowCon=e,this.destroyRowCtrls=t,this.stickyTopRowCtrls=[],this.stickyBottomRowCtrls=[],this.extraTopHeight=0,this.extraBottomHeight=0}wireBeans(e){this.rowModel=e.rowModel,this.rowRenderer=e.rowRenderer,this.ctrlsService=e.ctrlsService,this.pageBoundsService=e.pageBoundsService}postConstruct(){this.isClientSide=Ut(this.gos),this.ctrlsService.whenReady(this,e=>{this.gridBodyCtrl=e.gridBodyCtrl}),this.resetStickyContainers()}getStickyTopRowCtrls(){return this.stickyTopRowCtrls}getStickyBottomRowCtrls(){return this.stickyBottomRowCtrls}setOffsetTop(e){this.extraTopHeight!==e&&(this.extraTopHeight=e,this.eventService.dispatchEvent({type:"stickyTopOffsetChanged",offset:e}))}setOffsetBottom(e){this.extraBottomHeight!==e&&(this.extraBottomHeight=e)}resetOffsets(){this.setOffsetBottom(0),this.setOffsetTop(0)}getExtraTopHeight(){return this.extraTopHeight}getExtraBottomHeight(){return this.extraBottomHeight}getLastPixelOfGroup(e){return this.isClientSide?this.getClientSideLastPixelOfGroup(e):this.getServerSideLastPixelOfGroup(e)}getFirstPixelOfGroup(e){return e.footer?e.sibling.rowTop+e.sibling.rowHeight-1:e.hasChildren()?e.rowTop-1:0}getServerSideLastPixelOfGroup(e){var t,i;if(this.isClientSide)throw new Error("This func should only be called in server side row model.");if(e.isExpandable()||e.footer){if(e.master)return e.detailNode.rowTop+e.detailNode.rowHeight;if(!e.sibling||Math.abs(e.sibling.rowIndex-e.rowIndex)===1){let n=(t=e.childStore)==null?void 0:t.getStoreBounds();return e.footer&&(n=(i=e.sibling.childStore)==null?void 0:i.getStoreBounds()),((n==null?void 0:n.heightPx)??0)+((n==null?void 0:n.topPx)??0)}return e.footer?e.rowTop+e.rowHeight:e.sibling.rowTop+e.sibling.rowHeight}return Number.MAX_SAFE_INTEGER}getClientSideLastPixelOfGroup(e){if(!this.isClientSide)throw new Error("This func should only be called in client side row model.");if(e.isExpandable()||e.footer){if(e.footer&&e.rowIndex===0)return Number.MAX_SAFE_INTEGER;if(!e.sibling||Math.abs(e.sibling.rowIndex-e.rowIndex)===1){let s=e.footer?e.sibling:e;for(;s.isExpandable()&&s.expanded;)if(s.master)s=s.detailNode;else if(s.childrenAfterSort){if(s.childrenAfterSort.length===0)break;s=nt(s.childrenAfterSort)}return s.rowTop+s.rowHeight}return e.footer?e.rowTop+e.rowHeight:e.sibling.rowTop+e.sibling.rowHeight}return Number.MAX_SAFE_INTEGER}updateStickyRows(e){const t=e==="top";let i=0;if(!this.canRowsBeSticky())return this.refreshNodesAndContainerHeight(e,new Set,i);const s=t?this.rowRenderer.getFirstVisibleVerticalPixel()-this.extraTopHeight:this.rowRenderer.getLastVisibleVerticalPixel()-this.extraTopHeight,n=new Set,r=d=>{if(n.add(d),t){const h=this.getLastPixelOfGroup(d),p=s+i+d.rowHeight;h<p?d.stickyRowTop=i+(h-p):d.stickyRowTop=i}else{const h=this.getFirstPixelOfGroup(d),p=s-(i+d.rowHeight);h>p?d.stickyRowTop=i-(h-p):d.stickyRowTop=i}i=0,n.forEach(h=>{const p=h.stickyRowTop+h.rowHeight;i<p&&(i=p)})},o=this.areFooterRowsStickySuppressed(),a=this.gos.get("suppressGroupRowsSticky"),l=d=>{if(!d.displayed)return!1;if(d.footer){if(o===!0||o==="grand"&&d.level===-1||o==="group"&&d.level>-1)return!1;const h=d.sibling.rowIndex?d.sibling.rowIndex+1===d.rowIndex:!1;return e==="bottom"&&h?!1:!n.has(d)}return d.isExpandable()?a===!0||e==="bottom"?!1:!n.has(d)&&d.expanded:!1};for(let d=0;d<100;d++){let h=s+i;t||(h=s-i);const p=this.rowModel.getRowIndexAtPixel(h),f=this.rowModel.getRow(p);if(f==null)break;const y=this.getStickyAncestors(f).find(w=>(t?w.rowIndex<p:w.rowIndex>p)&&l(w));if(y){r(y);continue}if((t?f.rowTop<h:f.rowTop+f.rowHeight>h)&&l(f)){r(f);continue}break}return t||n.forEach(d=>{d.stickyRowTop=i-(d.stickyRowTop+d.rowHeight)}),this.refreshNodesAndContainerHeight(e,n,i)}areFooterRowsStickySuppressed(){const e=this.gos.get("suppressStickyTotalRow");if(e===!0)return!0;const t=!!this.gos.get("groupIncludeFooter")||e==="group",i=!!this.gos.get("groupIncludeTotalFooter")||e==="grand";return t&&i?!0:i?"grand":t?"group":!1}canRowsBeSticky(){const e=CC(this.gos),t=this.areFooterRowsStickySuppressed(),i=this.gos.get("suppressGroupRowsSticky");return e&&(!t||!i)}getStickyAncestors(e){const t=[];let i=e.footer?e.sibling:e.parent;for(;i;)i.sibling&&t.push(i.sibling),t.push(i),i=i.parent;return t.reverse()}checkStickyRows(){const e=this.updateStickyRows("top"),t=this.updateStickyRows("bottom");return e||t}destroyStickyCtrls(){this.resetStickyContainers()}resetStickyContainers(){this.refreshNodesAndContainerHeight("top",new Set,0),this.refreshNodesAndContainerHeight("bottom",new Set,0)}refreshStickyNode(e){const t=new Set;if(this.stickyTopRowCtrls.some(i=>i.getRowNode()===e)){for(let i=0;i<this.stickyTopRowCtrls.length;i++){const s=this.stickyTopRowCtrls[i].getRowNode();s!==e&&t.add(s)}this.refreshNodesAndContainerHeight("top",t,this.topContainerHeight)&&this.checkStickyRows();return}for(let i=0;i<this.stickyBottomRowCtrls.length;i++){const s=this.stickyBottomRowCtrls[i].getRowNode();s!==e&&t.add(s)}this.refreshNodesAndContainerHeight("bottom",t,this.bottomContainerHeight)&&this.checkStickyRows()}refreshNodesAndContainerHeight(e,t,i){const s=e==="top",n=s?this.stickyTopRowCtrls:this.stickyBottomRowCtrls,r={},o=[];for(let f=0;f<n.length;f++){const v=n[f].getRowNode();if(!t.has(v)){r[v.id]=n[f],v.sticky=!1;continue}o.push(n[f])}const a=new Set;for(let f=0;f<o.length;f++)a.add(o[f].getRowNode());const l=[];t.forEach(f=>{a.has(f)||(f.sticky=!0,l.push(this.createRowCon(f,!1,!1)))});let d=!!l.length||o.length!==n.length;s?this.topContainerHeight!==i&&(this.topContainerHeight=i,this.gridBodyCtrl.setStickyTopHeight(i),d=!0):this.bottomContainerHeight!==i&&(this.bottomContainerHeight=i,this.gridBodyCtrl.setStickyBottomHeight(i),d=!0),this.destroyRowCtrls(r,!1);const h=[...o,...l];h.sort((f,v)=>v.getRowNode().rowIndex-f.getRowNode().rowIndex),s||h.reverse(),h.forEach(f=>f.setRowTop(f.getRowNode().stickyRowTop));let p=0;return s?(t.forEach(f=>{f.rowIndex<this.pageBoundsService.getFirstRow()&&(p+=f.rowHeight)}),p>this.topContainerHeight&&(p=this.topContainerHeight),this.setOffsetTop(p)):(t.forEach(f=>{f.rowIndex>this.pageBoundsService.getLastRow()&&(p+=f.rowHeight)}),p>this.bottomContainerHeight&&(p=this.bottomContainerHeight),this.setOffsetBottom(p)),d?(s?this.stickyTopRowCtrls=h:this.stickyBottomRowCtrls=h,!0):!1}ensureRowHeightsValid(){let e=!1;const t=i=>{const s=i.getRowNode();if(s.rowHeightEstimated){const n=Cl(this.gos,s);s.setRowHeight(n.height),e=!0}};return this.stickyTopRowCtrls.forEach(t),this.stickyBottomRowCtrls.forEach(t),e}},iK=class extends re{constructor(){super(...arguments),this.beanName="rowRenderer",this.destroyFuncsForColumnListeners=[],this.rowCtrlsByRowIndex={},this.zombieRowCtrls={},this.allRowCtrls=[],this.topRowCtrls=[],this.bottomRowCtrls=[],this.refreshInProgress=!1,this.dataFirstRenderedFired=!1,this.setupRangeSelectionListeners=()=>{const e=()=>{this.getAllCellCtrls().forEach(r=>r.onCellSelectionChanged())},t=()=>{this.getAllCellCtrls().forEach(r=>r.updateRangeBordersIfRangeCount())},i=()=>{this.eventService.addEventListener("cellSelectionChanged",e),this.eventService.addEventListener("columnMoved",t),this.eventService.addEventListener("columnPinned",t),this.eventService.addEventListener("columnVisible",t)},s=()=>{this.eventService.removeEventListener("cellSelectionChanged",e),this.eventService.removeEventListener("columnMoved",t),this.eventService.removeEventListener("columnPinned",t),this.eventService.removeEventListener("columnVisible",t)};this.addDestroyFunc(()=>s()),this.addManagedPropertyListeners(["enableRangeSelection","cellSelection"],()=>{la(this.gos)?i():s()}),la(this.gos)&&i()}}wireBeans(e){this.animationFrameService=e.animationFrameService,this.paginationService=e.paginationService,this.pageBoundsService=e.pageBoundsService,this.columnModel=e.columnModel,this.visibleColsService=e.visibleColsService,this.pinnedRowModel=e.pinnedRowModel,this.rowModel=e.rowModel,this.focusService=e.focusService,this.beans=e,this.rowContainerHeightService=e.rowContainerHeightService,this.ctrlsService=e.ctrlsService,this.environment=e.environment}postConstruct(){this.ctrlsService.whenReady(this,e=>{this.gridBodyCtrl=e.gridBodyCtrl,this.initialise()})}initialise(){this.addManagedEventListeners({paginationChanged:this.onPageLoaded.bind(this),pinnedRowDataChanged:this.onPinnedRowDataChanged.bind(this),displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this),bodyScroll:this.onBodyScroll.bind(this),bodyHeightChanged:this.redraw.bind(this,{})}),this.addManagedPropertyListeners(["domLayout","embedFullWidthRows"],()=>this.onDomLayoutChanged()),this.addManagedPropertyListeners(["suppressMaxRenderedRowRestriction","rowBuffer"],()=>this.redraw()),this.addManagedPropertyListener("suppressCellFocus",e=>this.onSuppressCellFocusChanged(e.currentValue)),this.addManagedPropertyListeners(["groupSuppressBlankHeader","getBusinessKeyForNode","fullWidthCellRenderer","fullWidthCellRendererParams","suppressStickyTotalRow","groupRowRenderer","groupRowRendererParams","loadingCellRenderer","loadingCellRendererParams","detailCellRenderer","detailCellRendererParams","enableRangeSelection","enableCellTextSelection","rowSelection"],()=>this.redrawRows()),CC(this.gos)&&(Ut(this.gos)||wo(this.gos))&&(this.stickyRowFeature=this.createManagedBean(new tK(this.createRowCon.bind(this),this.destroyRowCtrls.bind(this)))),this.registerCellEventListeners(),this.initialiseCache(),this.printLayout=ys(this.gos,"print"),this.embedFullWidthRows=this.printLayout||this.gos.get("embedFullWidthRows"),this.redrawAfterModelUpdate()}initialiseCache(){if(this.gos.get("keepDetailRows")){const e=this.getKeepDetailRowsCount(),t=e??3;this.cachedRowCtrls=new sK(t)}}getKeepDetailRowsCount(){return this.gos.get("keepDetailRowsCount")}getStickyTopRowCtrls(){return this.stickyRowFeature?this.stickyRowFeature.getStickyTopRowCtrls():[]}getStickyBottomRowCtrls(){return this.stickyRowFeature?this.stickyRowFeature.getStickyBottomRowCtrls():[]}updateAllRowCtrls(){const e=aM(this.rowCtrlsByRowIndex),t=aM(this.zombieRowCtrls),i=this.cachedRowCtrls?this.cachedRowCtrls.getEntries():[];t.length>0||i.length>0?this.allRowCtrls=[...e,...t,...i]:this.allRowCtrls=e}onCellFocusChanged(e){this.getAllCellCtrls().forEach(t=>t.onCellFocused(e)),this.getFullWidthRowCtrls().forEach(t=>t.onFullWidthRowFocused(e))}onSuppressCellFocusChanged(e){this.getAllCellCtrls().forEach(t=>t.onSuppressCellFocusChanged(e)),this.getFullWidthRowCtrls().forEach(t=>t.onSuppressCellFocusChanged(e))}registerCellEventListeners(){this.addManagedEventListeners({cellFocused:e=>{this.onCellFocusChanged(e)},cellFocusCleared:()=>this.onCellFocusChanged(),flashCells:e=>{this.getAllCellCtrls().forEach(t=>t.onFlashCells(e))},columnHoverChanged:()=>{this.getAllCellCtrls().forEach(e=>e.onColumnHover())},displayedColumnsChanged:()=>{this.getAllCellCtrls().forEach(e=>e.onDisplayedColumnsChanged())},displayedColumnsWidthChanged:()=>{this.printLayout&&this.getAllCellCtrls().forEach(e=>e.onLeftChanged())}}),this.setupRangeSelectionListeners(),this.refreshListenersToColumnsForCellComps(),this.addManagedEventListeners({gridColumnsChanged:this.refreshListenersToColumnsForCellComps.bind(this)}),this.addDestroyFunc(this.removeGridColumnListeners.bind(this))}removeGridColumnListeners(){this.destroyFuncsForColumnListeners.forEach(e=>e()),this.destroyFuncsForColumnListeners.length=0}refreshListenersToColumnsForCellComps(){this.removeGridColumnListeners(),this.columnModel.getCols().forEach(t=>{const i=l=>{this.getAllCellCtrls().forEach(d=>{d.getColumn()===t&&l(d)})},s=()=>{i(l=>l.onLeftChanged())},n=()=>{i(l=>l.onWidthChanged())},r=()=>{i(l=>l.onFirstRightPinnedChanged())},o=()=>{i(l=>l.onLastLeftPinnedChanged())},a=()=>{i(l=>l.onColDefChanged())};t.addEventListener("leftChanged",s),t.addEventListener("widthChanged",n),t.addEventListener("firstRightPinnedChanged",r),t.addEventListener("lastLeftPinnedChanged",o),t.addEventListener("colDefChanged",a),this.destroyFuncsForColumnListeners.push(()=>{t.removeEventListener("leftChanged",s),t.removeEventListener("widthChanged",n),t.removeEventListener("firstRightPinnedChanged",r),t.removeEventListener("lastLeftPinnedChanged",o),t.removeEventListener("colDefChanged",a)})})}onDomLayoutChanged(){const e=ys(this.gos,"print"),t=e||this.gos.get("embedFullWidthRows"),i=t!==this.embedFullWidthRows||this.printLayout!==e;this.printLayout=e,this.embedFullWidthRows=t,i&&this.redrawAfterModelUpdate({domLayoutChanged:!0})}datasourceChanged(){this.firstRenderedRow=0,this.lastRenderedRow=-1;const e=Object.keys(this.rowCtrlsByRowIndex);this.removeRowCtrls(e)}onPageLoaded(e){const t={recycleRows:e.keepRenderedRows,animate:e.animate,newData:e.newData,newPage:e.newPage,onlyBody:!0};this.redrawAfterModelUpdate(t)}getAllCellsForColumn(e){const t=[];return this.getAllRowCtrls().forEach(i=>{const s=i.getCellElement(e);s&&t.push(s)}),t}refreshFloatingRowComps(){this.refreshFloatingRows(this.topRowCtrls,"top"),this.refreshFloatingRows(this.bottomRowCtrls,"bottom")}getTopRowCtrls(){return this.topRowCtrls}getCentreRowCtrls(){return this.allRowCtrls}getBottomRowCtrls(){return this.bottomRowCtrls}refreshFloatingRows(e,t){const{pinnedRowModel:i,beans:s,printLayout:n}=this,r=Object.fromEntries(e.map(a=>[a.getRowNode().id,a]));i.forEachPinnedRow(t,(a,l)=>{const d=e[l];d&&i.getPinnedRowById(d.getRowNode().id,t)===void 0&&(d.destroyFirstPass(),d.destroySecondPass()),a.id in r?(e[l]=r[a.id],delete r[a.id]):e[l]=new Hc(a,s,!1,!1,n)});const o=t==="top"?i.getPinnedTopRowCount():i.getPinnedBottomRowCount();e.length=o}onPinnedRowDataChanged(){const e={recycleRows:!0};this.redrawAfterModelUpdate(e)}redrawRow(e,t=!1){var i;if(e.sticky)this.stickyRowFeature.refreshStickyNode(e);else if((i=this.cachedRowCtrls)!=null&&i.has(e)){this.cachedRowCtrls.removeRow(e);return}else{const s=n=>{const r=n[e.rowIndex];r&&r.getRowNode()===e&&(r.destroyFirstPass(),r.destroySecondPass(),n[e.rowIndex]=this.createRowCon(e,!1,!1))};switch(e.rowPinned){case"top":s(this.topRowCtrls);break;case"bottom":s(this.bottomRowCtrls);break;default:s(this.rowCtrlsByRowIndex),this.updateAllRowCtrls()}}t||this.dispatchDisplayedRowsChanged(!1)}redrawRows(e){if(e!=null){e==null||e.forEach(i=>this.redrawRow(i,!0)),this.dispatchDisplayedRowsChanged(!1);return}this.redrawAfterModelUpdate()}getCellToRestoreFocusToAfterRefresh(e){const t=e!=null&&e.suppressKeepFocus?null:this.focusService.getFocusCellToUseAfterRefresh();if(t==null)return null;const i=ui(this.gos),s=Rp(this.gos,i,Gc.DOM_DATA_KEY_CELL_CTRL),n=Rp(this.gos,i,Hc.DOM_DATA_KEY_ROW_CTRL);return s||n?t:null}redrawAfterModelUpdate(e={}){this.getLockOnRefresh();const t=this.getCellToRestoreFocusToAfterRefresh(e);this.updateContainerHeights(),this.scrollToTopIfNewData(e);const i=!e.domLayoutChanged&&!!e.recycleRows,s=e.animate&&Ad(this.gos),n=i?this.getRowsToRecycle():null;if(i||this.removeAllRowComps(),this.workOutFirstAndLastRowsToRender(),this.stickyRowFeature){this.stickyRowFeature.checkStickyRows();const r=this.stickyRowFeature.getExtraTopHeight()+this.stickyRowFeature.getExtraBottomHeight();r&&this.updateContainerHeights(r)}this.recycleRows(n,s),this.gridBodyCtrl.updateRowCount(),e.onlyBody||this.refreshFloatingRowComps(),this.dispatchDisplayedRowsChanged(),t!=null&&this.restoreFocusedCell(t),this.releaseLockOnRefresh()}scrollToTopIfNewData(e){var s;const t=e.newData||e.newPage,i=this.gos.get("suppressScrollOnNewData");t&&!i&&(this.gridBodyCtrl.getScrollFeature().scrollToTop(),(s=this.stickyRowFeature)==null||s.resetOffsets())}updateContainerHeights(e=0){if(this.printLayout){this.rowContainerHeightService.setModelHeight(null);return}let t=this.pageBoundsService.getCurrentPageHeight();t===0&&(t=1),this.rowContainerHeightService.setModelHeight(t+e)}getLockOnRefresh(){var e,t;if(this.refreshInProgress)throw new Error("AG Grid: cannot get grid to draw rows when it is in the middle of drawing rows. Your code probably called a grid API method while the grid was in the render stage. To overcome this, put the API call into a timeout, e.g. instead of api.redrawRows(), call setTimeout(function() { api.redrawRows(); }, 0). To see what part of your code that caused the refresh check this stacktrace.");this.refreshInProgress=!0,(t=(e=this.frameworkOverrides).getLockOnRefresh)==null||t.call(e)}releaseLockOnRefresh(){var e,t;this.refreshInProgress=!1,(t=(e=this.frameworkOverrides).releaseLockOnRefresh)==null||t.call(e)}isRefreshInProgress(){return this.refreshInProgress}restoreFocusedCell(e){e&&this.focusService.restoreFocusedCell(e,()=>{this.onCellFocusChanged(this.gos.addGridCommonParams({rowIndex:e.rowIndex,column:e.column,rowPinned:e.rowPinned,forceBrowserFocus:!0,preventScrollOnBrowserFocus:!0,type:"cellFocused"}))})}stopEditing(e=!1){this.getAllRowCtrls().forEach(t=>{t.stopEditing(e)})}getAllCellCtrls(){const e=[],t=this.getAllRowCtrls(),i=t.length;for(let s=0;s<i;s++){const n=t[s].getAllCellCtrls(),r=n.length;for(let o=0;o<r;o++)e.push(n[o])}return e}getAllRowCtrls(){const e=this.stickyRowFeature&&this.stickyRowFeature.getStickyTopRowCtrls()||[],t=this.stickyRowFeature&&this.stickyRowFeature.getStickyBottomRowCtrls()||[],i=[...this.topRowCtrls,...this.bottomRowCtrls,...e,...t];for(const s in this.rowCtrlsByRowIndex)i.push(this.rowCtrlsByRowIndex[s]);return i}addRenderedRowListener(e,t,i){const s=this.rowCtrlsByRowIndex[t];s&&s.addEventListener(e,i)}flashCells(e={}){this.getCellCtrls(e.rowNodes,e.columns).forEach(t=>t.flashCell(e))}refreshCells(e={}){const t={forceRefresh:e.force,newData:!1,suppressFlash:e.suppressFlash};for(const i of this.getCellCtrls(e.rowNodes,e.columns))i.refreshOrDestroyCell(t);this.refreshFullWidth(e.rowNodes)}refreshFullWidth(e){if(!e)return;let t=null;this.stickyRowFeature&&fk()&&(t=this.getCellToRestoreFocusToAfterRefresh()||null);for(const i of this.getRowCtrls(e)){if(!i.isFullWidth())continue;i.refreshFullWidth()||this.redrawRow(i.getRowNode(),!0)}this.dispatchDisplayedRowsChanged(!1),t&&this.restoreFocusedCell(t)}getCellRendererInstances(e){var n;const t=this.getCellCtrls(e.rowNodes,e.columns).map(r=>r.getCellRenderer()).filter(r=>r!=null);if((n=e.columns)!=null&&n.length)return t;const i=[],s=this.mapRowNodes(e.rowNodes);return this.getAllRowCtrls().forEach(r=>{if(s&&!this.isRowInMap(r.getRowNode(),s)||!r.isFullWidth())return;const o=r.getFullWidthCellRenderers();for(let a=0;a<o.length;a++){const l=o[a];l!=null&&i.push(l)}}),[...i,...t]}getCellEditorInstances(e){const t=[];return this.getCellCtrls(e.rowNodes,e.columns).forEach(i=>{const s=i.getCellEditor();s&&t.push(s)}),t}getEditingCells(){const e=[];return this.getAllCellCtrls().forEach(t=>{if(t.isEditing()){const i=t.getCellPosition();e.push(i)}}),e}mapRowNodes(e){if(!e)return;const t={top:{},bottom:{},normal:{}};return e.forEach(i=>{const s=i.id;switch(i.rowPinned){case"top":t.top[s]=i;break;case"bottom":t.bottom[s]=i;break;default:t.normal[s]=i;break}}),t}isRowInMap(e,t){const i=e.id;switch(e.rowPinned){case"top":return t.top[i]!=null;case"bottom":return t.bottom[i]!=null;default:return t.normal[i]!=null}}getRowCtrls(e){const t=this.mapRowNodes(e),i=this.getAllRowCtrls();return!e||!t?i:i.filter(s=>{const n=s.getRowNode();return this.isRowInMap(n,t)})}getCellCtrls(e,t){let i;ve(t)&&(i={},t.forEach(n=>{const r=this.columnModel.getCol(n);ve(r)&&(i[r.getId()]=!0)}));const s=[];return this.getRowCtrls(e).forEach(n=>{n.getAllCellCtrls().forEach(r=>{const o=r.getColumn().getId();i&&!i[o]||s.push(r)})}),s}destroy(){this.removeAllRowComps(!0),super.destroy()}removeAllRowComps(e=!1){const t=Object.keys(this.rowCtrlsByRowIndex);this.removeRowCtrls(t,e),this.stickyRowFeature&&this.stickyRowFeature.destroyStickyCtrls()}getRowsToRecycle(){const e=[];xr(this.rowCtrlsByRowIndex,(i,s)=>{s.getRowNode().id==null&&e.push(i)}),this.removeRowCtrls(e);const t={};return xr(this.rowCtrlsByRowIndex,(i,s)=>{const n=s.getRowNode();t[n.id]=s}),this.rowCtrlsByRowIndex={},t}removeRowCtrls(e,t=!1){e.forEach(i=>{const s=this.rowCtrlsByRowIndex[i];s&&(s.destroyFirstPass(t),s.destroySecondPass()),delete this.rowCtrlsByRowIndex[i]})}onBodyScroll(e){e.direction==="vertical"&&this.redraw({afterScroll:!0})}redraw(e={}){const{afterScroll:t}=e;let i;this.stickyRowFeature&&fk()&&(i=this.getCellToRestoreFocusToAfterRefresh()||void 0);const s=this.firstRenderedRow,n=this.lastRenderedRow;this.workOutFirstAndLastRowsToRender();let r=!1;if(this.stickyRowFeature){r=this.stickyRowFeature.checkStickyRows();const a=this.stickyRowFeature.getExtraTopHeight()+this.stickyRowFeature.getExtraBottomHeight();a&&this.updateContainerHeights(a)}const o=this.firstRenderedRow!==s||this.lastRenderedRow!==n;if(!(t&&!r&&!o)&&(this.getLockOnRefresh(),this.recycleRows(null,!1,t),this.releaseLockOnRefresh(),this.dispatchDisplayedRowsChanged(t&&!r),i!=null)){const a=this.getCellToRestoreFocusToAfterRefresh();i!=null&&a==null&&(this.animationFrameService.flushAllFrames(),this.restoreFocusedCell(i))}}removeRowCompsNotToDraw(e,t){const i={};e.forEach(r=>i[r]=!0);const n=Object.keys(this.rowCtrlsByRowIndex).filter(r=>!i[r]);this.removeRowCtrls(n,t)}calculateIndexesToDraw(e){const t=a9(this.firstRenderedRow,this.lastRenderedRow),i=(n,r)=>{const o=r.getRowNode().rowIndex;o!=null&&(o<this.firstRenderedRow||o>this.lastRenderedRow)&&this.doNotUnVirtualiseRow(r)&&t.push(o)};xr(this.rowCtrlsByRowIndex,i),xr(e,i),t.sort((n,r)=>n-r);const s=[];for(let n=0;n<t.length;n++){const r=t[n],o=this.rowModel.getRow(r);o&&!o.sticky&&s.push(r)}return s}recycleRows(e,t=!1,i=!1){const s=this.calculateIndexesToDraw(e);(this.printLayout||i)&&(t=!1),this.removeRowCompsNotToDraw(s,!t),s.forEach(n=>{this.createOrUpdateRowCtrl(n,e,t,i)}),e&&(i&&!this.gos.get("suppressAnimationFrame")&&!this.printLayout?this.beans.animationFrameService.addDestroyTask(()=>{this.destroyRowCtrls(e,t),this.updateAllRowCtrls(),this.dispatchDisplayedRowsChanged()}):this.destroyRowCtrls(e,t)),this.updateAllRowCtrls()}dispatchDisplayedRowsChanged(e=!1){this.eventService.dispatchEvent({type:"displayedRowsChanged",afterScroll:e})}onDisplayedColumnsChanged(){const e=this.visibleColsService.isPinningLeft(),t=this.visibleColsService.isPinningRight();(this.pinningLeft!==e||t!==this.pinningRight)&&(this.pinningLeft=e,this.pinningRight=t,this.embedFullWidthRows&&this.redrawFullWidthEmbeddedRows())}redrawFullWidthEmbeddedRows(){const e=[];this.getFullWidthRowCtrls().forEach(t=>{const i=t.getRowNode().rowIndex;e.push(i.toString())}),this.refreshFloatingRowComps(),this.removeRowCtrls(e),this.redraw({afterScroll:!0})}getFullWidthRowCtrls(e){const t=this.mapRowNodes(e);return this.getAllRowCtrls().filter(i=>{if(!i.isFullWidth())return!1;const s=i.getRowNode();return!(t!=null&&!this.isRowInMap(s,t))})}createOrUpdateRowCtrl(e,t,i,s){let n,r=this.rowCtrlsByRowIndex[e];if(r||(n=this.rowModel.getRow(e),ve(n)&&ve(t)&&t[n.id]&&n.alreadyRendered&&(r=t[n.id],t[n.id]=null)),!r)if(n||(n=this.rowModel.getRow(e)),ve(n))r=this.createRowCon(n,i,s);else return;return n&&(n.alreadyRendered=!0),this.rowCtrlsByRowIndex[e]=r,r}destroyRowCtrls(e,t){const i=[];xr(e,(s,n)=>{if(n){if(this.cachedRowCtrls&&n.isCacheable()){this.cachedRowCtrls.addRow(n);return}if(n.destroyFirstPass(!t),t){const r=n.instanceId;this.zombieRowCtrls[r]=n,i.push(()=>{n.destroySecondPass(),delete this.zombieRowCtrls[r]})}else n.destroySecondPass()}}),t&&(i.push(()=>{this.updateAllRowCtrls(),this.dispatchDisplayedRowsChanged()}),RU(i))}getRowBuffer(){return this.gos.get("rowBuffer")}getRowBufferInPixels(){const e=this.getRowBuffer(),t=zc(this.gos);return e*t}workOutFirstAndLastRowsToRender(){this.rowContainerHeightService.updateOffset();let e,t;if(!this.rowModel.isRowsToRender())e=0,t=-1;else if(this.printLayout)this.environment.refreshRowHeightVariable(),e=this.pageBoundsService.getFirstRow(),t=this.pageBoundsService.getLastRow();else{const a=this.getRowBufferInPixels(),l=this.ctrlsService.getGridBodyCtrl(),d=this.gos.get("suppressRowVirtualisation");let h=!1,p,f;do{const b=this.pageBoundsService.getPixelOffset(),{pageFirstPixel:x,pageLastPixel:D}=this.pageBoundsService.getCurrentPagePixelRange(),E=this.rowContainerHeightService.getDivStretchOffset(),T=l.getScrollFeature().getVScrollPosition(),k=T.top,P=T.bottom;d?(p=x+E,f=D+E):(p=Math.max(k+b-a,x)+E,f=Math.min(P+b+a,D)+E),this.firstVisibleVPixel=Math.max(k+b,x)+E,this.lastVisibleVPixel=Math.min(P+b,D)+E,h=this.ensureAllRowsInRangeHaveHeightsCalculated(p,f)}while(h);let v=this.rowModel.getRowIndexAtPixel(p),y=this.rowModel.getRowIndexAtPixel(f);const S=this.pageBoundsService.getFirstRow(),w=this.pageBoundsService.getLastRow();v<S&&(v=S),y>w&&(y=w),e=v,t=y}const i=ys(this.gos,"normal"),s=this.gos.get("suppressMaxRenderedRowRestriction"),n=Math.max(this.getRowBuffer(),500);i&&!s&&t-e>n&&(t=e+n);const r=e!==this.firstRenderedRow,o=t!==this.lastRenderedRow;(r||o)&&(this.firstRenderedRow=e,this.lastRenderedRow=t,this.eventService.dispatchEvent({type:"viewportChanged",firstRow:e,lastRow:t}))}dispatchFirstDataRenderedEvent(){this.dataFirstRenderedFired||(this.dataFirstRenderedFired=!0,window.requestAnimationFrame(()=>{this.beans.eventService.dispatchEvent({type:"firstDataRendered",firstRow:this.firstRenderedRow,lastRow:this.lastRenderedRow})}))}ensureAllRowsInRangeHaveHeightsCalculated(e,t){var r,o;const i=(r=this.pinnedRowModel)==null?void 0:r.ensureRowHeightsValid(),s=(o=this.stickyRowFeature)==null?void 0:o.ensureRowHeightsValid(),n=this.rowModel.ensureRowHeightsValid(e,t,this.pageBoundsService.getFirstRow(),this.pageBoundsService.getLastRow());return(n||s)&&this.eventService.dispatchEvent({type:"recalculateRowBounds"}),s||n||i?(this.updateContainerHeights(),!0):!1}getFirstVisibleVerticalPixel(){return this.firstVisibleVPixel}getLastVisibleVerticalPixel(){return this.lastVisibleVPixel}getFirstVirtualRenderedRow(){return this.firstRenderedRow}getLastVirtualRenderedRow(){return this.lastRenderedRow}doNotUnVirtualiseRow(e){const s=e.getRowNode(),n=this.focusService.isRowNodeFocused(s),r=e.isEditing(),o=s.detail;return n||r||o?!!this.isRowPresent(s):!1}isRowPresent(e){return this.rowModel.isRowPresent(e)?this.paginationService?this.paginationService.isRowPresent(e):!0:!1}createRowCon(e,t,i){const s=this.cachedRowCtrls?this.cachedRowCtrls.getRow(e):null;if(s)return s;const n=this.gos.get("suppressAnimationFrame"),r=i&&!n&&!this.printLayout;return new Hc(e,this.beans,t,r,this.printLayout)}getRenderedNodes(){const e=this.rowCtrlsByRowIndex;return Object.values(e).map(t=>t.getRowNode())}getRowByPosition(e){let t;const{rowIndex:i}=e;switch(e.rowPinned){case"top":t=this.topRowCtrls[i];break;case"bottom":t=this.bottomRowCtrls[i];break;default:t=this.rowCtrlsByRowIndex[i],t||(t=this.getStickyTopRowCtrls().find(s=>s.getRowNode().rowIndex===i)||null,t||(t=this.getStickyBottomRowCtrls().find(s=>s.getRowNode().rowIndex===i)||null));break}return t}isRangeInRenderedViewport(e,t){if(e==null||t==null)return!1;const s=e>this.lastRenderedRow;return!(t<this.firstRenderedRow)&&!s}},sK=class{constructor(e){this.entriesMap={},this.entriesList=[],this.maxCount=e}addRow(e){if(this.entriesMap[e.getRowNode().id]=e,this.entriesList.push(e),e.setCached(!0),this.entriesList.length>this.maxCount){const t=this.entriesList[0];t.destroyFirstPass(),t.destroySecondPass(),this.removeFromCache(t)}}getRow(e){if(e==null||e.id==null)return null;const t=this.entriesMap[e.id];return t?(this.removeFromCache(t),t.setCached(!1),t.getRowNode()!=e?null:t):null}has(e){return this.entriesMap[e.id]!=null}removeRow(e){const t=e.id,i=this.entriesMap[t];delete this.entriesMap[t],js(this.entriesList,i)}removeFromCache(e){const t=e.getRowNode().id;delete this.entriesMap[t],js(this.entriesList,e)}getEntries(){return this.entriesList}},nK=class extends re{constructor(){super(...arguments),this.beanName="pinnedRowModel",this.nextId=0,this.pinnedTopRows=new Rk,this.pinnedBottomRows=new Rk}wireBeans(e){this.beans=e}postConstruct(){this.setPinnedRowData(this.gos.get("pinnedTopRowData"),"top"),this.setPinnedRowData(this.gos.get("pinnedBottomRowData"),"bottom"),this.addManagedPropertyListener("pinnedTopRowData",e=>this.setPinnedRowData(e.currentValue,"top")),this.addManagedPropertyListener("pinnedBottomRowData",e=>this.setPinnedRowData(e.currentValue,"bottom")),this.addManagedEventListeners({gridStylesChanged:this.onGridStylesChanges.bind(this)})}isEmpty(e){return(e==="top"?this.pinnedTopRows:this.pinnedBottomRows).isEmpty()}isRowsToRender(e){return!this.isEmpty(e)}onGridStylesChanges(e){if(e.rowHeightChanged){const t=i=>{i.setRowHeight(i.rowHeight,!0)};this.pinnedBottomRows.forEach(t),this.pinnedTopRows.forEach(t)}}ensureRowHeightsValid(){var s,n;let e=!1,t=0;const i=r=>{if(r.rowHeightEstimated){const o=Cl(this.gos,r);r.setRowTop(t),r.setRowHeight(o.height),t+=o.height,e=!0}};return(s=this.pinnedBottomRows)==null||s.forEach(i),t=0,(n=this.pinnedTopRows)==null||n.forEach(i),this.eventService.dispatchEvent({type:"pinnedHeightChanged"}),e}setPinnedRowData(e,t){this.updateNodesFromRowData(e,t),this.eventService.dispatchEvent({type:"pinnedRowDataChanged"})}updateNodesFromRowData(e,t){const i=t==="top"?this.pinnedTopRows:this.pinnedBottomRows;if(e===void 0){i.clear();return}const s=oh(this.gos),n=t==="top"?ta.ID_PREFIX_TOP_PINNED:ta.ID_PREFIX_BOTTOM_PINNED,r=i.getIds(),o=[],a=new Set;let l=0,d=-1;for(const h of e){const p=(s==null?void 0:s({data:h,level:0,rowPinned:t}))??n+this.nextId++;if(a.has(p)){ae("Duplicate ID",p,"found for pinned row with data",h,"When `getRowId` is defined, it must return unique IDs for all pinned rows. Use the `rowPinned` parameter.");continue}d++,a.add(p),o.push(p);const f=i.getById(p);if(f!==void 0)f.data!==h&&f.setData(h),l+=this.setRowTopAndRowIndex(f,l,d),r.delete(p);else{const v=new ta(this.beans);v.id=p,v.data=h,v.rowPinned=t,l+=this.setRowTopAndRowIndex(v,l,d),i.push(v)}}r.forEach(h=>{var p;(p=i.getById(h))==null||p.clearRowTopAndRowIndex()}),i.removeAllById(r),i.setOrder(o)}setRowTopAndRowIndex(e,t,i){return e.setRowTop(t),e.setRowHeight(Cl(this.gos,e).height),e.setRowIndex(i),e.rowHeight}getPinnedTopTotalHeight(){return this.getTotalHeight(this.pinnedTopRows)}getPinnedBottomTotalHeight(){return this.getTotalHeight(this.pinnedBottomRows)}getPinnedTopRowCount(){return this.pinnedTopRows.getSize()}getPinnedBottomRowCount(){return this.pinnedBottomRows.getSize()}getPinnedTopRow(e){return this.pinnedTopRows.getByIndex(e)}getPinnedBottomRow(e){return this.pinnedBottomRows.getByIndex(e)}getPinnedRowById(e,t){return t==="top"?this.pinnedTopRows.getById(e):this.pinnedBottomRows.getById(e)}forEachPinnedRow(e,t){return e==="top"?this.pinnedTopRows.forEach(t):this.pinnedBottomRows.forEach(t)}getTotalHeight(e){const t=e.getSize();if(t===0)return 0;const i=e.getByIndex(t-1);return i===void 0?0:i.rowTop+i.rowHeight}},Rk=class{constructor(){this.cache={},this.ordering=[]}getById(e){return this.cache[e]}getByIndex(e){const t=this.ordering[e];return this.cache[t]}push(e){this.cache[e.id]=e,this.ordering.push(e.id)}removeAllById(e){for(const t of e)delete this.cache[t];this.ordering=this.ordering.filter(t=>!e.has(t))}setOrder(e){this.ordering=e}forEach(e){this.ordering.forEach((t,i)=>{const s=this.cache[t];s&&e(s,i)})}clear(){this.ordering.length=0,this.cache={}}isEmpty(){return this.ordering.length===0}getSize(){return this.ordering.length}getIds(){return new Set(this.ordering)}},rK=class extends re{constructor(e){super(),this.state="needsLoading",this.version=0,this.id=e}getId(){return this.id}load(){this.state="loading",this.loadFromDatasource()}getVersion(){return this.version}setStateWaitingToLoad(){this.version++,this.state="needsLoading"}getState(){return this.state}pageLoadFailed(e){this.isRequestMostRecentAndLive(e)&&(this.state="failed",this.processServerFail()),this.dispatchLoadCompleted(!1)}success(e,t){this.successCommon(e,t)}pageLoaded(e,t,i){this.successCommon(e,{rowData:t,rowCount:i})}isRequestMostRecentAndLive(e){const t=e===this.version,i=this.isAlive();return t&&i}successCommon(e,t){this.dispatchLoadCompleted(),this.isRequestMostRecentAndLive(e)&&(this.state="loaded",this.processServerResult(t))}dispatchLoadCompleted(e=!0){const t={type:"loadComplete",success:e,block:this};this.dispatchLocalEvent(t)}},oK=class extends re{constructor(){super(...arguments),this.beanName="rowNodeBlockLoader",this.activeBlockLoadsCount=0,this.blocks=[],this.active=!0}wireBeans(e){this.rowModel=e.rowModel}postConstruct(){this.maxConcurrentRequests=this.getMaxConcurrentDatasourceRequests();const e=this.gos.get("blockLoadDebounceMillis");e&&e>0&&(this.checkBlockToLoadDebounce=Hs(this.performCheckBlocksToLoad.bind(this),e))}getMaxConcurrentDatasourceRequests(){const e=this.gos.get("maxConcurrentDatasourceRequests");if(e==null)return 2;if(!(e<=0))return e}addBlock(e){this.blocks.push(e),e.addEventListener("loadComplete",this.loadComplete.bind(this)),this.checkBlockToLoad()}removeBlock(e){js(this.blocks,e)}destroy(){super.destroy(),this.active=!1}loadComplete(){this.activeBlockLoadsCount--,this.checkBlockToLoad(),this.dispatchLocalEvent({type:"blockLoaded"}),this.activeBlockLoadsCount==0&&this.dispatchLocalEvent({type:"blockLoaderFinished"})}checkBlockToLoad(){this.checkBlockToLoadDebounce?this.checkBlockToLoadDebounce():this.performCheckBlocksToLoad()}performCheckBlocksToLoad(){if(!this.active)return;if(this.printCacheStatus(),this.maxConcurrentRequests!=null&&this.activeBlockLoadsCount>=this.maxConcurrentRequests){this.gos.get("debug")&&Dr("RowNodeBlockLoader - checkBlockToLoad: max loads exceeded");return}const e=this.getAvailableLoadingCount(),t=this.blocks.filter(i=>i.getState()==="needsLoading").slice(0,e);this.registerLoads(t.length),t.forEach(i=>i.load()),this.printCacheStatus()}getBlockState(){if(wo(this.gos))return this.rowModel.getBlockStates();const e={};return this.blocks.forEach(t=>{const{id:i,state:s}=t.getBlockStateJson();e[i]=s}),e}printCacheStatus(){this.gos.get("debug")&&Dr(`RowNodeBlockLoader - printCacheStatus: activePageLoadsCount = ${this.activeBlockLoadsCount}, blocks = ${JSON.stringify(this.getBlockState())}`)}isLoading(){return this.activeBlockLoadsCount>0}registerLoads(e){this.activeBlockLoadsCount+=e}getAvailableLoadingCount(){return this.maxConcurrentRequests!==void 0?this.maxConcurrentRequests-this.activeBlockLoadsCount:void 0}},aK={version:Oe,moduleName:"@ag-grid-community/row-node-block",beans:[oK]},lK=class{constructor(){this.root=null,this.end=null,this.cachedRange=[]}init(e){this.rowModel=e}reset(){this.root=null,this.end=null,this.cachedRange.length=0}setRoot(e){this.root=e,this.end=null,this.cachedRange.length=0}setEndRange(e){this.end=e,this.cachedRange.length=0}getRange(){if(this.cachedRange.length===0){const e=this.getRoot(),t=this.getEnd();if(e==null||t==null)return this.cachedRange;this.cachedRange=this.rowModel.getNodesInRangeForSelection(e,t)}return this.cachedRange}isInRange(e){return this.root===null?!1:this.getRange().some(t=>t.id===e.id)}getRoot(){var e;return this.root&&((e=this.root)==null?void 0:e.key)===null&&(this.root=this.rowModel.getRowNode(this.root.id)??null),this.root}getEnd(){var e;return this.end&&((e=this.end)==null?void 0:e.key)===null&&(this.end=this.rowModel.getRowNode(this.end.id)??null),this.end}truncate(e){const t=this.getRange();if(t.length===0)return{keep:[],discard:[]};const i=t[0].id===this.root.id,s=t.findIndex(n=>n.id===e.id);if(s>-1){const n=t.slice(0,s),r=t.slice(s+1);return this.setEndRange(e),i?{keep:n,discard:r}:{keep:r,discard:n}}else return{keep:t,discard:[]}}extend(e,t=!1){const i=this.getRoot();if(i==null){const n=this.getRange().slice();return t&&e.depthFirstSearch(r=>!r.group&&n.push(r)),n.push(e),this.setRoot(e),{keep:n,discard:[]}}if(this.rowModel.getNodesInRangeForSelection(i,e).find(n=>{var r;return n.id===((r=this.end)==null?void 0:r.id)}))return this.setEndRange(e),{keep:this.getRange(),discard:[]};{const n=this.getRange().slice();return this.setEndRange(e),{keep:this.getRange(),discard:n}}}},cK=class extends re{constructor(){super(...arguments),this.beanName="stylingService"}wireBeans(e){this.expressionService=e.expressionService}processAllCellClasses(e,t,i,s){this.processClassRules(void 0,e.cellClassRules,t,i,s),this.processStaticCellClasses(e,t,i)}processClassRules(e,t,i,s,n){if(t==null&&e==null)return;const r={},o={},a=(l,d)=>{l.split(" ").forEach(h=>{h.trim()!=""&&d(h)})};if(t){const l=Object.keys(t);for(let d=0;d<l.length;d++){const h=l[d],p=t[h];let f;typeof p=="string"?f=this.expressionService.evaluate(p,i):typeof p=="function"&&(f=p(i)),a(h,v=>{f?r[v]=!0:o[v]=!0})}}e&&n&&Object.keys(e).forEach(l=>a(l,d=>{r[d]||(o[d]=!0)})),n&&Object.keys(o).forEach(n),Object.keys(r).forEach(s)}getStaticCellClasses(e,t){const{cellClass:i}=e;if(!i)return[];let s;return typeof i=="function"?s=i(t):s=i,typeof s=="string"&&(s=[s]),s||[]}processStaticCellClasses(e,t,i){this.getStaticCellClasses(e,t).forEach(n=>{i(n)})}},Vv=(e=>(e.TAB_GUARD="ag-tab-guard",e.TAB_GUARD_TOP="ag-tab-guard-top",e.TAB_GUARD_BOTTOM="ag-tab-guard-bottom",e))(Vv||{}),QN=class extends re{constructor(e){super(),this.skipTabGuardFocus=!1,this.forcingFocusOut=!1,this.allowFocus=!1;const{comp:t,eTopGuard:i,eBottomGuard:s,focusTrapActive:n,forceFocusOutWhenTabGuardsAreEmpty:r,isFocusableContainer:o,focusInnerElement:a,onFocusIn:l,onFocusOut:d,shouldStopEventPropagation:h,onTabKeyDown:p,handleKeyDown:f,eFocusableElement:v}=e;this.comp=t,this.eTopGuard=i,this.eBottomGuard=s,this.providedFocusInnerElement=a,this.eFocusableElement=v,this.focusTrapActive=!!n,this.forceFocusOutWhenTabGuardsAreEmpty=!!r,this.isFocusableContainer=!!o,this.providedFocusIn=l,this.providedFocusOut=d,this.providedShouldStopEventPropagation=h,this.providedOnTabKeyDown=p,this.providedHandleKeyDown=f}wireBeans(e){this.focusService=e.focusService}postConstruct(){this.createManagedBean(new nu(this.eFocusableElement,{shouldStopEventPropagation:()=>this.shouldStopEventPropagation(),onTabKeyDown:e=>this.onTabKeyDown(e),handleKeyDown:e=>this.handleKeyDown(e),onFocusIn:e=>this.onFocusIn(e),onFocusOut:e=>this.onFocusOut(e)})),this.activateTabGuards(),[this.eTopGuard,this.eBottomGuard].forEach(e=>this.addManagedElementListeners(e,{focus:this.onFocus.bind(this)}))}handleKeyDown(e){this.providedHandleKeyDown&&this.providedHandleKeyDown(e)}tabGuardsAreActive(){return!!this.eTopGuard&&this.eTopGuard.hasAttribute("tabIndex")}shouldStopEventPropagation(){return this.providedShouldStopEventPropagation?this.providedShouldStopEventPropagation():!1}activateTabGuards(){if(this.forcingFocusOut)return;const e=this.gos.get("tabIndex");this.comp.setTabIndex(e.toString())}deactivateTabGuards(){this.comp.setTabIndex()}onFocus(e){if(this.isFocusableContainer&&!this.eFocusableElement.contains(e.relatedTarget)&&!this.allowFocus){this.findNextElementOutsideAndFocus(e.target===this.eBottomGuard);return}if(this.skipTabGuardFocus){this.skipTabGuardFocus=!1;return}if(this.forceFocusOutWhenTabGuardsAreEmpty&&this.focusService.findFocusableElements(this.eFocusableElement,".ag-tab-guard").length===0){this.findNextElementOutsideAndFocus(e.target===this.eBottomGuard);return}if(this.isFocusableContainer&&this.eFocusableElement.contains(e.relatedTarget))return;const t=e.target===this.eBottomGuard;this.providedFocusInnerElement?this.providedFocusInnerElement(t):this.focusInnerElement(t)}findNextElementOutsideAndFocus(e){var l;const t=yi(this.gos),i=this.focusService.findFocusableElements(t.body,null,!0),s=i.indexOf(e?this.eTopGuard:this.eBottomGuard);if(s===-1)return;let n,r;e?(n=0,r=s):(n=s+1,r=i.length);const o=i.slice(n,r),a=this.gos.get("tabIndex");o.sort((d,h)=>{const p=parseInt(d.getAttribute("tabindex")||"0"),f=parseInt(h.getAttribute("tabindex")||"0");return f===a?1:p===a?-1:p===0?1:f===0?-1:p-f}),(l=o[e?o.length-1:0])==null||l.focus()}onFocusIn(e){this.focusTrapActive||this.forcingFocusOut||(this.providedFocusIn&&this.providedFocusIn(e),this.isFocusableContainer||this.deactivateTabGuards())}onFocusOut(e){this.focusTrapActive||(this.providedFocusOut&&this.providedFocusOut(e),this.eFocusableElement.contains(e.relatedTarget)||this.activateTabGuards())}onTabKeyDown(e){if(this.providedOnTabKeyDown){this.providedOnTabKeyDown(e);return}if(this.focusTrapActive||e.defaultPrevented)return;const t=this.tabGuardsAreActive();t&&this.deactivateTabGuards();const i=this.getNextFocusableElement(e.shiftKey);t&&setTimeout(()=>this.activateTabGuards(),0),i&&(i.focus(),e.preventDefault())}focusInnerElement(e=!1){const t=this.focusService.findFocusableElements(this.eFocusableElement);this.tabGuardsAreActive()&&(t.splice(0,1),t.splice(t.length-1,1)),t.length&&t[e?t.length-1:0].focus({preventScroll:!0})}getNextFocusableElement(e){return this.focusService.findNextFocusableElement(this.eFocusableElement,!1,e)}forceFocusOutOfContainer(e=!1){if(this.forcingFocusOut)return;const t=e?this.eTopGuard:this.eBottomGuard;this.activateTabGuards(),this.skipTabGuardFocus=!0,this.forcingFocusOut=!0,t.focus(),window.setTimeout(()=>{this.forcingFocusOut=!1,this.activateTabGuards()})}isTabGuard(e,t){return e===this.eTopGuard&&!t||e===this.eBottomGuard&&(t??!0)}setAllowFocus(e){this.allowFocus=e}},uK=class extends re{constructor(e){super(),this.comp=e}initialiseTabGuard(e){this.eTopGuard=this.createTabGuard("top"),this.eBottomGuard=this.createTabGuard("bottom"),this.eFocusableElement=this.comp.getFocusableElement();const{eTopGuard:t,eBottomGuard:i,eFocusableElement:s}=this,n=[t,i],r={setTabIndex:S=>{n.forEach(w=>S!=null?w.setAttribute("tabindex",S):w.removeAttribute("tabindex"))}};this.addTabGuards(t,i);const{focusTrapActive:o=!1,onFocusIn:a,onFocusOut:l,focusInnerElement:d,handleKeyDown:h,onTabKeyDown:p,shouldStopEventPropagation:f,forceFocusOutWhenTabGuardsAreEmpty:v,isFocusableContainer:y}=e;this.tabGuardCtrl=this.createManagedBean(new QN({comp:r,focusTrapActive:o,eTopGuard:t,eBottomGuard:i,eFocusableElement:s,onFocusIn:a,onFocusOut:l,focusInnerElement:d,handleKeyDown:h,onTabKeyDown:p,shouldStopEventPropagation:f,forceFocusOutWhenTabGuardsAreEmpty:v,isFocusableContainer:y}))}getTabGuardCtrl(){return this.tabGuardCtrl}createTabGuard(e){const t=yi(this.gos).createElement("div"),i=e==="top"?"ag-tab-guard-top":"ag-tab-guard-bottom";return t.classList.add("ag-tab-guard",i),Or(t,"presentation"),t}addTabGuards(e,t){this.eFocusableElement.insertAdjacentElement("afterbegin",e),this.eFocusableElement.insertAdjacentElement("beforeend",t)}removeAllChildrenExceptTabGuards(){const e=[this.eTopGuard,this.eBottomGuard];Rn(this.comp.getFocusableElement()),this.addTabGuards(...e)}forceFocusOutOfContainer(e=!1){this.tabGuardCtrl.forceFocusOutOfContainer(e)}appendChild(e,t,i){GD(t)||(t=t.getGui());const{eBottomGuard:s}=this;s?s.insertAdjacentElement("beforebegin",t):e(t,i)}},dK=class extends Ht{initialiseTabGuard(t){this.tabGuardFeature=this.createManagedBean(new uK(this)),this.tabGuardFeature.initialiseTabGuard(t)}forceFocusOutOfContainer(t=!1){this.tabGuardFeature.forceFocusOutOfContainer(t)}appendChild(t,i){this.tabGuardFeature.appendChild(super.appendChild.bind(this),t,i)}},hK=0,gK=200,pK=class extends re{constructor(){super(...arguments),this.beanName="popupService",this.popupList=[]}wireBeans(e){this.ctrlsService=e.ctrlsService,this.resizeObserverService=e.resizeObserverService,this.environment=e.environment}postConstruct(){this.ctrlsService.whenReady(this,e=>{this.gridCtrl=e.gridCtrl}),this.addManagedEventListeners({gridStylesChanged:this.handleThemeChange.bind(this)})}getPopupParent(){const e=this.gos.get("popupParent");return e||this.gridCtrl.getGui()}positionPopupForMenu(e){const{eventSource:t,ePopup:i}=e,s=this.getPopupIndex(i);if(s!==-1){const v=this.popupList[s];v.alignedToElement=t}const n=t.getBoundingClientRect(),r=this.getParentRect(),o=this.keepXYWithinBounds(i,n.top-r.top,0),a=i.clientWidth>0?i.clientWidth:200;i.style.minWidth=`${a}px`;const d=r.right-r.left-a;let h;this.gos.get("enableRtl")?(h=f(),h<0&&(h=p(),this.setAlignedStyles(i,"left")),h>d&&(h=0,this.setAlignedStyles(i,"right"))):(h=p(),h>d&&(h=f(),this.setAlignedStyles(i,"right")),h<0&&(h=0,this.setAlignedStyles(i,"left"))),i.style.left=`${h}px`,i.style.top=`${o}px`;function p(){return n.right-r.left-2}function f(){return n.left-r.left-a}}positionPopupUnderMouseEvent(e){const{ePopup:t,nudgeX:i,nudgeY:s,skipObserver:n}=e;this.positionPopup({ePopup:t,nudgeX:i,nudgeY:s,keepWithinBounds:!0,skipObserver:n,updatePosition:()=>this.calculatePointerAlign(e.mouseEvent),postProcessCallback:()=>this.callPostProcessPopup(e.type,e.ePopup,null,e.mouseEvent,e.column,e.rowNode)})}calculatePointerAlign(e){const t=this.getParentRect();return{x:e.clientX-t.left,y:e.clientY-t.top}}positionPopupByComponent(e){const{ePopup:t,nudgeX:i,nudgeY:s,keepWithinBounds:n,eventSource:r,alignSide:o="left",position:a="over",column:l,rowNode:d,type:h}=e,p=r.getBoundingClientRect(),f=this.getParentRect(),v=this.getPopupIndex(t);if(v!==-1){const S=this.popupList[v];S.alignedToElement=r}const y=()=>{let S=p.left-f.left;o==="right"&&(S-=t.offsetWidth-p.width);let w;return a==="over"?(w=p.top-f.top,this.setAlignedStyles(t,"over")):(this.setAlignedStyles(t,"under"),this.shouldRenderUnderOrAbove(t,p,f,e.nudgeY||0)==="under"?w=p.top-f.top+p.height:w=p.top-t.offsetHeight-(s||0)*2-f.top),{x:S,y:w}};this.positionPopup({ePopup:t,nudgeX:i,nudgeY:s,keepWithinBounds:n,updatePosition:y,postProcessCallback:()=>this.callPostProcessPopup(h,t,r,null,l,d)})}shouldRenderUnderOrAbove(e,t,i,s){const n=i.bottom-t.bottom,r=t.top-i.top,o=e.offsetHeight+s;return n>o?"under":r>o||r>n?"above":"under"}setAlignedStyles(e,t){const i=this.getPopupIndex(e);if(i===-1)return;const s=this.popupList[i],{alignedToElement:n}=s;!n||(["right","left","over","above","under"].forEach(o=>{n.classList.remove(`ag-has-popup-positioned-${o}`),e.classList.remove(`ag-popup-positioned-${o}`)}),!t)||(n.classList.add(`ag-has-popup-positioned-${t}`),e.classList.add(`ag-popup-positioned-${t}`))}callPostProcessPopup(e,t,i,s,n,r){const o=this.gos.getCallback("postProcessPopup");o&&o({column:n,rowNode:r,ePopup:t,type:e,eventSource:i,mouseEvent:s})}positionPopup(e){const{ePopup:t,keepWithinBounds:i,nudgeX:s,nudgeY:n,skipObserver:r,updatePosition:o}=e,a={width:0,height:0},l=(d=!1)=>{let{x:h,y:p}=o();d&&t.clientWidth===a.width&&t.clientHeight===a.height||(a.width=t.clientWidth,a.height=t.clientHeight,s&&(h+=s),n&&(p+=n),i&&(h=this.keepXYWithinBounds(t,h,1),p=this.keepXYWithinBounds(t,p,0)),t.style.left=`${h}px`,t.style.top=`${p}px`,e.postProcessCallback&&e.postProcessCallback())};if(l(),!r){const d=this.resizeObserverService.observeResize(t,()=>l(!0));setTimeout(()=>d(),gK)}}getActivePopups(){return this.popupList.map(e=>e.element)}getPopupList(){return this.popupList}getParentRect(){const e=yi(this.gos);let t=this.getPopupParent();return t===e.body?t=e.documentElement:getComputedStyle(t).position==="static"&&(t=t.offsetParent),QF(t)}keepXYWithinBounds(e,t,i){const s=i===0,n=s?"clientHeight":"clientWidth",r=s?"top":"left",o=s?"height":"width",a=s?"scrollTop":"scrollLeft",l=yi(this.gos),d=l.documentElement,h=this.getPopupParent(),p=e.getBoundingClientRect(),f=h.getBoundingClientRect(),v=l.documentElement.getBoundingClientRect(),y=h===l.body,S=Math.ceil(p[o]);let b=y?(s?XF:xy)(d)+d[a]:h[n];y&&(b-=Math.abs(v[r]-f[r]));const x=b-S;return Math.min(Math.max(t,0),Math.abs(x))}addPopup(e){const t=yi(this.gos),{eChild:i,ariaLabel:s,alwaysOnTop:n,positionCallback:r,anchorToElement:o}=e;if(!t)return ae("could not find the document, document is empty"),{hideFunc:()=>{}};const a=this.getPopupIndex(i);if(a!==-1)return{hideFunc:this.popupList[a].hideFunc};this.initialisePopupPosition(i);const l=this.createPopupWrapper(i,s,!!n),d=this.addEventListenersToPopup({...e,wrapperEl:l});return r&&r(),this.addPopupToPopupList(i,l,d,o),{hideFunc:d}}initialisePopupPosition(e){const i=this.getPopupParent().getBoundingClientRect();ve(e.style.top)||(e.style.top=`${i.top*-1}px`),ve(e.style.left)||(e.style.left=`${i.left*-1}px`)}createPopupWrapper(e,t,i){const s=this.getPopupParent(),n=document.createElement("div");return this.environment.applyThemeClasses(n),n.classList.add("ag-popup"),e.classList.add(this.gos.get("enableRtl")?"ag-rtl":"ag-ltr","ag-popup-child"),e.hasAttribute("role")||Or(e,"dialog"),_d(e,t),n.appendChild(e),s.appendChild(n),i?this.setAlwaysOnTop(e,!0):this.bringPopupToFront(e),n}handleThemeChange(e){if(e.themeChanged)for(const t of this.popupList)this.environment.applyThemeClasses(t.wrapper)}addEventListenersToPopup(e){const t=yi(this.gos),i=this.getPopupParent(),{wrapperEl:s,eChild:n,closedCallback:r,afterGuiAttached:o,closeOnEsc:a,modal:l}=e;let d=!1;const h=y=>{if(!s.contains(ui(this.gos)))return;y.key===te.ESCAPE&&!ea(y)&&v({keyboardEvent:y})},p=y=>v({mouseEvent:y}),f=y=>v({touchEvent:y}),v=(y={})=>{const{mouseEvent:S,touchEvent:w,keyboardEvent:b,forceHide:x}=y;!x&&(this.isEventFromCurrentPopup({mouseEvent:S,touchEvent:w},n)||d)||(d=!0,i.removeChild(s),t.removeEventListener("keydown",h),t.removeEventListener("mousedown",p),t.removeEventListener("touchstart",f),t.removeEventListener("contextmenu",p),this.eventService.removeEventListener("dragStarted",p),r&&r(S||w||b),this.removePopupFromPopupList(n))};return o&&o({hidePopup:v}),window.setTimeout(()=>{a&&t.addEventListener("keydown",h),l&&(t.addEventListener("mousedown",p),this.eventService.addEventListener("dragStarted",p),t.addEventListener("touchstart",f),t.addEventListener("contextmenu",p))},0),v}addPopupToPopupList(e,t,i,s){this.popupList.push({element:e,wrapper:t,hideFunc:i,instanceId:hK++,isAnchored:!!s}),s&&this.setPopupPositionRelatedToElement(e,s)}getPopupIndex(e){return this.popupList.findIndex(t=>t.element===e)}setPopupPositionRelatedToElement(e,t){const i=this.getPopupIndex(e);if(i===-1)return;const s=this.popupList[i];if(s.stopAnchoringPromise&&s.stopAnchoringPromise.then(r=>r&&r()),s.stopAnchoringPromise=void 0,s.isAnchored=!1,!t)return;const n=this.keepPopupPositionedRelativeTo({element:t,ePopup:e,hidePopup:s.hideFunc});return s.stopAnchoringPromise=n,s.isAnchored=!0,n}removePopupFromPopupList(e){this.setAlignedStyles(e,null),this.setPopupPositionRelatedToElement(e,null),this.popupList=this.popupList.filter(t=>t.element!==e)}keepPopupPositionedRelativeTo(e){const t=this.getPopupParent(),i=t.getBoundingClientRect(),{element:s,ePopup:n}=e,r=s.getBoundingClientRect(),o=p=>parseInt(p.substring(0,p.length-1),10),a=(p,f)=>{const v=i[p]-r[p],y=o(n.style[p]);return{initialDiff:v,lastDiff:v,initial:y,last:y,direction:f}},l=a("top",0),d=a("left",1),h=this.getFrameworkOverrides();return new vi(p=>{h.wrapIncoming(()=>{h.setInterval(()=>{const f=t.getBoundingClientRect(),v=s.getBoundingClientRect();if(v.top==0&&v.left==0&&v.height==0&&v.width==0){e.hidePopup();return}const S=(w,b)=>{const x=o(n.style[b]);w.last!==x&&(w.initial=x,w.last=x);const D=f[b]-v[b];if(D!=w.lastDiff){const E=this.keepXYWithinBounds(n,w.initial+w.initialDiff-D,w.direction);n.style[b]=`${E}px`,w.last=E}w.lastDiff=D};S(l,"top"),S(d,"left")},200).then(f=>{p(()=>{f!=null&&window.clearInterval(f)})})},"popupPositioning")})}hasAnchoredPopup(){return this.popupList.some(e=>e.isAnchored)}isEventFromCurrentPopup(e,t){const{mouseEvent:i,touchEvent:s}=e,n=i||s;if(!n)return!1;const r=this.getPopupIndex(t);if(r===-1)return!1;for(let o=r;o<this.popupList.length;o++){const a=this.popupList[o];if(UU(a.element,n))return!0}return this.isElementWithinCustomPopup(n.target)}isElementWithinCustomPopup(e){const t=yi(this.gos);for(;e&&e!==t.body;){if(e.classList.contains("ag-custom-component-popup")||e.parentElement===null)return!0;e=e.parentElement}return!1}getWrapper(e){for(;!e.classList.contains("ag-popup")&&e.parentElement;)e=e.parentElement;return e.classList.contains("ag-popup")?e:null}setAlwaysOnTop(e,t){const i=this.getWrapper(e);i&&(i.classList.toggle("ag-always-on-top",!!t),t&&this.bringPopupToFront(i))}bringPopupToFront(e){const t=this.getPopupParent(),i=Array.prototype.slice.call(t.querySelectorAll(".ag-popup")),s=i.length,n=this.getWrapper(e);if(!n||s<=1||!t.contains(e))return;const r=[],o=[];for(const f of i)f!==n&&(f.classList.contains("ag-always-on-top")?o.push(f):r.push(f));const a=[],l=o.length,p=n.classList.contains("ag-always-on-top")||!l?[...r,...o,n]:[...r,n,...o];for(let f=0;f<=s;f++){const v=p[f];if(i[f]===p[f]||v===n)continue;v.querySelectorAll("div").forEach(S=>{S.scrollTop!==0&&a.push([S,S.scrollTop])}),f===0?t.insertAdjacentElement("afterbegin",v):p[f-1].insertAdjacentElement("afterend",v)}for(;a.length;){const f=a.pop();f[0].scrollTop=f[1]}}},fK=["touchstart","touchend","touchmove","touchcancel"],JN=class{constructor(e="javascript"){this.frameworkName=e,this.renderingEngine="vanilla",this.wrapIncoming=t=>t(),this.wrapOutgoing=t=>t()}setInterval(e,t){return new vi(i=>{i(window.setInterval(e,t))})}addEventListener(e,t,i,s){const n=Bc(fK,t);e.addEventListener(t,i,{capture:!!s,passive:n})}get shouldWrapOutgoing(){return!1}frameworkComponent(e){return null}isFrameworkComponent(e){return!1}getDocLink(e){return`https://www.ag-grid.com/${this.frameworkName==="solid"?"react":this.frameworkName}-data-grid${e?`/${e}`:""}`}},mK=class extends re{constructor(){super(...arguments),this.beanName="cellNavigationService"}wireBeans(e){this.visibleColsService=e.visibleColsService,this.rowModel=e.rowModel,this.rowRenderer=e.rowRenderer,this.pinnedRowModel=e.pinnedRowModel,this.paginationService=e.paginationService,this.pageBoundsService=e.pageBoundsService}getNextCellToFocus(e,t,i=!1){return i?this.getNextCellToFocusWithCtrlPressed(e,t):this.getNextCellToFocusWithoutCtrlPressed(e,t)}getNextCellToFocusWithCtrlPressed(e,t){const i=e===te.UP,s=e===te.DOWN,n=e===te.LEFT;let r,o;if(i||s)o=i?this.pageBoundsService.getFirstRow():this.pageBoundsService.getLastRow(),r=t.column;else{const a=this.visibleColsService.getAllCols(),l=this.gos.get("enableRtl");o=t.rowIndex,r=n!==l?a[0]:nt(a)}return{rowIndex:o,rowPinned:null,column:r}}getNextCellToFocusWithoutCtrlPressed(e,t){let i=t,s=!1;for(;!s;){switch(e){case te.UP:i=this.getCellAbove(i);break;case te.DOWN:i=this.getCellBelow(i);break;case te.RIGHT:this.gos.get("enableRtl")?i=this.getCellToLeft(i):i=this.getCellToRight(i);break;case te.LEFT:this.gos.get("enableRtl")?i=this.getCellToRight(i):i=this.getCellToLeft(i);break;default:i=null,ae("unknown key for navigation ",e);break}i?s=this.isCellGoodToFocusOn(i):s=!0}return i}isCellGoodToFocusOn(e){const t=e.column;let i;switch(e.rowPinned){case"top":i=this.pinnedRowModel.getPinnedTopRow(e.rowIndex);break;case"bottom":i=this.pinnedRowModel.getPinnedBottomRow(e.rowIndex);break;default:i=this.rowModel.getRow(e.rowIndex);break}return i?!t.isSuppressNavigable(i):!1}getCellToLeft(e){if(!e)return null;const t=this.visibleColsService.getColBefore(e.column);return t?{rowIndex:e.rowIndex,column:t,rowPinned:e.rowPinned}:null}getCellToRight(e){if(!e)return null;const t=this.visibleColsService.getColAfter(e.column);return t?{rowIndex:e.rowIndex,column:t,rowPinned:e.rowPinned}:null}getRowBelow(e){const t=e.rowIndex,i=e.rowPinned;let s=!1;if(this.isLastRowInContainer(e))switch(i){case"bottom":return null;case"top":return this.rowModel.isRowsToRender()?{rowIndex:this.pageBoundsService.getFirstRow(),rowPinned:null}:this.pinnedRowModel.isRowsToRender("bottom")?{rowIndex:0,rowPinned:"bottom"}:null;default:return this.pinnedRowModel.isRowsToRender("bottom")?{rowIndex:0,rowPinned:"bottom"}:null}else i&&(s=!0);const n=this.rowModel.getRow(e.rowIndex),r=s?void 0:this.getNextStickyPosition(n);return r||{rowIndex:t+1,rowPinned:i}}getNextStickyPosition(e,t){if(!CC(this.gos)||!e||!e.sticky)return;const i=this.rowRenderer.getStickyTopRowCtrls().some(a=>a.getRowNode().rowIndex===e.rowIndex);let s=[];i?s=[...this.rowRenderer.getStickyTopRowCtrls()].sort((a,l)=>a.getRowNode().rowIndex-l.getRowNode().rowIndex):s=[...this.rowRenderer.getStickyBottomRowCtrls()].sort((a,l)=>l.getRowNode().rowIndex-a.getRowNode().rowIndex);const n=t?-1:1,r=s.findIndex(a=>a.getRowNode().rowIndex===e.rowIndex),o=s[r+n];if(o)return{rowIndex:o.getRowNode().rowIndex,rowPinned:null}}getCellBelow(e){if(!e)return null;const t=this.getRowBelow(e);return t?{rowIndex:t.rowIndex,column:e.column,rowPinned:t.rowPinned}:null}isLastRowInContainer(e){const t=e.rowPinned,i=e.rowIndex;return t==="top"?this.pinnedRowModel.getPinnedTopRowCount()-1<=i:t==="bottom"?this.pinnedRowModel.getPinnedBottomRowCount()-1<=i:this.pageBoundsService.getLastRow()<=i}getRowAbove(e){const t=e.rowIndex,i=e.rowPinned,s=i?t===0:t===this.pageBoundsService.getFirstRow();let n=!1;if(s)return i==="top"?null:i?this.rowModel.isRowsToRender()?this.getLastBodyCell():this.pinnedRowModel.isRowsToRender("top")?this.getLastFloatingTopRow():null:this.pinnedRowModel.isRowsToRender("top")?this.getLastFloatingTopRow():null;i&&(n=!0);const r=this.rowModel.getRow(e.rowIndex),o=n?void 0:this.getNextStickyPosition(r,!0);return o||{rowIndex:t-1,rowPinned:i}}getCellAbove(e){if(!e)return null;const t=this.getRowAbove({rowIndex:e.rowIndex,rowPinned:e.rowPinned});return t?{rowIndex:t.rowIndex,column:e.column,rowPinned:t.rowPinned}:null}getLastBodyCell(){return{rowIndex:this.pageBoundsService.getLastRow(),rowPinned:null}}getLastFloatingTopRow(){return{rowIndex:this.pinnedRowModel.getPinnedTopRowCount()-1,rowPinned:"top"}}getNextTabbedCell(e,t){return t?this.getNextTabbedCellBackwards(e):this.getNextTabbedCellForwards(e)}getNextTabbedCellForwards(e){var r;const t=this.visibleColsService.getAllCols();let i=e.rowIndex,s=e.rowPinned,n=this.visibleColsService.getColAfter(e.column);if(!n){n=t[0];const o=this.getRowBelow(e);if(rt(o)||!o.rowPinned&&!(((r=this.paginationService)==null?void 0:r.isRowInPage(o))??!0))return null;i=o?o.rowIndex:null,s=o?o.rowPinned:null}return{rowIndex:i,column:n,rowPinned:s}}getNextTabbedCellBackwards(e){var r;const t=this.visibleColsService.getAllCols();let i=e.rowIndex,s=e.rowPinned,n=this.visibleColsService.getColBefore(e.column);if(!n){n=nt(t);const o=this.getRowAbove({rowIndex:e.rowIndex,rowPinned:e.rowPinned});if(rt(o)||!o.rowPinned&&!(((r=this.paginationService)==null?void 0:r.isRowInPage(o))??!0))return null;i=o?o.rowIndex:null,s=o?o.rowPinned:null}return{rowIndex:i,column:n,rowPinned:s}}},ks=(e,t)=>{for(const i in t)t[i]=e;return t},Ek={...ks("@ag-grid-community/core",{dispatchEvent:0,destroy:0,getGridId:0,getGridOption:0,isDestroyed:0,setGridOption:0,updateGridOptions:0,getState:0,setNodesSelected:0,selectAll:0,deselectAll:0,selectAllFiltered:0,deselectAllFiltered:0,selectAllOnCurrentPage:0,deselectAllOnCurrentPage:0,getSelectedNodes:0,getSelectedRows:0,redrawRows:0,setRowNodeExpanded:0,getRowNode:0,addRenderedRowListener:0,getRenderedNodes:0,forEachNode:0,getFirstDisplayedRow:0,getFirstDisplayedRowIndex:0,getLastDisplayedRow:0,getLastDisplayedRowIndex:0,getDisplayedRowAtIndex:0,getDisplayedRowCount:0,getModel:0,getVerticalPixelRange:0,getHorizontalPixelRange:0,ensureColumnVisible:0,ensureIndexVisible:0,ensureNodeVisible:0,getFocusedCell:0,clearFocusedCell:0,setFocusedCell:0,tabToNextCell:0,tabToPreviousCell:0,setFocusedHeader:0,addEventListener:0,addGlobalListener:0,removeEventListener:0,removeGlobalListener:0,expireValueCache:0,getValue:0,getCellValue:0,showColumnMenuAfterButtonClick:0,showColumnMenuAfterMouseClick:0,showColumnMenu:0,hidePopupMenu:0,onSortChanged:0,getPinnedTopRowCount:0,getPinnedBottomRowCount:0,getPinnedTopRow:0,getPinnedBottomRow:0,showLoadingOverlay:0,showNoRowsOverlay:0,hideOverlay:0,setGridAriaProperty:0,refreshCells:0,flashCells:0,refreshHeader:0,isAnimationFrameQueueEmpty:0,flushAllAnimationFrames:0,getSizesForCurrentTheme:0,getCellRendererInstances:0,addRowDropZone:0,removeRowDropZone:0,getRowDropZoneParams:0,getColumnDef:0,getColumnDefs:0,sizeColumnsToFit:0,setColumnGroupOpened:0,getColumnGroup:0,getProvidedColumnGroup:0,getDisplayNameForColumn:0,getDisplayNameForColumnGroup:0,getColumn:0,getColumns:0,applyColumnState:0,getColumnState:0,resetColumnState:0,getColumnGroupState:0,setColumnGroupState:0,resetColumnGroupState:0,isPinning:0,isPinningLeft:0,isPinningRight:0,getDisplayedColAfter:0,getDisplayedColBefore:0,setColumnVisible:0,setColumnsVisible:0,setColumnPinned:0,setColumnsPinned:0,getAllGridColumns:0,getDisplayedLeftColumns:0,getDisplayedCenterColumns:0,getDisplayedRightColumns:0,getAllDisplayedColumns:0,getAllDisplayedVirtualColumns:0,moveColumn:0,moveColumnByIndex:0,moveColumns:0,setColumnWidth:0,setColumnWidths:0,getLeftDisplayedColumnGroups:0,getCenterDisplayedColumnGroups:0,getRightDisplayedColumnGroups:0,getAllDisplayedColumnGroups:0,autoSizeColumn:0,autoSizeColumns:0,autoSizeAllColumns:0,undoCellEditing:0,redoCellEditing:0,getCellEditorInstances:0,getEditingCells:0,stopEditing:0,startEditingCell:0,getCurrentUndoSize:0,getCurrentRedoSize:0,isAnyFilterPresent:0,onFilterChanged:0,isColumnFilterPresent:0,getFilterInstance:0,getColumnFilterInstance:0,destroyFilter:0,setFilterModel:0,getFilterModel:0,getColumnFilterModel:0,setColumnFilterModel:0,showColumnFilter:0,isQuickFilterPresent:0,getQuickFilter:0,resetQuickFilter:0,paginationIsLastPageFound:0,paginationGetPageSize:0,paginationGetCurrentPage:0,paginationGetTotalPages:0,paginationGetRowCount:0,paginationGoToNextPage:0,paginationGoToPreviousPage:0,paginationGoToFirstPage:0,paginationGoToLastPage:0,paginationGoToPage:0,expandAll:0,collapseAll:0,onRowHeightChanged:0,setRowCount:0,getCacheBlockState:0,isLastRowIndexKnown:0}),...ks("@ag-grid-community/client-side-row-model",{onGroupExpandedOrCollapsed:0,refreshClientSideRowModel:0,isRowDataEmpty:0,forEachLeafNode:0,forEachNodeAfterFilter:0,forEachNodeAfterFilterAndSort:0,resetRowHeights:0,applyTransaction:0,applyTransactionAsync:0,flushAsyncTransactions:0,getBestCostNodeSelection:0}),...ks("@ag-grid-community/csv-export",{getDataAsCsv:0,exportDataAsCsv:0}),...ks("@ag-grid-community/infinite-row-model",{refreshInfiniteCache:0,purgeInfiniteCache:0,getInfiniteRowCount:0}),...ks("@ag-grid-enterprise/advanced-filter",{getAdvancedFilterModel:0,setAdvancedFilterModel:0,showAdvancedFilterBuilder:0,hideAdvancedFilterBuilder:0}),...ks("@ag-grid-enterprise/charts",{getChartModels:0,getChartRef:0,getChartImageDataURL:0,downloadChart:0,openChartToolPanel:0,closeChartToolPanel:0,createRangeChart:0,createPivotChart:0,createCrossFilterChart:0,updateChart:0,restoreChart:0}),...ks("@ag-grid-enterprise/clipboard",{copyToClipboard:0,cutToClipboard:0,copySelectedRowsToClipboard:0,copySelectedRangeToClipboard:0,copySelectedRangeDown:0,pasteFromClipboard:0}),...ks("@ag-grid-enterprise/excel-export",{getDataAsExcel:0,exportDataAsExcel:0,getSheetDataForExcel:0,getMultipleSheetsAsExcel:0,exportMultipleSheetsAsExcel:0}),...ks("@ag-grid-enterprise/master-detail",{addDetailGridInfo:0,removeDetailGridInfo:0,getDetailGridInfo:0,forEachDetailGridInfo:0}),...ks("@ag-grid-enterprise/menu",{showContextMenu:0,showColumnChooser:0,hideColumnChooser:0}),...ks("@ag-grid-enterprise/range-selection",{getCellRanges:0,addCellRange:0,clearRangeSelection:0,clearCellSelection:0}),...ks("@ag-grid-enterprise/row-grouping",{addAggFunc:0,addAggFuncs:0,clearAggFuncs:0,setColumnAggFunc:0,isPivotMode:0,getPivotResultColumn:0,setValueColumns:0,getValueColumns:0,removeValueColumn:0,removeValueColumns:0,addValueColumn:0,addValueColumns:0,setRowGroupColumns:0,removeRowGroupColumn:0,removeRowGroupColumns:0,addRowGroupColumn:0,addRowGroupColumns:0,getRowGroupColumns:0,moveRowGroupColumn:0,setPivotColumns:0,removePivotColumn:0,removePivotColumns:0,addPivotColumn:0,addPivotColumns:0,getPivotColumns:0,setPivotResultColumns:0,getPivotResultColumns:0}),...ks("@ag-grid-enterprise/server-side-row-model",{getServerSideSelectionState:0,setServerSideSelectionState:0,applyServerSideTransaction:0,applyServerSideTransactionAsync:0,applyServerSideRowData:0,retryServerSideLoads:0,flushServerSideAsyncTransactions:0,refreshServerSide:0,getServerSideGroupLevelState:0}),...ks("@ag-grid-enterprise/side-bar",{isSideBarVisible:0,setSideBarVisible:0,setSideBarPosition:0,openToolPanel:0,closeToolPanel:0,getOpenedToolPanel:0,refreshToolPanel:0,isToolPanelShowing:0,getToolPanelInstance:0,getSideBar:0}),...ks("@ag-grid-enterprise/status-bar",{getStatusPanel:0})},w0={isDestroyed:()=>!0,destroy(){},preConstruct(){},postConstruct(){},preWireBeans(){},wireBeans(){}},vK=(e,t)=>e.eventService.dispatchEvent(t),e2=class{};Reflect.defineProperty(e2,"name",{value:"GridApi"});var yK=class extends re{constructor(){super(),this.beanName="apiFunctionService",this.api=new e2,this.fns={...w0,dispatchEvent:vK},this.beans=null,this.preDestroyLink="";const{api:e}=this;for(const t in Ek)e[t]=this.makeApi(t)[t]}wireBeans(e){this.beans=e}postConstruct(){this.preDestroyLink=this.frameworkOverrides.getDocLink("grid-lifecycle/#grid-pre-destroyed")}addFunction(e,t){var n;const{fns:i,beans:s}=this;i!==w0&&(i[e]=((n=s==null?void 0:s.validationService)==null?void 0:n.validateApiFunction(e,t))??t)}makeApi(e){return{[e]:(...t)=>{const{beans:i,fns:{[e]:s}}=this;return s?s(i,...t):this.apiNotFound(e)}}}apiNotFound(e){const{beans:t,gos:i,preDestroyLink:s}=this;if(!t)ae(`Grid API function ${e}() cannot be called as the grid has been destroyed.
Either clear local references to the grid api, when it is destroyed, or check gridApi.isDestroyed() to avoid calling methods against a destroyed grid.
To run logic when the grid is about to be destroyed use the gridPreDestroy event. See: ${s}`);else{const n=Ek[e];i.assertModuleRegistered(n,`api.${e}`)&&ae(`API function '${e}' not registered to module '${n}'`)}}destroy(){super.destroy(),this.fns=w0,this.beans=null}};function CK(e){return{beanName:"gridApi",bean:e.getBean("apiFunctionService").api}}var bK=class extends re{constructor(){super(...arguments),this.beanName="columnDefFactory"}buildColumnDefs(e,t,i){const s=[],n={};return e.forEach(r=>{const o=this.createDefFromColumn(r,t,i);let a=!0,l=o,d=r.getOriginalParent(),h=null;for(;d;){let p=null;if(d.isPadding()){d=d.getOriginalParent();continue}const f=n[d.getGroupId()];if(f){f.children.push(l),a=!1;break}if(p=this.createDefFromGroup(d),p&&(p.children=[l],n[p.groupId]=p,l=p,d=d.getOriginalParent()),d!=null&&h===d){a=!1;break}h=d}a&&s.push(l)}),s}createDefFromGroup(e){const t=oM(e.getColGroupDef(),["children"]);return t&&(t.groupId=e.getGroupId()),t}createDefFromColumn(e,t,i){const s=oM(e.getColDef());return s.colId=e.getColId(),s.width=e.getActualWidth(),s.rowGroup=e.isRowGroupActive(),s.rowGroupIndex=e.isRowGroupActive()?t.indexOf(e):null,s.pivot=e.isPivotActive(),s.pivotIndex=e.isPivotActive()?i.indexOf(e):null,s.aggFunc=e.isValueActive()?e.getAggFunc():null,s.hide=e.isVisible()?void 0:!0,s.pinned=e.isPinned()?e.getPinned():null,s.sort=e.getSort()?e.getSort():null,s.sortIndex=e.getSortIndex()!=null?e.getSortIndex():null,s}},SK=class extends re{constructor(){super(...arguments),this.beanName="columnEventDispatcher"}visibleCols(e){this.eventService.dispatchEvent({type:"displayedColumnsChanged",source:e})}gridColumns(){this.eventService.dispatchEvent({type:"gridColumnsChanged"})}headerHeight(e){this.eventService.dispatchEvent({type:"columnHeaderHeightChanged",column:e,columns:[e],source:"autosizeColumnHeaderHeight"})}groupHeaderHeight(e){this.eventService.dispatchEvent({type:"columnGroupHeaderHeightChanged",columnGroup:e,source:"autosizeColumnGroupHeaderHeight"})}groupOpened(e){this.eventService.dispatchEvent({type:"columnGroupOpened",columnGroup:e.length===1?e[0]:void 0,columnGroups:e})}rowGroupChanged(e,t){this.eventService.dispatchEvent({type:"columnRowGroupChanged",columns:e,column:e.length===1?e[0]:null,source:t})}genericColumnEvent(e,t,i){this.eventService.dispatchEvent({type:e,columns:t,column:t.length===1?t[0]:null,source:i})}pivotModeChanged(){this.eventService.dispatchEvent({type:"columnPivotModeChanged"})}virtualColumnsChanged(e){this.eventService.dispatchEvent({type:"virtualColumnsChanged",afterScroll:e})}newColumnsLoaded(e){this.eventService.dispatchEvent({type:"newColumnsLoaded",source:e})}everythingChanged(e){this.eventService.dispatchEvent({type:"columnEverythingChanged",source:e})}columnMoved(e){const{movedColumns:t,source:i,toIndex:s,finished:n}=e;this.eventService.dispatchEvent({type:"columnMoved",columns:t,column:t&&t.length===1?t[0]:null,toIndex:s,finished:n,source:i})}columnPinned(e,t){if(!e.length)return;const i=e.length===1?e[0]:null,s=this.getCommonValue(e,n=>n.getPinned());this.eventService.dispatchEvent({type:"columnPinned",pinned:s??null,columns:e,column:i,source:t})}columnVisible(e,t){if(!e.length)return;const i=e.length===1?e[0]:null,s=this.getCommonValue(e,n=>n.isVisible());this.eventService.dispatchEvent({type:"columnVisible",visible:s,columns:e,column:i,source:t})}getCommonValue(e,t){if(!e||e.length==0)return;const i=t(e[0]);for(let s=1;s<e.length;s++)if(i!==t(e[s]))return;return i}columnChanged(e,t,i){this.eventService.dispatchEvent({type:e,columns:t,column:t&&t.length==1?t[0]:null,source:i})}columnResized(e,t,i,s=null){e&&e.length&&this.eventService.dispatchEvent({type:"columnResized",columns:e,column:e.length===1?e[0]:null,flexColumns:s,finished:t,source:i})}},wK=class extends re{constructor(){super(...arguments),this.beanName="columnGetStateService"}wireBeans(e){this.columnModel=e.columnModel,this.funcColsService=e.funcColsService}getColumnState(){const e=this.columnModel.getColDefCols();if(rt(e)||!this.columnModel.isAlive())return[];const i=this.columnModel.getAllCols().map(s=>this.createStateItemFromColumn(s));return this.orderColumnStateList(i),i}createStateItemFromColumn(e){const t=this.funcColsService.getRowGroupColumns(),i=this.funcColsService.getPivotColumns(),s=e.isRowGroupActive()?t.indexOf(e):null,n=e.isPivotActive()?i.indexOf(e):null,r=e.isValueActive()?e.getAggFunc():null,o=e.getSort()!=null?e.getSort():null,a=e.getSortIndex()!=null?e.getSortIndex():null,l=e.getFlex()!=null&&e.getFlex()>0?e.getFlex():null;return{colId:e.getColId(),width:e.getActualWidth(),hide:!e.isVisible(),pinned:e.getPinned(),sort:o,sortIndex:a,aggFunc:r,rowGroup:e.isRowGroupActive(),rowGroupIndex:s,pivot:e.isPivotActive(),pivotIndex:n,flex:l}}orderColumnStateList(e){const t=this.columnModel.getCols(),i=new Map(t.map((s,n)=>[s.getColId(),n]));e.sort((s,n)=>{const r=i.has(s.colId)?i.get(s.colId):-1,o=i.has(n.colId)?i.get(n.colId):-1;return r-o})}},xK=class extends re{constructor(){super(...arguments),this.beanName="columnGroupStateService"}wireBeans(e){this.columnModel=e.columnModel,this.columnAnimationService=e.columnAnimationService,this.eventDispatcher=e.columnEventDispatcher,this.visibleColsService=e.visibleColsService}getColumnGroupState(){const e=[],t=this.columnModel.getColTree();return ca(null,t,i=>{Ns(i)&&e.push({groupId:i.getGroupId(),open:i.isExpanded()})}),e}resetColumnGroupState(e){const t=this.columnModel.getColDefColTree();if(!t)return;const i=[];ca(null,t,s=>{if(Ns(s)){const n=s.getColGroupDef(),r={groupId:s.getGroupId(),open:n?n.openByDefault:void 0};i.push(r)}}),this.setColumnGroupState(i,e)}setColumnGroupState(e,t){if(!this.columnModel.getColTree())return;this.columnAnimationService.start();const s=[];e.forEach(n=>{const r=n.groupId,o=n.open,a=this.columnModel.getProvidedColGroup(r);a&&a.isExpanded()!==o&&(a.setExpanded(o),s.push(a))}),this.visibleColsService.refresh(t,!0),s.length&&this.eventDispatcher.groupOpened(s),this.columnAnimationService.finish()}},MK=class extends re{constructor(){super(...arguments),this.beanName="columnViewportService",this.colsWithinViewport=[],this.headerColsWithinViewport=[],this.colsWithinViewportHash="",this.rowsOfHeadersToRenderLeft={},this.rowsOfHeadersToRenderRight={},this.rowsOfHeadersToRenderCenter={}}wireBeans(e){this.visibleColsService=e.visibleColsService,this.columnModel=e.columnModel,this.eventDispatcher=e.columnEventDispatcher}postConstruct(){this.suppressColumnVirtualisation=this.gos.get("suppressColumnVirtualisation")}setScrollPosition(e,t,i=!1){const s=this.visibleColsService.isBodyWidthDirty();if(!(e===this.scrollWidth&&t===this.scrollPosition&&!s)){if(this.scrollWidth=e,this.scrollPosition=t,this.visibleColsService.setBodyWidthDirty(),this.gos.get("enableRtl")){const r=this.visibleColsService.getBodyContainerWidth();this.viewportLeft=r-this.scrollPosition-this.scrollWidth,this.viewportRight=r-this.scrollPosition}else this.viewportLeft=this.scrollPosition,this.viewportRight=this.scrollWidth+this.scrollPosition;this.columnModel.isReady()&&this.checkViewportColumns(i)}}getHeadersToRender(e,t){let i;switch(e){case"left":i=this.rowsOfHeadersToRenderLeft[t];break;case"right":i=this.rowsOfHeadersToRenderRight[t];break;default:i=this.rowsOfHeadersToRenderCenter[t];break}return i||[]}extractViewportColumns(){const e=this.visibleColsService.getCenterCols();this.isColumnVirtualisationSuppressed()?(this.colsWithinViewport=e,this.headerColsWithinViewport=e):(this.colsWithinViewport=e.filter(this.isColumnInRowViewport.bind(this)),this.headerColsWithinViewport=e.filter(this.isColumnInHeaderViewport.bind(this)))}isColumnVirtualisationSuppressed(){return this.suppressColumnVirtualisation||this.viewportRight===0}clear(){this.rowsOfHeadersToRenderLeft={},this.rowsOfHeadersToRenderRight={},this.rowsOfHeadersToRenderCenter={},this.colsWithinViewportHash=""}isColumnInHeaderViewport(e){return e.isAutoHeaderHeight()||this.isAnyParentAutoHeaderHeight(e)?!0:this.isColumnInRowViewport(e)}isAnyParentAutoHeaderHeight(e){for(;e;){if(e.isAutoHeaderHeight())return!0;e=e.getParent()}return!1}isColumnInRowViewport(e){if(e.isAutoHeight())return!0;const t=e.getLeft()||0,i=t+e.getActualWidth(),s=this.viewportLeft-200,n=this.viewportRight+200,r=t<s&&i<s,o=t>n&&i>n;return!r&&!o}getViewportColumns(){const e=this.visibleColsService.getLeftCols(),t=this.visibleColsService.getRightCols();return this.colsWithinViewport.concat(e).concat(t)}getColsWithinViewport(e){if(!this.columnModel.isColSpanActive())return this.colsWithinViewport;const t=n=>{const r=n.getLeft();return ve(r)&&r>this.viewportLeft},i=this.isColumnVirtualisationSuppressed()?void 0:this.isColumnInRowViewport.bind(this),s=this.visibleColsService.getColsCenter();return this.visibleColsService.getColsForRow(e,s,i,t)}checkViewportColumns(e=!1){this.extractViewport()&&this.eventDispatcher.virtualColumnsChanged(e)}calculateHeaderRows(){this.rowsOfHeadersToRenderLeft={},this.rowsOfHeadersToRenderRight={},this.rowsOfHeadersToRenderCenter={};const e={},t=this.visibleColsService.getLeftCols(),i=this.visibleColsService.getRightCols();this.headerColsWithinViewport.concat(t).concat(i).forEach(r=>e[r.getId()]=!0);const n=(r,o,a)=>{let l=!1;for(let d=0;d<r.length;d++){const h=r[d];let p=!1;if(bl(h))p=e[h.getId()]===!0;else{const v=h.getDisplayedChildren();v&&(p=n(v,o,a+1))}p&&(l=!0,o[a]||(o[a]=[]),o[a].push(h))}return l};n(this.visibleColsService.getTreeLeft(),this.rowsOfHeadersToRenderLeft,0),n(this.visibleColsService.getTreeRight(),this.rowsOfHeadersToRenderRight,0),n(this.visibleColsService.getTreeCenter(),this.rowsOfHeadersToRenderCenter,0)}extractViewport(){const e=s=>`${s.getId()}-${s.getPinned()||"normal"}`;this.extractViewportColumns();const t=this.getViewportColumns().map(e).join("#"),i=this.colsWithinViewportHash!==t;return i&&(this.colsWithinViewportHash=t,this.calculateHeaderRows()),i}},DK=class extends re{constructor(){super(...arguments),this.beanName="agComponentUtils"}wireBeans(e){this.componentMetadataProvider=e.componentMetadataProvider}adaptFunction(e,t){const i=this.componentMetadataProvider.retrieve(e);return i&&i.functionAdapter?i.functionAdapter(t):null}adaptCellRendererFunction(e){class t{refresh(){return!1}getGui(){return this.eGui}init(s){const n=e(s),r=typeof n;if(r==="string"||r==="number"||r==="boolean"){this.eGui=kp("<span>"+n+"</span>");return}if(n==null){this.eGui=kp("<span></span>");return}this.eGui=n}}return t}doesImplementIComponent(e){return e?e.prototype&&"getGui"in e.prototype:!1}},RK=class extends re{constructor(){super(...arguments),this.beanName="componentMetadataProvider"}wireBeans(e){this.agComponentUtils=e.agComponentUtils}postConstruct(){this.componentMetaData={dateComponent:{mandatoryMethodList:["getDate","setDate"],optionalMethodList:["afterGuiAttached","setInputPlaceholder","setInputAriaLabel","setDisabled","onParamsUpdated","refresh"]},detailCellRenderer:{mandatoryMethodList:[],optionalMethodList:["refresh"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},dragAndDropImageComponent:{mandatoryMethodList:["setIcon","setLabel"],optionalMethodList:[]},headerComponent:{mandatoryMethodList:[],optionalMethodList:["refresh"]},headerGroupComponent:{mandatoryMethodList:[],optionalMethodList:[]},loadingCellRenderer:{mandatoryMethodList:[],optionalMethodList:[],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},loadingOverlayComponent:{mandatoryMethodList:[],optionalMethodList:["refresh"]},noRowsOverlayComponent:{mandatoryMethodList:[],optionalMethodList:["refresh"]},floatingFilterComponent:{mandatoryMethodList:["onParentModelChanged"],optionalMethodList:["afterGuiAttached","onParamsUpdated","refresh"]},cellRenderer:{mandatoryMethodList:[],optionalMethodList:["refresh","afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},cellEditor:{mandatoryMethodList:["getValue"],optionalMethodList:["isPopup","isCancelBeforeStart","isCancelAfterEnd","getPopupPosition","focusIn","focusOut","afterGuiAttached","refresh"]},innerRenderer:{mandatoryMethodList:[],optionalMethodList:["afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},fullWidthCellRenderer:{mandatoryMethodList:[],optionalMethodList:["refresh","afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},groupRowRenderer:{mandatoryMethodList:[],optionalMethodList:["afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},filter:{mandatoryMethodList:["isFilterActive","doesFilterPass","getModel","setModel"],optionalMethodList:["afterGuiAttached","afterGuiDetached","onNewRowsLoaded","getModelAsString","onFloatingFilterChanged","onAnyFilterChanged","refresh"]},statusPanel:{mandatoryMethodList:[],optionalMethodList:["refresh"]},toolPanel:{mandatoryMethodList:[],optionalMethodList:["refresh","getState"]},tooltipComponent:{mandatoryMethodList:[],optionalMethodList:[]},menuItem:{mandatoryMethodList:[],optionalMethodList:["setActive","select","setExpanded","configureDefaults"]}}}retrieve(e){return this.componentMetaData[e]}},EK=["rowPositionUtils","cellPositionUtils","headerPositionUtils","paginationAutoPageSizeService","apiFunctionService","gridApi","userComponentRegistry","agComponentUtils","componentMetadataProvider","resizeObserverService","userComponentFactory","rowContainerHeightService","horizontalResizeService","localeService","validationService","pinnedRowModel","dragService","visibleColsService","eventService","gos","popupService","selectionService","columnFilterService","quickFilterService","filterManager","columnModel","headerNavigationService","pageBoundsService","paginationService","pageBoundsListener","rowRenderer","expressionService","columnFactory","alignedGridsService","navigationService","valueCache","valueService","loggerFactory","autoWidthCalculator","filterMenuFactory","dragAndDropService","focusService","mouseEventService","environment","cellNavigationService","stylingService","scrollVisibleService","sortController","columnHoverService","columnAnimationService","selectableService","autoColService","controlsColService","changeDetectionService","animationFrameService","undoRedoService","columnDefFactory","rowCssClassCalculator","rowNodeBlockLoader","rowNodeSorter","ctrlsService","pinnedWidthService","rowNodeEventThrottle","ctrlsFactory","dataTypeService","syncService","overlayService","stateService","expansionService","apiEventService","ariaAnnouncementService","menuService","columnApplyStateService","columnEventDispatcher","columnMoveService","columnAutosizeService","columnGetStateService","columnGroupStateService","columnSizeService","funcColsService","columnNameService","columnViewportService","pivotResultColsService","showRowGroupColsService"],Ak=Object.fromEntries(EK.map((e,t)=>[e,t]));function AK(e,t){const i=(e.beanName?Ak[e.beanName]:void 0)??Number.MAX_SAFE_INTEGER,s=(t.beanName?Ak[t.beanName]:void 0)??Number.MAX_SAFE_INTEGER;return i-s}function TK(e,t){return(e==null?void 0:e.beanName)==="gridDestroyService"?-1:0}var IK=class extends re{constructor(){super(...arguments),this.beanName="ctrlsFactory",this.registry={}}register(e){this.registry[e.name]=e.classImp}getInstance(e,...t){const i=this.registry[e];if(i!=null)return new i(...t)}},LK=class extends re{constructor(){super(...arguments),this.beanName="ctrlsService",this.params={gridCtrl:void 0,gridBodyCtrl:void 0,center:void 0,left:void 0,right:void 0,bottomCenter:void 0,bottomLeft:void 0,bottomRight:void 0,topCenter:void 0,topLeft:void 0,topRight:void 0,stickyTopCenter:void 0,stickyTopLeft:void 0,stickyTopRight:void 0,stickyBottomCenter:void 0,stickyBottomLeft:void 0,stickyBottomRight:void 0,fakeHScrollComp:void 0,fakeVScrollComp:void 0,gridHeaderCtrl:void 0,centerHeader:void 0,leftHeader:void 0,rightHeader:void 0},this.ready=!1,this.readyCallbacks=[],this.runReadyCallbacksAsync=!1}wireBeans(e){var t,i;this.runReadyCallbacksAsync=((i=(t=e.frameworkOverrides).runWhenReadyAsync)==null?void 0:i.call(t))??!1}postConstruct(){this.addEventListener("ready",()=>{this.updateReady(),this.ready&&(this.readyCallbacks.forEach(e=>e(this.params)),this.readyCallbacks.length=0)},this.runReadyCallbacksAsync)}updateReady(){this.ready=Object.values(this.params).every(e=>(e==null?void 0:e.isAlive())??!1)}whenReady(e,t){this.ready?t(this.params):this.readyCallbacks.push(t),e.addDestroyFunc(()=>{const i=this.readyCallbacks.indexOf(t);i>=0&&this.readyCallbacks.splice(i,1)})}register(e,t){this.params[e]=t,this.updateReady(),this.ready&&this.dispatchLocalEvent({type:"ready"}),t.addDestroyFunc(()=>{this.updateReady()})}get(e){return this.params[e]}getGridBodyCtrl(){return this.params.gridBodyCtrl}getHeaderRowContainerCtrls(){const{leftHeader:e,centerHeader:t,rightHeader:i}=this.params;return[e,i,t]}getHeaderRowContainerCtrl(e){const t=this.params;switch(e){case"left":return t.leftHeader;case"right":return t.rightHeader;default:return t.centerHeader}}},kK=class extends re{constructor(){super(...arguments),this.beanName="cellPositionUtils"}createId(e){const{rowIndex:t,rowPinned:i,column:s}=e;return this.createIdFromValues({rowIndex:t,column:s,rowPinned:i})}createIdFromValues(e){const{rowIndex:t,rowPinned:i,column:s}=e;return`${t}.${i??"null"}.${s.getId()}`}equals(e,t){const i=e.column===t.column,s=e.rowPinned===t.rowPinned,n=e.rowIndex===t.rowIndex;return i&&s&&n}},PK=class extends re{constructor(){super(...arguments),this.beanName="rowNodeEventThrottle",this.events=[]}wireBeans(e){this.animationFrameService=e.animationFrameService,this.rowModel=e.rowModel}postConstruct(){Ut(this.gos)&&(this.clientSideRowModel=this.rowModel)}dispatchExpanded(e,t){if(this.clientSideRowModel==null){this.eventService.dispatchEvent(e);return}this.events.push(e);const i=()=>{this.clientSideRowModel&&this.clientSideRowModel.onRowGroupOpened(),this.events.forEach(s=>this.eventService.dispatchEvent(s)),this.events=[]};t?i():(this.dispatchExpandedDebounced==null&&(this.dispatchExpandedDebounced=this.animationFrameService.debounce(i)),this.dispatchExpandedDebounced())}},OK=class extends re{constructor(){super(...arguments),this.beanName="rowPositionUtils"}wireBeans(e){this.rowModel=e.rowModel,this.pinnedRowModel=e.pinnedRowModel,this.pageBoundsService=e.pageBoundsService}getFirstRow(){let e=0,t;return this.pinnedRowModel.getPinnedTopRowCount()?t="top":this.rowModel.getRowCount()?(t=null,e=this.pageBoundsService.getFirstRow()):this.pinnedRowModel.getPinnedBottomRowCount()&&(t="bottom"),t===void 0?null:{rowIndex:e,rowPinned:t}}getLastRow(){let e,t=null;const i=this.pinnedRowModel.getPinnedBottomRowCount(),s=this.pinnedRowModel.getPinnedTopRowCount();return i?(t="bottom",e=i-1):this.rowModel.getRowCount()?(t=null,e=this.pageBoundsService.getLastRow()):s&&(t="top",e=s-1),e===void 0?null:{rowIndex:e,rowPinned:t}}getRowNode(e){switch(e.rowPinned){case"top":return this.pinnedRowModel.getPinnedTopRow(e.rowIndex);case"bottom":return this.pinnedRowModel.getPinnedBottomRow(e.rowIndex);default:return this.rowModel.getRow(e.rowIndex)}}sameRow(e,t){return!e&&!t?!0:e&&!t||!e&&t?!1:e.rowIndex===t.rowIndex&&e.rowPinned==t.rowPinned}before(e,t){switch(e.rowPinned){case"top":if(t.rowPinned!=="top")return!0;break;case"bottom":if(t.rowPinned!=="bottom")return!1;break;default:if(ve(t.rowPinned))return t.rowPinned!=="top";break}return e.rowIndex<t.rowIndex}},Tk={cssName:"--ag-row-height",changeKey:"rowHeightChanged",defaultValue:42},Ik={cssName:"--ag-header-height",changeKey:"headerHeightChanged",defaultValue:48},Lk={cssName:"--ag-list-item-height",changeKey:"listItemHeightChanged",defaultValue:24},FK=class extends re{constructor(){super(...arguments),this.beanName="environment",this.sizeEls=new Map,this.lastKnownValues=new Map,this.ancestorThemeClasses=[],this.sizesMeasured=!1,this.gridTheme=null}wireBeans(e){this.resizeObserverService=e.resizeObserverService,this.eGridDiv=e.eGridDiv}postConstruct(){this.addManagedPropertyListener("theme",()=>this.handleThemeGridOptionChange()),this.handleThemeGridOptionChange(),this.addDestroyFunc(()=>this.stopUsingTheme()),this.addManagedPropertyListener("rowHeight",()=>this.refreshRowHeightVariable()),this.ancestorThemeClasses=this.readAncestorThemeClasses(),this.setUpThemeClassObservers(),this.getSizeEl(Tk),this.getSizeEl(Ik),this.getSizeEl(Lk)}getDefaultRowHeight(){return this.getCSSVariablePixelValue(Tk)}getDefaultHeaderHeight(){return this.getCSSVariablePixelValue(Ik)}getDefaultColumnMinWidth(){return Math.min(36,this.getDefaultRowHeight())}getDefaultListItemHeight(){return this.getCSSVariablePixelValue(Lk)}hasMeasuredSizes(){return this.sizesMeasured}getGridThemeClass(){var e;return((e=this.gridTheme)==null?void 0:e.getCssClass())||null}getThemeClasses(){return this.gridTheme?[this.gridTheme.getCssClass()]:this.ancestorThemeClasses}applyThemeClasses(e){const t=this.getThemeClasses();for(const i of Array.from(e.classList))i.startsWith("ag-theme-")&&!t.includes(i)&&e.classList.remove(i);e.classList.add(...t)}refreshRowHeightVariable(){const e=this.eGridDiv.style.getPropertyValue("--ag-line-height").trim(),t=this.gos.get("rowHeight");if(t==null||isNaN(t)||!isFinite(t))return e!==null&&this.eGridDiv.style.setProperty("--ag-line-height",null),-1;const i=`${t}px`;return e!=i?(this.eGridDiv.style.setProperty("--ag-line-height",i),t):e!=""?parseFloat(e):-1}getCSSVariablePixelValue(e){const t=this.lastKnownValues.get(e);if(t!=null)return t;const i=this.measureSizeEl(e);return i==="detached"||i==="no-styles"?e.defaultValue:(this.lastKnownValues.set(e,i),i)}measureSizeEl(e){const t=this.getSizeEl(e);if(t.offsetParent==null)return"detached";const i=t.offsetWidth;return i===kk?"no-styles":(this.sizesMeasured=!0,i)}getSizeEl(e){let t=this.sizeEls.get(e);if(t)return t;let i=this.eMeasurementContainer;i||(i=this.eMeasurementContainer=document.createElement("div"),i.className="ag-measurement-container",this.gos.get("theme")&&this.applyThemeClasses(i),this.eGridDiv.appendChild(i)),t=document.createElement("div"),t.style.width=`var(${e.cssName}, ${kk}px)`,i.appendChild(t),this.sizeEls.set(e,t);let s=this.measureSizeEl(e);s==="no-styles"&&ae(`no value for ${e.cssName}. This usually means that the grid has been initialised before styles have been loaded. The default value of ${e.defaultValue} will be used and updated when styles load.`);const n=this.resizeObserverService.observeResize(t,()=>{const r=this.measureSizeEl(e);r==="detached"||r==="no-styles"||(this.lastKnownValues.set(e,r),r!==s&&(s=r,this.fireGridStylesChangedEvent(e.changeKey)))});return this.addDestroyFunc(()=>n()),t}fireGridStylesChangedEvent(e){this.eventService.dispatchEvent({type:"gridStylesChanged",[e]:!0})}setUpThemeClassObservers(){const e=new MutationObserver(()=>{const i=this.readAncestorThemeClasses();NK(i,this.ancestorThemeClasses)||(this.ancestorThemeClasses=i,this.fireGridStylesChangedEvent("themeChanged"))});let t=this.eGridDiv;for(;t;)e.observe(t||this.eGridDiv,{attributes:!0,attributeFilter:["class"]}),t=t.parentElement;this.addDestroyFunc(()=>e.disconnect())}readAncestorThemeClasses(){let e=this.eGridDiv;const t=[];for(;e;){const i=Array.from(e.classList).filter(s=>s.startsWith("ag-theme-"));for(const s of i)t.includes(s)||t.unshift(s);e=e.parentElement}return Object.freeze(t)}handleThemeGridOptionChange(){const{gos:e,eMeasurementContainer:t,gridTheme:i}=this,s=e.get("theme")||null;s!==i&&(i==null||i.stopUse(),this.gridTheme=s,s==null||s.startUse({loadThemeGoogleFonts:e.get("loadThemeGoogleFonts"),container:this.eGridDiv}),t&&this.applyThemeClasses(t),this.fireGridStylesChangedEvent("themeChanged"))}stopUsingTheme(){var e;(e=this.gridTheme)==null||e.stopUse(),this.gridTheme=null}},NK=(e,t)=>e.length===t.length&&e.findIndex((i,s)=>e[s]!==t[s])===-1,kk=15538,zK=class extends re{constructor(){super(...arguments),this.beanName="eventService",this.globalEventService=new rh}wireBeans(e){this.globalEventListener=e.globalEventListener,this.globalSyncEventListener=e.globalSyncEventListener}postConstruct(){if(this.globalEventListener){const e=vy(this.gos);this.addGlobalListener(this.globalEventListener,e)}this.globalSyncEventListener&&this.addGlobalListener(this.globalSyncEventListener,!1)}addEventListener(e,t,i){this.globalEventService.addEventListener(e,t,i)}removeEventListener(e,t,i){this.globalEventService.removeEventListener(e,t,i)}addGlobalListener(e,t=!1){this.globalEventService.addGlobalListener(e,t)}removeGlobalListener(e,t=!1){this.globalEventService.removeGlobalListener(e,t)}dispatchLocalEvent(){}dispatchEvent(e){this.globalEventService.dispatchEvent(this.gos.addGridCommonParams(e))}dispatchEventOnce(e){this.globalEventService.dispatchEventOnce(this.gos.addGridCommonParams(e))}},tR=class $n extends re{constructor(){super(...arguments),this.beanName="focusService"}wireBeans(t){this.eGridDiv=t.eGridDiv,this.columnModel=t.columnModel,this.visibleColsService=t.visibleColsService,this.headerNavigationService=t.headerNavigationService,this.headerPositionUtils=t.headerPositionUtils,this.rowRenderer=t.rowRenderer,this.rowPositionUtils=t.rowPositionUtils,this.cellPositionUtils=t.cellPositionUtils,this.navigationService=t.navigationService,this.ctrlsService=t.ctrlsService,this.filterManager=t.filterManager,this.rangeService=t.rangeService,this.advancedFilterService=t.advancedFilterService,this.overlayService=t.overlayService}static addKeyboardModeEvents(t){this.instanceCount>0||(t.addEventListener("keydown",$n.toggleKeyboardMode),t.addEventListener("mousedown",$n.toggleKeyboardMode))}static removeKeyboardModeEvents(t){this.instanceCount>0||(t.removeEventListener("keydown",$n.toggleKeyboardMode),t.removeEventListener("mousedown",$n.toggleKeyboardMode))}static toggleKeyboardMode(t){const i=$n.keyboardModeActive,s=t.type==="keydown";s&&(t.ctrlKey||t.metaKey||t.altKey)||i!==s&&($n.keyboardModeActive=s)}postConstruct(){const t=this.clearFocusedCell.bind(this);this.addManagedEventListeners({columnPivotModeChanged:t,newColumnsLoaded:this.onColumnEverythingChanged.bind(this),columnGroupOpened:t,columnRowGroupChanged:t}),this.registerKeyboardFocusEvents(),this.ctrlsService.whenReady(this,i=>{this.gridCtrl=i.gridCtrl})}registerKeyboardFocusEvents(){const t=yi(this.gos);$n.addKeyboardModeEvents(t),$n.instanceCount++,this.addDestroyFunc(()=>{$n.instanceCount--,$n.removeKeyboardModeEvents(t)})}onColumnEverythingChanged(){if(!this.focusedCellPosition)return;const t=this.focusedCellPosition.column,i=this.columnModel.getCol(t.getId());t!==i&&this.clearFocusedCell()}isKeyboardMode(){return $n.keyboardModeActive}getFocusCellToUseAfterRefresh(){return this.gos.get("suppressFocusAfterRefresh")||!this.focusedCellPosition||this.isDomDataMissingInHierarchy(ui(this.gos),Hc.DOM_DATA_KEY_ROW_CTRL)?null:this.focusedCellPosition}getFocusHeaderToUseAfterRefresh(){return this.gos.get("suppressFocusAfterRefresh")||!this.focusedHeaderPosition||this.isDomDataMissingInHierarchy(ui(this.gos),MC.DOM_DATA_KEY_HEADER_CTRL)?null:this.focusedHeaderPosition}isDomDataMissingInHierarchy(t,i){let s=t;for(;s;){if(Rp(this.gos,s,i))return!1;s=s.parentNode}return!0}getFocusedCell(){return this.focusedCellPosition}shouldRestoreFocus(t){return this.isCellRestoreFocused(t)?(setTimeout(()=>{this.restoredFocusedCellPosition=null},0),!0):!1}clearRestoreFocus(){this.restoredFocusedCellPosition=null,this.awaitRestoreFocusedCell=!1}restoreFocusedCell(t,i){this.awaitRestoreFocusedCell=!0,setTimeout(()=>{this.awaitRestoreFocusedCell&&(this.setRestoreFocusedCell(t),i())})}isCellRestoreFocused(t){return this.restoredFocusedCellPosition==null?!1:this.cellPositionUtils.equals(t,this.restoredFocusedCellPosition)}setRestoreFocusedCell(t){this.getFrameworkOverrides().renderingEngine==="react"&&(this.restoredFocusedCellPosition=t)}getFocusEventParams(t){const{rowIndex:i,rowPinned:s,column:n}=t,r={rowIndex:i,rowPinned:s,column:n,isFullWidthCell:!1},o=this.rowRenderer.getRowByPosition({rowIndex:i,rowPinned:s});return o&&(r.isFullWidthCell=o.isFullWidth()),r}clearFocusedCell(){if(this.restoredFocusedCellPosition=null,this.focusedCellPosition==null)return;const t=this.getFocusEventParams(this.focusedCellPosition);this.focusedCellPosition=null,this.eventService.dispatchEvent({type:"cellFocusCleared",...t})}setFocusedCell(t){const{column:i,rowIndex:s,rowPinned:n,forceBrowserFocus:r=!1,preventScrollOnBrowserFocus:o=!1}=t,a=this.columnModel.getCol(i);if(!a){this.focusedCellPosition=null;return}this.focusedCellPosition={rowIndex:s,rowPinned:Jo(n),column:a},this.eventService.dispatchEvent({type:"cellFocused",...this.getFocusEventParams(this.focusedCellPosition),forceBrowserFocus:r,preventScrollOnBrowserFocus:o})}isCellFocused(t){return this.focusedCellPosition==null?!1:this.cellPositionUtils.equals(t,this.focusedCellPosition)}isRowNodeFocused(t){return this.isRowFocused(t.rowIndex,t.rowPinned)}isHeaderWrapperFocused(t){if(this.focusedHeaderPosition==null)return!1;const i=t.getColumnGroupChild(),s=t.getRowIndex(),n=t.getPinned(),{column:r,headerRowIndex:o}=this.focusedHeaderPosition;return i===r&&s===o&&n==r.getPinned()}clearFocusedHeader(){this.focusedHeaderPosition=null}getFocusedHeader(){return this.focusedHeaderPosition}setFocusedHeader(t,i){this.focusedHeaderPosition={headerRowIndex:t,column:i}}isHeaderFocusSuppressed(){return this.gos.get("suppressHeaderFocus")||this.overlayService.isExclusive()}isCellFocusSuppressed(){return this.gos.get("suppressCellFocus")||this.overlayService.isExclusive()}focusHeaderPosition(t){var d;if(this.isHeaderFocusSuppressed())return!1;const{direction:i,fromTab:s,allowUserOverride:n,event:r,fromCell:o,rowWithoutSpanValue:a}=t;let{headerPosition:l}=t;if(o&&((d=this.filterManager)!=null&&d.isAdvancedFilterHeaderActive()))return this.focusAdvancedFilter(l);if(n){const h=this.getFocusedHeader(),p=this.headerNavigationService.getHeaderRowCount();if(s){const f=this.gos.getCallback("tabToNextHeader");f&&(l=this.getHeaderPositionFromUserFunc({userFunc:f,direction:i,currentPosition:h,headerPosition:l,headerRowCount:p}))}else{const f=this.gos.getCallback("navigateToNextHeader");if(f&&r){const v={key:r.key,previousHeaderPosition:h,nextHeaderPosition:l,headerRowCount:p,event:r};l=f(v)}}}return l?this.focusProvidedHeaderPosition({headerPosition:l,direction:i,event:r,fromCell:o,rowWithoutSpanValue:a}):!1}focusHeaderPositionFromUserFunc(t){if(this.isHeaderFocusSuppressed())return!1;const{userFunc:i,headerPosition:s,direction:n,event:r}=t,o=this.getFocusedHeader(),a=this.headerNavigationService.getHeaderRowCount(),l=this.getHeaderPositionFromUserFunc({userFunc:i,direction:n,currentPosition:o,headerPosition:s,headerRowCount:a});return!!l&&this.focusProvidedHeaderPosition({headerPosition:l,direction:n,event:r})}getHeaderPositionFromUserFunc(t){const{userFunc:i,direction:s,currentPosition:n,headerPosition:r,headerRowCount:o}=t,l=i({backwards:s==="Before",previousHeaderPosition:n,nextHeaderPosition:r,headerRowCount:o});return l===!0||l===null?(l===null&&ae("Since v31.3 Returning `null` from tabToNextHeader is deprecated. Return `true` to stay on the current header, or `false` to let the browser handle the tab behaviour."),n):l===!1?null:l}focusProvidedHeaderPosition(t){var p;const{headerPosition:i,direction:s,fromCell:n,rowWithoutSpanValue:r,event:o}=t,{column:a,headerRowIndex:l}=i;if(l===-1)return(p=this.filterManager)!=null&&p.isAdvancedFilterHeaderActive()?this.focusAdvancedFilter(i):this.focusGridView(a);this.headerNavigationService.scrollToColumn(a,s);const d=this.ctrlsService.getHeaderRowContainerCtrl(a.getPinned()),h=(d==null?void 0:d.focusHeader(i.headerRowIndex,a,o))||!1;return h&&(r!=null||n)&&this.headerNavigationService.setCurrentHeaderRowWithoutSpan(r??-1),h}focusFirstHeader(){if(this.overlayService.isExclusive()&&this.focusOverlay())return!0;let t=this.visibleColsService.getAllCols()[0];if(!t)return!1;t.getParent()&&(t=this.visibleColsService.getColGroupAtLevel(t,0));const i=this.headerPositionUtils.getHeaderIndexToFocus(t,0);return this.focusHeaderPosition({headerPosition:i,rowWithoutSpanValue:0})}focusLastHeader(t){if(this.overlayService.isExclusive()&&this.focusOverlay(!0))return!0;const i=this.headerNavigationService.getHeaderRowCount()-1,s=nt(this.visibleColsService.getAllCols());return this.focusHeaderPosition({headerPosition:{headerRowIndex:i,column:s},rowWithoutSpanValue:-1,event:t})}focusPreviousFromFirstCell(t){var i;return(i=this.filterManager)!=null&&i.isAdvancedFilterHeaderActive()?this.focusAdvancedFilter(null):this.focusLastHeader(t)}isAnyCellFocused(){return!!this.focusedCellPosition}isRowFocused(t,i){return this.focusedCellPosition==null?!1:this.focusedCellPosition.rowIndex===t&&this.focusedCellPosition.rowPinned===Jo(i)}findFocusableElements(t,i,s=!1){const n=N8;let r=ZF;i&&(r+=", "+i),s&&(r+=', [tabindex="-1"]');const o=Array.prototype.slice.apply(t.querySelectorAll(n)).filter(d=>ho(d)),a=Array.prototype.slice.apply(t.querySelectorAll(r));return a.length?((d,h)=>d.filter(p=>h.indexOf(p)===-1))(o,a):o}focusInto(t,i=!1,s=!1){const n=this.findFocusableElements(t,null,s),r=i?nt(n):n[0];return r?(r.focus({preventScroll:!0}),!0):!1}findFocusableElementBeforeTabGuard(t,i){if(!i)return null;const s=this.findFocusableElements(t),n=s.indexOf(i);if(n===-1)return null;let r=-1;for(let o=n-1;o>=0;o--)if(s[o].classList.contains("ag-tab-guard-top")){r=o;break}return r<=0?null:s[r-1]}findNextFocusableElement(t=this.eGridDiv,i,s){const n=this.findFocusableElements(t,i?':not([tabindex="-1"])':null),r=ui(this.gos);let o;i?o=n.findIndex(l=>l.contains(r)):o=n.indexOf(r);const a=o+(s?-1:1);return a<0||a>=n.length?null:n[a]}isTargetUnderManagedComponent(t,i){if(!i)return!1;const s=t.querySelectorAll(`.${nu.FOCUS_MANAGED_CLASS}`);if(!s.length)return!1;for(let n=0;n<s.length;n++)if(s[n].contains(i))return!0;return!1}findTabbableParent(t,i=5){let s=0;for(;t&&dM(t)===null&&++s<=i;)t=t.parentElement;return dM(t)===null?null:t}focusOverlay(t){var s;const i=this.overlayService.isVisible()&&((s=this.overlayService.getOverlayWrapper())==null?void 0:s.getGui());return!!i&&this.focusInto(i,t)}focusGridViewFailed(t,i){return i&&this.focusOverlay(t)||t&&this.focusLastHeader()}focusGridView(t,i=!1,s=!0){var r,o;if(this.overlayService.isExclusive())return s&&this.focusOverlay(i);if(this.isCellFocusSuppressed())return i&&!this.isHeaderFocusSuppressed()?this.focusLastHeader():s&&this.focusOverlay(i)?!0:this.focusNextGridCoreContainer(!1);const n=i?this.rowPositionUtils.getLastRow():this.rowPositionUtils.getFirstRow();if(n){const{rowIndex:a,rowPinned:l}=n;if(t??(t=(r=this.getFocusedHeader())==null?void 0:r.column),t&&a!==void 0&&a!==null){if(this.navigationService.ensureCellVisible({rowIndex:a,column:t,rowPinned:l}),i){const d=this.rowRenderer.getRowByPosition(n);if(d!=null&&d.isFullWidth()&&this.navigationService.tryToFocusFullWidthRow(n,i))return!0}return this.setFocusedCell({rowIndex:a,column:t,rowPinned:Jo(l),forceBrowserFocus:!0}),(o=this.rangeService)==null||o.setRangeToCell({rowIndex:a,rowPinned:l,column:t}),!0}}return!!(s&&this.focusOverlay(i)||i&&this.focusLastHeader())}isGridFocused(){const t=ui(this.gos);return!!t&&this.eGridDiv.contains(t)}focusNextGridCoreContainer(t,i=!1){return!i&&this.gridCtrl.focusNextInnerContainer(t)?!0:((i||!t&&!this.gridCtrl.isDetailGrid())&&this.gridCtrl.forceFocusOutOfContainer(t),!1)}focusAdvancedFilter(t){var i;return this.advancedFilterFocusColumn=t==null?void 0:t.column,((i=this.advancedFilterService)==null?void 0:i.getCtrl().focusHeaderComp())??!1}focusNextFromAdvancedFilter(t,i){var n;const s=(i?void 0:this.advancedFilterFocusColumn)??((n=this.visibleColsService.getAllCols())==null?void 0:n[0]);return t?this.focusHeaderPosition({headerPosition:{column:s,headerRowIndex:this.headerNavigationService.getHeaderRowCount()-1}}):this.focusGridView(s)}clearAdvancedFilterColumn(){this.advancedFilterFocusColumn=void 0}addFocusableContainer(t){this.gridCtrl.addFocusableContainer(t)}removeFocusableContainer(t){this.gridCtrl.removeFocusableContainer(t)}focusGridInnerElement(t){return this.gridCtrl.focusInnerElement(t)}allowFocusForNextGridCoreContainer(t){this.gridCtrl.allowFocusForNextCoreContainer(t)}};tR.keyboardModeActive=!1;tR.instanceCount=0;var BK=tR,GK=class extends re{constructor(){super(...arguments),this.beanName="pinnedWidthService"}wireBeans(e){this.visibleColsService=e.visibleColsService}postConstruct(){const e=this.checkContainerWidths.bind(this);this.addManagedEventListeners({displayedColumnsChanged:e,displayedColumnsWidthChanged:e}),this.addManagedPropertyListener("domLayout",e)}checkContainerWidths(){const e=ys(this.gos,"print"),t=e?0:this.visibleColsService.getColsLeftWidth(),i=e?0:this.visibleColsService.getDisplayedColumnsRightWidth();t!=this.leftWidth&&(this.leftWidth=t,this.eventService.dispatchEvent({type:"leftPinnedWidthChanged"})),i!=this.rightWidth&&(this.rightWidth=i,this.eventService.dispatchEvent({type:"rightPinnedWidthChanged"}))}getPinnedRightWidth(){return this.rightWidth}getPinnedLeftWidth(){return this.leftWidth}},HK=class extends re{constructor(){super(...arguments),this.additionalFocusableContainers=new Set}wireBeans(e){this.beans=e,this.focusService=e.focusService,this.visibleColsService=e.visibleColsService}setComp(e,t,i){this.view=e,this.eGridHostDiv=t,this.eGui=i,this.eGui.setAttribute("grid-id",this.beans.context.getGridId());const{dragAndDropService:s,mouseEventService:n,ctrlsService:r,resizeObserverService:o}=this.beans,a={getContainer:()=>this.eGui,isInterestedIn:d=>d===1||d===0,getIconName:()=>"notAllowed"};s.addDropTarget(a),this.addDestroyFunc(()=>s.removeDropTarget(a)),n.stampTopLevelGridCompWithGridInstance(t),this.createManagedBean(new eR(this.view)),this.view.setRtlClass(this.gos.get("enableRtl")?"ag-rtl":"ag-ltr"),this.updateGridThemeClass(),this.addManagedEventListeners({gridStylesChanged:this.handleThemeChange.bind(this)});const l=o.observeResize(this.eGridHostDiv,this.onGridSizeChanged.bind(this));this.addDestroyFunc(()=>l()),r.register("gridCtrl",this)}isDetailGrid(){var t;const e=this.focusService.findTabbableParent(this.getGui());return((t=e==null?void 0:e.getAttribute("row-id"))==null?void 0:t.startsWith("detail"))||!1}getOptionalSelectors(){var t,i,s,n,r;const e=this.beans;return{paginationSelector:(t=e.paginationService)==null?void 0:t.getPaginationSelector(),gridHeaderDropZonesSelector:(i=e.columnDropZonesService)==null?void 0:i.getDropZoneSelector(),sideBarSelector:(s=e.sideBarService)==null?void 0:s.getSideBarSelector(),statusBarSelector:(n=e.statusBarService)==null?void 0:n.getStatusPanelSelector(),watermarkSelector:(r=e.licenseManager)==null?void 0:r.getWatermarkSelector()}}onGridSizeChanged(){this.eventService.dispatchEvent({type:"gridSizeChanged",clientWidth:this.eGridHostDiv.clientWidth,clientHeight:this.eGridHostDiv.clientHeight})}destroyGridUi(){this.view.destroyGridUi()}getGui(){return this.eGui}setResizeCursor(e){this.view.setCursor(e?"ew-resize":null)}disableUserSelect(e){this.view.setUserSelect(e?"none":null)}focusNextInnerContainer(e){const t=this.getFocusableContainers(),{indexWithFocus:i,nextIndex:s}=this.getNextFocusableIndex(t,e);if(s<0||s>=t.length)return!1;if(s===0){if(i>0){const n=this.visibleColsService.getAllCols(),r=nt(n);if(this.focusService.focusGridView(r,!0))return!0}return!1}return this.focusContainer(t[s],e)}focusInnerElement(e){const t=this.gos.getCallback("focusGridInnerElement");if(t&&t({fromBottom:!!e}))return!0;const i=this.getFocusableContainers(),s=this.visibleColsService.getAllCols();if(e){if(i.length>1)return this.focusContainer(nt(i),!0);const n=nt(s);if(this.focusService.focusGridView(n,!0))return!0}if(this.gos.get("headerHeight")===0||this.focusService.isHeaderFocusSuppressed()){if(this.focusService.focusGridView(s[0]))return!0;for(let n=1;n<i.length;n++)if(this.focusService.focusInto(i[n].getGui()))return!0;return!1}return this.focusService.focusFirstHeader()}forceFocusOutOfContainer(e=!1){this.view.forceFocusOutOfContainer(e)}addFocusableContainer(e){this.additionalFocusableContainers.add(e)}removeFocusableContainer(e){this.additionalFocusableContainers.delete(e)}allowFocusForNextCoreContainer(e){var r;const t=this.view.getFocusableContainers(),{nextIndex:i,indexWithFocus:s}=this.getNextFocusableIndex(t,e);if(s===-1||i<0||i>=t.length)return;const n=t[i];(r=n.setAllowFocus)==null||r.call(n,!0),setTimeout(()=>{var o;(o=n.setAllowFocus)==null||o.call(n,!1)})}getNextFocusableIndex(e,t){const i=ui(this.gos),s=e.findIndex(r=>r.getGui().contains(i)),n=s+(t?-1:1);return{indexWithFocus:s,nextIndex:n}}focusContainer(e,t){var s,n;(s=e.setAllowFocus)==null||s.call(e,!0);const i=this.focusService.focusInto(e.getGui(),t);return(n=e.setAllowFocus)==null||n.call(e,!1),i}getFocusableContainers(){return[...this.view.getFocusableContainers(),...this.additionalFocusableContainers]}updateGridThemeClass(){const e=this.beans.environment.getGridThemeClass();e&&this.view.setGridThemeClass(e)}handleThemeChange(e){e.themeChanged&&this.updateGridThemeClass()}destroy(){this.additionalFocusableContainers.clear(),super.destroy()}},jK=class extends re{constructor(){super(...arguments),this.beanName="alignedGridsService",this.consuming=!1}wireBeans(e){this.columnModel=e.columnModel,this.columnSizeService=e.columnSizeService,this.ctrlsService=e.ctrlsService,this.columnApplyStateService=e.columnApplyStateService}getAlignedGridApis(){let e=this.gos.get("alignedGrids")??[];const t=typeof e=="function";typeof e=="function"&&(e=e());const i=()=>`See ${this.getFrameworkOverrides().getDocLink("aligned-grids")}`;return e.map(n=>{var o;if(!n){at("alignedGrids contains an undefined option."),t||at(`You may want to configure via a callback to avoid setup race conditions:
                     "alignedGrids: () => [linkedGrid]"`),at(i());return}if(this.isGridApi(n))return n;const r=n;return"current"in r?(o=r.current)==null?void 0:o.api:(r.api||at(`alignedGrids - No api found on the linked grid. If you are passing gridOptions to alignedGrids since v31 this is no longer valid. ${i()}`),r.api)}).filter(n=>!!n&&!n.isDestroyed())}isGridApi(e){return!!e&&!!e.dispatchEvent}postConstruct(){const e=this.fireColumnEvent.bind(this);this.addManagedEventListeners({columnMoved:e,columnVisible:e,columnPinned:e,columnGroupOpened:e,columnResized:e,bodyScroll:this.fireScrollEvent.bind(this),alignedGridColumn:({event:t})=>this.onColumnEvent(t),alignedGridScroll:({event:t})=>this.onScrollEvent(t)})}fireEvent(e){this.consuming||this.getAlignedGridApis().forEach(t=>{t.isDestroyed()||t.dispatchEvent(e)})}onEvent(e){this.consuming=!0,e(),this.consuming=!1}fireColumnEvent(e){this.fireEvent({type:"alignedGridColumn",event:e})}fireScrollEvent(e){e.direction==="horizontal"&&this.fireEvent({type:"alignedGridScroll",event:e})}onScrollEvent(e){this.onEvent(()=>{this.ctrlsService.getGridBodyCtrl().getScrollFeature().setHorizontalScrollPosition(e.left,!0)})}extractDataFromEvent(e,t){const i=[];return e.columns?e.columns.forEach(s=>{i.push(t(s))}):e.column&&i.push(t(e.column)),i}getMasterColumns(e){return this.extractDataFromEvent(e,t=>t)}getColumnIds(e){return this.extractDataFromEvent(e,t=>t.getColId())}onColumnEvent(e){this.onEvent(()=>{switch(e.type){case"columnMoved":case"columnVisible":case"columnPinned":case"columnResized":{this.processColumnEvent(e);break}case"columnGroupOpened":{this.processGroupOpenedEvent(e);break}case"columnPivotChanged":ae("pivoting is not supported with aligned grids. You can only use one of these features at a time in a grid.");break}})}processGroupOpenedEvent(e){const{columnModel:t}=this;e.columnGroups.forEach(i=>{let s=null;i&&(s=t.getProvidedColGroup(i.getGroupId())),!(i&&!s)&&t.setColumnGroupOpened(s,i.isExpanded(),"alignedGridChanged")})}processColumnEvent(e){var d;const t=e.column;let i=null;if(t&&(i=this.columnModel.getColDefCol(t.getColId())),t&&!i)return;const s=this.getMasterColumns(e),{columnApplyStateService:n,columnSizeService:r,ctrlsService:o}=this;switch(e.type){case"columnMoved":{const p=e.api.getColumnState().map(f=>({colId:f.colId}));n.applyColumnState({state:p,applyOrder:!0},"alignedGridChanged")}break;case"columnVisible":{const p=e.api.getColumnState().map(f=>({colId:f.colId,hide:f.hide}));n.applyColumnState({state:p},"alignedGridChanged")}break;case"columnPinned":{const p=e.api.getColumnState().map(f=>({colId:f.colId,pinned:f.pinned}));n.applyColumnState({state:p},"alignedGridChanged")}break;case"columnResized":{const h=e,p={};s.forEach(f=>{p[f.getId()]={key:f.getColId(),newWidth:f.getActualWidth()}}),(d=h.flexColumns)==null||d.forEach(f=>{p[f.getId()]&&delete p[f.getId()]}),r.setColumnWidths(Object.values(p),!1,h.finished,"alignedGridChanged");break}}const l=o.getGridBodyCtrl().isVerticalScrollShowing();this.getAlignedGridApis().forEach(h=>{h.setGridOption("alwaysShowVerticalScroll",l)})}},VK={version:Oe,moduleName:"@ag-grid-community/aligned-grid",beans:[jK]};function _K(e,t){const i=e.columnModel.getColDefCol(t);return i?i.getColDef():null}function WK(e){return e.columnModel.getColumnDefs()}function UK(e,t){typeof t=="number"?e.columnSizeService.sizeColumnsToFit(t,"api"):e.ctrlsService.getGridBodyCtrl().sizeColumnsToFit(t)}function $K(e,t,i){e.columnModel.setColumnGroupOpened(t,i,"api")}function YK(e,t,i){return e.visibleColsService.getColumnGroup(t,i)}function KK(e,t){return e.columnModel.getProvidedColGroup(t)}function qK(e,t,i){return e.columnNameService.getDisplayNameForColumn(t,i)||""}function ZK(e,t,i){return e.columnNameService.getDisplayNameForColumnGroup(t,i)||""}function XK(e,t){return e.columnModel.getColDefCol(t)}function QK(e){return e.columnModel.getColDefCols()}function JK(e,t){return e.columnApplyStateService.applyColumnState(t,"api")}function eq(e){return e.columnGetStateService.getColumnState()}function tq(e){e.columnApplyStateService.resetColumnState("api")}function iq(e){return e.columnGroupStateService.getColumnGroupState()}function sq(e,t){e.columnGroupStateService.setColumnGroupState(t,"api")}function nq(e){e.columnGroupStateService.resetColumnGroupState("api")}function rq(e){return e.visibleColsService.isPinningLeft()||e.visibleColsService.isPinningRight()}function oq(e){return e.visibleColsService.isPinningLeft()}function aq(e){return e.visibleColsService.isPinningRight()}function lq(e,t){return e.visibleColsService.getColAfter(t)}function cq(e,t){return e.visibleColsService.getColBefore(t)}function uq(e,t,i){e.columnModel.setColsVisible([t],i,"api")}function dq(e,t,i){e.columnModel.setColsVisible(t,i,"api")}function hq(e,t,i){e.columnModel.setColsPinned([t],i,"api")}function gq(e,t,i){e.columnModel.setColsPinned(t,i,"api")}function pq(e){return e.columnModel.getCols()}function fq(e){return e.visibleColsService.getLeftCols()}function mq(e){return e.visibleColsService.getCenterCols()}function vq(e){return e.visibleColsService.getRightCols()}function yq(e){return e.visibleColsService.getAllCols()}function Cq(e){return e.columnViewportService.getViewportColumns()}function bq(e,t,i){e.columnMoveService.moveColumns([t],i,"api")}function Sq(e,t,i){e.columnMoveService.moveColumnByIndex(t,i,"api")}function wq(e,t,i){e.columnMoveService.moveColumns(t,i,"api")}function xq(e,t,i,s=!0,n="api"){e.columnSizeService.setColumnWidths([{key:t,newWidth:i}],!1,s,n)}function Mq(e,t,i=!0,s="api"){e.columnSizeService.setColumnWidths(t,!1,i,s)}function Dq(e){return e.visibleColsService.getTreeLeft()}function Rq(e){return e.visibleColsService.getTreeCenter()}function Eq(e){return e.visibleColsService.getTreeRight()}function Aq(e){return e.visibleColsService.getAllTrees()}function Tq(e,t,i){return e.columnAutosizeService.autoSizeCols({colKeys:[t],skipHeader:i,source:"api"})}function Iq(e,t,i){e.columnAutosizeService.autoSizeCols({colKeys:t,skipHeader:i,source:"api"})}function Lq(e,t){e.columnAutosizeService.autoSizeAllColumns("api",t)}var kq=class extends re{constructor(){super(...arguments),this.beanName="dataTypeService",this.dataTypeDefinitions={},this.isWaitingForRowData=!1,this.isColumnTypeOverrideInDataTypeDefinitions=!1,this.columnStateUpdatesPendingInference={},this.columnStateUpdateListenerDestroyFuncs=[]}wireBeans(e){this.rowModel=e.rowModel,this.columnModel=e.columnModel,this.funcColsService=e.funcColsService,this.valueService=e.valueService,this.columnApplyStateService=e.columnApplyStateService,this.filterManager=e.filterManager}postConstruct(){this.groupHideOpenParents=this.gos.get("groupHideOpenParents"),this.addManagedPropertyListener("groupHideOpenParents",()=>{this.groupHideOpenParents=this.gos.get("groupHideOpenParents")}),this.processDataTypeDefinitions(),this.addManagedPropertyListener("dataTypeDefinitions",e=>{this.processDataTypeDefinitions(),this.columnModel.recreateColumnDefs(Dc(e.source))})}processDataTypeDefinitions(){const e=this.getDefaultDataTypes();this.dataTypeDefinitions={},this.formatValueFuncs={};const t=s=>n=>{const{column:r,node:o,value:a}=n;let l=r.getColDef().valueFormatter;return l===s.groupSafeValueFormatter&&(l=s.valueFormatter),this.valueService.formatValue(r,o,a,l)};Object.entries(e).forEach(([s,n])=>{const r={...n,groupSafeValueFormatter:this.createGroupSafeValueFormatter(n)};this.dataTypeDefinitions[s]=r,this.formatValueFuncs[s]=t(r)});const i=this.gos.get("dataTypeDefinitions")??{};this.dataTypeMatchers={},Object.entries(i).forEach(([s,n])=>{const r=this.processDataTypeDefinition(n,i,[s],e);r&&(this.dataTypeDefinitions[s]=r,n.dataTypeMatcher&&(this.dataTypeMatchers[s]=n.dataTypeMatcher),this.formatValueFuncs[s]=t(r))}),this.checkObjectValueHandlers(e),["dateString","text","number","boolean","date"].forEach(s=>{const n=this.dataTypeMatchers[s];n&&delete this.dataTypeMatchers[s],this.dataTypeMatchers[s]=n??e[s].dataTypeMatcher})}mergeDataTypeDefinitions(e,t){const i={...e,...t};return e.columnTypes&&t.columnTypes&&t.appendColumnTypes&&(i.columnTypes=[...jv(e.columnTypes),...jv(t.columnTypes)]),i}processDataTypeDefinition(e,t,i,s){let n;const r=e.extendsDataType;if(e.columnTypes&&(this.isColumnTypeOverrideInDataTypeDefinitions=!0),e.extendsDataType===e.baseDataType){let o=s[r];const a=t[r];if(o&&a&&(o=a),!this.validateDataTypeDefinition(e,o,r))return;n=this.mergeDataTypeDefinitions(o,e)}else{if(i.includes(r)){ae('Data type definition hierarchies (via the "extendsDataType" property) cannot contain circular references.');return}const o=t[r];if(!this.validateDataTypeDefinition(e,o,r))return;const a=this.processDataTypeDefinition(o,t,[...i,r],s);if(!a)return;n=this.mergeDataTypeDefinitions(a,e)}return{...n,groupSafeValueFormatter:this.createGroupSafeValueFormatter(n)}}validateDataTypeDefinition(e,t,i){return t?t.baseDataType!==e.baseDataType?(ae('The "baseDataType" property of a data type definition must match that of its parent.'),!1):!0:(ae(`The data type definition ${i} does not exist.`),!1)}createGroupSafeValueFormatter(e){if(e.valueFormatter)return t=>{var i,s;if((i=t.node)!=null&&i.group){const n=(t.colDef.pivotValueColumn??t.column).getAggFunc();if(n){if(n==="first"||n==="last")return e.valueFormatter(t);if(e.baseDataType==="number"&&n!=="count"){if(typeof t.value=="number")return e.valueFormatter(t);if(typeof t.value=="object"){if(!t.value)return;if("toNumber"in t.value)return e.valueFormatter({...t,value:t.value.toNumber()});if("value"in t.value)return e.valueFormatter({...t,value:t.value.value})}}return}if((this.gos.get("suppressGroupMaintainValueType")||this.gos.get("groupDisplayType")==="groupRows")&&!this.gos.get("treeData"))return}else if(this.groupHideOpenParents&&t.column.isRowGroupActive()&&typeof t.value=="string"&&!((s=e.dataTypeMatcher)!=null&&s.call(e,t.value)))return;return e.valueFormatter(t)}}updateColDefAndGetColumnType(e,t,i){let{cellDataType:s}=t;const{field:n}=t;if(s===void 0&&(s=e.cellDataType),(s==null||s===!0)&&(s=this.canInferCellDataType(e,t)?this.inferCellDataType(n,i):!1),!s){e.cellDataType=!1;return}const r=this.dataTypeDefinitions[s];if(!r){ae(`Missing data type definition - "${s}"`);return}return e.cellDataType=s,r.groupSafeValueFormatter&&(e.valueFormatter=r.groupSafeValueFormatter),r.valueParser&&(e.valueParser=r.valueParser),r.suppressDefaultProperties||this.setColDefPropertiesForBaseDataType(e,s,r,i),r.columnTypes}addColumnListeners(e){if(!this.isWaitingForRowData)return;const t=this.columnStateUpdatesPendingInference[e.getColId()];if(!t)return;const i=s=>{t.add(s.key)};e.addEventListener("columnStateUpdated",i),this.columnStateUpdateListenerDestroyFuncs.push(()=>e.removeEventListener("columnStateUpdated",i))}canInferCellDataType(e,t){if(!Ut(this.gos))return!1;const i={cellRenderer:!0,valueGetter:!0,valueParser:!0,refData:!0};if(this.doColDefPropsPreventInference(t,i))return!1;const s=t.type===null?e.type:t.type;if(s){const n=this.gos.get("columnTypes")??{};if(jv(s).some(o=>{const a=n[o.trim()];return a&&this.doColDefPropsPreventInference(a,i)}))return!1}return!this.doColDefPropsPreventInference(e,i)}doColDefPropsPreventInference(e,t){return[["cellRenderer","agSparklineCellRenderer"],["valueGetter",void 0],["valueParser",void 0],["refData",void 0]].some(([i,s])=>this.doesColDefPropPreventInference(e,t,i,s))}doesColDefPropPreventInference(e,t,i,s){if(!t[i])return!1;const n=e[i];return n===null?(t[i]=!1,!1):s===void 0?!!n:n===s}inferCellDataType(e,t){if(!e)return;let i;const s=this.getInitialData();if(s){const r=e.indexOf(".")>=0&&!this.gos.get("suppressFieldDotNotation");i=op(s,e,r)}else this.initWaitForRowData(t);if(i==null)return;const[n]=Object.entries(this.dataTypeMatchers).find(([r,o])=>o(i))??["object"];return n}getInitialData(){const e=this.gos.get("rowData");if(e!=null&&e.length)return e[0];if(this.initialData)return this.initialData;{const t=this.rowModel.getRootNode().allLeafChildren;if(t!=null&&t.length)return t[0].data}return null}initWaitForRowData(e){if(this.columnStateUpdatesPendingInference[e]=new Set,this.isWaitingForRowData)return;this.isWaitingForRowData=!0;const t=this.isColumnTypeOverrideInDataTypeDefinitions;t&&this.columnModel.queueResizeOperations();const[i]=this.addManagedEventListeners({rowDataUpdateStarted:s=>{const{firstRowData:n}=s;n&&(i==null||i(),this.isWaitingForRowData=!1,this.processColumnsPendingInference(n,t),this.columnStateUpdatesPendingInference={},t&&this.columnModel.processResizeOperations(),this.eventService.dispatchEvent({type:"dataTypesInferred"}))}})}isPendingInference(){return this.isWaitingForRowData}processColumnsPendingInference(e,t){this.initialData=e;const i=[];this.destroyColumnStateUpdateListeners();const s={},n={};Object.entries(this.columnStateUpdatesPendingInference).forEach(([r,o])=>{const a=this.columnModel.getCol(r);if(!a)return;const l=a.getColDef();if(!this.columnModel.resetColDefIntoCol(a,"cellDataTypeInferred"))return;const d=a.getColDef();if(t&&d.type&&d.type!==l.type){const h=this.getUpdatedColumnState(a,o);h.rowGroup&&h.rowGroupIndex==null&&(s[r]=h),h.pivot&&h.pivotIndex==null&&(n[r]=h),i.push(h)}}),t&&i.push(...this.funcColsService.generateColumnStateForRowGroupAndPivotIndexes(s,n)),i.length&&this.columnApplyStateService.applyColumnState({state:i},"cellDataTypeInferred"),this.initialData=null}getUpdatedColumnState(e,t){const i=this.columnApplyStateService.getColumnStateFromColDef(e);return t.forEach(s=>{delete i[s],s==="rowGroup"?delete i.rowGroupIndex:s==="pivot"&&delete i.pivotIndex}),i}checkObjectValueHandlers(e){const t=this.dataTypeDefinitions.object,i=e.object;this.hasObjectValueParser=t.valueParser!==i.valueParser,this.hasObjectValueFormatter=t.valueFormatter!==i.valueFormatter}getDateStringTypeDefinition(e){return e?this.getDataTypeDefinition(e)??this.dataTypeDefinitions.dateString:this.dataTypeDefinitions.dateString}getDateParserFunction(e){return this.getDateStringTypeDefinition(e).dateParser}getDateFormatterFunction(e){return this.getDateStringTypeDefinition(e).dateFormatter}getDataTypeDefinition(e){const t=e.getColDef();if(t.cellDataType)return this.dataTypeDefinitions[t.cellDataType]}getBaseDataType(e){var t;return(t=this.getDataTypeDefinition(e))==null?void 0:t.baseDataType}checkType(e,t){var s;if(t==null)return!0;const i=(s=this.getDataTypeDefinition(e))==null?void 0:s.dataTypeMatcher;return i?i(t):!0}validateColDef(e){const t=i=>ae(`Cell data type is "object" but no Value ${i} has been provided. Please either provide an object data type definition with a Value ${i}, or set "colDef.value${i}"`);e.cellDataType==="object"&&(e.valueFormatter===this.dataTypeDefinitions.object.groupSafeValueFormatter&&!this.hasObjectValueFormatter&&t("Formatter"),e.editable&&e.valueParser===this.dataTypeDefinitions.object.valueParser&&!this.hasObjectValueParser&&t("Parser"))}getFormatValue(e){return this.formatValueFuncs[e]}setColDefPropertiesForBaseDataType(e,t,i,s){var r;const n=this.formatValueFuncs[t];switch(i.baseDataType){case"number":{e.cellEditor="agNumberCellEditor";break}case"boolean":{e.cellEditor="agCheckboxCellEditor",e.cellRenderer="agCheckboxCellRenderer",e.suppressKeyboardEvent=o=>!!o.colDef.editable&&o.event.key===te.SPACE;break}case"date":{e.cellEditor="agDateCellEditor",e.keyCreator=n;break}case"dateString":{e.cellEditor="agDateStringCellEditor",e.keyCreator=n;break}case"object":{e.cellEditorParams={useFormatter:!0},e.comparator=(o,a)=>{const l=this.columnModel.getColDefCol(s),d=l==null?void 0:l.getColDef();if(!l||!d)return 0;const h=o==null?"":n({column:l,node:null,value:o}),p=a==null?"":n({column:l,node:null,value:a});return h===p?0:h>p?1:-1},e.keyCreator=n;break}}(r=this.filterManager)==null||r.setColDefPropertiesForDataType(e,i,n)}getDefaultDataTypes(){const e=i=>!!i.match("^\\d{4}-\\d{2}-\\d{2}$"),t=this.localeService.getLocaleTextFunc();return{number:{baseDataType:"number",valueParser:i=>{var s,n;return((n=(s=i.newValue)==null?void 0:s.trim)==null?void 0:n.call(s))===""?null:Number(i.newValue)},valueFormatter:i=>i.value==null?"":typeof i.value!="number"||isNaN(i.value)?t("invalidNumber","Invalid Number"):String(i.value),dataTypeMatcher:i=>typeof i=="number"},text:{baseDataType:"text",valueParser:i=>i.newValue===""?null:Jx(i.newValue),dataTypeMatcher:i=>typeof i=="string"},boolean:{baseDataType:"boolean",valueParser:i=>{var s,n;return i.newValue==null?i.newValue:((n=(s=i.newValue)==null?void 0:s.trim)==null?void 0:n.call(s))===""?null:String(i.newValue).toLowerCase()==="true"},valueFormatter:i=>i.value==null?"":String(i.value),dataTypeMatcher:i=>typeof i=="boolean"},date:{baseDataType:"date",valueParser:i=>sn(i.newValue==null?null:String(i.newValue)),valueFormatter:i=>i.value==null?"":!(i.value instanceof Date)||isNaN(i.value.getTime())?t("invalidDate","Invalid Date"):nr(i.value,!1)??"",dataTypeMatcher:i=>i instanceof Date},dateString:{baseDataType:"dateString",dateParser:i=>sn(i)??void 0,dateFormatter:i=>nr(i??null,!1)??void 0,valueParser:i=>e(String(i.newValue))?i.newValue:null,valueFormatter:i=>e(String(i.value))?i.value:"",dataTypeMatcher:i=>typeof i=="string"&&e(i)},object:{baseDataType:"object",valueParser:()=>null,valueFormatter:i=>Jx(i.value)??""}}}destroyColumnStateUpdateListeners(){this.columnStateUpdateListenerDestroyFuncs.forEach(e=>e()),this.columnStateUpdateListenerDestroyFuncs=[]}destroy(){this.dataTypeDefinitions={},this.dataTypeMatchers={},this.formatValueFuncs={},this.columnStateUpdatesPendingInference={},this.destroyColumnStateUpdateListeners(),super.destroy()}},Pq={version:Oe,moduleName:"@ag-grid-community/data-type",beans:[kq]},Oq={version:Oe,moduleName:"@ag-grid-community/column-api",apiFunctions:{getColumnDef:_K,getColumnDefs:WK,sizeColumnsToFit:UK,setColumnGroupOpened:$K,getColumnGroup:YK,getProvidedColumnGroup:KK,getDisplayNameForColumn:qK,getDisplayNameForColumnGroup:ZK,getColumn:XK,getColumns:QK,applyColumnState:JK,getColumnState:eq,resetColumnState:tq,getColumnGroupState:iq,setColumnGroupState:sq,resetColumnGroupState:nq,isPinning:rq,isPinningLeft:oq,isPinningRight:aq,getDisplayedColAfter:lq,getDisplayedColBefore:cq,setColumnVisible:uq,setColumnsVisible:dq,setColumnPinned:hq,setColumnsPinned:gq,getAllGridColumns:pq,getDisplayedLeftColumns:fq,getDisplayedCenterColumns:mq,getDisplayedRightColumns:vq,getAllDisplayedColumns:yq,getAllDisplayedVirtualColumns:Cq,moveColumn:bq,moveColumnByIndex:Sq,moveColumns:wq,setColumnWidth:xq,setColumnWidths:Mq,getLeftDisplayedColumnGroups:Dq,getCenterDisplayedColumnGroups:Rq,getRightDisplayedColumnGroups:Eq,getAllDisplayedColumnGroups:Aq,autoSizeColumn:Tq,autoSizeColumns:Iq,autoSizeAllColumns:Lq}};function Fq(e,t){e.ctrlsService.getGridBodyCtrl().getRowDragFeature().addRowDropZone(t)}function Nq(e,t){const i=e.dragAndDropService.findExternalZone(t);i&&e.dragAndDropService.removeDropTarget(i)}function zq(e,t){return e.ctrlsService.getGridBodyCtrl().getRowDragFeature().getRowDropZone(t)}var Bq={version:Oe,moduleName:"@ag-grid-community/drag-api",apiFunctions:{addRowDropZone:Fq,removeRowDropZone:Nq,getRowDropZoneParams:zq}};function Gq(e){return e.pinnedRowModel.getPinnedTopRowCount()}function Hq(e){return e.pinnedRowModel.getPinnedBottomRowCount()}function jq(e,t){return e.pinnedRowModel.getPinnedTopRow(t)}function Vq(e,t){return e.pinnedRowModel.getPinnedBottomRow(t)}var _q={version:Oe,moduleName:"@ag-grid-community/pinned-row-api",apiFunctions:{getPinnedTopRowCount:Gq,getPinnedBottomRowCount:Hq,getPinnedTopRow:jq,getPinnedBottomRow:Vq}};function Wq(e){e.overlayService.showLoadingOverlay()}function Uq(e){e.overlayService.showNoRowsOverlay()}function $q(e){e.overlayService.hideOverlay()}var Yq={version:Oe,moduleName:"@ag-grid-community/overlay-api",apiFunctions:{showLoadingOverlay:Wq,showNoRowsOverlay:Uq,hideOverlay:$q}};function Kq(e,t,i){if(!t)return;const s=e.ctrlsService.getGridBodyCtrl().getGui(),n=`aria-${t}`;i===null?s.removeAttribute(n):s.setAttribute(n,i)}function qq(e,t={}){e.frameworkOverrides.wrapIncoming(()=>e.rowRenderer.refreshCells(t))}function Zq(e,t={}){const i=s=>ae(`Since v31.1 api.flashCells parameter '${s}Delay' is deprecated. Please use '${s}Duration' instead.`);ve(t.fadeDelay)&&i("fade"),ve(t.flashDelay)&&i("flash"),e.frameworkOverrides.wrapIncoming(()=>e.rowRenderer.flashCells(t))}function Xq(e){e.frameworkOverrides.wrapIncoming(()=>e.ctrlsService.getHeaderRowContainerCtrls().forEach(t=>t.refresh()))}function Qq(e){return e.animationFrameService.isQueueEmpty()}function Jq(e){e.animationFrameService.flushAllFrames()}function eZ(e){return{rowHeight:zc(e.gos),headerHeight:e.columnModel.getHeaderHeight()}}function tZ(e,t={}){return e.rowRenderer.getCellRendererInstances(t).map(lp)}var iZ={version:Oe,moduleName:"@ag-grid-community/render-api",apiFunctions:{setGridAriaProperty:Kq,refreshCells:qq,flashCells:Zq,refreshHeader:Xq,isAnimationFrameQueueEmpty:Qq,flushAllAnimationFrames:Jq,getSizesForCurrentTheme:eZ,getCellRendererInstances:tZ}};function sZ(e){e.valueCache.expire()}function nZ(e,t,i){return t2(e,{colKey:t,rowNode:i})}function t2(e,t){const{colKey:i,rowNode:s,useFormatter:n}=t,r=e.columnModel.getColDefCol(i)??e.columnModel.getCol(i);if(rt(r))return null;const o=e.valueService.getValueForDisplay(r,s);return n?e.valueService.formatValue(r,s,o)??no(o,!0):o}function rZ(e){return e.context.getGridId()}function oZ(e){e.gridDestroyService.destroy()}function aZ(e){return e.gridDestroyService.isDestroyCalled()}function lZ(e,t){return e.gos.get(t)}function cZ(e,t,i){i2(e,{[t]:i})}function i2(e,t){e.gos.updateGridOptions({options:t})}function uZ(e,t,i){e.apiEventService.addEventListener(t,i)}function dZ(e,t,i){e.apiEventService.removeEventListener(t,i)}function hZ(e,t){e.apiEventService.addGlobalListener(t)}function gZ(e,t){e.apiEventService.removeGlobalListener(t)}function pZ(e){return e.focusService.getFocusedCell()}function fZ(e){return e.focusService.clearFocusedCell()}function mZ(e,t,i,s){e.focusService.setFocusedCell({rowIndex:t,column:i,rowPinned:s,forceBrowserFocus:!0})}function vZ(e,t){return e.navigationService.tabToNextCell(!1,t)}function yZ(e,t){return e.navigationService.tabToNextCell(!0,t)}function CZ(e,t,i=!1){const s=e.headerNavigationService.getHeaderPositionForColumn(t,i);s&&e.focusService.focusHeaderPosition({headerPosition:s})}function bZ(e,t,i){const s=e.columnModel.getCol(t);e.menuService.showColumnMenu({column:s,buttonElement:i,positionBy:"button"})}function SZ(e,t,i){let s=e.columnModel.getCol(t);if(s||(s=e.columnModel.getColDefCol(t)),!s){at(`column '${t}' not found`);return}e.menuService.showColumnMenu({column:s,mouseEvent:i,positionBy:"mouse"})}function wZ(e,t){const i=e.columnModel.getCol(t);if(!i){at(`column '${t}' not found`);return}e.menuService.showColumnMenu({column:i,positionBy:"auto"})}function xZ(e){e.menuService.hidePopupMenu()}function MZ(e,t={}){const i=t?t.rowNodes:void 0;e.frameworkOverrides.wrapIncoming(()=>e.rowRenderer.redrawRows(i))}function DZ(e,t,i,s,n){e.expansionService.setRowNodeExpanded(t,i,s,n)}function RZ(e,t){return e.rowModel.getRowNode(t)}function EZ(e,t,i,s){e.rowRenderer.addRenderedRowListener(t,i,s)}function AZ(e){return e.rowRenderer.getRenderedNodes()}function TZ(e,t,i){e.rowModel.forEachNode(t,i)}function IZ(e){return s2(e)}function s2(e){return e.rowRenderer.getFirstVirtualRenderedRow()}function LZ(e){return n2(e)}function n2(e){return e.rowRenderer.getLastVirtualRenderedRow()}function kZ(e,t){return e.rowModel.getRow(t)}function PZ(e){return e.rowModel.getRowCount()}function OZ(e){return e.rowModel}function FZ(e,t){if(!t.nodes.every(a=>a.rowPinned?(ae("cannot select pinned rows"),!1):a.id===void 0?(ae("cannot select node until id for node is known"),!1):!0))return;const{nodes:s,source:n,newValue:r}=t,o=s;e.selectionService.setNodesSelected({nodes:o,source:n??"api",newValue:r})}function NZ(e,t="apiSelectAll"){e.selectionService.selectAllRowNodes({source:t})}function zZ(e,t="apiSelectAll"){e.selectionService.deselectAllRowNodes({source:t})}function BZ(e,t="apiSelectAllFiltered"){e.selectionService.selectAllRowNodes({source:t,justFiltered:!0})}function GZ(e,t="apiSelectAllFiltered"){e.selectionService.deselectAllRowNodes({source:t,justFiltered:!0})}function HZ(e,t="apiSelectAllCurrentPage"){e.selectionService.selectAllRowNodes({source:t,justCurrentPage:!0})}function jZ(e,t="apiSelectAllCurrentPage"){e.selectionService.deselectAllRowNodes({source:t,justCurrentPage:!0})}function VZ(e){return e.selectionService.getSelectedNodes()}function _Z(e){return e.selectionService.getSelectedRows()}function WZ(e){e.sortController.onSortChanged("api")}var UZ={version:Oe,moduleName:"@ag-grid-community/core-api",apiFunctions:{getGridId:rZ,destroy:oZ,isDestroyed:aZ,getGridOption:lZ,setGridOption:cZ,updateGridOptions:i2}},$Z={version:Oe,moduleName:"@ag-grid-community/row-selection-api",apiFunctions:{setNodesSelected:FZ,selectAll:NZ,deselectAll:zZ,selectAllFiltered:BZ,deselectAllFiltered:GZ,selectAllOnCurrentPage:HZ,deselectAllOnCurrentPage:jZ,getSelectedNodes:VZ,getSelectedRows:_Z}},YZ={version:Oe,moduleName:"@ag-grid-community/row-api",apiFunctions:{redrawRows:MZ,setRowNodeExpanded:DZ,getRowNode:RZ,addRenderedRowListener:EZ,getRenderedNodes:AZ,forEachNode:TZ,getFirstDisplayedRow:IZ,getFirstDisplayedRowIndex:s2,getLastDisplayedRow:LZ,getLastDisplayedRowIndex:n2,getDisplayedRowAtIndex:kZ,getDisplayedRowCount:PZ,getModel:OZ}},KZ={version:Oe,moduleName:"@ag-grid-community/scroll-api",apiFunctions:{getVerticalPixelRange:PY,getHorizontalPixelRange:OY,ensureColumnVisible:qN,ensureIndexVisible:ZN,ensureNodeVisible:FY}},qZ={version:Oe,moduleName:"@ag-grid-community/keyboard-navigation-api",apiFunctions:{getFocusedCell:pZ,clearFocusedCell:fZ,setFocusedCell:mZ,setFocusedHeader:CZ,tabToNextCell:vZ,tabToPreviousCell:yZ}},ZZ={version:Oe,moduleName:"@ag-grid-community/event-api",apiFunctions:{addEventListener:uZ,addGlobalListener:hZ,removeEventListener:dZ,removeGlobalListener:gZ}},XZ={version:Oe,moduleName:"@ag-grid-community/cell-api",apiFunctions:{expireValueCache:sZ,getValue:nZ,getCellValue:t2}},QZ={version:Oe,moduleName:"@ag-grid-community/menu-api",apiFunctions:{showColumnMenuAfterButtonClick:bZ,showColumnMenuAfterMouseClick:SZ,showColumnMenu:wZ,hidePopupMenu:xZ}},JZ={version:Oe,moduleName:"@ag-grid-community/sort-api",apiFunctions:{onSortChanged:WZ}},eX={version:Oe,moduleName:"@ag-grid-community/api",dependantModules:[UZ,_q,$Z,Oq,YZ,Bq,KZ,Yq,qZ,ZZ,iZ,XZ,QZ,JZ]};function tX(e){var t;return((t=e.stateService)==null?void 0:t.getState())??{}}function iX(e){switch(e={...e},e.version||(e.version="32.1.0"),e.version){case"32.1.0":e=sX(e)}return e}function sX(e){return e.cellSelection=nX(e,"rangeSelection"),e}function nX(e,t){if(e&&typeof e=="object")return e[t]}var rX=class extends re{constructor(){super(...arguments),this.beanName="stateService",this.suppressEvents=!0,this.queuedUpdateSources=new Set,this.dispatchStateUpdateEventDebounced=Hs(()=>this.dispatchQueuedStateUpdateEvents(),0),this.onRowGroupOpenedDebounced=Hs(()=>this.updateCachedState("rowGroupExpansion",this.getRowGroupExpansionState()),0),this.onRowSelectedDebounced=Hs(()=>{this.staleStateKeys.delete("rowSelection"),this.updateCachedState("rowSelection",this.getRowSelectionState())},0),this.staleStateKeys=new Set}wireBeans(e){this.filterManager=e.filterManager,this.ctrlsService=e.ctrlsService,this.pivotResultColsService=e.pivotResultColsService,this.focusService=e.focusService,this.columnModel=e.columnModel,this.visibleColsService=e.visibleColsService,this.columnGroupStateService=e.columnGroupStateService,this.columnGetStateService=e.columnGetStateService,this.paginationService=e.paginationService,this.selectionService=e.selectionService,this.expansionService=e.expansionService,this.columnAnimationService=e.columnAnimationService,this.columnApplyStateService=e.columnApplyStateService,this.sideBarService=e.sideBarService,this.rangeService=e.rangeService}postConstruct(){this.isClientSideRowModel=Ut(this.gos),this.cachedState=this.getInitialState(),this.setCachedStateValue("version",Oe),this.ctrlsService.whenReady(this,()=>this.suppressEventsAndDispatchInitEvent(()=>this.setupStateOnGridReady()));const[e,t,i]=this.addManagedEventListeners({newColumnsLoaded:({source:s})=>{s==="gridInitializing"&&(e(),this.suppressEventsAndDispatchInitEvent(()=>this.setupStateOnColumnsInitialised()))},rowCountReady:()=>{t==null||t(),this.suppressEventsAndDispatchInitEvent(()=>this.setupStateOnRowCountReady())},firstDataRendered:()=>{i==null||i(),this.suppressEventsAndDispatchInitEvent(()=>this.setupStateOnFirstDataRendered())}})}getInitialState(){return iX(this.gos.get("initialState")??{})}getState(){return this.staleStateKeys.size&&this.refreshStaleState(),this.cachedState}setupStateOnGridReady(){this.updateCachedState("sideBar",this.getSideBarState());const e=()=>this.updateCachedState("sideBar",this.getSideBarState());this.addManagedEventListeners({toolPanelVisibleChanged:e,sideBarUpdated:e})}setupStateOnColumnsInitialised(){const e=this.getInitialState();this.setColumnState(e),this.setColumnGroupState(e),this.updateColumnState(["aggregation","columnOrder","columnPinning","columnSizing","columnVisibility","pivot","pivot","rowGroup","sort"]),this.updateCachedState("columnGroup",this.getColumnGroupState());const t=i=>()=>this.updateColumnState([i]);this.addManagedEventListeners({columnValueChanged:t("aggregation"),columnMoved:t("columnOrder"),columnPinned:t("columnPinning"),columnResized:t("columnSizing"),columnVisible:t("columnVisibility"),columnPivotChanged:t("pivot"),columnPivotModeChanged:t("pivot"),columnRowGroupChanged:t("rowGroup"),sortChanged:t("sort"),newColumnsLoaded:()=>this.updateColumnState(["aggregation","columnOrder","columnPinning","columnSizing","columnVisibility","pivot","rowGroup","sort"]),columnGroupOpened:()=>this.updateCachedState("columnGroup",this.getColumnGroupState())})}setupStateOnRowCountReady(){const{filter:e,rowGroupExpansion:t,rowSelection:i,pagination:s}=this.getInitialState(),n=this.gos.get("advancedFilterModel");(e||n)&&this.setFilterState(e,n),t&&this.setRowGroupExpansionState(t),i&&this.setRowSelectionState(i),s&&this.setPaginationState(s),this.updateCachedState("filter",this.getFilterState()),this.updateCachedState("rowGroupExpansion",this.getRowGroupExpansionState()),this.updateCachedState("rowSelection",this.getRowSelectionState()),this.updateCachedState("pagination",this.getPaginationState());const r=()=>this.updateCachedState("rowGroupExpansion",this.getRowGroupExpansionState());this.addManagedEventListeners({filterChanged:()=>this.updateCachedState("filter",this.getFilterState()),rowGroupOpened:()=>this.onRowGroupOpenedDebounced(),expandOrCollapseAll:r,columnRowGroupChanged:r,rowDataUpdated:()=>{this.gos.get("groupDefaultExpanded")!==0&&setTimeout(()=>{r()})},selectionChanged:()=>{this.staleStateKeys.add("rowSelection"),this.onRowSelectedDebounced()},paginationChanged:o=>{(o.newPage||o.newPageSize)&&this.updateCachedState("pagination",this.getPaginationState())}})}setupStateOnFirstDataRendered(){const{scroll:e,cellSelection:t,focusedCell:i,columnOrder:s}=this.getInitialState();i&&this.setFocusedCellState(i),t&&this.setCellSelectionState(t),e&&this.setScrollState(e),this.setColumnPivotState(!!(s!=null&&s.orderedColIds)),this.updateCachedState("sideBar",this.getSideBarState()),this.updateCachedState("focusedCell",this.getFocusedCellState());const n=this.getRangeSelectionState();this.updateCachedState("rangeSelection",n),this.updateCachedState("cellSelection",n),this.updateCachedState("scroll",this.getScrollState()),this.addManagedEventListeners({cellFocused:()=>this.updateCachedState("focusedCell",this.getFocusedCellState()),cellSelectionChanged:r=>{if(r.finished){const o=this.getRangeSelectionState();this.updateCachedState("rangeSelection",o),this.updateCachedState("cellSelection",o)}},bodyScrollEnd:()=>this.updateCachedState("scroll",this.getScrollState())})}getColumnState(){const e=this.columnModel.isPivotMode(),t=[],i=[],s=[],n=[],r=[],o=[],a=[],l=[],d=[];let h=0;const p=this.columnGetStateService.getColumnState();for(let f=0;f<p.length;f++){const{colId:v,sort:y,sortIndex:S,rowGroup:w,rowGroupIndex:b,aggFunc:x,pivot:D,pivotIndex:E,pinned:T,hide:k,width:P,flex:O}=p[f];d.push(v),y&&(t[S??h++]={colId:v,sort:y}),w&&(i[b??0]=v),typeof x=="string"&&s.push({colId:v,aggFunc:x}),D&&(n[E??0]=v),T&&(T==="right"?o:r).push(v),k&&a.push(v),(O||P)&&l.push({colId:v,flex:O??void 0,width:P})}return{sort:t.length?{sortModel:t}:void 0,rowGroup:i.length?{groupColIds:i}:void 0,aggregation:s.length?{aggregationModel:s}:void 0,pivot:n.length||e?{pivotMode:e,pivotColIds:n}:void 0,columnPinning:r.length||o.length?{leftColIds:r,rightColIds:o}:void 0,columnVisibility:a.length?{hiddenColIds:a}:void 0,columnSizing:l.length?{columnSizingModel:l}:void 0,columnOrder:d.length?{orderedColIds:d}:void 0}}setColumnState(e){const{sort:t,rowGroup:i,aggregation:s,pivot:n,columnPinning:r,columnVisibility:o,columnSizing:a,columnOrder:l,partialColumnState:d}=e,h={},p=w=>{let b=h[w];return b||(b={colId:w},h[w]=b,b)},f=d?{}:{sort:null,sortIndex:null,rowGroup:null,rowGroupIndex:null,aggFunc:null,pivot:null,pivotIndex:null,pinned:null,hide:null,flex:null};t&&(t.sortModel.forEach(({colId:w,sort:b},x)=>{const D=p(w);D.sort=b,D.sortIndex=x}),f.sort=null,f.sortIndex=null),i&&(i.groupColIds.forEach((w,b)=>{const x=p(w);x.rowGroup=!0,x.rowGroupIndex=b}),f.rowGroup=null,f.rowGroupIndex=null),s&&(s.aggregationModel.forEach(({colId:w,aggFunc:b})=>{p(w).aggFunc=b}),f.aggFunc=null),n&&(n.pivotColIds.forEach((w,b)=>{const x=p(w);x.pivot=!0,x.pivotIndex=b}),this.gos.updateGridOptions({options:{pivotMode:n.pivotMode},source:"gridInitializing"}),f.pivot=null,f.pivotIndex=null),r&&(r.leftColIds.forEach(w=>{p(w).pinned="left"}),r.rightColIds.forEach(w=>{p(w).pinned="right"}),f.pinned=null),o&&(o.hiddenColIds.forEach(w=>{p(w).hide=!0}),f.hide=null),a&&(a.columnSizingModel.forEach(({colId:w,flex:b,width:x})=>{const D=p(w);D.flex=b??null,D.width=x}),f.flex=null);const v=l==null?void 0:l.orderedColIds,y=!!(v!=null&&v.length),S=y?v.map(w=>p(w)):Object.values(h);S.length&&(this.columnStates=S,this.columnApplyStateService.applyColumnState({state:S,applyOrder:y,defaultState:f},"gridInitializing"))}setColumnPivotState(e){const t=this.columnStates;this.columnStates=void 0;const i=this.columnGroupStates;if(this.columnGroupStates=void 0,!!this.pivotResultColsService.isPivotResultColsPresent()){if(t){const s=[];for(const n of t)this.pivotResultColsService.getPivotResultCol(n.colId)&&s.push(n);this.columnApplyStateService.applyColumnState({state:s,applyOrder:e},"gridInitializing")}i&&this.columnGroupStateService.setColumnGroupState(i,"gridInitializing")}}getColumnGroupState(){const e=this.columnGroupStateService.getColumnGroupState(),t=[];return e.forEach(({groupId:i,open:s})=>{s&&t.push(i)}),t.length?{openColumnGroupIds:t}:void 0}setColumnGroupState(e){var n;if(!Object.prototype.hasOwnProperty.call(e,"columnGroup"))return;const t=new Set((n=e.columnGroup)==null?void 0:n.openColumnGroupIds),s=this.columnGroupStateService.getColumnGroupState().map(({groupId:r})=>{const o=t.has(r);return o&&t.delete(r),{groupId:r,open:o}});t.forEach(r=>{s.push({groupId:r,open:!0})}),s.length&&(this.columnGroupStates=s),this.columnGroupStateService.setColumnGroupState(s,"gridInitializing")}getFilterState(){var i,s;let e=(i=this.filterManager)==null?void 0:i.getFilterModel();e&&Object.keys(e).length===0&&(e=void 0);const t=((s=this.filterManager)==null?void 0:s.getAdvancedFilterModel())??void 0;return e||t?{filterModel:e,advancedFilterModel:t}:void 0}setFilterState(e,t){var n,r;const{filterModel:i,advancedFilterModel:s}=e??{advancedFilterModel:t};i&&((n=this.filterManager)==null||n.setFilterModel(i,"columnFilter")),s&&((r=this.filterManager)==null||r.setAdvancedFilterModel(s))}getRangeSelectionState(){var t;const e=(t=this.rangeService)==null?void 0:t.getCellRanges().map(i=>{const{id:s,type:n,startRow:r,endRow:o,columns:a,startColumn:l}=i;return{id:s,type:n,startRow:r,endRow:o,colIds:a.map(d=>d.getColId()),startColId:l.getColId()}});return e!=null&&e.length?{cellRanges:e}:void 0}setCellSelectionState(e){const{gos:t,rangeService:i,columnModel:s,visibleColsService:n}=this;if(!la(t)||!i)return;const r=[];if(e.cellRanges.forEach(o=>{const a=[];if(o.colIds.forEach(d=>{const h=s.getCol(d);h&&a.push(h)}),!a.length)return;let l=s.getCol(o.startColId);if(!l){const d=n.getAllCols(),h=new Set(a);l=d.find(p=>h.has(p))}r.push({...o,columns:a,startColumn:l})}),FU(t)&&NU(t)&&r.length>1)return ae("cannot add multiple ranges when `cellSelection.suppressMultiRanges = true`");i.setCellRanges(r)}getScrollState(){var s;if(!this.isClientSideRowModel)return;const e=(s=this.ctrlsService.getGridBodyCtrl())==null?void 0:s.getScrollFeature(),{left:t}=(e==null?void 0:e.getHScrollPosition())??{left:0},{top:i}=(e==null?void 0:e.getVScrollPosition())??{top:0};return i||t?{top:i,left:t}:void 0}setScrollState(e){var s;if(!this.isClientSideRowModel)return;const{top:t,left:i}=e;(s=this.ctrlsService.getGridBodyCtrl())==null||s.getScrollFeature().setScrollPosition(t,i)}getSideBarState(){var e,t;return(t=(e=this.sideBarService)==null?void 0:e.getSideBarComp())==null?void 0:t.getState()}getFocusedCellState(){if(!this.isClientSideRowModel)return;const e=this.focusService.getFocusedCell();if(e){const{column:t,rowIndex:i,rowPinned:s}=e;return{colId:t.getColId(),rowIndex:i,rowPinned:s}}}setFocusedCellState(e){if(!this.isClientSideRowModel)return;const{colId:t,rowIndex:i,rowPinned:s}=e;this.focusService.setFocusedCell({column:this.columnModel.getCol(t),rowIndex:i,rowPinned:s,forceBrowserFocus:!0,preventScrollOnBrowserFocus:!0})}getPaginationState(){if(!this.paginationService)return;const e=this.paginationService.getCurrentPage(),t=this.gos.get("paginationAutoPageSize")?void 0:this.paginationService.getPageSize();if(!(!e&&!t))return{page:e,pageSize:t}}setPaginationState(e){this.paginationService&&(e.pageSize&&!this.gos.get("paginationAutoPageSize")&&this.paginationService.setPageSize(e.pageSize,"initialState"),typeof e.page=="number"&&this.paginationService.setPage(e.page))}getRowSelectionState(){var i;const e=this.selectionService.getSelectionState();return!e||!Array.isArray(e)&&(e.selectAll===!1||e.selectAllChildren===!1)&&!((i=e==null?void 0:e.toggledNodes)!=null&&i.length)?void 0:e}setRowSelectionState(e){this.selectionService.setSelectionState(e,"gridInitializing")}getRowGroupExpansionState(){const e=this.expansionService.getExpandedRows();return e.length?{expandedRowGroupIds:e}:void 0}setRowGroupExpansionState(e){this.expansionService.expandRows(e.expandedRowGroupIds)}updateColumnState(e){const t=this.getColumnState();let i=!1;Object.entries(t).forEach(([s,n])=>{Dp(n,this.cachedState[s])||(i=!0)}),this.cachedState={...this.cachedState,...t},i&&this.dispatchStateUpdateEvent(e)}updateCachedState(e,t){const i=this.cachedState[e];this.setCachedStateValue(e,t),Dp(t,i)||this.dispatchStateUpdateEvent([e])}setCachedStateValue(e,t){this.cachedState={...this.cachedState,[e]:t}}refreshStaleState(){this.staleStateKeys.forEach(e=>{switch(e){case"rowSelection":this.setCachedStateValue(e,this.getRowSelectionState());break}}),this.staleStateKeys.clear()}dispatchStateUpdateEvent(e){this.suppressEvents||(e.forEach(t=>this.queuedUpdateSources.add(t)),this.dispatchStateUpdateEventDebounced())}dispatchQueuedStateUpdateEvents(){const e=Array.from(this.queuedUpdateSources);this.queuedUpdateSources.clear(),this.eventService.dispatchEvent({type:"stateUpdated",sources:e,state:this.cachedState})}suppressEventsAndDispatchInitEvent(e){this.suppressEvents=!0,this.columnAnimationService.setSuppressAnimation(!0),e(),setTimeout(()=>{this.suppressEvents=!1,this.queuedUpdateSources.clear(),this.isAlive()&&(this.columnAnimationService.setSuppressAnimation(!1),this.dispatchStateUpdateEvent(["gridInitializing"]))})}},r2={version:Oe,moduleName:"@ag-grid-community/state-core",beans:[rX]},oX={version:Oe,moduleName:"@ag-grid-community/state-api",apiFunctions:{getState:tX},dependantModules:[r2]},aX={version:Oe,moduleName:"@ag-grid-community/state",dependantModules:[r2,oX]};function lX(e){return e.rowModel.isLastRowIndexKnown()}function cX(e){var t;return((t=e.paginationService)==null?void 0:t.getPageSize())??100}function uX(e){var t;return((t=e.paginationService)==null?void 0:t.getCurrentPage())??0}function dX(e){var t;return((t=e.paginationService)==null?void 0:t.getTotalPages())??1}function hX(e){return e.paginationService?e.paginationService.getMasterRowCount():e.rowModel.getRowCount()}function gX(e){var t;(t=e.paginationService)==null||t.goToNextPage()}function pX(e){var t;(t=e.paginationService)==null||t.goToPreviousPage()}function fX(e){var t;(t=e.paginationService)==null||t.goToFirstPage()}function mX(e){var t;(t=e.paginationService)==null||t.goToLastPage()}function vX(e,t){var i;(i=e.paginationService)==null||i.goToPage(t)}var yX=class extends re{constructor(){super(...arguments),this.beanName="paginationAutoPageSizeService"}wireBeans(e){this.ctrlsService=e.ctrlsService,this.paginationService=e.paginationService}postConstruct(){this.ctrlsService.whenReady(this,e=>{this.centerRowsCtrl=e.center;const t=this.checkPageSize.bind(this);this.addManagedEventListeners({bodyHeightChanged:t,scrollVisibilityChanged:t}),this.addManagedPropertyListener("paginationAutoPageSize",this.onPaginationAutoSizeChanged.bind(this)),this.checkPageSize()})}notActive(){return!this.gos.get("paginationAutoPageSize")||this.centerRowsCtrl==null}onPaginationAutoSizeChanged(){this.notActive()?this.paginationService.unsetAutoCalculatedPageSize():this.checkPageSize()}checkPageSize(){if(this.notActive())return;const e=this.centerRowsCtrl.getViewportSizeFeature().getBodyHeight();if(e>0){const t=()=>{const i=Math.max(zc(this.gos),1),s=Math.floor(e/i);this.paginationService.setPageSize(s,"autoCalculated")};this.isBodyRendered?Hs(()=>t(),50)():(t(),this.isBodyRendered=!0)}else this.isBodyRendered=!1}};function CX(e,t,i){e.addManagedElementListeners(t,{keydown:s=>{if(!s.defaultPrevented&&s.key===te.TAB){const n=s.shiftKey;i.findNextFocusableElement(t,!1,n)||i.focusNextGridCoreContainer(n)&&s.preventDefault()}}})}var Gg="paginationPageSizeSelector",bX=class extends Ht{constructor(){super('<span class="ag-paging-page-size"></span>'),this.hasEmptyOption=!1,this.handlePageSizeItemSelected=()=>{if(!this.selectPageSizeComp)return;const e=this.selectPageSizeComp.getValue();if(!e)return;const t=Number(e);isNaN(t)||t<1||t===this.paginationService.getPageSize()||(this.paginationService.setPageSize(t,"pageSizeSelector"),this.hasEmptyOption&&this.toggleSelectDisplay(!0),this.selectPageSizeComp.getFocusableElement().focus())}}wireBeans(e){this.paginationService=e.paginationService}postConstruct(){this.addManagedPropertyListener(Gg,()=>{this.onPageSizeSelectorValuesChange()}),this.addManagedEventListeners({paginationChanged:e=>this.handlePaginationChanged(e)})}handlePaginationChanged(e){if(!this.selectPageSizeComp||!(e!=null&&e.newPageSize))return;const t=this.paginationService.getPageSize();this.getPageSizeSelectorValues().includes(t)?this.selectPageSizeComp.setValue(t.toString()):this.hasEmptyOption?this.selectPageSizeComp.setValue(""):this.toggleSelectDisplay(!0)}toggleSelectDisplay(e){this.selectPageSizeComp&&!e&&this.reset(),e&&(this.reloadPageSizesSelector(),this.selectPageSizeComp)}reset(){Rn(this.getGui()),this.selectPageSizeComp&&(this.selectPageSizeComp=this.destroyBean(this.selectPageSizeComp))}onPageSizeSelectorValuesChange(){this.selectPageSizeComp&&this.shouldShowPageSizeSelector()&&this.reloadPageSizesSelector()}shouldShowPageSizeSelector(){return this.gos.get("pagination")&&!this.gos.get("suppressPaginationPanel")&&!this.gos.get("paginationAutoPageSize")&&this.gos.get(Gg)!==!1}reloadPageSizesSelector(){const e=this.getPageSizeSelectorValues(),t=this.paginationService.getPageSize(),i=!t||!e.includes(t);if(i){const n=this.gos.exists("paginationPageSize"),r=this.gos.get(Gg)!==!0;ae(`'paginationPageSize=${t}'${n?"":" (default value)"}, but ${t} is not included in${r?"":" the default"} paginationPageSizeSelector=[${e.join(", ")}].`),r||ae(`Either set '${Gg}' to an array that includes ${t} or to 'false' to disable the page size selector.`),e.unshift("")}const s=String(i?"":t);this.selectPageSizeComp?(Tl(this.pageSizeOptions,e)||(this.selectPageSizeComp.clearOptions().addOptions(this.createPageSizeSelectOptions(e)),this.pageSizeOptions=e),this.selectPageSizeComp.setValue(s,!0)):this.createPageSizeSelectorComp(e,s),this.hasEmptyOption=i}createPageSizeSelectOptions(e){return e.map(t=>({value:String(t)}))}createPageSizeSelectorComp(e,t){const i=this.localeService.getLocaleTextFunc(),s=i("pageSizeSelectorLabel","Page Size:"),n=i("ariaPageSizeSelectorLabel","Page Size");this.selectPageSizeComp=this.createManagedBean(new UD).addOptions(this.createPageSizeSelectOptions(e)).setValue(t).setAriaLabel(n).setLabel(s).onValueChange(()=>this.handlePageSizeItemSelected()),this.appendChild(this.selectPageSizeComp)}getPageSizeSelectorValues(){const e=[20,50,100],t=this.gos.get(Gg);return!Array.isArray(t)||wn(t)?e:[...t].sort((i,s)=>i-s)}destroy(){this.toggleSelectDisplay(!1),super.destroy()}},SX={selector:"AG-PAGE-SIZE-SELECTOR",component:bX},wX=class extends dK{constructor(){super(),this.btFirst=Ie,this.btPrevious=Ie,this.btNext=Ie,this.btLast=Ie,this.lbRecordCount=Ie,this.lbFirstRowOnPage=Ie,this.lbLastRowOnPage=Ie,this.lbCurrent=Ie,this.lbTotal=Ie,this.pageSizeComp=Ie,this.previousAndFirstButtonsDisabled=!1,this.nextButtonDisabled=!1,this.lastButtonDisabled=!1,this.areListenersSetup=!1,this.allowFocusInnerElement=!1}wireBeans(e){this.rowModel=e.rowModel,this.paginationService=e.paginationService,this.focusService=e.focusService,this.ariaAnnouncementService=e.ariaAnnouncementService}postConstruct(){const e=this.gos.get("enableRtl");this.setTemplate(this.getTemplate(),[SX]);const{btFirst:t,btPrevious:i,btNext:s,btLast:n}=this;this.activateTabIndex([t,i,s,n]),t.insertAdjacentElement("afterbegin",bn(e?"last":"first",this.gos)),i.insertAdjacentElement("afterbegin",bn(e?"next":"previous",this.gos)),s.insertAdjacentElement("afterbegin",bn(e?"previous":"next",this.gos)),n.insertAdjacentElement("afterbegin",bn(e?"first":"last",this.gos)),this.addManagedPropertyListener("pagination",this.onPaginationChanged.bind(this)),this.addManagedPropertyListener("suppressPaginationPanel",this.onPaginationChanged.bind(this)),this.addManagedPropertyListeners(["paginationPageSizeSelector","paginationAutoPageSize","suppressPaginationPanel"],()=>this.onPageSizeRelatedOptionsChange()),this.pageSizeComp.toggleSelectDisplay(this.pageSizeComp.shouldShowPageSizeSelector()),this.initialiseTabGuard({onTabKeyDown:()=>{},focusInnerElement:r=>{this.allowFocusInnerElement?this.tabGuardFeature.getTabGuardCtrl().focusInnerElement(r):this.focusService.focusGridInnerElement(r)},forceFocusOutWhenTabGuardsAreEmpty:!0}),this.onPaginationChanged()}setAllowFocus(e){this.allowFocusInnerElement=e}onPaginationChanged(){const t=this.gos.get("pagination")&&!this.gos.get("suppressPaginationPanel");this.setDisplayed(t),t&&(this.setupListeners(),this.enableOrDisableButtons(),this.updateLabels(),this.onPageSizeRelatedOptionsChange())}onPageSizeRelatedOptionsChange(){this.pageSizeComp.toggleSelectDisplay(this.pageSizeComp.shouldShowPageSizeSelector())}setupListeners(){this.areListenersSetup||(this.addManagedEventListeners({paginationChanged:this.onPaginationChanged.bind(this)}),[{el:this.btFirst,fn:this.onBtFirst.bind(this)},{el:this.btPrevious,fn:this.onBtPrevious.bind(this)},{el:this.btNext,fn:this.onBtNext.bind(this)},{el:this.btLast,fn:this.onBtLast.bind(this)}].forEach(e=>{const{el:t,fn:i}=e;this.addManagedListeners(t,{click:i,keydown:s=>{(s.key===te.ENTER||s.key===te.SPACE)&&(s.preventDefault(),i())}})}),CX(this,this.getGui(),this.focusService),this.areListenersSetup=!0)}onBtFirst(){this.previousAndFirstButtonsDisabled||this.paginationService.goToFirstPage()}formatNumber(e){const t=this.gos.getCallback("paginationNumberFormatter");if(t)return t({value:e});const i=this.localeService.getLocaleTextFunc(),s=i("thousandSeparator",","),n=i("decimalSeparator",".");return l9(e,s,n)}getTemplate(){const e=this.localeService.getLocaleTextFunc(),t=e("page","Page"),i=e("to","to"),s=e("of","of"),n=e("firstPage","First Page"),r=e("previousPage","Previous Page"),o=e("nextPage","Next Page"),a=e("lastPage","Last Page"),l=this.getCompId();return`<div class="ag-paging-panel ag-unselectable" id="ag-${l}">
                <ag-page-size-selector data-ref="pageSizeComp"></ag-page-size-selector>
                <span class="ag-paging-row-summary-panel">
                    <span id="ag-${l}-first-row" data-ref="lbFirstRowOnPage" class="ag-paging-row-summary-panel-number"></span>
                    <span id="ag-${l}-to">${i}</span>
                    <span id="ag-${l}-last-row" data-ref="lbLastRowOnPage" class="ag-paging-row-summary-panel-number"></span>
                    <span id="ag-${l}-of">${s}</span>
                    <span id="ag-${l}-row-count" data-ref="lbRecordCount" class="ag-paging-row-summary-panel-number"></span>
                </span>
                <span class="ag-paging-page-summary-panel" role="presentation">
                    <div data-ref="btFirst" class="ag-button ag-paging-button" role="button" aria-label="${n}"></div>
                    <div data-ref="btPrevious" class="ag-button ag-paging-button" role="button" aria-label="${r}"></div>
                    <span class="ag-paging-description">
                        <span id="ag-${l}-start-page">${t}</span>
                        <span id="ag-${l}-start-page-number" data-ref="lbCurrent" class="ag-paging-number"></span>
                        <span id="ag-${l}-of-page">${s}</span>
                        <span id="ag-${l}-of-page-number" data-ref="lbTotal" class="ag-paging-number"></span>
                    </span>
                    <div data-ref="btNext" class="ag-button ag-paging-button" role="button" aria-label="${o}"></div>
                    <div data-ref="btLast" class="ag-button ag-paging-button" role="button" aria-label="${a}"></div>
                </span>
            </div>`}onBtNext(){this.nextButtonDisabled||this.paginationService.goToNextPage()}onBtPrevious(){this.previousAndFirstButtonsDisabled||this.paginationService.goToPreviousPage()}onBtLast(){this.lastButtonDisabled||this.paginationService.goToLastPage()}enableOrDisableButtons(){const e=this.paginationService.getCurrentPage(),t=this.rowModel.isLastRowIndexKnown(),i=this.paginationService.getTotalPages();this.previousAndFirstButtonsDisabled=e===0,this.toggleButtonDisabled(this.btFirst,this.previousAndFirstButtonsDisabled),this.toggleButtonDisabled(this.btPrevious,this.previousAndFirstButtonsDisabled);const s=this.isZeroPagesToDisplay(),n=e===i-1;this.nextButtonDisabled=n||s,this.lastButtonDisabled=!t||s||e===i-1,this.toggleButtonDisabled(this.btNext,this.nextButtonDisabled),this.toggleButtonDisabled(this.btLast,this.lastButtonDisabled)}toggleButtonDisabled(e,t){w8(e,t),e.classList.toggle("ag-disabled",t)}isZeroPagesToDisplay(){const e=this.rowModel.isLastRowIndexKnown(),t=this.paginationService.getTotalPages();return e&&t===0}updateLabels(){const e=this.rowModel.isLastRowIndexKnown(),t=this.paginationService.getTotalPages(),i=this.paginationService.getMasterRowCount(),s=e?i:null;if(s===1){const x=this.rowModel.getRow(0);if(x&&x.group&&!(x.groupData||x.aggData)){this.setTotalLabelsToZero();return}}const n=this.paginationService.getCurrentPage(),r=this.paginationService.getPageSize();let o,a;this.isZeroPagesToDisplay()?o=a=0:(o=r*n+1,a=o+r-1,e&&a>s&&(a=s));const l=o+r-1,d=!e&&i<l,h=this.formatNumber(o);this.lbFirstRowOnPage.textContent=h;let p;const f=this.localeService.getLocaleTextFunc();d?p=f("pageLastRowUnknown","?"):p=this.formatNumber(a),this.lbLastRowOnPage.textContent=p;const y=t>0?n+1:0,S=this.formatNumber(y);this.lbCurrent.textContent=S;let w,b;if(e)w=this.formatNumber(t),b=this.formatNumber(s);else{const x=f("more","more");w=x,b=x}this.lbTotal.textContent=w,this.lbRecordCount.textContent=b,this.announceAriaStatus(h,p,b,S,w)}announceAriaStatus(e,t,i,s,n){const r=this.localeService.getLocaleTextFunc(),o=r("page","Page"),a=r("to","to"),l=r("of","of"),d=`${e} ${a} ${t} ${l} ${i}`,h=`${o} ${s} ${l} ${n}`;d!==this.ariaRowStatus&&(this.ariaRowStatus=d,this.ariaAnnouncementService.announceValue(d,"paginationRow")),h!==this.ariaPageStatus&&(this.ariaPageStatus=h,this.ariaAnnouncementService.announceValue(h,"paginationPage"))}setTotalLabelsToZero(){const e=this.formatNumber(0);this.lbFirstRowOnPage.textContent=e,this.lbCurrent.textContent=e,this.lbLastRowOnPage.textContent=e,this.lbTotal.textContent=e,this.lbRecordCount.textContent=e,this.announceAriaStatus(e,e,e,e,e)}},xX={selector:"AG-PAGINATION",component:wX},MX=class extends re{constructor(){super(...arguments),this.beanName="paginationService",this.currentPage=0,this.topDisplayedRowIndex=0,this.bottomDisplayedRowIndex=0,this.masterRowCount=0}wireBeans(e){this.rowModel=e.rowModel,this.pageBoundsService=e.pageBoundsService}postConstruct(){this.active=this.gos.get("pagination"),this.pageSizeFromGridOptions=this.gos.get("paginationPageSize"),this.paginateChildRows=this.isPaginateChildRows(),this.addManagedPropertyListener("pagination",this.onPaginationGridOptionChanged.bind(this)),this.addManagedPropertyListener("paginationPageSize",this.onPageSizeGridOptionChanged.bind(this))}getPaginationSelector(){return xX}isPaginateChildRows(){return this.gos.get("groupRemoveSingleChildren")||this.gos.get("groupRemoveLowestSingleChildren")?!0:this.gos.get("paginateChildRows")}onPaginationGridOptionChanged(){this.active=this.gos.get("pagination"),this.calculatePages(),this.dispatchPaginationChangedEvent({keepRenderedRows:!0})}onPageSizeGridOptionChanged(){this.setPageSize(this.gos.get("paginationPageSize"),"gridOptions")}goToPage(e){!this.active||this.currentPage===e||typeof this.currentPage!="number"||(this.currentPage=e,this.calculatePages(),this.dispatchPaginationChangedEvent({newPage:!0}))}isRowPresent(e){return e.rowIndex>=this.topDisplayedRowIndex&&e.rowIndex<=this.bottomDisplayedRowIndex}getPageForIndex(e){return Math.floor(e/this.pageSize)}goToPageWithIndex(e){if(!this.active)return;const t=this.getPageForIndex(e);this.goToPage(t)}isRowInPage(e){return this.active?this.getPageForIndex(e.rowIndex)===this.currentPage:!0}getCurrentPage(){return this.currentPage}goToNextPage(){this.goToPage(this.currentPage+1)}goToPreviousPage(){this.goToPage(this.currentPage-1)}goToFirstPage(){this.goToPage(0)}goToLastPage(){const e=this.rowModel.getRowCount(),t=Math.floor(e/this.pageSize);this.goToPage(t)}getPageSize(){return this.pageSize}getTotalPages(){return this.totalPages}setPage(e){this.currentPage=e}get pageSize(){return ve(this.pageSizeAutoCalculated)&&this.gos.get("paginationAutoPageSize")?this.pageSizeAutoCalculated:ve(this.pageSizeFromPageSizeSelector)?this.pageSizeFromPageSizeSelector:ve(this.pageSizeFromInitialState)?this.pageSizeFromInitialState:ve(this.pageSizeFromGridOptions)?this.pageSizeFromGridOptions:this.defaultPageSize}calculatePages(){this.active?this.paginateChildRows?this.calculatePagesAllRows():this.calculatePagesMasterRowsOnly():this.calculatedPagesNotActive(),this.pageBoundsService.calculateBounds(this.topDisplayedRowIndex,this.bottomDisplayedRowIndex)}unsetAutoCalculatedPageSize(){if(this.pageSizeAutoCalculated===void 0)return;const e=this.pageSizeAutoCalculated;this.pageSizeAutoCalculated=void 0,this.pageSize!==e&&(this.calculatePages(),this.dispatchPaginationChangedEvent({newPageSize:!0}))}setPageSize(e,t){const i=this.pageSize;switch(t){case"autoCalculated":this.pageSizeAutoCalculated=e;break;case"pageSizeSelector":this.pageSizeFromPageSizeSelector=e,this.currentPage!==0&&this.goToFirstPage();break;case"initialState":this.pageSizeFromInitialState=e;break;case"gridOptions":this.pageSizeFromGridOptions=e,this.pageSizeFromInitialState=void 0,this.pageSizeFromPageSizeSelector=void 0,this.currentPage!==0&&this.goToFirstPage();break}i!==this.pageSize&&(this.calculatePages(),this.dispatchPaginationChangedEvent({newPageSize:!0,keepRenderedRows:!0}))}setZeroRows(){this.masterRowCount=0,this.topDisplayedRowIndex=0,this.bottomDisplayedRowIndex=-1,this.currentPage=0,this.totalPages=0}adjustCurrentPageIfInvalid(){this.currentPage>=this.totalPages&&(this.currentPage=this.totalPages-1),(!isFinite(this.currentPage)||isNaN(this.currentPage)||this.currentPage<0)&&(this.currentPage=0)}calculatePagesMasterRowsOnly(){if(this.masterRowCount=this.rowModel.getTopLevelRowCount(),this.masterRowCount<=0){this.setZeroRows();return}const e=this.masterRowCount-1;this.totalPages=Math.floor(e/this.pageSize)+1,this.adjustCurrentPageIfInvalid();const t=this.pageSize*this.currentPage;let i=this.pageSize*(this.currentPage+1)-1;if(i>e&&(i=e),this.topDisplayedRowIndex=this.rowModel.getTopLevelRowDisplayedIndex(t),i===e)this.bottomDisplayedRowIndex=this.rowModel.getRowCount()-1;else{const s=this.rowModel.getTopLevelRowDisplayedIndex(i+1);this.bottomDisplayedRowIndex=s-1}}getMasterRowCount(){return this.masterRowCount}calculatePagesAllRows(){if(this.masterRowCount=this.rowModel.getRowCount(),this.masterRowCount===0){this.setZeroRows();return}const e=this.masterRowCount-1;this.totalPages=Math.floor(e/this.pageSize)+1,this.adjustCurrentPageIfInvalid(),this.topDisplayedRowIndex=this.pageSize*this.currentPage,this.bottomDisplayedRowIndex=this.pageSize*(this.currentPage+1)-1,this.bottomDisplayedRowIndex>e&&(this.bottomDisplayedRowIndex=e)}calculatedPagesNotActive(){this.setPageSize(void 0,"autoCalculated"),this.totalPages=1,this.currentPage=0,this.topDisplayedRowIndex=0,this.bottomDisplayedRowIndex=this.rowModel.getRowCount()-1}dispatchPaginationChangedEvent(e){const{keepRenderedRows:t=!1,newPage:i=!1,newPageSize:s=!1}=e;this.eventService.dispatchEvent({type:"paginationChanged",animate:!1,newData:!1,newPage:i,newPageSize:s,keepRenderedRows:t})}},o2={version:Oe,moduleName:"@ag-grid-community/pagination-core",beans:[MX,yX]},DX={version:Oe,moduleName:"@ag-grid-community/pagination-api",dependantModules:[o2],apiFunctions:{paginationIsLastPageFound:lX,paginationGetPageSize:cX,paginationGetCurrentPage:uX,paginationGetTotalPages:dX,paginationGetRowCount:hX,paginationGoToNextPage:gX,paginationGoToPreviousPage:pX,paginationGoToFirstPage:fX,paginationGoToLastPage:mX,paginationGoToPage:vX}},RX={version:Oe,moduleName:"@ag-grid-community/pagination",dependantModules:[o2,DX]},Xs="clientSide",Ps="serverSide",rd="infinite",EX={onGroupExpandedOrCollapsed:[Xs],refreshClientSideRowModel:[Xs],isRowDataEmpty:[Xs],forEachLeafNode:[Xs],forEachNodeAfterFilter:[Xs],forEachNodeAfterFilterAndSort:[Xs],resetRowHeights:[Xs],applyTransaction:[Xs],applyTransactionAsync:[Xs],flushAsyncTransactions:[Xs],getBestCostNodeSelection:[Xs],getServerSideSelectionState:[Ps],setServerSideSelectionState:[Ps],applyServerSideTransaction:[Ps],applyServerSideTransactionAsync:[Ps],applyServerSideRowData:[Ps],retryServerSideLoads:[Ps],flushServerSideAsyncTransactions:[Ps],refreshServerSide:[Ps],getServerSideGroupLevelState:[Ps],refreshInfiniteCache:[rd],purgeInfiniteCache:[rd],getInfiniteRowCount:[rd],isLastRowIndexKnown:[rd,Ps],expandAll:[Xs,Ps],collapseAll:[Xs,Ps],onRowHeightChanged:[Xs,Ps],setRowCount:[rd,Ps],getCacheBlockState:[rd,Ps]},AX={getValue:{version:"v31.3",new:"getCellValue"},getFirstDisplayedRow:{version:"v31.1",new:"getFirstDisplayedRowIndex"},getLastDisplayedRow:{version:"v31.1",new:"getLastDisplayedRowIndex"},getModel:{version:"v31.1",message:"Please use the appropriate grid API methods instead."},setColumnVisible:{version:"v31.1",old:"setColumnVisible(key,visible)",new:"setColumnsVisible([key],visible)"},setColumnPinned:{version:"v31.1",old:"setColumnPinned(key,pinned)",new:"setColumnsPinned([key],pinned)"},moveColumn:{version:"v31.1",old:"moveColumn(key, toIndex)",new:"moveColumns([key], toIndex)"},setColumnWidth:{version:"v31.1",old:"setColumnWidth(col, width)",new:"setColumnWidths([{key: col, newWidth: width}])"},autoSizeColumn:{version:"v31.1",old:"autoSizeColumn(key, skipHeader)",new:"autoSizeColumns([key], skipHeader)"},addAggFunc:{version:"v31.1",old:"addAggFunc(key, func)",new:"addAggFuncs({ key: func })"},removeValueColumn:{version:"v31.1",old:"removeValueColumn(colKey)",new:"removeValueColumns([colKey])"},addValueColumn:{version:"v31.1",old:"addValueColumn(colKey)",new:"addValueColumns([colKey])"},removeRowGroupColumn:{version:"v31.1",old:"removeRowGroupColumn(colKey)",new:"removeRowGroupColumns([colKey])"},addRowGroupColumn:{version:"v31.1",old:"addRowGroupColumn(colKey)",new:"addRowGroupColumns([colKey])"},removePivotColumn:{version:"v31.1",old:"removePivotColumn(colKey)",new:"removePivotColumns([colKey])"},addPivotColumn:{version:"v31.1",old:"addPivotColumn(colKey)",new:"addPivotColumns([colKey])"},showColumnMenuAfterButtonClick:{version:"v31.1",message:"Use 'IHeaderParams.showColumnMenu' within a header component, or 'api.showColumnMenu' elsewhere."},showColumnMenuAfterMouseClick:{version:"v31.1",message:"Use 'IHeaderParams.showColumnMenuAfterMouseClick' within a header component, or 'api.showColumnMenu' elsewhere."},getFilterInstance:{version:"v31.1",message:"'getFilterInstance' is deprecated. To get/set individual filter models, use 'getColumnFilterModel' or 'setColumnFilterModel' instead. To get hold of the filter instance, use 'getColumnFilterInstance' which returns the instance asynchronously."},showLoadingOverlay:{version:"v32",message:'`showLoadingOverlay` is deprecated. Use the grid option "loading"=true instead or setGridOption("loading", true).'},clearRangeSelection:{version:"v32.2",message:"Use `clearCellSelection` instead."},getInfiniteRowCount:{version:"v32.2",old:"getInfiniteRowCount()",new:"getDisplayedRowCount()"}};function TX(e,t,i){const s=AX[e];if(s){const{version:r,new:o,old:a,message:l}=s,d=a??e;return(...h)=>{const p=o?`Please use ${o} instead. `:"";return ae(`Since ${r} api.${d} is deprecated. ${p}${l??""}`),t.apply(t,h)}}const n=EX[e];return n?(...r)=>{const o=i.rowModel.getType();if(!n.includes(o)){at(`api.${e} can only be called when gridOptions.rowModelType is ${n.join(" or ")}`);return}return t.apply(t,r)}:t}var IX={columnsMenuParams:{version:"31.1",message:"Use `columnChooserParams` instead."},suppressMenu:{version:"31.1",message:"Use `suppressHeaderMenuButton` instead."},suppressCellFlash:{version:"31.2",message:"Use `enableCellChangeFlash={false}` in the ColDef"},checkboxSelection:{version:"32.2",message:"Use `rowSelection.checkboxes` in `GridOptions` instead."},headerCheckboxSelection:{version:"32.2",message:"Use `rowSelection.headerCheckbox = true` in `GridOptions` instead."},headerCheckboxSelectionFilteredOnly:{version:"32.2",message:'Use `rowSelection.selectAll = "filtered"` in `GridOptions` instead.'},headerCheckboxSelectionCurrentPageOnly:{version:"32.2",message:'Use `rowSelection.selectAll = "currentPage"` in `GridOptions` instead.'},showDisabledCheckboxes:{version:"32.2",message:"Use `rowSelection.hideDisabledCheckboxes = true` in `GridOptions` instead."}},Ja=(e,t)=>{const i=t.rowModelType??"clientSide";return i==="clientSide"||i==="serverSide"?{module:"@ag-grid-enterprise/row-grouping"}:null},LX={enableRowGroup:Ja,rowGroup:Ja,rowGroupIndex:Ja,enablePivot:Ja,enableValue:Ja,pivot:Ja,pivotIndex:Ja,aggFunc:Ja,cellEditor:e=>e.cellEditor==="agRichSelect"||e.cellEditor==="agRichSelectCellEditor"?{module:"@ag-grid-enterprise/rich-select"}:null,menuTabs:e=>{var i;const t=["columnsMenuTab","generalMenuTab"];return(i=e.menuTabs)!=null&&i.some(s=>t.includes(s))?{module:"@ag-grid-enterprise/menu"}:null},columnsMenuParams:{module:["@ag-grid-enterprise/menu","@ag-grid-enterprise/column-tool-panel"]},columnChooserParams:{module:["@ag-grid-enterprise/menu","@ag-grid-enterprise/column-tool-panel"]},headerCheckboxSelection:{supportedRowModels:["clientSide","serverSide"],validate:(e,{rowSelection:t})=>t==="multiple"?null:"headerCheckboxSelection is only supported with rowSelection=multiple"},headerCheckboxSelectionFilteredOnly:{supportedRowModels:["clientSide"],validate:(e,{rowSelection:t})=>t==="multiple"?null:"headerCheckboxSelectionFilteredOnly is only supported with rowSelection=multiple"},headerCheckboxSelectionCurrentPageOnly:{supportedRowModels:["clientSide"],validate:(e,{rowSelection:t})=>t==="multiple"?null:"headerCheckboxSelectionCurrentPageOnly is only supported with rowSelection=multiple"},children:()=>gd},kX={headerName:void 0,columnGroupShow:void 0,headerClass:void 0,toolPanelClass:void 0,headerValueGetter:void 0,pivotKeys:void 0,groupId:void 0,colId:void 0,sort:void 0,initialSort:void 0,field:void 0,type:void 0,cellDataType:void 0,tooltipComponent:void 0,tooltipField:void 0,headerTooltip:void 0,cellClass:void 0,showRowGroup:void 0,filter:void 0,initialAggFunc:void 0,defaultAggFunc:void 0,aggFunc:void 0,pinned:void 0,initialPinned:void 0,chartDataType:void 0,cellAriaRole:void 0,cellEditorPopupPosition:void 0,headerGroupComponent:void 0,headerGroupComponentParams:void 0,cellStyle:void 0,cellRenderer:void 0,cellRendererParams:void 0,cellEditor:void 0,cellEditorParams:void 0,filterParams:void 0,pivotValueColumn:void 0,headerComponent:void 0,headerComponentParams:void 0,floatingFilterComponent:void 0,floatingFilterComponentParams:void 0,tooltipComponentParams:void 0,refData:void 0,columnsMenuParams:void 0,columnChooserParams:void 0,children:void 0,sortingOrder:void 0,allowedAggFuncs:void 0,menuTabs:void 0,pivotTotalColumnIds:void 0,cellClassRules:void 0,icons:void 0,sortIndex:void 0,initialSortIndex:void 0,flex:void 0,initialFlex:void 0,width:void 0,initialWidth:void 0,minWidth:void 0,maxWidth:void 0,rowGroupIndex:void 0,initialRowGroupIndex:void 0,pivotIndex:void 0,initialPivotIndex:void 0,suppressCellFlash:void 0,suppressColumnsToolPanel:void 0,suppressFiltersToolPanel:void 0,openByDefault:void 0,marryChildren:void 0,suppressStickyLabel:void 0,hide:void 0,initialHide:void 0,rowGroup:void 0,initialRowGroup:void 0,pivot:void 0,initialPivot:void 0,checkboxSelection:void 0,showDisabledCheckboxes:void 0,headerCheckboxSelection:void 0,headerCheckboxSelectionFilteredOnly:void 0,headerCheckboxSelectionCurrentPageOnly:void 0,suppressMenu:void 0,suppressHeaderMenuButton:void 0,suppressMovable:void 0,lockPosition:void 0,lockVisible:void 0,lockPinned:void 0,unSortIcon:void 0,suppressSizeToFit:void 0,suppressAutoSize:void 0,enableRowGroup:void 0,enablePivot:void 0,enableValue:void 0,editable:void 0,suppressPaste:void 0,suppressNavigable:void 0,enableCellChangeFlash:void 0,rowDrag:void 0,dndSource:void 0,autoHeight:void 0,wrapText:void 0,sortable:void 0,resizable:void 0,singleClickEdit:void 0,floatingFilter:void 0,cellEditorPopup:void 0,suppressFillHandle:void 0,wrapHeaderText:void 0,autoHeaderHeight:void 0,dndSourceOnRowDrag:void 0,valueGetter:void 0,valueSetter:void 0,filterValueGetter:void 0,keyCreator:void 0,valueFormatter:void 0,valueParser:void 0,comparator:void 0,equals:void 0,pivotComparator:void 0,suppressKeyboardEvent:void 0,suppressHeaderKeyboardEvent:void 0,colSpan:void 0,rowSpan:void 0,getQuickFilterText:void 0,onCellValueChanged:void 0,onCellClicked:void 0,onCellDoubleClicked:void 0,onCellContextMenu:void 0,rowDragText:void 0,tooltipValueGetter:void 0,cellRendererSelector:void 0,cellEditorSelector:void 0,suppressSpanHeaderHeight:void 0,useValueFormatterForExport:void 0,useValueParserForImport:void 0,mainMenuItems:void 0,contextMenuItems:void 0,suppressFloatingFilterButton:void 0,suppressHeaderFilterButton:void 0,suppressHeaderContextMenu:void 0,loadingCellRenderer:void 0,loadingCellRendererParams:void 0,loadingCellRendererSelector:void 0,context:void 0},PX=Object.keys(kX),gd={objectName:"colDef",allProperties:PX,docsUrl:"column-properties/",deprecations:IX,validations:LX},OX=()=>({advancedFilterModel:{version:"31",message:"Use `initialState.filter.advancedFilterModel` instead."},suppressAsyncEvents:{version:"31",message:"Events should be handled asynchronously."},cellFadeDelay:{version:"31.1",renamed:"cellFadeDuration"},cellFlashDelay:{version:"31.1",renamed:"cellFlashDuration"},suppressServerSideInfiniteScroll:{version:"31.1"},serverSideSortOnServer:{version:"31.1"},serverSideFilterOnServer:{version:"31.1"},enableCellChangeFlash:{version:"31.2",message:"Use `enableCellChangeFlash` in the `ColDef` or `defaultColDef` for all columns."},groupIncludeFooter:{version:"31.3",message:"Use `groupTotalRow` instead."},groupIncludeTotalFooter:{version:"31.3",message:"Use `grandTotalRow` instead."},suppressLoadingOverlay:{version:"32",message:"Use `loading`=false instead."},enableFillHandle:{version:"32.2",message:"Use `cellSelection.handle` instead."},enableRangeHandle:{version:"32.2",message:"Use `cellSelection.handle` instead."},enableRangeSelection:{version:"32.2",message:"Use `cellSelection = true` instead."},suppressMultiRangeSelection:{version:"32.2",message:"Use `cellSelection.suppressMultiRanges` instead."},suppressClearOnFillReduction:{version:"32.2",message:"Use `cellSelection.handle.suppressClearOnFillReduction` instead."},fillHandleDirection:{version:"32.2",message:"Use `cellSelection.handle.direction` instead."},fillOperation:{version:"32.2",message:"Use `cellSelection.handle.setFillValue` instead."},suppressRowClickSelection:{version:"32.2",message:"Use `rowSelection.enableClickSelection` instead."},suppressRowDeselection:{version:"32.2",message:"Use `rowSelection.enableClickSelection` instead."},rowMultiSelectWithClick:{version:"32.2",message:"Use `rowSelection.enableSelectionWithoutKeys` instead."},groupSelectsChildren:{version:"32.2",message:'Use `rowSelection.groupSelects = "descendants"` instead.'},groupSelectsFiltered:{version:"32.2",message:'Use `rowSelection.groupSelects = "filteredDescendants"` instead.'},isRowSelectable:{version:"32.2",message:"Use `selectionOptions.isRowSelectable` instead."},suppressCopySingleCellRanges:{version:"32.2",message:"Use `rowSelection.copySelectedRows` instead."},suppressCopyRowsToClipboard:{version:"32.2",message:"Use `rowSelection.copySelectedRows` instead."},onRangeSelectionChanged:{version:"32.2",message:"Use `onCellSelectionChanged` instead."},onRangeDeleteStart:{version:"32.2",message:"Use `onCellSelectionDeleteStart` instead."},onRangeDeleteEnd:{version:"32.2",message:"Use `onCellSelectionDeleteEnd` instead."},suppressBrowserResizeObserver:{version:"32.2",message:"The grid always uses the browser's ResizeObserver, this grid option has no effect."},onColumnEverythingChanged:{version:"32.2",message:"Either use `onDisplayedColumnsChanged` which is fired at the same time, or use one of the more specific column events."}}),FX={suppressContextMenu:!1,preventDefaultOnContextMenu:!1,allowContextMenuWithControlKey:!1,suppressMenuHide:!0,enableBrowserTooltips:!1,tooltipTrigger:"hover",tooltipShowDelay:2e3,tooltipHideDelay:1e4,tooltipMouseTrack:!1,tooltipShowMode:"standard",tooltipInteraction:!1,copyHeadersToClipboard:!1,copyGroupHeadersToClipboard:!1,clipboardDelimiter:"	",suppressCopyRowsToClipboard:!1,suppressCopySingleCellRanges:!1,suppressLastEmptyLineOnPaste:!1,suppressClipboardPaste:!1,suppressClipboardApi:!1,suppressCutToClipboard:!1,maintainColumnOrder:!1,enableStrictPivotColumnOrder:!1,suppressFieldDotNotation:!1,allowDragFromColumnsToolPanel:!1,suppressMovableColumns:!1,suppressColumnMoveAnimation:!1,suppressMoveWhenColumnDragging:!1,suppressDragLeaveHidesColumns:!1,suppressRowGroupHidesColumns:!1,suppressAutoSize:!1,autoSizePadding:20,skipHeaderOnAutoSize:!1,singleClickEdit:!1,suppressClickEdit:!1,readOnlyEdit:!1,stopEditingWhenCellsLoseFocus:!1,enterNavigatesVertically:!1,enterNavigatesVerticallyAfterEdit:!1,enableCellEditingOnBackspace:!1,undoRedoCellEditing:!1,undoRedoCellEditingLimit:10,suppressCsvExport:!1,suppressExcelExport:!1,cacheQuickFilter:!1,includeHiddenColumnsInQuickFilter:!1,excludeChildrenWhenTreeDataFiltering:!1,enableAdvancedFilter:!1,includeHiddenColumnsInAdvancedFilter:!1,enableCharts:!1,masterDetail:!1,keepDetailRows:!1,keepDetailRowsCount:10,detailRowAutoHeight:!1,tabIndex:0,rowBuffer:10,valueCache:!1,valueCacheNeverExpires:!1,enableCellExpressions:!1,suppressTouch:!1,suppressFocusAfterRefresh:!1,suppressAsyncEvents:!1,suppressBrowserResizeObserver:!1,suppressPropertyNamesCheck:!1,suppressChangeDetection:!1,debug:!1,suppressLoadingOverlay:!1,suppressNoRowsOverlay:!1,pagination:!1,paginationPageSize:100,paginationPageSizeSelector:!0,paginationAutoPageSize:!1,paginateChildRows:!1,suppressPaginationPanel:!1,pivotMode:!1,pivotPanelShow:"never",pivotDefaultExpanded:0,pivotSuppressAutoColumn:!1,suppressExpandablePivotGroups:!1,functionsReadOnly:!1,suppressAggFuncInHeader:!1,alwaysAggregateAtRootLevel:!1,aggregateOnlyChangedColumns:!1,suppressAggFilteredOnly:!1,removePivotHeaderRowWhenSingleValueColumn:!1,animateRows:!0,enableCellChangeFlash:!1,cellFlashDelay:500,cellFlashDuration:500,cellFadeDelay:1e3,cellFadeDuration:1e3,allowShowChangeAfterFilter:!1,domLayout:"normal",ensureDomOrder:!1,enableRtl:!1,suppressColumnVirtualisation:!1,suppressMaxRenderedRowRestriction:!1,suppressRowVirtualisation:!1,rowDragManaged:!1,suppressRowDrag:!1,suppressMoveWhenRowDragging:!1,rowDragEntireRow:!1,rowDragMultiRow:!1,embedFullWidthRows:!1,groupDisplayType:"singleColumn",groupDefaultExpanded:0,groupMaintainOrder:!1,groupSelectsChildren:!1,groupIncludeTotalFooter:!1,groupSuppressBlankHeader:!1,groupSelectsFiltered:!1,showOpenedGroup:!1,groupRemoveSingleChildren:!1,groupRemoveLowestSingleChildren:!1,groupHideOpenParents:!1,groupAllowUnbalanced:!1,rowGroupPanelShow:"never",suppressMakeColumnVisibleAfterUnGroup:!1,treeData:!1,rowGroupPanelSuppressSort:!1,suppressGroupRowsSticky:!1,rowModelType:"clientSide",asyncTransactionWaitMillis:50,suppressModelUpdateAfterUpdateTransaction:!1,cacheOverflowSize:1,infiniteInitialRowCount:1,serverSideInitialRowCount:1,suppressServerSideInfiniteScroll:!1,cacheBlockSize:100,maxBlocksInCache:-1,maxConcurrentDatasourceRequests:2,blockLoadDebounceMillis:0,purgeClosedRowNodes:!1,serverSideSortAllLevels:!1,serverSideOnlyRefreshFilteredGroups:!1,serverSideSortOnServer:!1,serverSideFilterOnServer:!1,serverSidePivotResultFieldSeparator:"_",viewportRowModelPageSize:5,viewportRowModelBufferSize:5,alwaysShowHorizontalScroll:!1,alwaysShowVerticalScroll:!1,debounceVerticalScrollbar:!1,suppressHorizontalScroll:!1,suppressScrollOnNewData:!1,suppressScrollWhenPopupsAreOpen:!1,suppressAnimationFrame:!1,suppressMiddleClickScrolls:!1,suppressPreventDefaultOnMouseWheel:!1,rowMultiSelectWithClick:!1,suppressRowDeselection:!1,suppressRowClickSelection:!1,suppressCellFocus:!1,suppressHeaderFocus:!1,suppressMultiRangeSelection:!1,enableCellTextSelection:!1,enableRangeSelection:!1,enableRangeHandle:!1,enableFillHandle:!1,fillHandleDirection:"xy",suppressClearOnFillReduction:!1,accentedSort:!1,unSortIcon:!1,suppressMultiSort:!1,alwaysMultiSort:!1,suppressMaintainUnsortedOrder:!1,suppressRowHoverHighlight:!1,suppressRowTransform:!1,columnHoverHighlight:!1,deltaSort:!1,enableGroupEdit:!1,suppressGroupMaintainValueType:!1,groupLockGroupColumns:0,serverSideEnableClientSideSort:!1,suppressServerSideFullWidthLoadingRow:!1,pivotMaxGeneratedColumns:-1,columnMenu:"new",reactiveCustomComponents:!0,suppressSetFilterByDefault:!1},NX=()=>({sideBar:{module:"@ag-grid-enterprise/side-bar"},statusBar:{module:"@ag-grid-enterprise/status-bar"},enableCharts:{module:"@ag-grid-enterprise/charts"},getMainMenuItems:{module:"@ag-grid-enterprise/menu"},getContextMenuItems:{module:"@ag-grid-enterprise/menu"},allowContextMenuWithControlKey:{module:"@ag-grid-enterprise/menu"},enableAdvancedFilter:{module:"@ag-grid-enterprise/advanced-filter"},treeData:{supportedRowModels:["clientSide","serverSide"],module:"@ag-grid-enterprise/row-grouping",validate:e=>{const t=e.rowModelType??"clientSide";switch(t){case"clientSide":{const i=`treeData requires 'getDataPath' in the ${t} row model.`;return e.getDataPath?null:i}case"serverSide":{const i=`treeData requires 'isServerSideGroup' and 'getServerSideGroupKey' in the ${t} row model.`;return e.isServerSideGroup&&e.getServerSideGroupKey?null:i}}return null}},masterDetail:{module:"@ag-grid-enterprise/master-detail"},enableRangeSelection:{module:"@ag-grid-enterprise/range-selection"},enableRangeHandle:{dependencies:{enableRangeSelection:[!0]}},enableFillHandle:{dependencies:{enableRangeSelection:[!0]}},groupDefaultExpanded:{supportedRowModels:["clientSide"]},groupIncludeFooter:{supportedRowModels:["clientSide","serverSide"],validate:e=>{switch(e.rowModelType??"clientSide"){case"clientSide":return null;case"serverSide":return e.suppressServerSideInfiniteScroll?"groupIncludeFooter is not supported alongside suppressServerSideInfiniteScroll":null}return null}},groupHideOpenParents:{supportedRowModels:["clientSide","serverSide"],dependencies:{groupTotalRow:[void 0,"bottom"]}},groupIncludeTotalFooter:{supportedRowModels:["clientSide"]},groupRemoveSingleChildren:{dependencies:{groupHideOpenParents:[void 0,!1],groupRemoveLowestSingleChildren:[void 0,!1]}},groupRemoveLowestSingleChildren:{dependencies:{groupHideOpenParents:[void 0,!1],groupRemoveSingleChildren:[void 0,!1]}},groupSelectsChildren:{dependencies:{rowSelection:["multiple"]}},viewportDatasource:{supportedRowModels:["viewport"],module:"@ag-grid-enterprise/viewport-row-model"},serverSideDatasource:{supportedRowModels:["serverSide"],module:"@ag-grid-enterprise/server-side-row-model"},cacheBlockSize:{supportedRowModels:["serverSide","infinite"]},datasource:{supportedRowModels:["infinite"],module:"@ag-grid-community/infinite-row-model"},rowData:{supportedRowModels:["clientSide"],module:"@ag-grid-community/client-side-row-model"},paginationPageSizeSelector:{validate:e=>{const t=e.paginationPageSizeSelector;return typeof t=="boolean"||t==null||t.length?null:`'paginationPageSizeSelector' cannot be an empty array.
                    If you want to hide the page size selector, set paginationPageSizeSelector to false.`}},rowSelection:{validate({rowSelection:e}){return e&&typeof e=="string"?'As of version 32.2.1, using `rowSelection` with the values "single" or "multiple" has been deprecated. Use the object value instead.':e&&typeof e!="object"?"Expected `RowSelectionOptions` object for the `rowSelection` property.":null}},cellSelection:{module:"@ag-grid-enterprise/range-selection"},columnDefs:()=>gd,defaultColDef:()=>gd,defaultColGroupDef:()=>gd,autoGroupColumnDef:()=>gd,selectionColumnDef:()=>gd}),zX=()=>({objectName:"gridOptions",allProperties:[...Ap.ALL_PROPERTIES,...Tp.EVENT_CALLBACKS],propertyExceptions:["api"],docsUrl:"grid-options/",deprecations:OX(),validations:NX()}),BX=class extends re{constructor(){super(...arguments),this.beanName="validationService"}wireBeans(e){this.beans=e,this.gridOptions=e.gridOptions}postConstruct(){this.processGridOptions(this.gridOptions)}processGridOptions(e){this.processOptions(e,zX())}validateApiFunction(e,t){return TX(e,t,this.beans)}processOptions(e,t){const{validations:i,deprecations:s,allProperties:n,propertyExceptions:r,objectName:o,docsUrl:a}=t;n&&this.gridOptions.suppressPropertyNamesCheck!==!0&&this.checkProperties(e,[...r??[],...Object.keys(s)],n,o,a);const l=new Set;Object.keys(e).forEach(h=>{const p=s[h];if(p)if("renamed"in p){const{renamed:D,version:E}=p;l.add(`As of v${E}, ${String(h)} is deprecated. Please use ${String(D)} instead.`),e[D]=e[h]}else{const{message:D,version:E}=p;l.add(`As of v${E}, ${String(h)} is deprecated. ${D??""}`)}const f=e[h];if(f==null||f===!1)return;const v=i[h];let y;if(v)if(typeof v=="function"){const D=v(e,this.gridOptions);if(!D)return;if("objectName"in D){const E=e[h];if(Array.isArray(E)){E.forEach(T=>{this.processOptions(T,D)});return}this.processOptions(e[h],D);return}y=D}else y=v;else return;const{module:S,dependencies:w,validate:b,supportedRowModels:x}=y;if(x){const D=this.gridOptions.rowModelType??"clientSide";if(!x.includes(D)){l.add(`${String(h)} is not supported with the '${D}' row model.`);return}}if(S){const D=Array.isArray(S)?S:[S];let E=!0;if(D.forEach(T=>{this.gos.assertModuleRegistered(T,String(h))||(E=!1,l.add(`${String(h)} is only available when ${T} is loaded.`))}),!E)return}if(w){const D=this.checkForRequiredDependencies(h,w,e);if(D){l.add(D);return}}if(b){const D=b(e,this.gridOptions);if(D){l.add(D);return}}}),l.size>0&&l.forEach(h=>{ae(h)})}checkForRequiredDependencies(e,t,i){const n=Object.entries(t).find(([a,l])=>{const d=i[a];return!l.includes(d)});if(!n)return null;const[r,o]=n;return o.length>1?`'${String(e)}' requires '${r}' to be one of [${o.join(", ")}].`:`'${String(e)}' requires '${r}' to be ${o[0]}.`}checkProperties(e,t,i,s,n){const r=["__ob__","__v_skip","__metadata__"],o=GX(Object.getOwnPropertyNames(e),[...r,...t,...i],i);if(xr(o,(a,l)=>{let d=`invalid ${s} property '${a}' did you mean any of these: ${l.slice(0,8).join(", ")}.`;i.includes("context")&&(d+=`
If you are trying to annotate ${s} with application data, use the '${s}.context' property instead.`),ae(d)}),Object.keys(o).length>0&&n){const a=this.getFrameworkOverrides().getDocLink(n);ae(`to see all the valid ${s} properties please check: ${a}`)}}};function GX(e,t,i){const s={},n=e.filter(r=>!t.some(o=>o===r));return n.length>0&&n.forEach(r=>s[r]=aN({inputValue:r,allSuggestions:i}).values),s}var HX={version:Oe,moduleName:"@ag-grid-community/core"},jX={version:Oe,moduleName:"@ag-grid-community/core-validations",beans:[BX]},a2={version:Oe,moduleName:"@ag-grid-community/core-community-features",dependantModules:[HX,jX,JY,$9,aX,Pq,VK,RX,eX]},VX=class extends re{constructor(){super(...arguments),this.beanName="gridDestroyService",this.destroyCalled=!1}wireBeans(e){this.beans=e}destroy(){var e,t;this.destroyCalled||(this.eventService.dispatchEvent({type:"gridPreDestroyed",state:((e=this.beans.stateService)==null?void 0:e.getState())??{}}),this.destroyCalled=!0,(t=this.beans.ctrlsService.get("gridCtrl"))==null||t.destroyGridUi(),this.beans.context.destroy(),super.destroy())}isDestroyCalled(){return this.destroyCalled}},_v=new Set(["gridPreDestroyed","fillStart","pasteStart"]),_X=e=>e==="checkboxSelected"||e==="rowClicked"||e==="spaceKey"||e==="uiSelectAll"||e==="uiSelectAllCurrentPage"||e==="uiSelectAllFiltered",WX=new Map([...Ap.BOOLEAN_PROPERTIES.map(e=>[e,tM]),...Ap.NUMBER_PROPERTIES.map(e=>[e,DN]),["groupAggFiltering",e=>typeof e=="function"?e:tM(e)],["pageSize",qr(1)],["autoSizePadding",qr(0)],["keepDetailRowsCount",qr(1)],["rowBuffer",qr(0)],["infiniteInitialRowCount",qr(1)],["cacheOverflowSize",qr(1)],["cacheBlockSize",qr(1)],["serverSideInitialRowCount",qr(1)],["viewportRowModelPageSize",qr(1)],["viewportRowModelBufferSize",qr(0)]]);function l2(e,t){const i=WX.get(e);return i?i(t):t}function UX(e){const t={};return Object.entries(e).forEach(([i,s])=>{const n=l2(i,s);t[i]=n}),t}var c2=class u2 extends re{constructor(){super(...arguments),this.beanName="gos",this.domDataKey="__AG_"+Math.random().toString(),this.propertyEventService=new rh,this.globalEventHandlerFactory=t=>(i,s)=>{if(!this.isAlive())return;const n=_v.has(i);if(n&&!t||!n&&t)return;const r=Tp.getCallbackForEvent(i),o=this.gridOptions[r];typeof o=="function"&&this.frameworkOverrides.wrapOutgoing(()=>{o(s)})}}wireBeans(t){this.gridOptions=t.gridOptions,this.eGridDiv=t.eGridDiv,this.validationService=t.validationService,this.environment=t.environment,this.api=t.gridApi,this.gridId=t.context.getGridId()}get gridOptionsContext(){return this.gridOptions.context}postConstruct(){const t=!this.get("suppressAsyncEvents");this.eventService.addGlobalListener(this.globalEventHandlerFactory().bind(this),t),this.eventService.addGlobalListener(this.globalEventHandlerFactory(!0).bind(this),!1),this.propertyEventService.setFrameworkOverrides(this.frameworkOverrides),this.addManagedEventListeners({gridOptionsChanged:({options:i})=>{this.updateGridOptions({options:i,force:!0,source:"gridOptionsUpdated"})}})}get(t){return this.gridOptions[t]??FX[t]}getCallback(t){return this.mergeGridCommonParams(this.gridOptions[t])}exists(t){return ve(this.gridOptions[t])}mergeGridCommonParams(t){return t&&(s=>{const n=s;return n.api=this.api,n.context=this.gridOptionsContext,t(n)})}updateGridOptions({options:t,force:i,source:s="api"}){var o;const n={id:u2.changeSetId++,properties:[]},r=[];Object.entries(t).forEach(([a,l])=>{s==="api"&&f8[a]&&ae(`${a} is an initial property and cannot be updated.`);const d=l2(a,l),h=i||typeof d=="object"&&s==="api",p=this.gridOptions[a];if(h||p!==d){this.gridOptions[a]=d;const f={type:a,currentValue:d,previousValue:p,changeSet:n,source:s};r.push(f)}}),(o=this.validationService)==null||o.processGridOptions(this.gridOptions),n.properties=r.map(a=>a.type),r.forEach(a=>{this.gridOptions.debug&&Dr(`Updated property ${a.type} from`,a.previousValue," to ",a.currentValue),this.propertyEventService.dispatchEvent(a)})}addPropertyEventListener(t,i){this.propertyEventService.addEventListener(t,i)}removePropertyEventListener(t,i){this.propertyEventService.removeEventListener(t,i)}getDomDataKey(){return this.domDataKey}getGridCommonParams(){return{api:this.api,context:this.gridOptionsContext}}addGridCommonParams(t){const i=t;return i.api=this.api,i.context=this.gridOptionsContext,i}assertModuleRegistered(t,i){return Cn.__assertRegistered(t,i,this.gridId)}isModuleRegistered(t){return Cn.__isRegistered(t,this.gridId)}};c2.changeSetId=0;var $X=c2,YX=class extends re{constructor(){super(...arguments),this.beanName="headerPositionUtils"}wireBeans(e){this.visibleColsService=e.visibleColsService,this.ctrlsService=e.ctrlsService}findHeader(e,t){let i,s;if(Ei(e.column)?i=this.visibleColsService.getGroupAtDirection(e.column,t):(s=`getCol${t}`,i=this.visibleColsService[s](e.column)),!i)return;const{headerRowIndex:n}=e;if(this.getHeaderRowType(n)!=="filter"){const a=[i];for(;i.getParent();)i=i.getParent(),a.push(i);i=a[a.length-1-n]}const{column:r,headerRowIndex:o}=this.getHeaderIndexToFocus(i,n);return{column:r,headerRowIndex:o}}getHeaderIndexToFocus(e,t){let i;if(Ei(e)&&this.isAnyChildSpanningHeaderHeight(e)&&e.isPadding()){const s=e;i=s.getLeafColumns()[0];let n=i;for(;n!==s;)t++,n=n.getParent()}return{column:i||e,headerRowIndex:t}}isAnyChildSpanningHeaderHeight(e){return e?e.getLeafColumns().some(t=>t.isSpanHeaderHeight()):!1}getColumnVisibleParent(e,t){const i=this.getHeaderRowType(t),s=i==="filter",n=i==="column";let r=s?e:e.getParent(),o=t-1,a=o;if(n&&this.isAnyChildSpanningHeaderHeight(e.getParent())){for(;r&&r.isPadding();)r=r.getParent(),o--;a=o,o<0&&(r=e,o=t,a=void 0)}return{column:r,headerRowIndex:o,headerRowIndexWithoutSpan:a}}getColumnVisibleChild(e,t,i="After"){const s=this.getHeaderRowType(t);let n=e,r=t+1;const o=r;if(s==="group"){const a=e.getDisplayedLeafColumns(),l=i==="After"?a[0]:nt(a),d=[];let h=l;for(;h.getParent()!==e;)h=h.getParent(),d.push(h);if(n=l,l.isSpanHeaderHeight())for(let p=d.length-1;p>=0;p--){const f=d[p];if(!f.isPadding()){n=f;break}r++}else n=nt(d),n||(n=l)}return{column:n,headerRowIndex:r,headerRowIndexWithoutSpan:o}}getHeaderRowType(e){const t=this.ctrlsService.getHeaderRowContainerCtrl();if(t)return t.getRowType(e)}findColAtEdgeForHeaderRow(e,t){const i=this.visibleColsService.getAllCols(),s=i[t==="start"?0:i.length-1];if(!s)return;const n=this.ctrlsService.getHeaderRowContainerCtrl(s.getPinned()),r=n==null?void 0:n.getRowType(e);if(r=="group"){const o=this.visibleColsService.getColGroupAtLevel(s,e);return{headerRowIndex:e,column:o}}return{headerRowIndex:r==null?-1:e,column:s}}},KX=class extends re{constructor(){super(...arguments),this.beanName="localeService"}getLocaleTextFunc(){const e=this.gos.getCallback("getLocaleText");if(e)return(i,s,n)=>e({key:i,defaultValue:s,variableValues:n});const t=this.gos.get("localeText");return(i,s,n)=>{let r=t&&t[i];if(r&&n&&n.length){let o=0;for(;!(o>=n.length||r.indexOf("${variable}")===-1);)r=r.replace("${variable}",n[o++])}return r??s}}},qX=class extends re{constructor(){super(...arguments),this.beanName="apiEventService",this.syncEventListeners=new Map,this.asyncEventListeners=new Map,this.syncGlobalEventListeners=new Set,this.globalEventListenerPairs=new Map}postConstruct(){this.frameworkEventWrappingService=new ID(this.getFrameworkOverrides())}addEventListener(e,t){const i=this.frameworkEventWrappingService.wrap(t),s=vy(this.gos)&&!_v.has(e),n=s?this.asyncEventListeners:this.syncEventListeners;n.has(e)||n.set(e,new Set),n.get(e).add(i),this.eventService.addEventListener(e,i,s)}removeEventListener(e,t){var r;const i=this.frameworkEventWrappingService.unwrap(t),s=this.asyncEventListeners.get(e),n=!!(s!=null&&s.delete(i));n||(r=this.syncEventListeners.get(e))==null||r.delete(i),this.eventService.removeEventListener(e,i,n)}addGlobalListener(e){const t=this.frameworkEventWrappingService.wrapGlobal(e);if(vy(this.gos)){const s=(r,o)=>{_v.has(r)&&t(r,o)},n=(r,o)=>{_v.has(r)||t(r,o)};this.globalEventListenerPairs.set(e,{syncListener:s,asyncListener:n}),this.eventService.addGlobalListener(s,!1),this.eventService.addGlobalListener(n,!0)}else this.syncGlobalEventListeners.add(t),this.eventService.addGlobalListener(t,!1)}removeGlobalListener(e){const t=this.frameworkEventWrappingService.unwrapGlobal(e);if(this.globalEventListenerPairs.has(t)){const{syncListener:s,asyncListener:n}=this.globalEventListenerPairs.get(t);this.eventService.removeGlobalListener(s,!1),this.eventService.removeGlobalListener(n,!0),this.globalEventListenerPairs.delete(e)}else this.syncGlobalEventListeners.delete(t),this.eventService.removeGlobalListener(t,!1)}destroyEventListeners(e,t){e.forEach((i,s)=>{i.forEach(n=>this.eventService.removeEventListener(s,n,t)),i.clear()}),e.clear()}destroyGlobalListeners(e,t){e.forEach(i=>this.eventService.removeGlobalListener(i,t)),e.clear()}destroy(){super.destroy(),this.destroyEventListeners(this.syncEventListeners,!1),this.destroyEventListeners(this.asyncEventListeners,!0),this.destroyGlobalListeners(this.syncGlobalEventListeners,!1),this.globalEventListenerPairs.forEach(({syncListener:e,asyncListener:t})=>{this.eventService.removeGlobalListener(e,!1),this.eventService.removeGlobalListener(t,!0)}),this.globalEventListenerPairs.clear()}},ZX=class extends re{constructor(){super(...arguments),this.beanName="pageBoundsListener"}wireBeans(e){this.rowModel=e.rowModel,this.paginationService=e.paginationService,this.pageBoundsService=e.pageBoundsService}postConstruct(){this.addManagedEventListeners({modelUpdated:this.onModelUpdated.bind(this),recalculateRowBounds:this.calculatePages.bind(this)}),this.onModelUpdated()}onModelUpdated(e){this.calculatePages(),this.eventService.dispatchEvent({type:"paginationChanged",animate:(e==null?void 0:e.animate)??!1,newData:(e==null?void 0:e.newData)??!1,newPage:(e==null?void 0:e.newPage)??!1,newPageSize:(e==null?void 0:e.newPageSize)??!1,keepRenderedRows:(e==null?void 0:e.keepRenderedRows)??!1})}calculatePages(){this.paginationService?this.paginationService.calculatePages():this.pageBoundsService.calculateBounds(0,this.rowModel.getRowCount()-1)}},XX=class extends re{constructor(){super(...arguments),this.beanName="pageBoundsService",this.pixelOffset=0}wireBeans(e){this.rowModel=e.rowModel}getFirstRow(){return this.topRowBounds?this.topRowBounds.rowIndex:-1}getLastRow(){return this.bottomRowBounds?this.bottomRowBounds.rowIndex:-1}getCurrentPageHeight(){return rt(this.topRowBounds)||rt(this.bottomRowBounds)?0:Math.max(this.bottomRowBounds.rowTop+this.bottomRowBounds.rowHeight-this.topRowBounds.rowTop,0)}getCurrentPagePixelRange(){const e=this.topRowBounds?this.topRowBounds.rowTop:0,t=this.bottomRowBounds?this.bottomRowBounds.rowTop+this.bottomRowBounds.rowHeight:0;return{pageFirstPixel:e,pageLastPixel:t}}calculateBounds(e,t){this.topRowBounds=this.rowModel.getRowBounds(e),this.topRowBounds&&(this.topRowBounds.rowIndex=e),this.bottomRowBounds=this.rowModel.getRowBounds(t),this.bottomRowBounds&&(this.bottomRowBounds.rowIndex=t),this.calculatePixelOffset()}getPixelOffset(){return this.pixelOffset}calculatePixelOffset(){const e=ve(this.topRowBounds)?this.topRowBounds.rowTop:0;this.pixelOffset!==e&&(this.pixelOffset=e,this.eventService.dispatchEvent({type:"paginationPixelOffsetChanged"}))}},QX=class extends re{constructor(){super(),this.beanName="ariaAnnouncementService",this.descriptionContainer=null,this.pendingAnnouncements=new Map,this.updateAnnouncement=Hs(this.updateAnnouncement.bind(this),200)}wireBeans(e){this.eGridDiv=e.eGridDiv}postConstruct(){const e=yi(this.gos),t=this.descriptionContainer=e.createElement("div");t.classList.add("ag-aria-description-container"),_F(t,"polite"),S8(t,"additions text"),b8(t,!0),this.eGridDiv.appendChild(t)}announceValue(e,t){this.pendingAnnouncements.set(t,e),this.updateAnnouncement()}updateAnnouncement(){if(!this.descriptionContainer)return;const e=Array.from(this.pendingAnnouncements.values()).join(". ");this.pendingAnnouncements.clear(),this.descriptionContainer.textContent="",setTimeout(()=>{this.isAlive()&&this.descriptionContainer&&(this.descriptionContainer.textContent=e)},50)}destroy(){super.destroy();const{descriptionContainer:e}=this;e&&(Rn(e),e.parentElement&&e.parentElement.removeChild(e)),this.descriptionContainer=null,this.eGridDiv=null,this.pendingAnnouncements.clear()}},JX=class extends re{constructor(){super(...arguments),this.beanName="columnAnimationService",this.executeNextFuncs=[],this.executeLaterFuncs=[],this.active=!1,this.activeNext=!1,this.suppressAnimation=!1,this.animationThreadCount=0}wireBeans(e){this.ctrlsService=e.ctrlsService}postConstruct(){this.ctrlsService.whenReady(this,e=>this.gridBodyCtrl=e.gridBodyCtrl)}isActive(){return this.active&&!this.suppressAnimation}setSuppressAnimation(e){this.suppressAnimation=e}start(){this.active||this.gos.get("suppressColumnMoveAnimation")||this.gos.get("enableRtl")||(this.ensureAnimationCssClassPresent(),this.active=!0,this.activeNext=!0)}finish(){this.active&&this.flush(()=>this.activeNext=!1,()=>this.active=!1)}executeNextVMTurn(e){this.activeNext?this.executeNextFuncs.push(e):e()}executeLaterVMTurn(e){this.active?this.executeLaterFuncs.push(e):e()}ensureAnimationCssClassPresent(){this.animationThreadCount++;const e=this.animationThreadCount;this.gridBodyCtrl.setColumnMovingCss(!0),this.executeLaterFuncs.push(()=>{this.animationThreadCount===e&&this.gridBodyCtrl.setColumnMovingCss(!1)})}flush(e,t){if(this.executeNextFuncs.length===0&&this.executeLaterFuncs.length===0){e(),t();return}const i=s=>{for(;s.length;){const n=s.pop();n&&n()}};this.getFrameworkOverrides().wrapIncoming(()=>{window.setTimeout(()=>{e(),i(this.executeNextFuncs)},0),window.setTimeout(()=>{t(),i(this.executeLaterFuncs)},200)})}},eQ=class extends re{constructor(){super(...arguments),this.beanName="columnHoverService"}setMouseOver(e){this.updateState(e)}clearMouseOver(){this.updateState(null)}isHovered(e){return!!this.selectedColumns&&this.selectedColumns.indexOf(e)>=0}updateState(e){this.selectedColumns=e,this.eventService.dispatchEvent({type:"columnHoverChanged"})}},tQ=class extends re{constructor(){super(...arguments),this.beanName="overlayService",this.state=0,this.showInitialOverlay=!0,this.wrapperPadding=0}wireBeans(e){this.userComponentFactory=e.userComponentFactory,this.rowModel=e.rowModel,this.columnModel=e.columnModel,this.ctrlsService=e.ctrlsService}postConstruct(){this.isClientSide=Ut(this.gos);const e=()=>this.updateOverlayVisibility();this.addManagedEventListeners({newColumnsLoaded:e,rowDataUpdated:e,gridSizeChanged:this.onGridSizeChanged.bind(this),rowCountReady:()=>{this.showInitialOverlay=!1,this.updateOverlayVisibility()}}),this.addManagedPropertyListener("loading",e)}setOverlayWrapperComp(e){this.overlayWrapperComp=e,this.updateOverlayVisibility()}isVisible(){return this.state!==0&&!!this.overlayWrapperComp}isExclusive(){return this.state===1&&!!this.overlayWrapperComp}getOverlayWrapper(){return this.overlayWrapperComp}showLoadingOverlay(){this.showInitialOverlay=!1;const e=this.gos.get("loading");!e&&(e!==void 0||this.gos.get("suppressLoadingOverlay"))||this.doShowLoadingOverlay()}showNoRowsOverlay(){this.showInitialOverlay=!1,!(this.gos.get("loading")||this.gos.get("suppressNoRowsOverlay"))&&this.doShowNoRowsOverlay()}hideOverlay(){if(this.showInitialOverlay=!1,this.gos.get("loading")){ae("Since v32, `api.hideOverlay()` does not hide the loading overlay when `loading=true`. Set `loading=false` instead.");return}this.doHideOverlay()}updateOverlayVisibility(){if(!this.overlayWrapperComp){this.state=0;return}let e=this.gos.get("loading");this.showInitialOverlay&&e===void 0&&!this.gos.get("suppressLoadingOverlay")&&(e=!this.gos.get("columnDefs")||!this.columnModel.isReady()||!this.gos.get("rowData")&&this.isClientSide),e?this.state!==1&&this.doShowLoadingOverlay():(this.showInitialOverlay=!1,this.rowModel.isEmpty()&&!this.gos.get("suppressNoRowsOverlay")&&this.isClientSide?this.state!==2&&this.doShowNoRowsOverlay():this.state!==0&&this.doHideOverlay())}doShowLoadingOverlay(){this.overlayWrapperComp&&(this.state=1,this.showOverlay(this.userComponentFactory.getLoadingOverlayCompDetails({}),"ag-overlay-loading-wrapper","loadingOverlayComponentParams"),this.updateExclusive())}doShowNoRowsOverlay(){this.overlayWrapperComp&&(this.state=2,this.showOverlay(this.userComponentFactory.getNoRowsOverlayCompDetails({}),"ag-overlay-no-rows-wrapper","noRowsOverlayComponentParams"),this.updateExclusive())}doHideOverlay(){this.overlayWrapperComp&&(this.state=0,this.overlayWrapperComp.hideOverlay(),this.updateExclusive())}showOverlay(e,t,i){var n;const s=e.newAgStackInstance();(n=this.overlayWrapperComp)==null||n.showOverlay(s,t,this.isExclusive(),i),this.refreshWrapperPadding()}updateExclusive(){const e=this.exclusive;this.exclusive=this.isExclusive(),this.exclusive!==e&&this.eventService.dispatchEvent({type:"overlayExclusiveChanged"})}onGridSizeChanged(){this.refreshWrapperPadding()}refreshWrapperPadding(){if(!this.overlayWrapperComp)return;let e=0;if(this.state===2){const t=this.ctrlsService.get("gridHeaderCtrl");e=(t==null?void 0:t.getHeaderHeight())||0}else this.wrapperPadding!==0&&(e=0);this.wrapperPadding!==e&&(this.wrapperPadding=e,this.overlayWrapperComp.updateOverlayWrapperPaddingTop(e))}},iQ=class extends re{constructor(){super(...arguments),this.beanName="rowCssClassCalculator"}wireBeans(e){this.stylingService=e.stylingService}getInitialRowClasses(e){const t=[];return ve(e.extraCssClass)&&t.push(e.extraCssClass),t.push("ag-row"),t.push(e.rowFocused?"ag-row-focus":"ag-row-no-focus"),e.fadeRowIn&&t.push("ag-opacity-zero"),t.push(e.rowIsEven?"ag-row-even":"ag-row-odd"),e.rowNode.isRowPinned()&&t.push("ag-row-pinned"),e.rowNode.isSelected()&&t.push("ag-row-selected"),e.rowNode.footer&&t.push("ag-row-footer"),t.push("ag-row-level-"+e.rowLevel),e.rowNode.stub&&t.push("ag-row-loading"),e.fullWidthRow&&t.push("ag-full-width-row"),e.expandable&&(t.push("ag-row-group"),t.push(e.rowNode.expanded?"ag-row-group-expanded":"ag-row-group-contracted")),e.rowNode.dragging&&t.push("ag-row-dragging"),uk(t,this.processClassesFromGridOptions(e.rowNode)),uk(t,this.preProcessRowClassRules(e.rowNode)),t.push(e.printLayout?"ag-row-position-relative":"ag-row-position-absolute"),e.firstRowOnPage&&t.push("ag-row-first"),e.lastRowOnPage&&t.push("ag-row-last"),e.fullWidthRow&&(e.pinned==="left"&&t.push("ag-cell-last-left-pinned"),e.pinned==="right"&&t.push("ag-cell-first-right-pinned")),t}processClassesFromGridOptions(e){const t=[],i=r=>{typeof r=="string"?t.push(r):Array.isArray(r)&&r.forEach(o=>t.push(o))},s=this.gos.get("rowClass");if(s){if(typeof s=="function")return ae("rowClass should not be a function, please use getRowClass instead"),[];i(s)}const n=this.gos.getCallback("getRowClass");if(n){const r={data:e.data,node:e,rowIndex:e.rowIndex},o=n(r);i(o)}return t}preProcessRowClassRules(e){const t=[];return this.processRowClassRules(e,i=>{t.push(i)},()=>{}),t}processRowClassRules(e,t,i){const s=this.gos.addGridCommonParams({data:e.data,node:e,rowIndex:e.rowIndex});this.stylingService.processClassRules(void 0,this.gos.get("rowClassRules"),s,t,i)}calculateRowLevel(e){return e.group?e.level:e.parent?e.parent.level+1:0}},sQ=class extends re{constructor(){super(...arguments),this.beanName="rowContainerHeightService",this.scrollY=0,this.uiBodyHeight=0}wireBeans(e){this.ctrlsService=e.ctrlsService}postConstruct(){this.addManagedEventListeners({bodyHeightChanged:this.updateOffset.bind(this)}),this.maxDivHeight=k8(),this.gos.get("debug")&&Dr("RowContainerHeightService - maxDivHeight = "+this.maxDivHeight)}isStretching(){return this.stretching}getDivStretchOffset(){return this.divStretchOffset}updateOffset(){if(!this.stretching)return;const t=this.ctrlsService.getGridBodyCtrl().getScrollFeature().getVScrollPosition().top,i=this.getUiBodyHeight();(t!==this.scrollY||i!==this.uiBodyHeight)&&(this.scrollY=t,this.uiBodyHeight=i,this.calculateOffset())}calculateOffset(){this.setUiContainerHeight(this.maxDivHeight),this.pixelsToShave=this.modelHeight-this.uiContainerHeight,this.maxScrollY=this.uiContainerHeight-this.uiBodyHeight;const e=this.scrollY/this.maxScrollY,t=e*this.pixelsToShave;this.gos.get("debug")&&Dr(`RowContainerHeightService - Div Stretch Offset = ${t} (${this.pixelsToShave} * ${e})`),this.setDivStretchOffset(t)}setUiContainerHeight(e){e!==this.uiContainerHeight&&(this.uiContainerHeight=e,this.eventService.dispatchEvent({type:"rowContainerHeightChanged"}))}clearOffset(){this.setUiContainerHeight(this.modelHeight),this.pixelsToShave=0,this.setDivStretchOffset(0)}setDivStretchOffset(e){const t=typeof e=="number"?Math.floor(e):null;this.divStretchOffset!==t&&(this.divStretchOffset=t,this.eventService.dispatchEvent({type:"heightScaleChanged"}))}setModelHeight(e){this.modelHeight=e,this.stretching=e!=null&&this.maxDivHeight>0&&e>this.maxDivHeight,this.stretching?this.calculateOffset():this.clearOffset()}getUiContainerHeight(){return this.uiContainerHeight}getRealPixelPosition(e){return e-this.divStretchOffset}getUiBodyHeight(){const t=this.ctrlsService.getGridBodyCtrl().getScrollFeature().getVScrollPosition();return t.bottom-t.top}getScrollPositionForPixel(e){if(this.pixelsToShave<=0)return e;const t=this.modelHeight-this.getUiBodyHeight(),i=e/t;return this.maxScrollY*i}},nQ=class extends re{constructor(){super(...arguments),this.beanName="rowNodeSorter"}wireBeans(e){this.valueService=e.valueService,this.columnModel=e.columnModel,this.showRowGroupColsService=e.showRowGroupColsService}postConstruct(){this.isAccentedSort=this.gos.get("accentedSort"),this.primaryColumnsSortGroups=eo(this.gos),this.addManagedPropertyListener("accentedSort",e=>this.isAccentedSort=e.currentValue),this.addManagedPropertyListener("autoGroupColumnDef",()=>this.primaryColumnsSortGroups=eo(this.gos))}doFullSort(e,t){const i=(n,r)=>({currentPos:r,rowNode:n}),s=e.map(i);return s.sort(this.compareRowNodes.bind(this,t)),s.map(n=>n.rowNode)}compareRowNodes(e,t,i){const s=t.rowNode,n=i.rowNode;for(let r=0,o=e.length;r<o;r++){const a=e[r],l=a.sort==="desc",d=this.getValue(s,a.column),h=this.getValue(n,a.column);let p;const f=this.getComparator(a,s);if(f?p=f(d,h,s,n,l):p=IU(d,h,this.isAccentedSort),!isNaN(p)&&p!==0)return a.sort==="asc"?p:p*-1}return t.currentPos-i.currentPos}getComparator(e,t){const i=e.column,s=i.getColDef().comparator;if(s!=null)return s;if(!i.getColDef().showRowGroup)return;const n=!t.group&&i.getColDef().field;if(!n)return;const r=this.columnModel.getColDefCol(n);if(r)return r.getColDef().comparator}getValue(e,t){var s,n,r;if(!this.primaryColumnsSortGroups)return this.valueService.getValue(t,e,!1,!1);if(e.rowGroupColumn===t){if(bC(this.gos,this.columnModel.isPivotActive())){const l=(s=e.allLeafChildren)==null?void 0:s[0];return l?this.valueService.getValue(t,l,!1,!1):void 0}const a=(n=this.showRowGroupColsService)==null?void 0:n.getShowRowGroupCol(t.getId());return a?(r=e.groupData)==null?void 0:r[a.getId()]:void 0}if(!(e.group&&t.getColDef().showRowGroup))return this.valueService.getValue(t,e,!1,!1)}},RC=class{constructor(e,t){this.active=!0,this.nodeIdsToColumns={},this.mapToItems={},this.keepingColumns=e,this.pathRoot={rowNode:t,children:null},this.mapToItems[t.id]=this.pathRoot}setInactive(){this.active=!1}isActive(){return this.active}depthFirstSearchChangedPath(e,t){if(e.children)for(let i=0;i<e.children.length;i++)this.depthFirstSearchChangedPath(e.children[i],t);t(e.rowNode)}depthFirstSearchEverything(e,t,i){if(e.childrenAfterGroup)for(let s=0;s<e.childrenAfterGroup.length;s++){const n=e.childrenAfterGroup[s];n.childrenAfterGroup?this.depthFirstSearchEverything(e.childrenAfterGroup[s],t,i):i&&t(n)}t(e)}forEachChangedNodeDepthFirst(e,t=!1,i=!1){this.active&&!i?this.depthFirstSearchChangedPath(this.pathRoot,e):this.depthFirstSearchEverything(this.pathRoot.rowNode,e,t)}executeFromRootNode(e){e(this.pathRoot.rowNode)}createPathItems(e){let t=e,i=0;for(;!this.mapToItems[t.id];){const s={rowNode:t,children:null};this.mapToItems[t.id]=s,i++,t=t.parent}return i}populateColumnsMap(e,t){if(!this.keepingColumns||!t)return;let i=e;for(;i;)this.nodeIdsToColumns[i.id]||(this.nodeIdsToColumns[i.id]={}),t.forEach(s=>this.nodeIdsToColumns[i.id][s.getId()]=!0),i=i.parent}linkPathItems(e,t){let i=e;for(let s=0;s<t;s++){const n=this.mapToItems[i.id],r=this.mapToItems[i.parent.id];r.children||(r.children=[]),r.children.push(n),i=i.parent}}addParentNode(e,t){if(!e||e.isRowPinned())return;const i=this.createPathItems(e);this.linkPathItems(e,i),this.populateColumnsMap(e,t)}canSkip(e){return this.active&&!this.mapToItems[e.id]}getValueColumnsForNode(e,t){if(!this.keepingColumns)return t;const i=this.nodeIdsToColumns[e.id];return t.filter(n=>i[n.getId()])}getNotValueColumnsForNode(e,t){if(!this.keepingColumns)return null;const i=this.nodeIdsToColumns[e.id];return t.filter(n=>!i[n.getId()])}},d2=class extends re{constructor(){super(...arguments),this.beanName="selectionService",this.selectedNodes=new Map,this.selectionCtx=new lK,this.rowSelectionMode=void 0}wireBeans(e){this.rowModel=e.rowModel,this.pageBoundsService=e.pageBoundsService}postConstruct(){const{gos:e,rowModel:t,onRowSelected:i}=this;this.selectionCtx.init(t),this.rowSelectionMode=Cy(e),this.groupSelectsChildren=Kc(e),this.addManagedPropertyListeners(["groupSelectsChildren","rowSelection"],()=>{const s=Kc(e),n=Cy(e);(s!==this.groupSelectsChildren||n!==this.rowSelectionMode)&&(this.groupSelectsChildren=s,this.rowSelectionMode=n,this.deselectAllRowNodes({source:"api"}))}),this.addManagedEventListeners({rowSelected:i.bind(this)})}destroy(){super.destroy(),this.resetNodes(),this.selectionCtx.reset()}isMultiSelect(){return this.rowSelectionMode==="multiRow"}overrideSelectionValue(e,t){if(!_X(t))return e;const i=this.selectionCtx.getRoot();return i?i.isSelected()??!1:!0}setNodesSelected(e){var p;const{newValue:t,clearSelection:i,suppressFinishActions:s,rangeSelect:n,nodes:r,event:o,source:a}=e;if(r.length===0)return 0;if(r.length>1&&!this.isMultiSelect())return ae("cannot multi select unless selection mode is 'multiRow'"),0;const l=this.groupSelectsChildren&&e.groupSelectsFiltered===!0,d=r.map(f=>f.footer?f.sibling:f);if(n){if(d.length>1)return ae("cannot range select while selecting multiple rows"),0;const f=d[0],v=this.overrideSelectionValue(t,a);if(this.isMultiSelect()){if(this.selectionCtx.isInRange(f)){const y=this.selectionCtx.truncate(f);return v&&this.selectRange(y.discard,!1,a),this.selectRange(y.keep,v,a)}else if(this.selectionCtx.getRoot()!==f){const w=this.selectionCtx.extend(f,this.groupSelectsChildren);return v&&this.selectRange(w.discard,!1,a),this.selectRange(w.keep,v,a)}}}s||this.selectionCtx.setRoot(d[0]);let h=0;for(let f=0;f<d.length;f++){const v=d[f];l&&v.group||v.selectThisNode(t,o,a)&&h++,this.groupSelectsChildren&&((p=v.childrenAfterGroup)!=null&&p.length)&&(h+=this.selectChildren(v,t,l,a))}return s||(t&&(i||!this.isMultiSelect())&&(h+=this.clearOtherNodes(d[0],a)),h>0&&(this.updateGroupsFromChildrenSelections(a),this.dispatchSelectionChanged(a))),h}selectRange(e,t,i){let s=0;return e.forEach(n=>{if(n.group&&this.groupSelectsChildren)return;n.selectThisNode(t,void 0,i)&&s++}),s>0&&(this.updateGroupsFromChildrenSelections(i),this.dispatchSelectionChanged(i)),s}selectChildren(e,t,i,s){const n=i?e.childrenAfterAggFilter:e.childrenAfterGroup;return rt(n)?0:this.setNodesSelected({newValue:t,clearSelection:!1,suppressFinishActions:!0,groupSelectsFiltered:i,source:s,nodes:n})}getSelectedNodes(){const e=[];return this.selectedNodes.forEach(t=>{t&&e.push(t)}),e}getSelectedRows(){const e=[];return this.selectedNodes.forEach(t=>{t&&t.data&&e.push(t.data)}),e}getSelectionCount(){return this.selectedNodes.size}filterFromSelection(e){const t=new Map;this.selectedNodes.forEach((i,s)=>{i&&e(i)&&t.set(s,i)}),this.selectedNodes=t}updateGroupsFromChildrenSelections(e,t){if(!this.groupSelectsChildren||!Ut(this.gos))return!1;const s=this.rowModel.getRootNode();t||(t=new RC(!0,s),t.setInactive());let n=!1;return t.forEachChangedNodeDepthFirst(r=>{if(r!==s){const o=r.calculateSelectedFromChildren();n=r.selectThisNode(o===null?!1:o,void 0,e)||n}}),n}clearOtherNodes(e,t){const i=new Map;let s=0;return this.selectedNodes.forEach(n=>{if(n&&n.id!==e.id){const r=this.selectedNodes.get(n.id);s+=r.setSelectedParams({newValue:!1,clearSelection:!1,suppressFinishActions:!0,source:t}),this.groupSelectsChildren&&n.parent&&i.set(n.parent.id,n.parent)}}),i.forEach(n=>{const r=n.calculateSelectedFromChildren();n.selectThisNode(r===null?!1:r,void 0,t)}),s}onRowSelected(e){const t=e.node;this.groupSelectsChildren&&t.group||(t.isSelected()?this.selectedNodes.set(t.id,t):this.selectedNodes.delete(t.id))}syncInRowNode(e,t){this.syncInOldRowNode(e,t),this.syncInNewRowNode(e)}syncInOldRowNode(e,t){if(ve(t)&&e.id!==t.id&&t){const s=t.id;this.selectedNodes.get(s)==e&&this.selectedNodes.set(t.id,t)}}syncInNewRowNode(e){this.selectedNodes.has(e.id)?(e.setSelectedInitialValue(!0),this.selectedNodes.set(e.id,e)):e.setSelectedInitialValue(!1)}reset(e){const t=this.getSelectionCount();this.resetNodes(),t&&this.dispatchSelectionChanged(e)}resetNodes(){var e;(e=this.selectedNodes)==null||e.clear()}getBestCostNodeSelection(){if(!Ut(this.gos))return;const t=this.rowModel.getTopLevelNodes();if(t===null)return;const i=[];function s(n){for(let r=0,o=n.length;r<o;r++){const a=n[r];if(a.isSelected())i.push(a);else{const l=a;l.group&&l.children&&s(l.children)}}}return s(t),i}isEmpty(){let e=0;return this.selectedNodes.forEach(t=>{t&&e++}),e===0}deselectAllRowNodes(e){const t=o=>o.selectThisNode(!1,void 0,s),i=Ut(this.gos),{source:s,justFiltered:n,justCurrentPage:r}=e;if(r||n){if(!i){at("selecting just filtered only works when gridOptions.rowModelType='clientSide'");return}this.getNodesToSelect(n,r).forEach(t)}else this.selectedNodes.forEach(o=>{o&&t(o)}),this.reset(s);this.selectionCtx.reset(),i&&this.groupSelectsChildren&&this.updateGroupsFromChildrenSelections(s),this.dispatchSelectionChanged(s)}getSelectedCounts(e,t){let i=0,s=0;const n=r=>{this.groupSelectsChildren&&r.group||(r.isSelected()?i++:r.selectable&&s++)};return this.getNodesToSelect(e,t).forEach(n),{selectedCount:i,notSelectedCount:s}}getSelectAllState(e,t){const{selectedCount:i,notSelectedCount:s}=this.getSelectedCounts(e,t);return i===0&&s===0?!1:i>0&&s>0?null:i>0}hasNodesToSelect(e=!1,t=!1){return this.getNodesToSelect(e,t).filter(i=>i.selectable).length>0}getNodesToSelect(e=!1,t=!1){this.validateSelectAllType();const i=[];if(t)return this.forEachNodeOnPage(n=>{if(!n.group){i.push(n);return}if(!n.expanded){const r=o=>{var a;i.push(o),(a=o.childrenAfterFilter)!=null&&a.length&&o.childrenAfterFilter.forEach(r)};r(n);return}this.groupSelectsChildren||i.push(n)}),i;const s=this.rowModel;return e?(s.forEachNodeAfterFilter(n=>{i.push(n)}),i):(s.forEachNode(n=>{i.push(n)}),i)}forEachNodeOnPage(e){const t=this.pageBoundsService.getFirstRow(),i=this.pageBoundsService.getLastRow();for(let s=t;s<=i;s++){const n=this.rowModel.getRow(s);n&&e(n)}}selectAllRowNodes(e){if(OU(this.gos)&&!TF(this.gos))return ae("cannot multi select unless selection mode is 'multiRow'");this.validateSelectAllType();const{source:t,justFiltered:i,justCurrentPage:s}=e,n=this.getNodesToSelect(i,s);n.forEach(r=>r.selectThisNode(!0,void 0,t)),this.selectionCtx.setRoot(n[0]??null),this.selectionCtx.setEndRange(nt(n)??null),Ut(this.gos)&&this.groupSelectsChildren&&this.updateGroupsFromChildrenSelections(t),this.dispatchSelectionChanged(t)}getSelectionState(){const e=[];return this.selectedNodes.forEach(t=>{t!=null&&t.id&&e.push(t.id)}),e.length?e:null}setSelectionState(e,t){if(!Array.isArray(e))return at("Invalid selection state. When using client-side row model, the state must conform to `string[]`.");const i=new Set(e),s=[];this.rowModel.forEachNode(n=>{i.has(n.id)&&s.push(n)}),this.setNodesSelected({newValue:!0,nodes:s,source:t})}dispatchSelectionChanged(e){this.eventService.dispatchEvent({type:"selectionChanged",source:e})}validateSelectAllType(){if(!Ut(this.gos))throw new Error(`selectAll only available when rowModelType='clientSide', ie not ${this.rowModel.getType()}`)}},rQ=class extends re{constructor(){super(...arguments),this.beanName="selectableService"}wireBeans(e){this.rowModel=e.rowModel,this.selectionService=e.selectionService}postConstruct(){this.addManagedPropertyListeners(["isRowSelectable","rowSelection"],()=>this.updateSelectable())}updateSelectableAfterGrouping(){this.updateSelectable(!0)}updateSelectable(e=!1){const{gos:t}=this,i=my(t),s=ED(t);if(!i||!s)return;const n=Kc(t),r=Ut(t)&&n,o=[],a=l=>{if(e&&!l.group)return;if(r&&l.group){const h=l.childrenAfterGroup.some(p=>p.selectable===!0);l.setRowSelectable(h,!0);return}const d=(s==null?void 0:s(l))??!0;l.setRowSelectable(d,!0),!d&&l.isSelected()&&o.push(l)};if(r){const l=this.rowModel;new RC(!1,l.getRootNode()).forEachChangedNodeDepthFirst(a,!0,!0)}else this.rowModel.forEachNode(a);o.length&&this.selectionService.setNodesSelected({nodes:o,newValue:!1,source:"selectableChanged"}),r&&this.selectionService instanceof d2&&this.selectionService.updateGroupsFromChildrenSelections("selectableChanged")}},Pk=["asc","desc",null],oQ=class extends re{constructor(){super(...arguments),this.beanName="sortController"}wireBeans(e){this.columnModel=e.columnModel,this.funcColsService=e.funcColsService,this.showRowGroupColsService=e.showRowGroupColsService}progressSort(e,t,i){const s=this.getNextSortDirection(e);this.setSortForColumn(e,s,t,i)}setSortForColumn(e,t,i,s){t!=="asc"&&t!=="desc"&&(t=null);const n=eo(this.gos);let r=[e];if(n&&e.getColDef().showRowGroup){const l=this.funcColsService.getSourceColumnsForGroupColumn(e),d=l==null?void 0:l.filter(h=>h.isSortable());d&&(r=[e,...d])}r.forEach(l=>l.setSort(t,s));const o=(i||this.gos.get("alwaysMultiSort"))&&!this.gos.get("suppressMultiSort"),a=[];if(!o){const l=this.clearSortBarTheseColumns(r,s);a.push(...l)}this.updateSortIndex(e),a.push(...r),this.dispatchSortChangedEvents(s,a)}updateSortIndex(e){var a;const t=eo(this.gos),i=(a=this.showRowGroupColsService)==null?void 0:a.getShowRowGroupCol(e.getId()),s=t&&i||e,n=this.getColumnsWithSortingOrdered();this.columnModel.getAllCols().forEach(l=>l.setSortIndex(null));const r=n.filter(l=>t&&l.getColDef().showRowGroup?!1:l!==s);(s.getSort()?[...r,s]:r).forEach((l,d)=>{l.setSortIndex(d)})}onSortChanged(e,t){this.dispatchSortChangedEvents(e,t)}isSortActive(){const t=this.columnModel.getAllCols().filter(i=>!!i.getSort());return t&&t.length>0}dispatchSortChangedEvents(e,t){const i={type:"sortChanged",source:e};t&&(i.columns=t),this.eventService.dispatchEvent(i)}clearSortBarTheseColumns(e,t){const i=[];return this.columnModel.getAllCols().forEach(s=>{e.includes(s)||(s.getSort()&&i.push(s),s.setSort(void 0,t))}),i}getNextSortDirection(e){let t;if(e.getColDef().sortingOrder?t=e.getColDef().sortingOrder:this.gos.get("sortingOrder")?t=this.gos.get("sortingOrder"):t=Pk,!Array.isArray(t)||t.length<=0)return ae(`sortingOrder must be an array with at least one element, currently it's ${t}`),null;const i=t.indexOf(e.getSort()),s=i<0,n=i==t.length-1;let r;return s||n?r=t[0]:r=t[i+1],Pk.indexOf(r)<0?(ae("invalid sort type ",r),null):r}getIndexedSortMap(){let e=this.columnModel.getAllCols().filter(r=>!!r.getSort());if(this.columnModel.isPivotMode()){const r=eo(this.gos);e=e.filter(o=>{var h;const a=!!o.getAggFunc(),l=!o.isPrimary(),d=r?(h=this.showRowGroupColsService)==null?void 0:h.getShowRowGroupCol(o.getId()):o.getColDef().showRowGroup;return a||l||d})}const t=this.funcColsService.getRowGroupColumns().filter(r=>!!r.getSort()),i={};e.forEach((r,o)=>i[r.getId()]=o),e.sort((r,o)=>{const a=r.getSortIndex(),l=o.getSortIndex();if(a!=null&&l!=null)return a-l;if(a==null&&l==null){const d=i[r.getId()],h=i[o.getId()];return d>h?1:-1}else return l==null?-1:1});const s=eo(this.gos)&&!!t.length;s&&(e=[...new Set(e.map(r=>{var o;return((o=this.showRowGroupColsService)==null?void 0:o.getShowRowGroupCol(r.getId()))??r}))]);const n=new Map;return e.forEach((r,o)=>n.set(r,o)),s&&t.forEach(r=>{const o=this.showRowGroupColsService.getShowRowGroupCol(r.getId());n.set(r,n.get(o))}),n}getColumnsWithSortingOrdered(){return[...this.getIndexedSortMap().entries()].sort(([e,t],[i,s])=>t-s).map(([e])=>e)}getSortModel(){return this.getColumnsWithSortingOrdered().filter(e=>e.getSort()).map(e=>({sort:e.getSort(),colId:e.getId()}))}getSortOptions(){return this.getColumnsWithSortingOrdered().filter(e=>e.getSort()).map(e=>({sort:e.getSort(),column:e}))}canColumnDisplayMixedSort(e){const t=eo(this.gos),i=!!e.getColDef().showRowGroup;return t&&i}getDisplaySortForColumn(e){const t=this.funcColsService.getSourceColumnsForGroupColumn(e);if(!this.canColumnDisplayMixedSort(e)||!(t!=null&&t.length))return e.getSort();const s=e.getColDef().field!=null||!!e.getColDef().valueGetter?[e,...t]:t,n=s[0].getSort();return s.every(o=>o.getSort()==n)?n:"mixed"}getDisplaySortIndexForColumn(e){return this.getIndexedSortMap().get(e)}},aQ=class extends re{constructor(){super(...arguments),this.beanName="syncService",this.waitingForColumns=!1}wireBeans(e){this.ctrlsService=e.ctrlsService,this.columnModel=e.columnModel,this.rowModel=e.rowModel}postConstruct(){this.addManagedPropertyListener("columnDefs",e=>this.setColumnDefs(e))}start(){this.ctrlsService.whenReady(this,()=>{const e=this.gos.get("columnDefs");e?this.setColumnsAndData(e):this.waitingForColumns=!0,this.gridReady()})}setColumnsAndData(e){this.columnModel.setColumnDefs(e??[],"gridInitializing"),this.rowModel.start()}gridReady(){this.eventService.dispatchEvent({type:"gridReady"});const e=this.gos.isModuleRegistered("@ag-grid-enterprise/core");this.gos.get("debug")&&Dr(`initialised successfully, enterprise = ${e}`)}setColumnDefs(e){const t=this.gos.get("columnDefs");if(t){if(this.waitingForColumns){this.waitingForColumns=!1,this.setColumnsAndData(t);return}this.columnModel.setColumnDefs(t,Dc(e.source))}}},lQ="paste",cQ=class extends re{constructor(){super(...arguments),this.beanName="changeDetectionService"}wireBeans(e){this.rowModel=e.rowModel,this.rowRenderer=e.rowRenderer}postConstruct(){Ut(this.gos)&&(this.clientSideRowModel=this.rowModel),this.addManagedEventListeners({cellValueChanged:this.onCellValueChanged.bind(this)})}onCellValueChanged(e){e.source!==lQ&&this.doChangeDetection(e.node,e.column)}doChangeDetection(e,t){if(this.gos.get("suppressChangeDetection"))return;const i=[e];if(this.clientSideRowModel&&!e.isRowPinned()){const s=this.gos.get("aggregateOnlyChangedColumns"),n=new RC(s,this.clientSideRowModel.getRootNode());n.addParentNode(e.parent,[t]),this.clientSideRowModel.doAggregate(n),n.forEachChangedNodeDepthFirst(r=>{i.push(r)})}this.rowRenderer.refreshCells({rowNodes:i})}},uQ=class extends re{constructor(){super(...arguments),this.beanName="expressionService",this.expressionToFunctionCache={}}evaluate(e,t){if(typeof e=="string")return this.evaluateExpression(e,t);at("value should be either a string or a function",e)}evaluateExpression(e,t){try{return this.createExpressionFunction(e)(t.value,t.context,t.oldValue,t.newValue,t.value,t.node,t.data,t.colDef,t.rowIndex,t.api,t.getValue,t.column,t.columnGroup)}catch(i){return Dr("Processing of the expression failed"),Dr("Expression = ",e),Dr("Params = ",t),Dr("Exception = ",i),null}}createExpressionFunction(e){if(this.expressionToFunctionCache[e])return this.expressionToFunctionCache[e];const t=this.createFunctionBody(e),i=new Function("x, ctx, oldValue, newValue, value, node, data, colDef, rowIndex, api, getValue, column, columnGroup",t);return this.expressionToFunctionCache[e]=i,i}createFunctionBody(e){return e.indexOf("return")>=0?e:"return "+e+";"}},dQ=class extends re{constructor(){super(...arguments),this.beanName="valueCache",this.cacheVersion=0}postConstruct(){this.active=this.gos.get("valueCache"),this.neverExpires=this.gos.get("valueCacheNeverExpires")}onDataChanged(){this.neverExpires||this.expire()}expire(){this.cacheVersion++}setValue(e,t,i){this.active&&(e.__cacheVersion!==this.cacheVersion&&(e.__cacheVersion=this.cacheVersion,e.__cacheData={}),e.__cacheData[t]=i)}getValue(e,t){if(!(!this.active||e.__cacheVersion!==this.cacheVersion))return e.__cacheData[t]}},hQ=class extends re{constructor(){super(...arguments),this.beanName="valueService",this.initialised=!1,this.isSsrm=!1}wireBeans(e){this.expressionService=e.expressionService,this.columnModel=e.columnModel,this.valueCache=e.valueCache,this.dataTypeService=e.dataTypeService}postConstruct(){this.initialised||this.init()}init(){this.isSsrm=wo(this.gos),this.cellExpressions=this.gos.get("enableCellExpressions"),this.isTreeData=this.gos.get("treeData"),this.initialised=!0;const e=i=>this.callColumnCellValueChangedHandler(i),t=vy(this.gos);this.eventService.addEventListener("cellValueChanged",e,t),this.addDestroyFunc(()=>this.eventService.removeEventListener("cellValueChanged",e,t)),this.addManagedPropertyListener("treeData",i=>this.isTreeData=i.currentValue)}getValueForDisplay(e,t){const i=t.leafGroup&&this.columnModel.isPivotMode(),s=t.group&&t.expanded&&!t.footer&&!i,n=this.gos.get("groupSuppressBlankHeader");if(!s||n)return this.getValue(e,t);let r=!1;const o=this.gos.get("groupTotalRow")??this.gos.get("groupIncludeFooter");typeof o!="function"?r=!!o:r=!!(this.gos.getCallback("groupTotalRow")??this.gos.getCallback("groupIncludeFooter"))({node:this});const a=s&&r;return this.getValue(e,t,!1,a)}getValue(e,t,i=!1,s=!1){if(this.initialised||this.init(),!t)return;const n=e.getColDef(),r=n.field,o=e.getColId(),a=t.data;let l;const d=t.groupData&&t.groupData[o]!==void 0,h=!s&&t.aggData&&t.aggData[o]!==void 0,p=this.isSsrm&&s&&!!e.getColDef().aggFunc,f=this.isSsrm&&t.footer&&t.field&&(e.getColDef().showRowGroup===!0||e.getColDef().showRowGroup===t.field);if(i&&n.filterValueGetter?l=this.executeFilterValueGetter(n.filterValueGetter,a,e,t):this.isTreeData&&h?l=t.aggData[o]:this.isTreeData&&n.valueGetter?l=this.executeValueGetter(n.valueGetter,a,e,t):this.isTreeData&&r&&a?l=op(a,r,e.isFieldContainsDots()):d?l=t.groupData[o]:h?l=t.aggData[o]:n.valueGetter?l=this.executeValueGetter(n.valueGetter,a,e,t):f?l=op(a,t.field,e.isFieldContainsDots()):r&&a&&!p&&(l=op(a,r,e.isFieldContainsDots())),this.cellExpressions&&typeof l=="string"&&l.indexOf("=")===0){const v=l.substring(1);l=this.executeValueGetter(v,a,e,t)}if(l==null){const v=this.getOpenedGroup(t,e);if(v!=null)return v}return l}parseValue(e,t,i,s){const n=e.getColDef(),r=n.valueParser;if(ve(r)){const o=this.gos.addGridCommonParams({node:t,data:t==null?void 0:t.data,oldValue:s,newValue:i,colDef:n,column:e});return typeof r=="function"?r(o):this.expressionService.evaluate(r,o)}return i}getDeleteValue(e,t){return ve(e.getColDef().valueParser)?this.parseValue(e,t,"",this.getValueForDisplay(e,t))??null:null}formatValue(e,t,i,s,n=!0){let r=null,o;const a=e.getColDef();if(s?o=s:n&&(o=a.valueFormatter),o){const l=this.gos.addGridCommonParams({value:i,node:t,data:t?t.data:null,colDef:a,column:e});typeof o=="function"?r=o(l):r=this.expressionService.evaluate(o,l)}else if(a.refData)return a.refData[i]||"";return r==null&&Array.isArray(i)&&(r=i.join(", ")),r}getOpenedGroup(e,t){if(!this.gos.get("showOpenedGroup")||!t.getColDef().showRowGroup)return;const s=t.getColDef().showRowGroup;let n=e.parent;for(;n!=null;){if(n.rowGroupColumn&&(s===!0||s===n.rowGroupColumn.getColId()))return n.key;n=n.parent}}setValue(e,t,i,s){const n=this.columnModel.getColDefCol(t);if(!e||!n)return!1;rt(e.data)&&(e.data={});const{field:r,valueSetter:o}=n.getColDef();if(rt(r)&&rt(o))return ae("you need either field or valueSetter set on colDef for editing to work"),!1;if(this.dataTypeService&&!this.dataTypeService.checkType(n,i))return ae("Data type of the new value does not match the cell data type of the column"),!1;const a=this.gos.addGridCommonParams({node:e,data:e.data,oldValue:this.getValue(n,e),newValue:i,colDef:n.getColDef(),column:n});a.newValue=i;let l;if(ve(o)?typeof o=="function"?l=o(a):l=this.expressionService.evaluate(o,a):l=this.setValueUsingField(e.data,r,i,n.isFieldContainsDots()),l===void 0&&(l=!0),!l)return!1;e.resetQuickFilterAggregateText(),this.valueCache.onDataChanged();const d=this.getValue(n,e);return this.eventService.dispatchEvent({type:"cellValueChanged",event:null,rowIndex:e.rowIndex,rowPinned:e.rowPinned,column:a.column,colDef:a.colDef,data:e.data,node:e,oldValue:a.oldValue,newValue:d,value:d,source:s}),!0}callColumnCellValueChangedHandler(e){const t=e.colDef.onCellValueChanged;typeof t=="function"&&this.getFrameworkOverrides().wrapOutgoing(()=>{t({node:e.node,data:e.data,oldValue:e.oldValue,newValue:e.newValue,colDef:e.colDef,column:e.column,api:e.api,context:e.context})})}setValueUsingField(e,t,i,s){if(!t)return!1;let n=!1;if(!s)n=e[t]===i,n||(e[t]=i);else{const r=t.split(".");let o=e;for(;r.length>0&&o;){const a=r.shift();r.length===0?(n=o[a]===i,n||(o[a]=i)):o=o[a]}}return!n}executeFilterValueGetter(e,t,i,s){const n=this.gos.addGridCommonParams({data:t,node:s,column:i,colDef:i.getColDef(),getValue:this.getValueCallback.bind(this,s)});return typeof e=="function"?e(n):this.expressionService.evaluate(e,n)}executeValueGetter(e,t,i,s){const n=i.getColId(),r=this.valueCache.getValue(s,n);if(r!==void 0)return r;const o=this.gos.addGridCommonParams({data:t,node:s,column:i,colDef:i.getColDef(),getValue:this.getValueCallback.bind(this,s)});let a;return typeof e=="function"?a=e(o):a=this.expressionService.evaluate(e,o),this.valueCache.setValue(s,n,a),a}getValueCallback(e,t){const i=this.columnModel.getColDefCol(t);return i?this.getValue(i,e):null}getKeyForNode(e,t){const i=this.getValue(e,t),s=e.getColDef().keyCreator;let n=i;if(s){const r=this.gos.addGridCommonParams({value:i,colDef:e.getColDef(),column:e,node:t,data:t.data});n=s(r)}return typeof n=="string"||n==null||(n=String(n),n==="[object Object]"&&ae("a column you are grouping or pivoting by has objects as values. If you want to group by complex objects then either a) use a colDef.keyCreator (se AG Grid docs) or b) to toString() on the object to return a key")),n}},iR=class Sc{static applyGlobalGridOptions(t){if(!Sc.gridOptions)return t;let i={};return zs(i,Sc.gridOptions,!0,!0),Sc.mergeStrategy==="deep"?zs(i,t,!0,!0):i={...i,...t},Sc.gridOptions.context&&(i.context=Sc.gridOptions.context),t.context&&(Sc.mergeStrategy==="deep"&&i.context&&zs(t.context,i.context,!0,!0),i.context=t.context),i}};iR.gridOptions=void 0;iR.mergeStrategy="shallow";var h2=iR;function gQ(e){var t;return(t=h2.gridOptions)==null?void 0:t[e]}var pQ=1,fQ=class{create(e,t,i,s,n){const r=h2.applyGlobalGridOptions(t),o=UX(r),a=o.gridId??String(pQ++),l=this.getRegisteredModules(n,a),d=this.createBeansList(o.rowModelType,l,a),h=this.createProvidedBeans(e,o,n);if(!d){at("Failed to create grid.");return}const p={providedBeanInstances:h,beanClasses:d,gridId:a,beanInitComparator:AK,beanDestroyComparator:TK,derivedBeans:[CK]},f=new k7(p);return this.registerModuleUserComponents(f,l),this.registerControllers(f,l),this.registerModuleApiFunctions(f,l),i(f),f.getBean("syncService").start(),s&&s(f),f.getBean("gridApi")}registerControllers(e,t){const i=e.getBean("ctrlsFactory");t.forEach(s=>{s.controllers&&s.controllers.forEach(n=>i.register(n))})}getRegisteredModules(e,t){const i=e?e.modules:null,s=Cn.__getRegisteredModules(t),n=[],r={},o=(a,l,d)=>{(p=>{r[p.moduleName]||(r[p.moduleName]=!0,n.push(p),Cn.__register(p,a,d))})(l),l.dependantModules&&l.dependantModules.forEach(p=>o(a,p,d))};return o(!!(i!=null&&i.length)||!Cn.__isPackageBased(),a2,void 0),i&&i.forEach(a=>o(!0,a,t)),s&&s.forEach(a=>o(!Cn.__isPackageBased(),a,void 0)),n}registerModuleUserComponents(e,t){const i=this.extractModuleEntity(t,n=>n.userComponents?n.userComponents:[]),s=e.getBean("userComponentRegistry");i.forEach(({name:n,classImp:r,params:o})=>{s.registerDefaultComponent(n,r,o)})}registerModuleApiFunctions(e,t){const i=e.getBean("apiFunctionService");t.forEach(s=>{const n=s.apiFunctions;n&&Object.keys(n).forEach(o=>{i==null||i.addFunction(o,n[o])})})}createProvidedBeans(e,t,i){let s=i?i.frameworkOverrides:null;rt(s)&&(s=new JN);const n={gridOptions:t,eGridDiv:e,globalEventListener:i?i.globalEventListener:null,globalSyncEventListener:i?i.globalSyncEventListener:null,frameworkOverrides:s};return i&&i.providedBeanInstances&&Object.assign(n,i.providedBeanInstances),n}createBeansList(e="clientSide",t,i){const s=t.filter(l=>!l.rowModel||l.rowModel===e),n={clientSide:"@ag-grid-community/client-side-row-model",infinite:"@ag-grid-community/infinite-row-model",serverSide:"@ag-grid-enterprise/server-side-row-model",viewport:"@ag-grid-enterprise/viewport-row-model"};if(!n[e]){at("Could not find row model for rowModelType = ",e);return}if(!Cn.__assertRegistered(n[e],`rowModelType = '${e}'`,i))return;const r=[OK,kK,YX,VX,yK,h7,DK,RK,gY,lN,sQ,dY,KX,nK,N7,h8,zK,$X,pK,d2,t8,Y9,XX,ZX,iK,uQ,e8,uY,dQ,hQ,eK,hY,P7,BK,cY,FK,mK,cK,lY,oQ,eQ,JX,rQ,cQ,pY,bK,iQ,nQ,LK,GK,PK,IK,aQ,tQ,fY,qX,QX,mY,n8,SK,r8,i8,wK,xK,d8,s8,c8,MK,u8,qU],o=this.extractModuleEntity(s,l=>l.beans?l.beans:[]);r.push(...o);const a=[];return r.forEach(l=>{a.indexOf(l)<0&&a.push(l)}),a}extractModuleEntity(e,t){return[].concat(...e.map(t))}},g2=class extends re{constructor(){super(...arguments),this.beanName="rowModelHelperService"}wireBeans(e){this.rowModel=e.rowModel}postConstruct(){const e=this.rowModel;switch(e.getType()){case"clientSide":this.clientSideRowModel=e;break;case"infinite":this.infiniteRowModel=e;break;case"serverSide":this.serverSideRowModel=e;break}}getClientSideRowModel(){return this.clientSideRowModel}getInfiniteRowModel(){return this.infiniteRowModel}getServerSideRowModel(){return this.serverSideRowModel}};function mQ(e){e.expansionService.expandAll(!0)}function vQ(e){e.expansionService.expandAll(!1)}function yQ(e){var s,n;const t=(s=e.rowModelHelperService)==null?void 0:s.getClientSideRowModel(),i=(n=e.rowModelHelperService)==null?void 0:n.getServerSideRowModel();t?t.onRowHeightChanged():i&&i.onRowHeightChanged()}function CQ(e,t,i){var r,o;const s=(r=e.rowModelHelperService)==null?void 0:r.getServerSideRowModel();if(s){if(e.funcColsService.isRowGroupEmpty()){s.setRowCount(t,i);return}at("setRowCount cannot be used while using row grouping.");return}const n=(o=e.rowModelHelperService)==null?void 0:o.getInfiniteRowModel();if(n){n.setRowCount(t,i);return}}function bQ(e){var t;return((t=e.rowNodeBlockLoader)==null?void 0:t.getBlockState())??{}}function SQ(e){return e.rowModel.isLastRowIndexKnown()}var wQ={version:Oe,moduleName:"@ag-grid-community/csrm-ssrm-shared-api",apiFunctions:{expandAll:mQ,collapseAll:vQ,onRowHeightChanged:yQ}},xQ={version:Oe,moduleName:"@ag-grid-community/ssrm-infinite-shared-api",apiFunctions:{setRowCount:CQ,getCacheBlockState:bQ,isLastRowIndexKnown:SQ}},MQ=class{wrap(e,t,i=[],s){const n=this.createWrapper(e,s);return t.forEach(r=>{this.createMethod(n,r,!0)}),i.forEach(r=>{this.createMethod(n,r,!1)}),n}createMethod(e,t,i){e.addMethod(t,this.createMethodProxy(e,t,i))}createMethodProxy(e,t,i){return function(){return e.hasMethod(t)?e.callMethod(t,arguments):(i&&ae("Framework component is missing the method "+t+"()"),null)}}},uh=typeof global>"u"?{}:global;uh.HTMLElement=typeof HTMLElement>"u"?{}:HTMLElement;uh.HTMLButtonElement=typeof HTMLButtonElement>"u"?{}:HTMLButtonElement;uh.HTMLSelectElement=typeof HTMLSelectElement>"u"?{}:HTMLSelectElement;uh.HTMLInputElement=typeof HTMLInputElement>"u"?{}:HTMLInputElement;uh.Node=typeof Node>"u"?{}:Node;uh.MouseEvent=typeof MouseEvent>"u"?{}:MouseEvent;var DQ="ROOT_NODE_ID",x0=0,RQ=class{constructor(e,t,i,s,n,r){this.nextId=0,this.rowCountReady=!1,this.allNodesMap={},this.rootNode=e,this.gos=t,this.eventService=i,this.funcColsService=s,this.beans=r,this.selectionService=n,this.rootNode.group=!0,this.rootNode.level=-1,this.rootNode.id=DQ,this.rootNode.allLeafChildren=[],this.rootNode.childrenAfterGroup=[],this.rootNode.childrenAfterSort=[],this.rootNode.childrenAfterAggFilter=[],this.rootNode.childrenAfterFilter=[]}getCopyOfNodesMap(){return FF(this.allNodesMap)}getRowNode(e){return this.allNodesMap[e]}setRowData(e){if(typeof e=="string"){ae("rowData must be an array.");return}this.rowCountReady=!0,this.dispatchRowDataUpdateStartedEvent(e);const t=this.rootNode,i=this.rootNode.sibling;t.childrenAfterFilter=null,t.childrenAfterGroup=null,t.childrenAfterAggFilter=null,t.childrenAfterSort=null,t.childrenMapped=null,t.updateHasChildren(),this.nextId=0,this.allNodesMap={},e?t.allLeafChildren=e.map((s,n)=>this.createNode(s,this.rootNode,x0,n)):(t.allLeafChildren=[],t.childrenAfterGroup=[]),i&&(i.childrenAfterFilter=t.childrenAfterFilter,i.childrenAfterGroup=t.childrenAfterGroup,i.childrenAfterAggFilter=t.childrenAfterAggFilter,i.childrenAfterSort=t.childrenAfterSort,i.childrenMapped=t.childrenMapped,i.allLeafChildren=t.allLeafChildren)}updateRowData(e){this.rowCountReady=!0,this.dispatchRowDataUpdateStartedEvent(e.add);const t={rowNodeTransaction:{remove:[],update:[],add:[]},rowsInserted:!1},i=[];return this.executeRemove(e,t,i),this.executeUpdate(e,t,i),this.executeAdd(e,t),this.updateSelection(i,"rowDataChanged"),t}updateRowOrderFromRowData(e){const t=this.rootNode.allLeafChildren,i=(t==null?void 0:t.length)??0,s=new Map;let n=-1,r=-1;for(let o=0;o<i;++o){const a=t[o],l=a.data;l!==e[o]&&(r<0&&(n=o),r=o,s.set(l,a))}if(n<0)return!1;for(let o=n;o<=r;++o){const a=s.get(e[o]);a!==void 0&&(t[o]=a,a.sourceRowIndex=o)}return!0}isRowCountReady(){return this.rowCountReady}dispatchRowDataUpdateStartedEvent(e){this.eventService.dispatchEvent({type:"rowDataUpdateStarted",firstRowData:e!=null&&e.length?e[0]:null})}updateSelection(e,t){const i=e.length>0;i&&this.selectionService.setNodesSelected({newValue:!1,nodes:e,suppressFinishActions:!0,source:t}),this.selectionService.updateGroupsFromChildrenSelections(t),i&&this.eventService.dispatchEvent({type:"selectionChanged",source:t})}executeAdd(e,t){const i=e.add;if(wn(i))return;const s=this.rootNode.allLeafChildren;let n=s.length;if(typeof e.addIndex=="number"&&(n=this.sanitizeAddIndex(e.addIndex),n>0&&this.gos.get("treeData")))for(let l=0;l<s.length;l++){const d=s[l];if((d==null?void 0:d.rowIndex)==n-1){n=l+1;break}}const r=i.map((a,l)=>this.createNode(a,this.rootNode,x0,n+l));if(n<s.length){const a=s.slice(0,n),l=s.slice(n,s.length),d=a.length+r.length;for(let h=0,p=l.length;h<p;++h)l[h].sourceRowIndex=d+h;this.rootNode.allLeafChildren=[...a,...r,...l],t.rowsInserted=!0}else this.rootNode.allLeafChildren=s.concat(r);const o=this.rootNode.sibling;o&&(o.allLeafChildren=s),t.rowNodeTransaction.add=r}sanitizeAddIndex(e){var i;const t=((i=this.rootNode.allLeafChildren)==null?void 0:i.length)??0;return e<0||e>=t||Number.isNaN(e)?t:Math.ceil(e)}executeRemove(e,{rowNodeTransaction:t},i){var o,a;const{remove:s}=e;if(wn(s))return;const n={};s.forEach(l=>{const d=this.lookupRowNode(l);d&&(d.isSelected()&&i.push(d),d.clearRowTopAndRowIndex(),n[d.id]=!0,delete this.allNodesMap[d.id],t.remove.push(d))}),this.rootNode.allLeafChildren=((o=this.rootNode.allLeafChildren)==null?void 0:o.filter(l=>!n[l.id]))??null,(a=this.rootNode.allLeafChildren)==null||a.forEach((l,d)=>{l.sourceRowIndex=d});const r=this.rootNode.sibling;r&&(r.allLeafChildren=this.rootNode.allLeafChildren)}executeUpdate(e,{rowNodeTransaction:t},i){const{update:s}=e;wn(s)||s.forEach(n=>{const r=this.lookupRowNode(n);r&&(r.updateData(n),!r.selectable&&r.isSelected()&&i.push(r),this.setMasterForRow(r,n,x0,!1),t.update.push(r))})}lookupRowNode(e){var s;const t=oh(this.gos);let i;if(t){const n=t({data:e,level:0});if(i=this.allNodesMap[n],!i)return at(`could not find row id=${n}, data item was not found for this id`),null}else if(i=(s=this.rootNode.allLeafChildren)==null?void 0:s.find(n=>n.data===e),!i)return at("could not find data item as object was not found",e),at("Consider using getRowId to help the Grid find matching row data"),null;return i||null}createNode(e,t,i,s){const n=new ta(this.beans);return n.sourceRowIndex=s,n.group=!1,this.setMasterForRow(n,e,i,!0),t&&(n.parent=t),n.level=i,n.setDataAndId(e,this.nextId.toString()),this.allNodesMap[n.id]&&ae(`duplicate node id '${n.id}' detected from getRowId callback, this could cause issues in your grid.`),this.allNodesMap[n.id]=n,this.nextId++,n}setMasterForRow(e,t,i,s){if(this.gos.get("treeData"))e.setMaster(!1),s&&(e.expanded=!1);else{if(this.gos.get("masterDetail")){const o=this.gos.get("isRowMaster");o?e.setMaster(o(t)):e.setMaster(!0)}else e.setMaster(!1);if(s){const o=this.funcColsService.getRowGroupColumns(),a=o?o.length:0,l=i+a;e.expanded=e.master?this.isExpanded(l):!1}}}isExpanded(e){const t=this.gos.get("groupDefaultExpanded");return t===-1?!0:e<t}},EQ=class extends re{constructor(){super(...arguments),this.beanName="rowModel",this.onRowHeightChanged_debounced=Hs(this.onRowHeightChanged.bind(this),100),this.rowsToDisplay=[],this.hasStarted=!1,this.shouldSkipSettingDataOnStart=!1,this.isRefreshingModel=!1,this.rowCountReady=!1}wireBeans(e){this.beans=e,this.columnModel=e.columnModel,this.funcColsService=e.funcColsService,this.selectionService=e.selectionService,this.valueCache=e.valueCache,this.environment=e.environment,this.filterStage=e.filterStage,this.sortStage=e.sortStage,this.flattenStage=e.flattenStage,this.groupStage=e.groupStage,this.aggregationStage=e.aggregationStage,this.pivotStage=e.pivotStage,this.filterAggregatesStage=e.filterAggregatesStage}postConstruct(){const e=this.refreshModel.bind(this,{step:"group"}),t=!this.gos.get("suppressAnimationFrame"),i=this.refreshModel.bind(this,{step:"group",afterColumnsChanged:!0,keepRenderedRows:!0,animate:t});this.addManagedEventListeners({newColumnsLoaded:i,columnRowGroupChanged:e,columnValueChanged:this.onValueChanged.bind(this),columnPivotChanged:this.refreshModel.bind(this,{step:"pivot"}),filterChanged:this.onFilterChanged.bind(this),sortChanged:this.onSortChanged.bind(this),columnPivotModeChanged:e,gridStylesChanged:this.onGridStylesChanges.bind(this),gridReady:this.onGridReady.bind(this)}),this.addPropertyListeners(),this.rootNode=new ta(this.beans),this.nodeManager=new RQ(this.rootNode,this.gos,this.eventService,this.funcColsService,this.selectionService,this.beans)}addPropertyListeners(){const e=new Set(["treeData","masterDetail"]),t=new Set(["groupDefaultExpanded","groupAllowUnbalanced","initialGroupOrderComparator","groupHideOpenParents","groupDisplayType"]),i=new Set(["excludeChildrenWhenTreeDataFiltering"]),s=new Set(["removePivotHeaderRowWhenSingleValueColumn","pivotRowTotals","pivotColumnGroupTotals","suppressExpandablePivotGroups"]),n=new Set(["getGroupRowAgg","alwaysAggregateAtRootLevel","groupIncludeTotalFooter","suppressAggFilteredOnly","grandTotalRow"]),r=new Set(["postSortRows","groupDisplayType","accentedSort"]),o=new Set([]),a=new Set(["groupRemoveSingleChildren","groupRemoveLowestSingleChildren","groupIncludeFooter","groupTotalRow"]),l=[...e,...t,...i,...s,...s,...n,...r,...o,...a];this.addManagedPropertyListeners(l,d=>{var f;const h=(f=d.changeSet)==null?void 0:f.properties;if(!h)return;const p=v=>h.some(y=>v.has(y));if(p(e)){this.setRowData(this.rootNode.allLeafChildren.map(v=>v.data));return}if(p(t)){this.refreshModel({step:"group"});return}if(p(i)){this.refreshModel({step:"filter"});return}if(p(s)){this.refreshModel({step:"pivot"});return}if(p(n)){this.refreshModel({step:"aggregate"});return}if(p(r)){this.refreshModel({step:"sort"});return}if(p(o)){this.refreshModel({step:"filter_aggregates"});return}p(a)&&this.refreshModel({step:"map"})}),this.addManagedPropertyListener("rowHeight",()=>this.resetRowHeights())}start(){this.hasStarted=!0,this.shouldSkipSettingDataOnStart?this.dispatchUpdateEventsAndRefresh():this.setInitialData()}setInitialData(){const e=this.gos.get("rowData");e&&(this.shouldSkipSettingDataOnStart=!0,this.setRowData(e))}ensureRowHeightsValid(e,t,i,s){let n,r=!1;do{n=!1;const o=this.getRowIndexAtPixel(e),a=this.getRowIndexAtPixel(t),l=Math.max(o,i),d=Math.min(a,s);for(let h=l;h<=d;h++){const p=this.getRow(h);if(p.rowHeightEstimated){const f=Cl(this.gos,p);p.setRowHeight(f.height),n=!0,r=!0}}n&&this.setRowTopAndRowIndex()}while(n);return r}setRowTopAndRowIndex(){const e=this.environment.getDefaultRowHeight();let t=0;const i=new Set,s=ys(this.gos,"normal");for(let n=0;n<this.rowsToDisplay.length;n++){const r=this.rowsToDisplay[n];if(r.id!=null&&i.add(r.id),r.rowHeight==null){const o=Cl(this.gos,r,s,e);r.setRowHeight(o.height,o.estimated)}r.setRowTop(t),r.setRowIndex(n),t+=r.rowHeight}return i}clearRowTopAndRowIndex(e,t){const i=e.isActive(),s=r=>{r&&r.id!=null&&!t.has(r.id)&&r.clearRowTopAndRowIndex()},n=r=>{if(s(r),s(r.detailNode),s(r.sibling),r.hasChildren()&&r.childrenAfterGroup){const o=r.level==-1;i&&!o&&!r.expanded||r.childrenAfterGroup.forEach(n)}};n(this.rootNode)}ensureRowsAtPixel(e,t,i=0){const s=this.getRowIndexAtPixel(t),n=this.getRow(s),r=!this.gos.get("suppressAnimationFrame");if(n===e[0])return!1;const o=this.rootNode.allLeafChildren;return e.forEach(a=>{js(o,a)}),e.forEach((a,l)=>{by(o,a,Math.max(s+i,0)+l)}),e.forEach((a,l)=>{a.sourceRowIndex=l}),this.refreshModel({step:"group",keepRenderedRows:!0,keepEditingRows:!0,animate:r,rowNodesOrderChanged:!0}),!0}highlightRowAtPixel(e,t){const i=t!=null?this.getRowIndexAtPixel(t):null,s=i!=null?this.getRow(i):null;if(!s||!e||t==null){this.clearHighlightedRow();return}const n=this.getHighlightPosition(t,s),r=this.isHighlightingCurrentPosition(e,s,n),o=this.lastHighlightedRow!=null&&this.lastHighlightedRow!==s;(r||o)&&(this.clearHighlightedRow(),r)||(s.setHighlighted(n),this.lastHighlightedRow=s)}getHighlightPosition(e,t){if(!t){const n=this.getRowIndexAtPixel(e);if(t=this.getRow(n||0),!t)return 1}const{rowTop:i,rowHeight:s}=t;return e-i<s/2?0:1}getLastHighlightedRowNode(){return this.lastHighlightedRow}isHighlightingCurrentPosition(e,t,i){if(e===t)return!0;const s=i===0?-1:1;return this.getRow(t.rowIndex+s)===e}clearHighlightedRow(){this.lastHighlightedRow&&(this.lastHighlightedRow.setHighlighted(null),this.lastHighlightedRow=null)}isLastRowIndexKnown(){return!0}getRowCount(){return this.rowsToDisplay?this.rowsToDisplay.length:0}getTopLevelRowCount(){if(this.rowsToDisplay.length===0)return 0;if(this.rowsToDisplay&&this.rowsToDisplay[0]===this.rootNode)return 1;const t=this.rootNode.childrenAfterAggFilter,i=this.rootNode.sibling?1:0;return(t?t.length:0)+i}getTopLevelRowDisplayedIndex(e){if(this.rowsToDisplay&&this.rowsToDisplay[0]===this.rootNode)return e;let i=e;if(this.rowsToDisplay[0].footer){if(e===0)return 0;i-=1}const s=this.rowsToDisplay[this.rowsToDisplay.length-1],n=i>=this.rootNode.childrenAfterSort.length;if(s.footer&&n)return s.rowIndex;let r=this.rootNode.childrenAfterSort[i];if(this.gos.get("groupHideOpenParents"))for(;r.expanded&&r.childrenAfterSort&&r.childrenAfterSort.length>0;)r=r.childrenAfterSort[0];return r.rowIndex}getRowBounds(e){if(rt(this.rowsToDisplay))return null;const t=this.rowsToDisplay[e];return t?{rowTop:t.rowTop,rowHeight:t.rowHeight}:null}onRowGroupOpened(){const e=Ad(this.gos);this.refreshModel({step:"map",keepRenderedRows:!0,animate:e})}onFilterChanged(e){if(e.afterDataChange)return;const t=Ad(this.gos),s=e.columns.length===0||e.columns.some(n=>n.isPrimary())?"filter":"filter_aggregates";this.refreshModel({step:s,keepRenderedRows:!0,animate:t})}onSortChanged(){const e=Ad(this.gos);this.refreshModel({step:"sort",keepRenderedRows:!0,animate:e,keepEditingRows:!0})}getType(){return"clientSide"}onValueChanged(){this.columnModel.isPivotActive()?this.refreshModel({step:"pivot"}):this.refreshModel({step:"aggregate"})}createChangePath(e){const t=wn(e),i=new RC(!1,this.rootNode);return t&&i.setInactive(),i}isSuppressModelUpdateAfterUpdateTransaction(e){if(!this.gos.get("suppressModelUpdateAfterUpdateTransaction")||e.rowNodeTransactions==null)return!1;const t=e.rowNodeTransactions.filter(s=>s.add!=null&&s.add.length>0||s.remove!=null&&s.remove.length>0);return t==null||t.length==0}buildRefreshModelParams(e){let t="group";const i={everything:"group",group:"group",filter:"filter",map:"map",aggregate:"aggregate",filter_aggregates:"filter_aggregates",sort:"sort",pivot:"pivot",nothing:"nothing"};if(ve(e)&&(t=i[e]),rt(t)){at(`invalid step ${e}, available steps are ${Object.keys(i).join(", ")}`);return}const s=!this.gos.get("suppressAnimationFrame");return{step:t,keepRenderedRows:!0,keepEditingRows:!0,animate:s}}refreshModel(e){if(!this.hasStarted||this.isRefreshingModel||this.columnModel.isChangeEventsDispatching())return;const t=typeof e=="object"&&"step"in e?e:this.buildRefreshModelParams(e);if(!t||this.isSuppressModelUpdateAfterUpdateTransaction(t))return;const i=this.createChangePath(t.rowNodeTransactions);switch(this.isRefreshingModel=!0,t.step){case"group":this.doRowGrouping(t.rowNodeTransactions,i,!!t.rowNodesOrderChanged,!!t.afterColumnsChanged);case"filter":this.doFilter(i);case"pivot":this.doPivot(i);case"aggregate":this.doAggregate(i);case"filter_aggregates":this.doFilterAggregates(i);case"sort":this.doSort(t.rowNodeTransactions,i);case"map":this.doRowsToDisplay()}const s=this.setRowTopAndRowIndex();this.clearRowTopAndRowIndex(i,s),this.isRefreshingModel=!1,this.eventService.dispatchEvent({type:"modelUpdated",animate:t.animate,keepRenderedRows:t.keepRenderedRows,newData:t.newData,newPage:!1,keepUndoRedoStack:t.keepUndoRedoStack})}isEmpty(){const e=rt(this.rootNode.allLeafChildren)||this.rootNode.allLeafChildren.length===0;return rt(this.rootNode)||e||!this.columnModel.isReady()}isRowsToRender(){return ve(this.rowsToDisplay)&&this.rowsToDisplay.length>0}getNodesInRangeForSelection(e,t){let i=!1,s=!1;const n=[],r=Kc(this.gos);return this.forEachNodeAfterFilterAndSort(o=>{if(s)return;if(i&&(o===t||o===e)&&(s=!0,o.group&&r)){n.push(...o.allLeafChildren);return}if(!i){if(o!==t&&o!==e)return;i=!0}if(!o.group||!r){n.push(o);return}}),n}setDatasource(e){at("should never call setDatasource on clientSideRowController")}getTopLevelNodes(){return this.rootNode?this.rootNode.childrenAfterGroup:null}getRootNode(){return this.rootNode}getRow(e){return this.rowsToDisplay[e]}isRowPresent(e){return this.rowsToDisplay.indexOf(e)>=0}getRowIndexAtPixel(e){if(this.isEmpty()||this.rowsToDisplay.length===0)return-1;let t=0,i=this.rowsToDisplay.length-1;if(e<=0)return 0;if(nt(this.rowsToDisplay).rowTop<=e)return this.rowsToDisplay.length-1;let n=-1,r=-1;for(;;){const o=Math.floor((t+i)/2),a=this.rowsToDisplay[o];if(this.isRowInPixel(a,e)||(a.rowTop<e?t=o+1:a.rowTop>e&&(i=o-1),n===t&&r===i))return o;n=t,r=i}}isRowInPixel(e,t){const i=e.rowTop,s=e.rowTop+e.rowHeight;return i<=t&&s>t}forEachLeafNode(e){this.rootNode.allLeafChildren&&this.rootNode.allLeafChildren.forEach((t,i)=>e(t,i))}forEachNode(e,t=!1){this.recursivelyWalkNodesAndCallback({nodes:[...this.rootNode.childrenAfterGroup||[]],callback:e,recursionType:0,index:0,includeFooterNodes:t})}forEachNodeAfterFilter(e,t=!1){this.recursivelyWalkNodesAndCallback({nodes:[...this.rootNode.childrenAfterAggFilter||[]],callback:e,recursionType:1,index:0,includeFooterNodes:t})}forEachNodeAfterFilterAndSort(e,t=!1){this.recursivelyWalkNodesAndCallback({nodes:[...this.rootNode.childrenAfterSort||[]],callback:e,recursionType:2,index:0,includeFooterNodes:t})}forEachPivotNode(e,t=!1){this.recursivelyWalkNodesAndCallback({nodes:[this.rootNode],callback:e,recursionType:3,index:0,includeFooterNodes:t})}recursivelyWalkNodesAndCallback(e){const{nodes:t,callback:i,recursionType:s,includeFooterNodes:n}=e;let{index:r}=e;const o=a=>{var v;const l=(v=t[0])==null?void 0:v.parent;if(!l)return;const d=n&&DF(this.gos),h=RF(this.gos),p=n&&h({node:l});if(l===this.rootNode){d===a&&(l.createFooter(),i(l.sibling,r++));return}p===a&&(l.createFooter(),i(l.sibling,r++))};o("top");for(let a=0;a<t.length;a++){const l=t[a];if(i(l,r++),l.hasChildren()&&!l.footer){let d=null;switch(s){case 0:d=l.childrenAfterGroup;break;case 1:d=l.childrenAfterAggFilter;break;case 2:d=l.childrenAfterSort;break;case 3:d=l.leafGroup?null:l.childrenAfterSort;break}d&&(r=this.recursivelyWalkNodesAndCallback({nodes:[...d],callback:i,recursionType:s,index:r,includeFooterNodes:n}))}}return o("bottom"),r}doAggregate(e){var t;(t=this.aggregationStage)==null||t.execute({rowNode:this.rootNode,changedPath:e})}doFilterAggregates(e){this.filterAggregatesStage?this.filterAggregatesStage.execute({rowNode:this.rootNode,changedPath:e}):this.rootNode.childrenAfterAggFilter=this.rootNode.childrenAfterFilter}expandOrCollapseAll(e){const t=this.gos.get("treeData"),i=this.columnModel.isPivotActive(),s=n=>{n&&n.forEach(r=>{const o=()=>{r.expanded=e,s(r.childrenAfterGroup)};if(t){ve(r.childrenAfterGroup)&&o();return}if(i){!r.leafGroup&&o();return}r.group&&o()})};this.rootNode&&s(this.rootNode.childrenAfterGroup),this.refreshModel({step:"map"}),this.eventService.dispatchEvent({type:"expandOrCollapseAll",source:e?"expandAll":"collapseAll"})}doSort(e,t){this.sortStage.execute({rowNode:this.rootNode,rowNodeTransactions:e,changedPath:t})}doRowGrouping(e,t,i,s){if(this.groupStage)e?this.groupStage.execute({rowNode:this.rootNode,rowNodeTransactions:e,rowNodesOrderChanged:i,changedPath:t}):this.groupStage.execute({rowNode:this.rootNode,changedPath:t,afterColumnsChanged:s}),Kc(this.gos)&&this.selectionService.updateGroupsFromChildrenSelections("rowGroupChanged",t)&&this.eventService.dispatchEvent({type:"selectionChanged",source:"rowGroupChanged"});else{const n=this.rootNode,r=n.sibling;n.childrenAfterGroup=n.allLeafChildren,r&&(r.childrenAfterGroup=n.childrenAfterGroup),this.rootNode.updateHasChildren()}this.nodeManager.isRowCountReady()&&(this.rowCountReady=!0,this.eventService.dispatchEventOnce({type:"rowCountReady"}))}doFilter(e){this.filterStage.execute({rowNode:this.rootNode,changedPath:e})}doPivot(e){var t;(t=this.pivotStage)==null||t.execute({rowNode:this.rootNode,changedPath:e})}getNodeManager(){return this.nodeManager}getRowNode(e){if(typeof e=="string"&&e.indexOf(ta.ID_PREFIX_ROW_GROUP)==0){let i;return this.forEachNode(s=>{s.id===e&&(i=s)}),i}return this.nodeManager.getRowNode(e)}setRowData(e){this.selectionService.reset("rowDataChanged"),this.nodeManager.setRowData(e),this.hasStarted&&this.dispatchUpdateEventsAndRefresh()}dispatchUpdateEventsAndRefresh(){this.eventService.dispatchEvent({type:"rowDataUpdated"}),this.refreshModel({step:"group",newData:!0})}batchUpdateRowData(e,t){if(this.applyAsyncTransactionsTimeout==null){this.rowDataTransactionBatch=[];const i=this.gos.get("asyncTransactionWaitMillis");this.applyAsyncTransactionsTimeout=window.setTimeout(()=>{this.isAlive()&&this.executeBatchUpdateRowData()},i)}this.rowDataTransactionBatch.push({rowDataTransaction:e,callback:t})}flushAsyncTransactions(){this.applyAsyncTransactionsTimeout!=null&&(clearTimeout(this.applyAsyncTransactionsTimeout),this.executeBatchUpdateRowData())}executeBatchUpdateRowData(){var s;this.valueCache.onDataChanged();const e=[],t=[];let i=!1;(s=this.rowDataTransactionBatch)==null||s.forEach(n=>{const{rowNodeTransaction:r,rowsInserted:o}=this.nodeManager.updateRowData(n.rowDataTransaction);o&&(i=!0),t.push(r),n.callback&&e.push(n.callback.bind(null,r))}),this.commonUpdateRowData(t,i),e.length>0&&window.setTimeout(()=>{e.forEach(n=>n())},0),t.length>0&&this.eventService.dispatchEvent({type:"asyncTransactionsFlushed",results:t}),this.rowDataTransactionBatch=null,this.applyAsyncTransactionsTimeout=void 0}updateRowData(e){this.valueCache.onDataChanged();const{rowNodeTransaction:t,rowsInserted:i}=this.nodeManager.updateRowData(e);return this.commonUpdateRowData([t],i),t}afterImmutableDataChange(e,t){this.commonUpdateRowData([e],t)}commonUpdateRowData(e,t){if(!this.hasStarted)return;const i=!this.gos.get("suppressAnimationFrame");this.eventService.dispatchEvent({type:"rowDataUpdated"}),this.refreshModel({step:"group",rowNodeTransactions:e,rowNodesOrderChanged:t,keepRenderedRows:!0,keepEditingRows:!0,animate:i})}doRowsToDisplay(){this.rowsToDisplay=this.flattenStage.execute({rowNode:this.rootNode})}onRowHeightChanged(){this.refreshModel({step:"map",keepRenderedRows:!0,keepEditingRows:!0,keepUndoRedoStack:!0})}onRowHeightChangedDebounced(){this.onRowHeightChanged_debounced()}resetRowHeights(){const e=this.resetRowHeightsForAllRowNodes();this.rootNode.setRowHeight(this.rootNode.rowHeight,!0),this.rootNode.sibling&&this.rootNode.sibling.setRowHeight(this.rootNode.sibling.rowHeight,!0),e&&this.onRowHeightChanged()}resetRowHeightsForAllRowNodes(){let e=!1;return this.forEachNode(t=>{t.setRowHeight(t.rowHeight,!0);const i=t.detailNode;i&&i.setRowHeight(i.rowHeight,!0),t.sibling&&t.sibling.setRowHeight(t.sibling.rowHeight,!0),e=!0}),e}onGridStylesChanges(e){if(e.rowHeightChanged){if(this.columnModel.isAutoRowHeightActive())return;this.resetRowHeights()}}onGridReady(){this.hasStarted||this.setInitialData()}isRowDataLoaded(){return this.rowCountReady}destroy(){super.destroy(),this.clearHighlightedRow()}};function AQ(e){e.expansionService.onGroupExpandedOrCollapsed()}function TQ(e,t){var i,s;(s=(i=e.rowModelHelperService)==null?void 0:i.getClientSideRowModel())==null||s.refreshModel(t)}function IQ(e){var t,i;return((i=(t=e.rowModelHelperService)==null?void 0:t.getClientSideRowModel())==null?void 0:i.isEmpty())??!0}function LQ(e,t){var i,s;(s=(i=e.rowModelHelperService)==null?void 0:i.getClientSideRowModel())==null||s.forEachLeafNode(t)}function kQ(e,t){var i,s;(s=(i=e.rowModelHelperService)==null?void 0:i.getClientSideRowModel())==null||s.forEachNodeAfterFilter(t)}function PQ(e,t){var i,s;(s=(i=e.rowModelHelperService)==null?void 0:i.getClientSideRowModel())==null||s.forEachNodeAfterFilterAndSort(t)}function OQ(e){var t,i;if(e.columnModel.isAutoRowHeightActive()){ae("calling gridApi.resetRowHeights() makes no sense when using Auto Row Height.");return}(i=(t=e.rowModelHelperService)==null?void 0:t.getClientSideRowModel())==null||i.resetRowHeights()}function FQ(e,t){return e.frameworkOverrides.wrapIncoming(()=>{var i,s;return(s=(i=e.rowModelHelperService)==null?void 0:i.getClientSideRowModel())==null?void 0:s.updateRowData(t)})}function NQ(e,t,i){e.frameworkOverrides.wrapIncoming(()=>{var s,n;return(n=(s=e.rowModelHelperService)==null?void 0:s.getClientSideRowModel())==null?void 0:n.batchUpdateRowData(t,i)})}function zQ(e){e.frameworkOverrides.wrapIncoming(()=>{var t,i;return(i=(t=e.rowModelHelperService)==null?void 0:t.getClientSideRowModel())==null?void 0:i.flushAsyncTransactions()})}function BQ(e){return e.selectionService.getBestCostNodeSelection()}var GQ=class extends re{constructor(){super(...arguments),this.beanName="filterStage"}wireBeans(e){this.filterManager=e.filterManager}execute(e){const{changedPath:t}=e;this.filter(t)}filter(e){var i;const t=!!((i=this.filterManager)!=null&&i.isChildFilterPresent());this.filterNodes(t,e)}filterNodes(e,t){const i=(s,n)=>{s.hasChildren()&&e&&!n?s.childrenAfterFilter=s.childrenAfterGroup.filter(r=>{const o=r.childrenAfterFilter&&r.childrenAfterFilter.length>0,a=r.data&&this.filterManager.doesRowPassFilter({rowNode:r});return o||a}):s.childrenAfterFilter=s.childrenAfterGroup,s.sibling&&(s.sibling.childrenAfterFilter=s.childrenAfterFilter)};if(this.doingTreeDataFiltering()){const s=(r,o)=>{if(r.childrenAfterGroup)for(let a=0;a<r.childrenAfterGroup.length;a++){const l=r.childrenAfterGroup[a],d=o||this.filterManager.doesRowPassFilter({rowNode:l});l.childrenAfterGroup?s(r.childrenAfterGroup[a],d):i(l,d)}i(r,o)},n=r=>s(r,!1);t.executeFromRootNode(n)}else{const s=n=>i(n,!1);t.forEachChangedNodeDepthFirst(s,!0)}}doingTreeDataFiltering(){return this.gos.get("treeData")&&!this.gos.get("excludeChildrenWhenTreeDataFiltering")}},HQ=class extends re{constructor(){super(...arguments),this.beanName="flattenStage"}wireBeans(e){this.beans=e,this.columnModel=e.columnModel}execute(e){const t=e.rowNode,i=[],s=this.columnModel.isPivotMode(),n=s&&t.leafGroup,r=n?[t]:t.childrenAfterSort,o=this.getFlattenDetails();this.recursivelyAddToRowsToDisplay(o,r,i,s,0);const a=i.length>0;if(!n&&a&&o.grandTotalRow){t.createFooter();const d=o.grandTotalRow==="top";this.addRowNodeToRowsToDisplay(o,t.sibling,i,0,d)}return i}getFlattenDetails(){const e=this.gos.get("groupRemoveSingleChildren");return{groupRemoveLowestSingleChildren:!e&&this.gos.get("groupRemoveLowestSingleChildren"),groupRemoveSingleChildren:e,isGroupMultiAutoColumn:EF(this.gos),hideOpenParents:this.gos.get("groupHideOpenParents"),grandTotalRow:DF(this.gos),groupTotalRow:RF(this.gos)}}recursivelyAddToRowsToDisplay(e,t,i,s,n){if(!wn(t))for(let r=0;r<t.length;r++){const o=t[r],a=o.hasChildren(),l=s&&!a,d=e.groupRemoveSingleChildren&&a&&o.childrenAfterGroup.length===1,h=e.groupRemoveLowestSingleChildren&&a&&o.leafGroup&&o.childrenAfterGroup.length===1,p=s&&o.leafGroup,f=e.hideOpenParents&&o.expanded&&!o.master&&!p;if(!l&&!f&&!d&&!h&&this.addRowNodeToRowsToDisplay(e,o,i,n),!(s&&o.leafGroup)){if(a){const y=d||h;if(o.expanded||y){const S=e.groupTotalRow({node:o});S||o.destroyFooter();const w=y?n:n+1;S==="top"&&(o.createFooter(),this.addRowNodeToRowsToDisplay(e,o.sibling,i,w)),this.recursivelyAddToRowsToDisplay(e,o.childrenAfterSort,i,s,w),S==="bottom"&&(o.createFooter(),this.addRowNodeToRowsToDisplay(e,o.sibling,i,w))}}else if(o.master&&o.expanded){const y=this.createDetailNode(o);this.addRowNodeToRowsToDisplay(e,y,i,n)}}}}addRowNodeToRowsToDisplay(e,t,i,s,n){n?i.unshift(t):i.push(t),t.setUiLevel(e.isGroupMultiAutoColumn?0:s)}createDetailNode(e){if(ve(e.detailNode))return e.detailNode;const t=new ta(this.beans);return t.detail=!0,t.selectable=!1,t.parent=e,ve(e.id)&&(t.id="detail_"+e.id),t.data=e.data,t.level=e.level+1,e.detailNode=t,t}},jQ=class extends re{constructor(){super(...arguments),this.beanName="immutableService"}wireBeans(e){this.rowModel=e.rowModel,this.selectionService=e.selectionService}postConstruct(){Ut(this.gos)&&(this.clientSideRowModel=this.rowModel,this.addManagedPropertyListener("rowData",()=>this.onRowDataUpdated()))}isActive(){const e=this.gos.exists("getRowId");return this.gos.get("resetRowDataOnUpdate")?!1:e}setRowData(e){const t=this.createTransactionForRowData(e);if(!t)return;const i=this.clientSideRowModel.getNodeManager(),{rowNodeTransaction:s,rowsInserted:n}=i.updateRowData(t);let r=!1;this.gos.get("suppressMaintainUnsortedOrder")||(r=i.updateRowOrderFromRowData(e)),this.clientSideRowModel.afterImmutableDataChange(s,r||n)}createTransactionForRowData(e){if(!Ut(this.gos))return at("ImmutableService only works with ClientSideRowModel"),null;const t=oh(this.gos);if(t==null)return at("ImmutableService requires getRowId() callback to be implemented, your row data needs IDs!"),null;const i=this.clientSideRowModel.getNodeManager().getCopyOfNodesMap(),s=[],n=[],r=[];return ve(e)&&e.forEach(o=>{const a=t({data:o,level:0}),l=i[a];l?(l.data!==o&&n.push(o),i[a]=void 0):r.push(o)}),xr(i,(o,a)=>{a&&s.push(a.data)}),{remove:s,update:n,add:r}}onRowDataUpdated(){const e=this.gos.get("rowData");e&&(this.isActive()?this.setRowData(e):(this.selectionService.reset("rowDataChanged"),this.clientSideRowModel.setRowData(e)))}},VQ=class extends re{constructor(){super(...arguments),this.beanName="sortService"}wireBeans(e){this.columnModel=e.columnModel,this.funcColsService=e.funcColsService,this.rowNodeSorter=e.rowNodeSorter,this.showRowGroupColsService=e.showRowGroupColsService}sort(e,t,i,s,n,r){const o=this.gos.get("groupMaintainOrder"),a=this.columnModel.getCols().some(f=>f.isRowGroupActive());let l={};i&&s&&(l=this.calculateDirtyNodes(s));const d=this.columnModel.isPivotMode(),h=this.gos.getCallback("postSortRows"),p=f=>{var S;this.pullDownGroupDataForHideOpenParents(f.childrenAfterAggFilter,!0);const v=d&&f.leafGroup;if(o&&a&&!f.leafGroup&&!r){const w=(S=this.funcColsService.getRowGroupColumns())==null?void 0:S[f.level+1],b=(w==null?void 0:w.getSort())===null,x=f.childrenAfterAggFilter.slice(0);if(f.childrenAfterSort&&!b){const D={};f.childrenAfterSort.forEach((E,T)=>{D[E.id]=T}),x.sort((E,T)=>(D[E.id]??0)-(D[T.id]??0))}f.childrenAfterSort=x}else!t||v?f.childrenAfterSort=f.childrenAfterAggFilter.slice(0):i?f.childrenAfterSort=this.doDeltaSort(f,l,n,e):f.childrenAfterSort=this.rowNodeSorter.doFullSort(f.childrenAfterAggFilter,e);if(f.sibling&&(f.sibling.childrenAfterSort=f.childrenAfterSort),this.updateChildIndexes(f),h){const w={nodes:f.childrenAfterSort};h(w)}};n&&n.forEachChangedNodeDepthFirst(p),this.updateGroupDataForHideOpenParents(n)}calculateDirtyNodes(e){const t={},i=s=>{s&&s.forEach(n=>t[n.id]=!0)};return e&&e.forEach(s=>{i(s.add),i(s.update),i(s.remove)}),t}doDeltaSort(e,t,i,s){const n=e.childrenAfterAggFilter,r=e.childrenAfterSort;if(!r)return this.rowNodeSorter.doFullSort(n,s);const o={},a=[];n.forEach(p=>{t[p.id]||!i.canSkip(p)?a.push(p):o[p.id]=!0});const l=r.filter(p=>o[p.id]),d=(p,f)=>({currentPos:f,rowNode:p}),h=a.map(d).sort((p,f)=>this.rowNodeSorter.compareRowNodes(s,p,f));return this.mergeSortedArrays(s,h,l.map(d)).map(({rowNode:p})=>p)}mergeSortedArrays(e,t,i){const s=[];let n=0,r=0;for(;n<t.length&&r<i.length;)this.rowNodeSorter.compareRowNodes(e,t[n],i[r])<0?s.push(t[n++]):s.push(i[r++]);for(;n<t.length;)s.push(t[n++]);for(;r<i.length;)s.push(i[r++]);return s}updateChildIndexes(e){if(rt(e.childrenAfterSort))return;const t=e.childrenAfterSort;for(let i=0;i<t.length;i++){const s=t[i],n=i===0,r=i===e.childrenAfterSort.length-1;s.setFirstChild(n),s.setLastChild(r),s.setChildIndex(i)}}updateGroupDataForHideOpenParents(e){if(!this.gos.get("groupHideOpenParents"))return;if(this.gos.get("treeData"))return ae("The property hideOpenParents dose not work with Tree Data. This is because Tree Data has values at the group level, it doesn't make sense to hide them."),!1;const t=i=>{this.pullDownGroupDataForHideOpenParents(i.childrenAfterSort,!1),i.childrenAfterSort.forEach(s=>{s.hasChildren()&&t(s)})};e&&e.executeFromRootNode(i=>t(i))}pullDownGroupDataForHideOpenParents(e,t){!this.gos.get("groupHideOpenParents")||rt(e)||e.forEach(i=>{var n;(((n=this.showRowGroupColsService)==null?void 0:n.getShowRowGroupCols())??[]).forEach(r=>{const o=r.getColDef().showRowGroup;if(typeof o!="string"){at("groupHideOpenParents only works when specifying specific columns for colDef.showRowGroup");return}const a=o,l=this.columnModel.getColDefCol(a);if(l!==i.rowGroupColumn)if(t)i.setGroupValue(r.getId(),void 0);else{const h=this.getFirstChildOfFirstChild(i,l);h&&i.setGroupValue(r.getId(),h.key)}})})}getFirstChildOfFirstChild(e,t){let i=e;for(;i;){const s=i.parent;if(s&&i.firstChild){if(s.rowGroupColumn===t)return s}else return null;i=s}return null}},_Q=class extends re{constructor(){super(...arguments),this.beanName="sortStage"}wireBeans(e){this.sortService=e.sortService,this.sortController=e.sortController}execute(e){const t=this.sortController.getSortOptions(),i=ve(t)&&t.length>0,s=i&&ve(e.rowNodeTransactions)&&this.gos.get("deltaSort"),n=t.some(r=>eo(this.gos)?r.column.isPrimary()&&r.column.isRowGroupActive():!!r.column.getColDef().showRowGroup);this.sortService.sort(t,i,s,e.rowNodeTransactions,e.changedPath,n)}},sR="32.3.5",p2={version:sR,moduleName:"@ag-grid-community/client-side-row-model-core",rowModel:"clientSide",beans:[EQ,GQ,_Q,HQ,VQ,jQ]},WQ={version:sR,moduleName:"@ag-grid-community/client-side-row-model-api",beans:[g2],apiFunctions:{onGroupExpandedOrCollapsed:AQ,refreshClientSideRowModel:TQ,isRowDataEmpty:IQ,forEachLeafNode:LQ,forEachNodeAfterFilter:kQ,forEachNodeAfterFilterAndSort:PQ,resetRowHeights:OQ,applyTransaction:FQ,applyTransactionAsync:NQ,flushAsyncTransactions:zQ,getBestCostNodeSelection:BQ},dependantModules:[p2,wQ]},UQ={version:sR,moduleName:"@ag-grid-community/client-side-row-model",dependantModules:[p2,WQ]},$Q=class extends re{setBeans(e){this.beans=e}getFileName(e){const t=this.getDefaultFileExtension();return(e==null||!e.length)&&(e=this.getDefaultFileName()),e.indexOf(".")===-1?`${e}.${t}`:e}getData(e){const t=this.createSerializingSession(e);return this.beans.gridSerializer.serialize(t,e)}getDefaultFileName(){return`export.${this.getDefaultFileExtension()}`}},YQ=class{constructor(e){this.groupColumns=[];const{columnModel:t,funcColsService:i,columnNameService:s,valueService:n,gos:r,processCellCallback:o,processHeaderCallback:a,processGroupHeaderCallback:l,processRowGroupCallback:d}=e;this.columnModel=t,this.funcColsService=i,this.columnNameService=s,this.valueService=n,this.gos=r,this.processCellCallback=o,this.processHeaderCallback=a,this.processGroupHeaderCallback=l,this.processRowGroupCallback=d}prepare(e){this.groupColumns=e.filter(t=>!!t.getColDef().showRowGroup)}extractHeaderValue(e){return this.getHeaderName(this.processHeaderCallback,e)??""}extractRowCellValue(e,t,i,s,n){const o=(!this.gos.get("groupHideOpenParents")||n.footer)&&this.shouldRenderGroupSummaryCell(n,e,t)?this.createValueForGroupNode(e,n):this.valueService.getValue(e,n);return this.processCell({accumulatedRowIndex:i,rowNode:n,column:e,value:o,processCellCallback:this.processCellCallback,type:s})}shouldRenderGroupSummaryCell(e,t,i){var o;if(!(e&&e.group))return!1;if(this.groupColumns.indexOf(t)!==-1){const a=(o=e.groupData)==null?void 0:o[t.getId()],l=this.gos.get("suppressGroupMaintainValueType");if(l&&a!=null||!l&&a!==void 0||wo(this.gos)&&e.group)return!0;if(e.footer&&e.level===-1){const d=t.getColDef();return d==null||d.showRowGroup===!0||d.showRowGroup===this.funcColsService.getRowGroupColumns()[0].getId()}}const r=bC(this.gos,this.columnModel.isPivotMode());return i===0&&r}getHeaderName(e,t){return e?e(this.gos.addGridCommonParams({column:t})):this.columnNameService.getDisplayNameForColumn(t,"csv",!0)}createValueForGroupNode(e,t){if(this.processRowGroupCallback)return this.processRowGroupCallback(this.gos.addGridCommonParams({column:e,node:t}));const i=this.gos.get("treeData"),s=this.gos.get("suppressGroupMaintainValueType"),n=l=>{var h;if(i||s)return l.key;const d=(h=l.groupData)==null?void 0:h[e.getId()];return!d||!l.rowGroupColumn||l.rowGroupColumn.getColDef().useValueFormatterForExport===!1?d:this.valueService.formatValue(l.rowGroupColumn,l,d)??d},r=t.footer,o=[n(t)];if(!EF(this.gos))for(;t.parent;)t=t.parent,o.push(n(t));const a=o.reverse().join(" -> ");return r?`Total ${a}`:a}processCell(e){const{accumulatedRowIndex:t,rowNode:i,column:s,value:n,processCellCallback:r,type:o}=e;return r?{value:r(this.gos.addGridCommonParams({accumulatedRowIndex:t,column:s,node:i,value:n,type:o,parseValue:a=>this.valueService.parseValue(s,i,a,this.valueService.getValue(s,i)),formatValue:a=>this.valueService.formatValue(s,i,a)??a}))??""}:s.getColDef().useValueFormatterForExport!==!1?{value:n??"",valueFormatted:this.valueService.formatValue(s,i,n)}:{value:n??""}}},KQ=class{static download(e,t){const i=document.defaultView||window;if(!i){ae("There is no `window` associated with the current `document`");return}const s=document.createElement("a"),n=i.URL.createObjectURL(t);s.setAttribute("href",n),s.setAttribute("download",e),s.style.display="none",document.body.appendChild(s),s.dispatchEvent(new MouseEvent("click",{bubbles:!1,cancelable:!0,view:i})),document.body.removeChild(s),i.setTimeout(()=>{i.URL.revokeObjectURL(n)},0)}},Ok=`\r
`,qQ=class extends YQ{constructor(e){super(e),this.isFirstLine=!0,this.result="";const{suppressQuotes:t,columnSeparator:i}=e;this.suppressQuotes=t,this.columnSeparator=i}addCustomContent(e){e&&(typeof e=="string"?(/^\s*\n/.test(e)||this.beginNewLine(),e=e.replace(/\r?\n/g,Ok),this.result+=e):e.forEach(t=>{this.beginNewLine(),t.forEach((i,s)=>{s!==0&&(this.result+=this.columnSeparator),this.result+=this.putInQuotes(i.data.value||""),i.mergeAcross&&this.appendEmptyCells(i.mergeAcross)})}))}onNewHeaderGroupingRow(){return this.beginNewLine(),{onColumn:this.onNewHeaderGroupingRowColumn.bind(this)}}onNewHeaderGroupingRowColumn(e,t,i,s){i!=0&&(this.result+=this.columnSeparator),this.result+=this.putInQuotes(t),this.appendEmptyCells(s)}appendEmptyCells(e){for(let t=1;t<=e;t++)this.result+=this.columnSeparator+this.putInQuotes("")}onNewHeaderRow(){return this.beginNewLine(),{onColumn:this.onNewHeaderRowColumn.bind(this)}}onNewHeaderRowColumn(e,t){t!=0&&(this.result+=this.columnSeparator),this.result+=this.putInQuotes(this.extractHeaderValue(e))}onNewBodyRow(){return this.beginNewLine(),{onColumn:this.onNewBodyRowColumn.bind(this)}}onNewBodyRowColumn(e,t,i){t!=0&&(this.result+=this.columnSeparator);const s=this.extractRowCellValue(e,t,t,"csv",i);this.result+=this.putInQuotes(s.valueFormatted??s.value)}putInQuotes(e){if(this.suppressQuotes)return e;if(e==null)return'""';let t;return typeof e=="string"?t=e:typeof e.toString=="function"?t=e.toString():(ae("unknown value type during csv conversion"),t=""),'"'+t.replace(/"/g,'""')+'"'}parse(){return this.result}beginNewLine(){this.isFirstLine||(this.result+=Ok),this.isFirstLine=!1}},ZQ=class extends $Q{constructor(){super(...arguments),this.beanName="csvCreator"}wireBeans(e){this.columnModel=e.columnModel,this.columnNameService=e.columnNameService,this.funcColsService=e.funcColsService,this.valueService=e.valueService,this.gridSerializer=e.gridSerializer}postConstruct(){this.setBeans({gridSerializer:this.gridSerializer,gos:this.gos})}getMergedParams(e){const t=this.gos.get("defaultCsvExportParams");return Object.assign({},t,e)}export(e){if(this.isExportSuppressed()){ae("Export cancelled. Export is not allowed as per your configuration.");return}const t=this.getMergedParams(e),i=this.getData(t),s=new Blob(["\uFEFF",i],{type:"text/plain"}),n=typeof t.fileName=="function"?t.fileName(this.gos.getGridCommonParams()):t.fileName;KQ.download(this.getFileName(n),s)}exportDataAsCsv(e){this.export(e)}getDataAsCsv(e,t=!1){const i=t?Object.assign({},e):this.getMergedParams(e);return this.getData(i)}getDefaultFileExtension(){return"csv"}createSerializingSession(e){const{columnModel:t,columnNameService:i,funcColsService:s,valueService:n,gos:r}=this,{processCellCallback:o,processHeaderCallback:a,processGroupHeaderCallback:l,processRowGroupCallback:d,suppressQuotes:h,columnSeparator:p}=e;return new qQ({columnModel:t,columnNameService:i,funcColsService:s,valueService:n,gos:r,processCellCallback:o||void 0,processHeaderCallback:a||void 0,processGroupHeaderCallback:l||void 0,processRowGroupCallback:d||void 0,suppressQuotes:h||!1,columnSeparator:p||","})}isExportSuppressed(){return this.gos.get("suppressCsvExport")}};function XQ(e,t){var i;return(i=e.csvCreator)==null?void 0:i.getDataAsCsv(t)}function QQ(e,t){var i;(i=e.csvCreator)==null||i.exportDataAsCsv(t)}var JQ=class extends re{constructor(){super(...arguments),this.beanName="gridSerializer"}wireBeans(e){this.visibleColsService=e.visibleColsService,this.columnModel=e.columnModel,this.columnNameService=e.columnNameService,this.rowModel=e.rowModel,this.pinnedRowModel=e.pinnedRowModel,this.selectionService=e.selectionService,this.rowNodeSorter=e.rowNodeSorter,this.sortController=e.sortController}serialize(e,t={}){const{allColumns:i,columnKeys:s,skipRowGroups:n}=t,r=this.getColumnsToExport(i,n,s);return TU(this.prepareSession(r),this.prependContent(t),this.exportColumnGroups(t,r),this.exportHeaders(t,r),this.processPinnedTopRows(t,r),this.processRows(t,r),this.processPinnedBottomRows(t,r),this.appendContent(t))(e).parse()}processRow(e,t,i,s){var b;const n=t.shouldRowBeSkipped||(()=>!1),r=this.gos.get("groupRemoveSingleChildren"),o=this.gos.get("groupRemoveLowestSingleChildren"),l=t.rowPositions!=null||!!t.onlySelected,d=this.gos.get("groupHideOpenParents")&&!l,h=this.columnModel.isPivotMode()?s.leafGroup:!s.group,p=!!s.footer,f=o&&s.leafGroup,v=s.allChildrenCount===1&&((b=s.childrenAfterGroup)==null?void 0:b.length)===1&&(r||f);if(!h&&!p&&(t.skipRowGroups||v||d)||t.onlySelected&&!s.isSelected()||t.skipPinnedTop&&s.rowPinned==="top"||t.skipPinnedBottom&&s.rowPinned==="bottom"||s.level===-1&&!h&&!p||n(this.gos.addGridCommonParams({node:s})))return;const w=e.onNewBodyRow(s);if(i.forEach((x,D)=>{w.onColumn(x,D,s)}),t.getCustomContentBelowRow){const x=t.getCustomContentBelowRow(this.gos.addGridCommonParams({node:s}));x&&e.addCustomContent(x)}}appendContent(e){return t=>{const i=e.appendContent;return i&&t.addCustomContent(i),t}}prependContent(e){return t=>{const i=e.prependContent;return i&&t.addCustomContent(i),t}}prepareSession(e){return t=>(t.prepare(e),t)}exportColumnGroups(e,t){return i=>{if(!e.skipColumnGroupHeaders){const s=new GF,n=this.visibleColsService.createGroups({columns:t,idCreator:s,pinned:null,isStandaloneStructure:!0});this.recursivelyAddHeaderGroups(n,i,e.processGroupHeaderCallback)}return i}}exportHeaders(e,t){return i=>{if(!e.skipColumnHeaders){const s=i.onNewHeaderRow();t.forEach((n,r)=>{s.onColumn(n,r,void 0)})}return i}}processPinnedTopRows(e,t){return i=>{const s=this.processRow.bind(this,i,e,t);return e.rowPositions?e.rowPositions.filter(n=>n.rowPinned==="top").sort((n,r)=>n.rowIndex-r.rowIndex).map(n=>this.pinnedRowModel.getPinnedTopRow(n.rowIndex)).forEach(s):this.pinnedRowModel.forEachPinnedRow("top",s),i}}processRows(e,t){return i=>{const s=this.rowModel,n=Ut(this.gos),r=wo(this.gos),o=!n&&e.onlySelected,a=this.processRow.bind(this,i,e,t),{exportedRows:l="filteredAndSorted"}=e;if(e.rowPositions)e.rowPositions.filter(d=>d.rowPinned==null).sort((d,h)=>d.rowIndex-h.rowIndex).map(d=>s.getRow(d.rowIndex)).forEach(a);else if(this.columnModel.isPivotMode())n?s.forEachPivotNode(a,!0):r?s.forEachNodeAfterFilterAndSort(a,!0):s.forEachNode(a);else if(e.onlySelectedAllPages||o){const d=this.selectionService.getSelectedNodes();this.replicateSortedOrder(d),d.forEach(a)}else l==="all"?s.forEachNode(a):n||r?s.forEachNodeAfterFilterAndSort(a,!0):s.forEachNode(a);return i}}replicateSortedOrder(e){const t=this.sortController.getSortOptions(),i=(s,n)=>{var r,o;return s.rowIndex!=null&&n.rowIndex!=null?s.rowIndex-n.rowIndex:s.level===n.level?((r=s.parent)==null?void 0:r.id)===((o=n.parent)==null?void 0:o.id)?this.rowNodeSorter.compareRowNodes(t,{rowNode:s,currentPos:s.rowIndex??-1},{rowNode:n,currentPos:n.rowIndex??-1}):i(s.parent,n.parent):s.level>n.level?i(s.parent,n):i(s,n.parent)};e.sort(i)}processPinnedBottomRows(e,t){return i=>{const s=this.processRow.bind(this,i,e,t);return e.rowPositions?e.rowPositions.filter(n=>n.rowPinned==="bottom").sort((n,r)=>n.rowIndex-r.rowIndex).map(n=>this.pinnedRowModel.getPinnedBottomRow(n.rowIndex)).forEach(s):this.pinnedRowModel.forEachPinnedRow("bottom",s),i}}getColumnsToExport(e=!1,t=!1,i){const s=this.columnModel.isPivotMode();if(i&&i.length)return this.columnModel.getColsForKeys(i);const n=this.gos.get("treeData");let r=[];return e&&!s?r=this.columnModel.getCols():r=this.visibleColsService.getAllCols(),t&&!n&&(r=r.filter(o=>!rM(o)&&!cf(o))),r}recursivelyAddHeaderGroups(e,t,i){const s=[];e.forEach(n=>{const r=n;r.getChildren&&r.getChildren().forEach(o=>s.push(o))}),e.length>0&&Ei(e[0])&&this.doAddHeaderHeader(t,e,i),s&&s.length>0&&this.recursivelyAddHeaderGroups(s,t,i)}doAddHeaderHeader(e,t,i){const s=e.onNewHeaderGroupingRow();let n=0;t.forEach(r=>{const o=r;let a;i?a=i(this.gos.addGridCommonParams({columnGroup:o})):a=this.columnNameService.getDisplayNameForColumnGroup(o,"header");const l=o.getLeafColumns().reduce((d,h,p,f)=>{let v=nt(d);return h.getColumnGroupShow()==="open"?(!v||v[1]!=null)&&(v=[p],d.push(v)):v&&v[1]==null&&(v[1]=p-1),p===f.length-1&&v&&v[1]==null&&(v[1]=p),d},[]);s.onColumn(o,a||"",n++,o.getLeafColumns().length-1,l)})}},nR="32.3.5",f2={version:nR,moduleName:"@ag-grid-community/csv-export-core",beans:[ZQ,JQ]},eJ={version:nR,moduleName:"@ag-grid-community/csv-export-api",apiFunctions:{getDataAsCsv:XQ,exportDataAsCsv:QQ},dependantModules:[f2]},tJ={version:nR,moduleName:"@ag-grid-community/csv-export",dependantModules:[f2,eJ]},iJ=class extends rK{wireBeans(e){this.beans=e}constructor(e,t,i){super(e),this.parentCache=t,this.params=i,this.startRow=e*i.blockSize,this.endRow=this.startRow+i.blockSize}postConstruct(){this.createRowNodes()}getBlockStateJson(){return{id:""+this.getId(),state:{blockNumber:this.getId(),startRow:this.getStartRow(),endRow:this.getEndRow(),pageStatus:this.getState()}}}setDataAndId(e,t,i){ve(t)?e.setDataAndId(t,i.toString()):e.setDataAndId(void 0,void 0)}loadFromDatasource(){const e=this.createLoadParams();if(rt(this.params.datasource.getRows)){ae("datasource is missing getRows method");return}window.setTimeout(()=>{this.params.datasource.getRows(e)},0)}processServerFail(){}createLoadParams(){return{startRow:this.getStartRow(),endRow:this.getEndRow(),successCallback:this.pageLoaded.bind(this,this.getVersion()),failCallback:this.pageLoadFailed.bind(this,this.getVersion()),sortModel:this.params.sortModel,filterModel:this.params.filterModel,context:this.gos.getGridCommonParams().context}}forEachNode(e,t,i){this.rowNodes.forEach((s,n)=>{this.startRow+n<i&&e(s,t.next())})}getLastAccessed(){return this.lastAccessed}getRow(e,t=!1){t||(this.lastAccessed=this.params.lastAccessedSequence.next());const i=e-this.startRow;return this.rowNodes[i]}getStartRow(){return this.startRow}getEndRow(){return this.endRow}createRowNodes(){this.rowNodes=[];for(let e=0;e<this.params.blockSize;e++){const t=this.startRow+e,i=new ta(this.beans);i.setRowHeight(this.params.rowHeight),i.uiLevel=0,i.setRowIndex(t),i.setRowTop(this.params.rowHeight*t),this.rowNodes.push(i)}}processServerResult(e){this.rowNodes.forEach((i,s)=>{const n=e.rowData?e.rowData[s]:void 0;!i.id&&i.alreadyRendered&&n&&(this.rowNodes[s]=new ta(this.beans),this.rowNodes[s].setRowIndex(i.rowIndex),this.rowNodes[s].setRowTop(i.rowTop),this.rowNodes[s].setRowHeight(i.rowHeight),i.clearRowTopAndRowIndex()),this.setDataAndId(this.rowNodes[s],n,this.startRow+s)});const t=e.rowCount!=null&&e.rowCount>=0?e.rowCount:void 0;this.parentCache.pageLoaded(this,t)}destroy(){this.rowNodes.forEach(e=>{e.clearRowTopAndRowIndex()}),super.destroy()}},sJ=2,nJ=class extends re{constructor(e){super(),this.lastRowIndexKnown=!1,this.blocks={},this.blockCount=0,this.rowCount=e.initialRowCount,this.params=e}wireBeans(e){this.rowRenderer=e.rowRenderer,this.focusService=e.focusService}getRow(e,t=!1){const i=Math.floor(e/this.params.blockSize);let s=this.blocks[i];if(!s){if(t)return;s=this.createBlock(i)}return s.getRow(e)}createBlock(e){const t=this.createBean(new iJ(e,this,this.params));return this.blocks[t.getId()]=t,this.blockCount++,this.purgeBlocksIfNeeded(t),this.params.rowNodeBlockLoader.addBlock(t),t}refreshCache(){if(this.blockCount==0){this.purgeCache();return}this.getBlocksInOrder().forEach(t=>t.setStateWaitingToLoad()),this.params.rowNodeBlockLoader.checkBlockToLoad()}destroy(){this.getBlocksInOrder().forEach(e=>this.destroyBlock(e)),super.destroy()}getRowCount(){return this.rowCount}isLastRowIndexKnown(){return this.lastRowIndexKnown}pageLoaded(e,t){this.isAlive()&&(this.gos.get("debug")&&Dr(`InfiniteCache - onPageLoaded: page = ${e.getId()}, lastRow = ${t}`),this.checkRowCount(e,t),this.onCacheUpdated())}purgeBlocksIfNeeded(e){const t=this.getBlocksInOrder().filter(o=>o!=e),i=(o,a)=>a.getLastAccessed()-o.getLastAccessed();t.sort(i);const s=this.params.maxBlocksInCache>0,n=s?this.params.maxBlocksInCache-1:null,r=sJ-1;t.forEach((o,a)=>{const l=o.getState()==="needsLoading"&&a>=r,d=s?a>=n:!1;if(l||d){if(this.isBlockCurrentlyDisplayed(o)||this.isBlockFocused(o))return;this.removeBlockFromCache(o)}})}isBlockFocused(e){const t=this.focusService.getFocusCellToUseAfterRefresh();if(!t||t.rowPinned!=null)return!1;const i=e.getStartRow(),s=e.getEndRow();return t.rowIndex>=i&&t.rowIndex<s}isBlockCurrentlyDisplayed(e){const t=e.getStartRow(),i=e.getEndRow()-1;return this.rowRenderer.isRangeInRenderedViewport(t,i)}removeBlockFromCache(e){e&&this.destroyBlock(e)}checkRowCount(e,t){if(typeof t=="number"&&t>=0)this.rowCount=t,this.lastRowIndexKnown=!0;else if(!this.lastRowIndexKnown){const s=(e.getId()+1)*this.params.blockSize+this.params.overflowSize;this.rowCount<s&&(this.rowCount=s)}}setRowCount(e,t){this.rowCount=e,ve(t)&&(this.lastRowIndexKnown=t),this.lastRowIndexKnown||this.rowCount%this.params.blockSize===0&&this.rowCount++,this.onCacheUpdated()}forEachNodeDeep(e){const t=new Wd;this.getBlocksInOrder().forEach(i=>i.forEachNode(e,t,this.rowCount))}getBlocksInOrder(){const e=(i,s)=>i.getId()-s.getId();return aM(this.blocks).sort(e)}destroyBlock(e){delete this.blocks[e.getId()],this.destroyBean(e),this.blockCount--,this.params.rowNodeBlockLoader.removeBlock(e)}onCacheUpdated(){this.isAlive()&&(this.destroyAllBlocksPastVirtualRowCount(),this.eventService.dispatchEvent({type:"storeUpdated"}))}destroyAllBlocksPastVirtualRowCount(){const e=[];this.getBlocksInOrder().forEach(t=>{t.getId()*this.params.blockSize>=this.rowCount&&e.push(t)}),e.length>0&&e.forEach(t=>this.destroyBlock(t))}purgeCache(){this.getBlocksInOrder().forEach(e=>this.removeBlockFromCache(e)),this.lastRowIndexKnown=!1,this.rowCount===0&&(this.rowCount=this.params.initialRowCount),this.onCacheUpdated()}getRowNodesInRange(e,t){const i=[];let s=-1,n=!1;const r=new Wd;let o=!1;return this.getBlocksInOrder().forEach(l=>{if(!o){if(n&&s+1!==l.getId()){o=!0;return}s=l.getId(),l.forEachNode(d=>{const h=d===e||d===t;(n||h)&&i.push(d),h&&(n=!n)},r,this.rowCount)}}),o||n?[]:i}},rJ=class extends re{constructor(){super(...arguments),this.beanName="rowModel"}wireBeans(e){this.filterManager=e.filterManager,this.sortController=e.sortController,this.selectionService=e.selectionService,this.rowRenderer=e.rowRenderer,this.rowNodeBlockLoader=e.rowNodeBlockLoader}getRowBounds(e){return{rowHeight:this.rowHeight,rowTop:this.rowHeight*e}}ensureRowHeightsValid(){return!1}postConstruct(){this.gos.get("rowModelType")==="infinite"&&(this.rowHeight=zc(this.gos),this.addEventListeners(),this.addDestroyFunc(()=>this.destroyCache()),this.verifyProps())}verifyProps(){this.gos.exists("initialGroupOrderComparator")&&ae("initialGroupOrderComparator cannot be used with Infinite Row Model as sorting is done on the server side")}start(){this.setDatasource(this.gos.get("datasource"))}destroy(){this.destroyDatasource(),super.destroy()}destroyDatasource(){this.datasource&&(this.destroyBean(this.datasource),this.rowRenderer.datasourceChanged(),this.datasource=null)}addEventListeners(){this.addManagedEventListeners({filterChanged:this.onFilterChanged.bind(this),sortChanged:this.onSortChanged.bind(this),newColumnsLoaded:this.onColumnEverything.bind(this),storeUpdated:this.onCacheUpdated.bind(this)}),this.addManagedPropertyListener("datasource",()=>this.setDatasource(this.gos.get("datasource"))),this.addManagedPropertyListener("cacheBlockSize",()=>this.resetCache()),this.addManagedPropertyListener("rowHeight",()=>{this.rowHeight=zc(this.gos),this.cacheParams.rowHeight=this.rowHeight,this.updateRowHeights()})}onFilterChanged(){this.reset()}onSortChanged(){this.reset()}onColumnEverything(){let e;this.cacheParams?e=this.isSortModelDifferent():e=!0,e&&this.reset()}isSortModelDifferent(){return!Dp(this.cacheParams.sortModel,this.sortController.getSortModel())}getType(){return"infinite"}setDatasource(e){this.destroyDatasource(),this.datasource=e,e&&this.reset()}isEmpty(){return!this.infiniteCache}isRowsToRender(){return!!this.infiniteCache}getNodesInRangeForSelection(e,t){return this.infiniteCache?this.infiniteCache.getRowNodesInRange(e,t):[]}reset(){if(!this.datasource)return;oh(this.gos)!=null||this.selectionService.reset("rowDataChanged"),this.resetCache()}dispatchModelUpdatedEvent(){this.eventService.dispatchEvent({type:"modelUpdated",newPage:!1,newPageSize:!1,newData:!1,keepRenderedRows:!0,animate:!1})}resetCache(){var e;this.destroyCache(),this.cacheParams={datasource:this.datasource,filterModel:((e=this.filterManager)==null?void 0:e.getFilterModel())??{},sortModel:this.sortController.getSortModel(),rowNodeBlockLoader:this.rowNodeBlockLoader,initialRowCount:this.gos.get("infiniteInitialRowCount"),maxBlocksInCache:this.gos.get("maxBlocksInCache"),rowHeight:zc(this.gos),overflowSize:this.gos.get("cacheOverflowSize"),blockSize:this.gos.get("cacheBlockSize"),lastAccessedSequence:new Wd},this.infiniteCache=this.createBean(new nJ(this.cacheParams)),this.eventService.dispatchEventOnce({type:"rowCountReady"}),this.dispatchModelUpdatedEvent()}updateRowHeights(){this.forEachNode(e=>{e.setRowHeight(this.rowHeight),e.setRowTop(this.rowHeight*e.rowIndex)}),this.dispatchModelUpdatedEvent()}destroyCache(){this.infiniteCache&&(this.infiniteCache=this.destroyBean(this.infiniteCache))}onCacheUpdated(){this.dispatchModelUpdatedEvent()}getRow(e){if(this.infiniteCache&&!(e>=this.infiniteCache.getRowCount()))return this.infiniteCache.getRow(e)}getRowNode(e){let t;return this.forEachNode(i=>{i.id===e&&(t=i)}),t}forEachNode(e){this.infiniteCache&&this.infiniteCache.forEachNodeDeep(e)}getTopLevelRowCount(){return this.getRowCount()}getTopLevelRowDisplayedIndex(e){return e}getRowIndexAtPixel(e){if(this.rowHeight!==0){const t=Math.floor(e/this.rowHeight),i=this.getRowCount()-1;return t>i?i:t}return 0}getRowCount(){return this.infiniteCache?this.infiniteCache.getRowCount():0}isRowPresent(e){return!!this.getRowNode(e.id)}refreshCache(){this.infiniteCache&&this.infiniteCache.refreshCache()}purgeCache(){this.infiniteCache&&this.infiniteCache.purgeCache()}isLastRowIndexKnown(){return this.infiniteCache?this.infiniteCache.isLastRowIndexKnown():!1}setRowCount(e,t){this.infiniteCache&&this.infiniteCache.setRowCount(e,t)}};function oJ(e){var t,i;(i=(t=e.rowModelHelperService)==null?void 0:t.getInfiniteRowModel())==null||i.refreshCache()}function aJ(e){var t,i;(i=(t=e.rowModelHelperService)==null?void 0:t.getInfiniteRowModel())==null||i.purgeCache()}function lJ(e){var t,i;return(i=(t=e.rowModelHelperService)==null?void 0:t.getInfiniteRowModel())==null?void 0:i.getRowCount()}var rR="32.3.5",m2={version:rR,moduleName:"@ag-grid-community/infinite-row-model-core",rowModel:"infinite",beans:[rJ],dependantModules:[aK]},cJ={version:rR,moduleName:"@ag-grid-community/infinite-row-model-api",beans:[g2],apiFunctions:{refreshInfiniteCache:oJ,purgeInfiniteCache:aJ,getInfiniteRowCount:lJ},dependantModules:[m2,xQ]},EC={version:rR,moduleName:"@ag-grid-community/infinite-row-model",dependantModules:[m2,cJ]},v2=(e,t)=>new y2(e.feature,t,e.defaults,e.css),uJ=0,dh=(e,t=`customPart${++uJ}`)=>new y2(e,t),y2=class SM{constructor(t,i,s={},n=[]){this.feature=t,this.variant=i,this.defaults=s,this.css=n}get id(){return this.feature?`${this.feature}/${this.variant}`:this.variant}withParams(t){const i={...this.defaults};for(const[s,n]of Object.entries(t))n!=null&&(i[s]=n);return new SM(this.feature,this.variant,i,this.css)}withAdditionalParams(t){return this.withParams(t)}withCSS(t){return new SM(this.feature,this.variant,this.defaults,this.css.concat(t))}},Fk=`:where([class^=ag-]){box-sizing:border-box;outline:none;&:after,&:before,&:focus,&:focus-within{box-sizing:border-box;outline:none}&:where(button){background:none;border:none;color:inherit;cursor:pointer;font-family:inherit;font-size:inherit;line-height:inherit;margin:0;padding:0}&:where(button){font-weight:inherit}&::-ms-clear{display:none}}.ag-aria-description-container{border:0;z-index:9999;clip:rect(1px,1px,1px,1px);height:1px;overflow:hidden;padding:0;position:absolute;white-space:nowrap;width:1px}.ag-hidden{display:none!important}.ag-invisible{visibility:hidden!important}.ag-unselectable{-webkit-user-select:none;-moz-user-select:none;user-select:none}.ag-selectable{-webkit-user-select:text;-moz-user-select:text;user-select:text}.ag-tab-guard{display:block;height:0;position:absolute;width:0}.ag-virtual-list-viewport .ag-tab-guard{position:sticky}.ag-tab-guard-top{top:1px}.ag-tab-guard-bottom{bottom:1px}.ag-shake-left-to-right{animation-direction:alternate;animation-duration:.2s;animation-iteration-count:infinite;animation-name:ag-shake-left-to-right}@keyframes ag-shake-left-to-right{0%{padding-left:6px;padding-right:2px}to{padding-left:2px;padding-right:6px}}.ag-watermark{bottom:20px;color:#9b9b9b;opacity:.7;position:absolute;right:25px;transition:opacity 1s ease-out 3s;&:before{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMDkiIGhlaWdodD0iMzYiIGZpbGw9Im5vbmUiIHZpZXdCb3g9IjAgMCAyMDkgMzYiPjxwYXRoIGZpbGw9IiM5QjlCOUIiIGQ9Ik0xOTIuOTkzIDIzLjY1OHYtNy45NDZoLTEzLjU0MWwtNy45NDcgNy45NDZ6TTIwOC4yNSAzLjk1aC0xNi45NzRsLTguMDEgNy45NDdoMjQuOTg0ek0xNjMuNjIyIDMxLjYwNWw0LjA2OS00LjA2OWgxMy43MzJ2Ny45NDdoLTE3LjgwMXoiLz48cGF0aCBmaWxsPSIjOUI5QjlCIiBkPSJNMTY2LjYxIDE5Ljc4aDguNzczbDguMDEtNy45NDZIMTY2LjYxek0xNTcuMDExIDMxLjYwNWg2LjYxMWw3Ljg4My03Ljk0N2gtMTQuNDk0ek0xOTEuMjc2IDMuOTVsLTQuMDY4IDQuMDdIMTYxLjI3Vi4wNzJoMzAuMDA2ek0yMC44NCAzMC4yMDZIOC4zNzhsLTIuMTYyIDUuMzRILjc1TDEyLjI1NyA4LjU5Mmg0Ljc2OEwyOC41MyAzNS41NDZoLTUuNTN6bS0xLjcxNy00LjI2TDE0LjYwOSAxNC45NWwtNC41MTQgMTAuOTk4ek0xMDQuNDM3IDE4LjUwOWMxLjU4OS0yLjM1MiA1LjU5NC0yLjYwNyA3LjI0Ny0yLjYwN3Y0LjU3OGMtMi4wMzQgMC00LjA2OS4wNjMtNS4yNzcuOTUzLTEuMjA3Ljg5LTEuODQzIDIuMDk4LTEuODQzIDMuNTZ2MTAuNTUzaC00Ljk1OVYxNS45MDJoNC43Njh6TTExOS4zNzYgMTUuOTAyaC00Ljk1OHYxOS42NDRoNC45NTh6TTExOS4zNzYgNy4xM2gtNC45NTh2NS44NDhoNC45NTh6TTE0My45NzkgNy4xM3YyOC40MTZoLTQuNzY4bC0uMTI3LTIuOTg4YTguMyA4LjMgMCAwIDEtMi42NyAyLjQ4Yy0xLjA4MS41NzItMi40MTYuODktMy45NDIuODktMS4zMzUgMC0yLjYwNi0uMjU1LTMuNjg3LS43LTEuMTQ0LS41MDgtMi4xNjItMS4xNDQtMi45ODgtMi4wMzRhOS42IDkuNiAwIDAgMS0xLjk3MS0zLjE3OWMtLjUwOC0xLjIwNy0uNjk5LTIuNjA2LS42OTktNC4xMzJzLjI1NC0yLjkyNC42OTktNC4xOTZjLjUwOS0xLjI3MSAxLjE0NS0yLjM1MiAxLjk3MS0zLjI0MnMxLjg0NC0xLjU4OSAyLjk4OC0yLjA5OCAyLjM1Mi0uNzYzIDMuNjg3LS43NjNjMS41MjYgMCAyLjc5Ny4yNTUgMy44NzguODI3czEuOTcxIDEuMzM1IDIuNjcgMi40MTZWNy4xOTNoNC45NTl6bS0xMC40MjYgMjQuNTM4YzEuNjUzIDAgMi45MjQtLjU3MiAzLjk0MS0xLjY1M3MxLjUyNi0yLjU0MyAxLjUyNi00LjMyMy0uNTA5LTMuMTc4LTEuNTI2LTQuMzIyYy0xLjAxNy0xLjA4MS0yLjI4OC0xLjY1My0zLjk0MS0xLjY1My0xLjU5IDAtMi45MjUuNTcyLTMuODc4IDEuNjUzLTEuMDE3IDEuMDgtMS41MjYgMi41NDMtMS41MjYgNC4zMjIgMCAxLjc4LjUwOSAzLjE4IDEuNTI2IDQuMjYgMS4wMTcgMS4xNDQgMi4yODggMS43MTYgMy44NzggMS43MTZNNTcuMjAyIDIwLjM1M0g0NC45MzN2NC4yNTloNi45OTNjLS4xOSAyLjE2MS0xLjAxNyAzLjgxNC0yLjQxNiA1LjE1LTEuMzk4IDEuMjctMy4xNzggMS45MDYtNS40NjcgMS45MDYtMS4yNzEgMC0yLjQ4LS4yNTQtMy40OTYtLjY5OWE3IDcgMCAwIDEtMi43MzQtMS45N2MtLjc2My0uODI3LTEuMzM1LTEuODQ0LTEuNzgtMy4wNTJzLS42MzYtMi40OC0uNjM2LTMuOTQyLjE5LTIuNzMzLjYzNi0zLjk0MWMuMzgxLTEuMjA4IDEuMDE3LTIuMTYyIDEuNzgtMy4wNTIuNzYzLS44MjYgMS42NTMtMS40NjIgMi43MzMtMS45N2E5LjEgOS4xIDAgMCAxIDMuNTYtLjdxNC4wMDUgMCA2LjEwMyAxLjkwN2wzLjMwNi0zLjMwNWMtMi40OC0xLjkwNy01LjY1OC0yLjkyNS05LjQwOS0yLjkyNS0yLjA5NyAwLTQuMDA0LjMxOC01LjcyMSAxLjAxOC0xLjcxNi42OTktMy4xNzkgMS41ODktNC4zODYgMi43OTdBMTIuMSAxMi4xIDAgMCAwIDMxLjIgMTYuMjJjLS42MzUgMS43MTctLjk1MyAzLjYyNC0uOTUzIDUuNjU4cy4zMTggMy45NDIgMS4wMTcgNS42NThjLjcgMS43MTcgMS41OSAzLjE3OSAyLjc5NyA0LjM4N2ExMi4xIDEyLjEgMCAwIDAgNC4zODcgMi43OTdjMS43MTYuNyAzLjYyMyAxLjAxNyA1LjY1NyAxLjAxNyAyLjAzNSAwIDMuODc4LS4zMTggNS41MzEtMS4wMTcgMS42NTMtLjcgMy4wNTItMS41OSA0LjE5Ni0yLjc5N3ExLjcxNi0xLjgxMiAyLjY3LTQuMzg3Yy42MzYtMS43MTYuOTU0LTMuNjIzLjk1NC01LjY1OHYtLjgyNmMtLjE5MS0uMTI3LS4yNTUtLjQ0NS0uMjU1LS43TTk1Ljk4MiAyMC4zNTNoLTEyLjI3djQuMjU5aDYuOTkzYy0uMTkgMi4xNjEtMS4wMTcgMy44MTQtMi40MTYgNS4xNS0xLjM5OCAxLjI3LTMuMTc4IDEuOTA2LTUuNDY3IDEuOTA2LTEuMjcxIDAtMi40OC0uMjU0LTMuNDk2LS42OTlhNyA3IDAgMCAxLTIuNzM0LTEuOTdjLS43NjMtLjgyNy0xLjMzNS0xLjg0NC0xLjc4LTMuMDUycy0uNjM2LTIuNDgtLjYzNi0zLjk0Mi4xOS0yLjczMy42MzYtMy45NDFjLjM4MS0xLjIwOCAxLjAxNy0yLjE2MiAxLjc4LTMuMDUyLjc2My0uODI2IDEuNjUzLTEuNDYyIDIuNzM0LTEuOTdhOS4xIDkuMSAwIDAgMSAzLjU2LS43cTQuMDA1IDAgNi4xMDMgMS45MDdsMy4zMDUtMy4zMDVjLTIuNDc5LTEuOTA3LTUuNjU4LTIuOTI1LTkuNDA4LTIuOTI1LTIuMDk4IDAtNC4wMDUuMzE4LTUuNzIyIDEuMDE4LTEuNzE2LjY5OS0zLjE3OCAxLjU4OS00LjM4NiAyLjc5N2ExMi4xIDEyLjEgMCAwIDAtMi43OTcgNC4zODZjLS42MzYgMS43MTctLjk1NCAzLjYyNC0uOTU0IDUuNjU4cy4zMTggMy45NDIgMS4wMTcgNS42NThjLjcgMS43MTcgMS41OSAzLjE3OSAyLjc5NyA0LjM4N2ExMi4xIDEyLjEgMCAwIDAgNC4zODcgMi43OTdjMS43MTYuNyAzLjYyMyAxLjAxNyA1LjY1OCAxLjAxNyAyLjAzNCAwIDMuODc4LS4zMTggNS41My0xLjAxNyAxLjY1My0uNyAzLjA1Mi0xLjU5IDQuMTk2LTIuNzk3cTEuNzE4LTEuODEyIDIuNjctNC4zODdjLjYzNi0xLjcxNi45NTQtMy42MjMuOTU0LTUuNjU4di0uODI2Yy0uMTktLjEyNy0uMjU1LS40NDUtLjI1NS0uNyIvPjwvc3ZnPg==);background-repeat:no-repeat;background-size:170px 40px;content:"";display:block;height:40px;width:170px}}.ag-watermark-text{font-family:Impact,sans-serif;font-size:19px;font-weight:700;opacity:.5}.ag-ltr .ag-watermark-text{padding-left:.7rem}.ag-rtl .ag-watermark-text{padding-right:.7rem}.ag-body-horizontal-scroll-viewport,.ag-body-vertical-scroll-viewport,.ag-body-viewport,.ag-center-cols-viewport,.ag-floating-bottom-viewport,.ag-floating-top-viewport,.ag-header-viewport,.ag-sticky-bottom-viewport,.ag-sticky-top-viewport,.ag-virtual-list-viewport{flex:1 1 auto;height:100%;min-width:0;overflow:hidden;position:relative}.ag-body-viewport,.ag-center-cols-viewport,.ag-floating-bottom-viewport,.ag-floating-top-viewport,.ag-header-viewport,.ag-sticky-bottom-viewport,.ag-sticky-top-viewport{overflow-x:auto;-ms-overflow-style:none!important;scrollbar-width:none!important;&::-webkit-scrollbar{display:none!important}}.ag-body-viewport{display:flex;overflow-x:hidden;&.ag-layout-normal{overflow-y:auto;-webkit-overflow-scrolling:touch}}.ag-sticky-bottom-container,.ag-sticky-top-container{min-height:1px}.ag-center-cols-viewport{min-height:100%;width:100%}.ag-body-horizontal-scroll-viewport{overflow-x:scroll}.ag-body-vertical-scroll-viewport{overflow-y:scroll}.ag-virtual-list-viewport{overflow:auto;width:100%}.ag-body-container,.ag-body-horizontal-scroll-container,.ag-body-vertical-scroll-container,.ag-center-cols-container,.ag-floating-bottom-container,.ag-floating-bottom-full-width-container,.ag-floating-top-container,.ag-full-width-container,.ag-header-container,.ag-pinned-left-cols-container,.ag-pinned-right-cols-container,.ag-sticky-bottom-container,.ag-sticky-top-container,.ag-virtual-list-container{position:relative}.ag-floating-bottom-container,.ag-floating-top-container,.ag-header-container,.ag-sticky-bottom-container,.ag-sticky-top-container{height:100%;white-space:nowrap}.ag-center-cols-container,.ag-pinned-right-cols-container{display:block}.ag-body-horizontal-scroll-container{height:100%}.ag-body-vertical-scroll-container{width:100%}.ag-floating-bottom-full-width-container,.ag-floating-top-full-width-container,.ag-full-width-container,.ag-sticky-bottom-full-width-container,.ag-sticky-top-full-width-container{pointer-events:none;position:absolute;top:0}.ag-ltr .ag-floating-bottom-full-width-container,.ag-ltr .ag-floating-top-full-width-container,.ag-ltr .ag-full-width-container,.ag-ltr .ag-sticky-bottom-full-width-container,.ag-ltr .ag-sticky-top-full-width-container{left:0}.ag-rtl .ag-floating-bottom-full-width-container,.ag-rtl .ag-floating-top-full-width-container,.ag-rtl .ag-full-width-container,.ag-rtl .ag-sticky-bottom-full-width-container,.ag-rtl .ag-sticky-top-full-width-container{right:0}.ag-full-width-container{width:100%}.ag-floating-bottom-full-width-container,.ag-floating-top-full-width-container{display:inline-block;height:100%;overflow:hidden;width:100%}.ag-virtual-list-container{overflow:hidden}.ag-body{display:flex;flex:1 1 auto;flex-direction:row!important;min-height:0;position:relative}.ag-body-horizontal-scroll,.ag-body-vertical-scroll{display:flex;min-height:0;min-width:0;position:relative;&.ag-scrollbar-invisible{bottom:0;position:absolute;&.ag-apple-scrollbar{opacity:0;transition:opacity .4s;visibility:hidden;&.ag-scrollbar-active,&.ag-scrollbar-scrolling{opacity:1;visibility:visible}}}}.ag-body-horizontal-scroll{width:100%;&.ag-scrollbar-invisible{left:0;right:0}}.ag-body-vertical-scroll{height:100%;&.ag-scrollbar-invisible{top:0;z-index:10}}.ag-ltr .ag-body-vertical-scroll{&.ag-scrollbar-invisible{right:0}}.ag-rtl .ag-body-vertical-scroll{&.ag-scrollbar-invisible{left:0}}.ag-force-vertical-scroll{overflow-y:scroll!important}.ag-horizontal-left-spacer,.ag-horizontal-right-spacer{height:100%;min-width:0;overflow-x:scroll;&.ag-scroller-corner{overflow-x:hidden}}.ag-ltr .ag-column-moving{.ag-cell,.ag-header-cell{transition:left .2s}.ag-header-group-cell{transition:left .2s,width .2s}}.ag-rtl .ag-column-moving{.ag-cell,.ag-header-cell{transition:right .2s}.ag-header-group-cell{transition:right .2s,width .2s}}.ag-row-animation .ag-row{transition:transform .4s,top .4s,opacity .2s}.ag-row-animation .ag-row.ag-after-created{transition:transform .4s,top .4s,height .4s,opacity .2s}.ag-row-no-animation .ag-row{transition:none}.ag-row-loading{align-items:center;display:flex}.ag-row-position-absolute{position:absolute}.ag-row-position-relative{position:relative}.ag-full-width-row{overflow:hidden;pointer-events:all}.ag-row-inline-editing{z-index:1}.ag-row-dragging{z-index:2}.ag-stub-cell{align-items:center;display:flex}.ag-cell{display:inline-block;height:100%;position:absolute;white-space:nowrap}.ag-cell-value{flex:1 1 auto}.ag-cell-value,.ag-group-value{overflow:hidden;text-overflow:ellipsis}.ag-cell-wrap-text{white-space:normal;word-break:break-word}.ag-sparkline-wrapper{height:100%;left:0;position:absolute;top:0;width:100%}.ag-full-width-row .ag-cell-wrapper.ag-row-group{align-items:center;height:100%}.ag-cell .ag-icon{display:inline-block;vertical-align:middle}.ag-floating-top{border-bottom:var(--ag-pinned-row-border);display:flex;overflow:hidden;position:relative;white-space:nowrap;width:100%}.ag-pinned-left-floating-top,.ag-pinned-right-floating-top{display:inline-block;min-width:0;overflow:hidden;position:relative}.ag-floating-bottom{border-top:var(--ag-pinned-row-border);display:flex;overflow:hidden;position:relative;white-space:nowrap;width:100%}.ag-pinned-left-floating-bottom,.ag-pinned-right-floating-bottom{display:inline-block;min-width:0;overflow:hidden;position:relative}.ag-sticky-bottom,.ag-sticky-top{background-color:var(--ag-background-color);display:flex;height:0;overflow:hidden;position:absolute;width:100%}.ag-pinned-left-sticky-top,.ag-pinned-right-sticky-top{height:100%;overflow:hidden;position:relative}.ag-sticky-bottom-full-width-container,.ag-sticky-top-full-width-container{height:100%;overflow:hidden;width:100%}.ag-value-slide-out{opacity:1}.ag-ltr .ag-value-slide-out{margin-right:5px;transition:opacity 3s,margin-right 3s}.ag-rtl .ag-value-slide-out{margin-left:5px;transition:opacity 3s,margin-left 3s}:is(.ag-ltr,.ag-rtl) .ag-value-slide-out{transition-timing-function:linear}.ag-value-slide-out-end{opacity:0}.ag-ltr .ag-value-slide-out-end{margin-right:10px}.ag-rtl .ag-value-slide-out-end{margin-left:10px}.ag-opacity-zero{opacity:0!important}.ag-details-row{width:100%}.ag-details-row-fixed-height{height:100%}.ag-details-grid{width:100%}.ag-details-grid-fixed-height{height:100%}.ag-cell-label-container{align-items:center;display:flex;flex-direction:row-reverse;height:100%;justify-content:space-between;width:100%}.ag-right-aligned-header{.ag-cell-label-container{flex-direction:row}.ag-header-cell-text{text-align:end}}.ag-column-group-icons{display:block;>*{cursor:pointer}}.ag-pill-select{display:flex;flex-direction:column;.ag-column-drop-list{padding:0}.ag-select{padding-top:var(--ag-spacing)}.ag-picker-field-wrapper{background-color:transparent;border:0}.ag-picker-field-display{cursor:pointer}}.ag-ltr{direction:ltr;.ag-body,.ag-body-horizontal-scroll,.ag-body-viewport,.ag-floating-bottom,.ag-floating-top,.ag-header,.ag-sticky-bottom,.ag-sticky-top{flex-direction:row}}.ag-rtl{direction:rtl;.ag-body,.ag-body-horizontal-scroll,.ag-body-viewport,.ag-floating-bottom,.ag-floating-top,.ag-header,.ag-sticky-bottom,.ag-sticky-top{flex-direction:row-reverse}.ag-icon-contracted,.ag-icon-expanded,.ag-icon-tree-closed{display:block}}.ag-rtl{.ag-icon-contracted,.ag-icon-expanded,.ag-icon-tree-closed{transform:rotate(180deg)}}.ag-rtl{.ag-icon-contracted,.ag-icon-expanded,.ag-icon-tree-closed{transform:rotate(-180deg)}}.ag-measurement-container{overflow:hidden;visibility:hidden;width:0;& div{position:absolute}}.ag-group{position:relative;width:100%}.ag-group-title-bar{align-items:center;display:flex;padding:var(--ag-spacing)}.ag-group-title{display:inline;min-width:0;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.ag-group-title-bar .ag-group-title{cursor:default}.ag-group-toolbar{align-items:center;display:flex;padding:var(--ag-spacing)}.ag-group-container{display:flex}.ag-disabled .ag-group-container{pointer-events:none}.ag-disabled-group-container,.ag-disabled-group-title-bar{opacity:.5}.ag-group-container-horizontal{flex-direction:row;flex-wrap:wrap}.ag-group-container-vertical{flex-direction:column}.ag-group-title-bar-icon{cursor:pointer;flex:none}.ag-ltr .ag-group-title-bar-icon{margin-right:var(--ag-spacing)}.ag-rtl .ag-group-title-bar-icon{margin-left:var(--ag-spacing)}.ag-group-item-alignment-stretch .ag-group-item{align-items:stretch}.ag-group-item-alignment-start .ag-group-item{align-items:flex-start}.ag-group-item-alignment-end .ag-group-item{align-items:flex-end}.ag-popup-child{top:0;z-index:5;&:where(:not(.ag-tooltip-custom)){box-shadow:var(--ag-popup-shadow)}}.ag-popup-editor{position:absolute;-webkit-user-select:none;-moz-user-select:none;user-select:none}.ag-large-text-input{display:block}.ag-rtl{text-align:right}.ag-ltr .ag-row:not(.ag-row-level-0) .ag-pivot-leaf-group{margin-left:var(--ag-row-group-indent-size)}.ag-rtl .ag-row:not(.ag-row-level-0) .ag-pivot-leaf-group{margin-right:var(--ag-row-group-indent-size)}.ag-ltr .ag-row-group-leaf-indent{margin-left:calc(var(--ag-cell-widget-spacing) + var(--ag-icon-size))}.ag-rtl .ag-row-group-leaf-indent{margin-right:calc(var(--ag-cell-widget-spacing) + var(--ag-icon-size))}.ag-value-change-delta{padding:0 2px}.ag-value-change-delta-up{color:var(--ag-value-change-delta-up-color)}.ag-value-change-delta-down{color:var(--ag-value-change-delta-down-color)}.ag-value-change-value{background-color:transparent;border-radius:1px;padding-left:1px;padding-right:1px;transition:background-color 1s}.ag-value-change-value-highlight{background-color:var(--ag-value-change-value-highlight-background-color);transition:background-color .1s}.ag-cell-data-changed{background-color:var(--ag-value-change-value-highlight-background-color)!important}.ag-cell-data-changed-animation{background-color:transparent}.ag-cell-highlight{background-color:var(--ag-range-selection-highlight-color)!important}.ag-row{background-color:var(--ag-background-color);border-bottom:var(--ag-row-border);color:var(--ag-cell-text-color);font-size:var(--ag-data-font-size);height:var(--ag-row-height);white-space:nowrap;width:100%;--ag-internal-content-line-height:min(calc(var(--ag-row-height) - 1px),var(--ag-line-height,1000px))}:where(.ag-body-vertical-content-no-gap) .ag-row-last{border-bottom-color:transparent}.ag-sticky-bottom{border-top:var(--ag-row-border);box-sizing:content-box!important;display:none}.ag-group-contracted,.ag-group-expanded{cursor:pointer}.ag-cell,.ag-full-width-row .ag-cell-wrapper.ag-row-group{border:1px solid transparent;line-height:var(--ag-internal-content-line-height)}.ag-ltr .ag-cell{border-right:var(--ag-column-border)}.ag-rtl .ag-cell{border-left:var(--ag-column-border)}.ag-ltr :where(.ag-body-horizontal-content-no-gap) .ag-column-last{border-right-color:transparent}.ag-rtl :where(.ag-body-horizontal-content-no-gap) .ag-column-last{border-left-color:transparent}.ag-cell-wrapper{align-items:center;display:flex;&.ag-row-group{align-items:flex-start}>:not(.ag-cell-value):not(.ag-group-value){align-items:center;display:flex;height:var(--ag-internal-content-line-height)}}.ag-ltr .ag-cell-wrapper{padding-left:calc(var(--ag-indentation-level)*var(--ag-row-group-indent-size))}.ag-rtl .ag-cell-wrapper{padding-right:calc(var(--ag-indentation-level)*var(--ag-row-group-indent-size))}.ag-ltr .ag-row>.ag-cell-wrapper.ag-row-group{padding-left:calc(var(--ag-cell-horizontal-padding) + var(--ag-row-group-indent-size)*var(--ag-indentation-level))}.ag-rtl .ag-row>.ag-cell-wrapper.ag-row-group{padding-right:calc(var(--ag-cell-horizontal-padding) + var(--ag-row-group-indent-size)*var(--ag-indentation-level))}.ag-ltr .ag-group-contracted,.ag-ltr .ag-group-expanded,.ag-ltr .ag-row-drag,.ag-ltr .ag-selection-checkbox{margin-right:var(--ag-cell-widget-spacing)}.ag-rtl .ag-group-contracted,.ag-rtl .ag-group-expanded,.ag-rtl .ag-row-drag,.ag-rtl .ag-selection-checkbox{margin-left:var(--ag-cell-widget-spacing)}.ag-ltr .ag-group-child-count{margin-left:3px}.ag-rtl .ag-group-child-count{margin-right:3px}.ag-row-highlight-above:after,.ag-row-highlight-below:after{background-color:var(--ag-range-selection-border-color);content:"";height:1px;position:absolute;width:calc(100% - 1px)}.ag-ltr .ag-row-highlight-above:after,.ag-ltr .ag-row-highlight-below:after{left:1px}.ag-rtl .ag-row-highlight-above:after,.ag-rtl .ag-row-highlight-below:after{right:1px}.ag-row-highlight-above:after{top:-1px}.ag-row-highlight-above.ag-row-first:after{top:0}.ag-row-highlight-below:after{bottom:0}.ag-row-odd{background-color:var(--ag-odd-row-background-color)}.ag-row-selected:before{background-color:var(--ag-selected-row-background-color);content:"";display:block;inset:0;pointer-events:none;position:absolute}.ag-row-hover.ag-full-width-row.ag-row-group:before,.ag-row-hover:not(.ag-full-width-row):before{background-color:var(--ag-row-hover-color);content:"";display:block;inset:0;pointer-events:none;position:absolute}.ag-row-hover.ag-row-selected:before{background-color:var(--ag-row-hover-color);background-image:linear-gradient(var(--ag-selected-row-background-color),var(--ag-selected-row-background-color))}.ag-row-hover.ag-full-width-row.ag-row-group>*{position:relative}.ag-column-hover{background-color:var(--ag-column-hover-color)}.ag-right-aligned-cell{font-variant-numeric:tabular-nums}.ag-ltr .ag-right-aligned-cell{text-align:right}.ag-rtl .ag-right-aligned-cell{text-align:left}.ag-right-aligned-cell .ag-cell-value,.ag-right-aligned-cell .ag-group-value{margin-left:auto}.ag-cell:not(.ag-cell-inline-editing),.ag-full-width-row .ag-cell-wrapper.ag-row-group{-webkit-font-smoothing:subpixel-antialiased}.ag-ltr .ag-cell:not(.ag-cell-inline-editing),.ag-ltr .ag-full-width-row .ag-cell-wrapper.ag-row-group{padding-left:calc(var(--ag-cell-horizontal-padding) - 1px + var(--ag-row-group-indent-size)*var(--ag-indentation-level));padding-right:calc(var(--ag-cell-horizontal-padding) - 1px)}.ag-rtl .ag-cell:not(.ag-cell-inline-editing),.ag-rtl .ag-full-width-row .ag-cell-wrapper.ag-row-group{padding-left:calc(var(--ag-cell-horizontal-padding) - 1px);padding-right:calc(var(--ag-cell-horizontal-padding) - 1px + var(--ag-row-group-indent-size)*var(--ag-indentation-level))}.ag-row>.ag-cell-wrapper{padding-left:calc(var(--ag-cell-horizontal-padding) - 1px);padding-right:calc(var(--ag-cell-horizontal-padding) - 1px)}.ag-row-dragging{cursor:move;opacity:.5}.ag-details-row{background-color:var(--ag-background-color);padding:calc(var(--ag-spacing)*3.5)}.ag-layout-auto-height,.ag-layout-print{.ag-center-cols-container,.ag-center-cols-viewport{min-height:150px}}.ag-overlay-loading-wrapper{background-color:var(--ag-modal-overlay-background-color)}.ag-skeleton-container{align-content:center;height:100%;width:100%}.ag-skeleton-effect{animation:ag-skeleton-loading 1.5s ease-in-out .5s infinite;background-color:var(--ag-row-loading-skeleton-effect-color);border-radius:.25rem;height:1em;width:100%}.ag-ltr .ag-right-aligned-cell .ag-skeleton-effect{margin-left:auto}.ag-rtl .ag-right-aligned-cell .ag-skeleton-effect{margin-right:auto}@keyframes ag-skeleton-loading{0%{opacity:1}50%{opacity:.4}to{opacity:1}}.ag-loading{align-items:center;display:flex;height:100%}.ag-ltr .ag-loading{padding-left:var(--ag-cell-horizontal-padding)}.ag-rtl .ag-loading{padding-right:var(--ag-cell-horizontal-padding)}.ag-ltr .ag-loading-icon{padding-right:var(--ag-cell-widget-spacing)}.ag-rtl .ag-loading-icon{padding-left:var(--ag-cell-widget-spacing)}.ag-icon-loading{animation-duration:1s;animation-iteration-count:infinite;animation-name:spin;animation-timing-function:linear}@keyframes spin{0%{transform:rotate(0deg)}to{transform:rotate(1turn)}}.ag-details-row{padding:calc(var(--ag-spacing)*3.75)}.ag-pinned-left-header,.ag-pinned-right-header{display:inline-block;overflow:hidden;position:relative}.ag-body-horizontal-scroll:not(.ag-scrollbar-invisible){.ag-horizontal-left-spacer:not(.ag-scroller-corner){border-right:var(--ag-pinned-column-border)}.ag-horizontal-right-spacer:not(.ag-scroller-corner){border-left:var(--ag-pinned-column-border)}}.ag-pinned-right-header{border-left:var(--ag-pinned-column-border)}.ag-pinned-left-header{border-right:var(--ag-pinned-column-border)}.ag-cell.ag-cell-first-right-pinned:not(.ag-cell-range-left):not(.ag-cell-range-single-cell){border-left:var(--ag-pinned-column-border)}.ag-cell.ag-cell-last-left-pinned:not(.ag-cell-range-right):not(.ag-cell-range-single-cell){border-right:var(--ag-pinned-column-border)}.ag-pinned-left-header .ag-header-cell-resize:after{left:calc(50% - var(--ag-header-column-resize-handle-width))}.ag-pinned-right-header .ag-header-cell-resize:after{left:50%}.ag-pinned-left-header,.ag-pinned-right-header{height:100%}.ag-pinned-left-header .ag-header-cell-resize{right:-3px}.ag-pinned-right-header .ag-header-cell-resize{left:-3px}.ag-body-viewport:not(.ag-has-focus) .ag-cell-range-single-cell:not(.ag-cell-inline-editing),.ag-cell-range-selected:not(.ag-cell-focus){background-color:var(--ag-range-selection-background-color);&.ag-cell-range-chart{background-color:var(--ag-range-selection-chart-background-color)!important;&.ag-cell-range-chart-category{background-color:var(--ag-range-selection-chart-category-background-color)!important}}}.ag-cell-range-selected-1:not(.ag-cell-focus),.ag-root:not(.ag-context-menu-open) .ag-body-viewport:not(.ag-has-focus) .ag-cell-range-selected-1:not(.ag-cell-inline-editing){background-color:var(--ag-range-selection-background-color)}.ag-cell-range-selected-2:not(.ag-cell-focus){background-image:linear-gradient(var(--ag-range-selection-background-color),var(--ag-range-selection-background-color))}.ag-cell-range-selected-3:not(.ag-cell-focus){background-image:linear-gradient(var(--ag-range-selection-background-color),var(--ag-range-selection-background-color)),linear-gradient(var(--ag-range-selection-background-color),var(--ag-range-selection-background-color))}.ag-cell-range-selected-4:not(.ag-cell-focus){background-image:linear-gradient(var(--ag-range-selection-background-color),var(--ag-range-selection-background-color)),linear-gradient(var(--ag-range-selection-background-color),var(--ag-range-selection-background-color)),linear-gradient(var(--ag-range-selection-background-color),var(--ag-range-selection-background-color))}.ag-cell.ag-cell-range-selected:not(.ag-cell-range-single-cell){&.ag-cell-range-top{border-top-color:var(--ag-range-selection-border-color);border-top-style:var(--ag-range-selection-border-style)}&.ag-cell-range-right{border-right-color:var(--ag-range-selection-border-color);border-right-style:var(--ag-range-selection-border-style)}&.ag-cell-range-bottom{border-bottom-color:var(--ag-range-selection-border-color);border-bottom-style:var(--ag-range-selection-border-style)}&.ag-cell-range-left{border-left-color:var(--ag-range-selection-border-color);border-left-style:var(--ag-range-selection-border-style)}}.ag-ltr,.ag-rtl{.ag-cell-focus:not(.ag-cell-range-selected):focus-within,.ag-cell-range-single-cell,.ag-cell-range-single-cell.ag-cell-range-handle,.ag-context-menu-open .ag-cell-focus:not(.ag-cell-range-selected),.ag-full-width-row.ag-row-focus:focus .ag-cell-wrapper.ag-row-group{border:1px solid;border-color:var(--ag-range-selection-border-color);border-style:var(--ag-range-selection-border-style);outline:initial}}.ag-cell.ag-selection-fill-top,.ag-cell.ag-selection-fill-top.ag-cell-range-selected{border-top:1px dashed;border-top-color:var(--ag-range-selection-border-color)}.ag-ltr .ag-cell.ag-selection-fill-right,.ag-ltr .ag-cell.ag-selection-fill-right.ag-cell-range-selected{border-right:1px dashed var(--ag-range-selection-border-color)!important}.ag-rtl .ag-cell.ag-selection-fill-right,.ag-rtl .ag-cell.ag-selection-fill-right.ag-cell-range-selected{border-left:1px dashed var(--ag-range-selection-border-color)!important}.ag-cell.ag-selection-fill-bottom,.ag-cell.ag-selection-fill-bottom.ag-cell-range-selected{border-bottom:1px dashed;border-bottom-color:var(--ag-range-selection-border-color)}.ag-ltr .ag-cell.ag-selection-fill-left,.ag-ltr .ag-cell.ag-selection-fill-left.ag-cell-range-selected{border-left:1px dashed var(--ag-range-selection-border-color)!important}.ag-rtl .ag-cell.ag-selection-fill-left,.ag-rtl .ag-cell.ag-selection-fill-left.ag-cell-range-selected{border-right:1px dashed var(--ag-range-selection-border-color)!important}.ag-fill-handle,.ag-range-handle{background-color:var(--ag-range-selection-border-color);bottom:-1px;height:6px;position:absolute;width:6px}.ag-ltr .ag-fill-handle,.ag-ltr .ag-range-handle{right:-1px}.ag-rtl .ag-fill-handle,.ag-rtl .ag-range-handle{left:-1px}.ag-fill-handle{cursor:cell}.ag-ltr .ag-range-handle{cursor:nwse-resize}.ag-rtl .ag-range-handle{cursor:nesw-resize}.ag-cell-inline-editing{border:var(--ag-input-focus-border)!important}.ag-input-wrapper,.ag-picker-field-wrapper{align-items:center;display:flex;flex:1 1 auto;line-height:normal;position:relative}.ag-input-field{align-items:center;display:flex;flex-direction:row}.ag-input-field-input{flex:1 1 auto}.ag-floating-filter-input .ag-input-field-input[type=date]{width:1px}.ag-input-field-input{min-width:0;width:100%}.ag-column-select-header-filter-wrapper,.ag-filter-filter,.ag-filter-toolpanel-search,.ag-mini-filter{.ag-input-wrapper:before{background-color:currentColor;content:"";display:block;height:12px;-webkit-mask-image:url("data:image/svg+xml;charset=utf-8;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMiIgaGVpZ2h0PSIxMiIgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjMDAwIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIHN0cm9rZS13aWR0aD0iMS41Ij48cGF0aCBkPSJNNS4zIDlhMy43IDMuNyAwIDEgMCAwLTcuNSAzLjcgMy43IDAgMCAwIDAgNy41Wk0xMC41IDEwLjUgOC4zIDguMiIvPjwvc3ZnPg==");mask-image:url("data:image/svg+xml;charset=utf-8;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMiIgaGVpZ2h0PSIxMiIgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjMDAwIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIHN0cm9rZS13aWR0aD0iMS41Ij48cGF0aCBkPSJNNS4zIDlhMy43IDMuNyAwIDEgMCAwLTcuNSAzLjcgMy43IDAgMCAwIDAgNy41Wk0xMC41IDEwLjUgOC4zIDguMiIvPjwvc3ZnPg==");-webkit-mask-position:center;mask-position:center;-webkit-mask-repeat:no-repeat;mask-repeat:no-repeat;opacity:50%;position:absolute;width:12px}}.ag-ltr .ag-column-select-header-filter-wrapper,.ag-ltr .ag-filter-filter,.ag-ltr .ag-filter-toolpanel-search,.ag-ltr .ag-mini-filter{.ag-input-wrapper:before{margin-left:var(--ag-spacing)}& input.ag-number-field-input,& input.ag-text-field-input{padding-left:calc(var(--ag-spacing)*1.5 + 12px)}}.ag-rtl .ag-column-select-header-filter-wrapper,.ag-rtl .ag-filter-filter,.ag-rtl .ag-filter-toolpanel-search,.ag-rtl .ag-mini-filter{.ag-input-wrapper:before{margin-right:var(--ag-spacing)}& input.ag-number-field-input,& input.ag-text-field-input{padding-right:calc(var(--ag-spacing)*1.5 + 12px)}}.ag-advanced-filter-header{align-items:center;background-color:var(--ag-header-background-color);border-bottom:var(--ag-header-row-border);display:flex;padding-left:var(--ag-cell-horizontal-padding);padding-right:var(--ag-cell-horizontal-padding);position:relative}.ag-advanced-filter{align-items:center;display:flex;width:100%}.ag-advanced-filter-apply-button,.ag-advanced-filter-builder-button{line-height:normal;white-space:nowrap}.ag-ltr .ag-advanced-filter-apply-button,.ag-ltr .ag-advanced-filter-builder-button{margin-left:calc(var(--ag-spacing)*2)}.ag-rtl .ag-advanced-filter-apply-button,.ag-rtl .ag-advanced-filter-builder-button{margin-right:calc(var(--ag-spacing)*2)}.ag-advanced-filter-builder-button{align-items:center;background-color:unset;border:0;display:flex;font-size:var(--ag-font-size);font-weight:600;padding:var(--ag-spacing);&:hover:not(:disabled){background-color:var(--ag-row-hover-color)}&:not(:disabled){cursor:pointer}}.ag-ltr .ag-advanced-filter-builder-button-label{margin-left:var(--ag-spacing)}.ag-rtl .ag-advanced-filter-builder-button-label{margin-right:var(--ag-spacing)}.ag-advanced-filter-builder{display:flex;flex-direction:column;-webkit-user-select:none;-moz-user-select:none;user-select:none;width:100%}.ag-advanced-filter-builder-list{flex:1;overflow:auto}.ag-advanced-filter-builder-button-panel{border-top:var(--ag-advanced-filter-builder-button-bar-border);display:flex;justify-content:flex-end;padding:var(--ag-widget-container-vertical-padding) var(--ag-widget-container-horizontal-padding)}.ag-ltr .ag-advanced-filter-builder .ag-advanced-filter-builder-button-panel{.ag-advanced-filter-builder-apply-button,.ag-advanced-filter-builder-cancel-button{margin-left:calc(var(--ag-spacing)*2)}}.ag-rtl .ag-advanced-filter-builder .ag-advanced-filter-builder-button-panel{.ag-advanced-filter-builder-apply-button,.ag-advanced-filter-builder-cancel-button{margin-right:calc(var(--ag-spacing)*2)}}.ag-advanced-filter-builder-item-wrapper{align-items:center;display:flex;flex:1 1 auto;justify-content:space-between;overflow:hidden}.ag-ltr .ag-advanced-filter-builder-item-wrapper{padding-left:calc(var(--ag-icon-size)/2);padding-right:var(--ag-icon-size)}.ag-rtl .ag-advanced-filter-builder-item-wrapper{padding-left:var(--ag-icon-size);padding-right:calc(var(--ag-icon-size)/2)}.ag-virtual-list-viewport .ag-advanced-filter-builder-item-wrapper .ag-tab-guard{position:absolute}.ag-advanced-filter-builder-item-tree-lines>*{width:var(--ag-advanced-filter-builder-indent-size)}.ag-advanced-filter-builder-item-tree-lines .ag-advanced-filter-builder-item-tree-line-root{width:var(--ag-icon-size);&:before{height:50%;top:50%}}.ag-advanced-filter-builder-item-tree-line-horizontal,.ag-advanced-filter-builder-item-tree-line-vertical,.ag-advanced-filter-builder-item-tree-line-vertical-bottom,.ag-advanced-filter-builder-item-tree-line-vertical-top{align-items:center;display:flex;height:100%;position:relative;&:after,&:before{content:"";height:100%;position:absolute}}.ag-advanced-filter-builder-item-tree-line-horizontal:after{border-bottom:1px solid var(--ag-border-color);height:50%;top:0;width:calc(var(--ag-advanced-filter-builder-indent-size) - var(--ag-icon-size))}.ag-ltr .ag-advanced-filter-builder-item-tree-line-horizontal:after{left:calc(var(--ag-icon-size)/2)}.ag-rtl .ag-advanced-filter-builder-item-tree-line-horizontal:after{right:calc(var(--ag-icon-size)/2)}.ag-advanced-filter-builder-item-tree-line-vertical:before{top:0;width:calc(var(--ag-advanced-filter-builder-indent-size) - var(--ag-icon-size)/2)}.ag-ltr .ag-advanced-filter-builder-item-tree-line-vertical:before{border-left:1px solid var(--ag-border-color);left:calc(var(--ag-icon-size)/2)}.ag-rtl .ag-advanced-filter-builder-item-tree-line-vertical:before{border-right:1px solid var(--ag-border-color);right:calc(var(--ag-icon-size)/2)}.ag-advanced-filter-builder-item-tree-line-vertical-top:before{height:50%;top:0;width:calc(var(--ag-advanced-filter-builder-indent-size) - var(--ag-icon-size)/2)}.ag-ltr .ag-advanced-filter-builder-item-tree-line-vertical-top:before{border-left:1px solid var(--ag-border-color);left:calc(var(--ag-icon-size)/2)}.ag-rtl .ag-advanced-filter-builder-item-tree-line-vertical-top:before{border-right:1px solid var(--ag-border-color);right:calc(var(--ag-icon-size)/2)}.ag-advanced-filter-builder-item-tree-line-vertical-bottom:before{height:calc(50% - var(--ag-icon-size)*1.5/2);top:calc(50% + var(--ag-icon-size)*1.5/2);width:calc(var(--ag-icon-size)/2)}.ag-ltr .ag-advanced-filter-builder-item-tree-line-vertical-bottom:before{border-left:1px solid var(--ag-border-color);left:calc(var(--ag-icon-size)/2)}.ag-rtl .ag-advanced-filter-builder-item-tree-line-vertical-bottom:before{border-right:1px solid var(--ag-border-color);right:calc(var(--ag-icon-size)/2)}.ag-advanced-filter-builder-item-condition{padding-bottom:var(--ag-spacing);padding-top:var(--ag-spacing)}.ag-advanced-filter-builder-item,.ag-advanced-filter-builder-item-buttons,.ag-advanced-filter-builder-item-condition,.ag-advanced-filter-builder-item-tree-lines,.ag-advanced-filter-builder-pill,.ag-advanced-filter-builder-pill-wrapper{align-items:center;display:flex;height:100%}.ag-advanced-filter-builder-pill-wrapper{margin:0 var(--ag-spacing)}.ag-advanced-filter-builder-pill{border-radius:var(--ag-border-radius);min-height:calc(100% - var(--ag-spacing)*3);min-width:calc(var(--ag-spacing)*2);padding:var(--ag-spacing) calc(var(--ag-spacing)*2);position:relative;.ag-advanced-filter-builder-value-number{font-family:monospace;font-weight:700}.ag-advanced-filter-builder-value-empty{color:var(--ag-subtle-text-color)}}.ag-ltr .ag-advanced-filter-builder-pill{.ag-picker-field-display{margin-right:var(--ag-spacing)}}.ag-rtl .ag-advanced-filter-builder-pill{.ag-picker-field-display{margin-left:var(--ag-spacing)}}.ag-advanced-filter-builder-item-button,.ag-advanced-filter-builder-pill{&:focus-visible{shadow:var(--ag-focus-shadow)}}.ag-advanced-filter-builder-pill-display{font-weight:500;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.ag-advanced-filter-builder-join-pill{background-color:var(--ag-advanced-filter-builder-join-pill-color);cursor:pointer}.ag-advanced-filter-builder-column-pill{background-color:var(--ag-advanced-filter-builder-column-pill-color);cursor:pointer}.ag-advanced-filter-builder-option-pill{background-color:var(--ag-advanced-filter-builder-option-pill-color);cursor:pointer}.ag-advanced-filter-builder-value-pill{background-color:var(--ag-advanced-filter-builder-value-pill-color);cursor:text;max-width:140px;.ag-advanced-filter-builder-pill-display{display:block}}.ag-advanced-filter-builder-item-buttons>*{margin:0 calc(var(--ag-spacing)*.5)}.ag-advanced-filter-builder-item-button{color:var(--ag-subtle-text-color);cursor:pointer;position:relative}.ag-advanced-filter-builder-item-button-disabled{cursor:default;opacity:.5}.ag-advanced-filter-builder-virtual-list-container{top:var(--ag-spacing)}.ag-advanced-filter-builder-virtual-list-item{cursor:default;display:flex;height:var(--ag-list-item-height);&:hover{background-color:var(--ag-row-hover-color);.ag-advanced-filter-builder-item-button{opacity:100%}}}.ag-advanced-filter-builder-validation .ag-advanced-filter-builder-invalid,.ag-advanced-filter-builder-virtual-list-item-highlight .ag-advanced-filter-builder-item-button:focus-visible{opacity:100%}.ag-advanced-filter-builder-invalid{color:var(--ag-invalid-color);cursor:default;margin:0 var(--ag-spacing)}.ag-cell-inline-editing{border-radius:var(--ag-border-radius);padding:0;z-index:1;.ag-cell-edit-wrapper,.ag-cell-editor,.ag-cell-editor .ag-wrapper,.ag-cell-editor input,.ag-cell-wrapper{height:100%;line-height:normal;width:100%}}.ag-autocomplete-list-popup,.ag-popup-editor .ag-large-text{background-color:var(--ag-background-color);border-radius:var(--ag-border-radius);box-shadow:var(--ag-dropdown-shadow);padding:0}.ag-large-text-input{height:auto;padding:var(--ag-cell-horizontal-padding)}.ag-rtl .ag-large-text-input textarea{resize:none}.ag-checkbox-edit{padding-left:var(--ag-cell-horizontal-padding);padding-right:var(--ag-cell-horizontal-padding)}.ag-chart{display:flex;height:100%;position:relative;width:100%}.ag-chart-components-wrapper{display:flex}.ag-chart-canvas-wrapper,.ag-chart-components-wrapper{flex:1 1 auto;position:relative}.ag-chart-menu{display:flex;flex-direction:column;position:absolute;top:16px}.ag-ltr .ag-chart-menu{right:20px}.ag-rtl .ag-chart-menu{left:20px}.ag-chart-docked-container{min-width:var(--ag-chart-menu-panel-width);position:relative}.ag-chart-menu-hidden~.ag-chart-docked-container{display:none}.ag-chart-tabbed-menu{display:flex;flex-direction:column;height:100%;overflow:hidden;width:100%}.ag-chart-tabbed-menu-header{cursor:default;flex:none;-webkit-user-select:none;-moz-user-select:none;user-select:none}.ag-chart-tabbed-menu-body{align-items:stretch;display:flex;flex:1 1 auto;overflow:hidden}.ag-chart-tab{overflow:hidden;overflow-y:auto;width:100%}.ag-chart-settings{overflow-x:hidden}.ag-chart-settings-wrapper{display:flex;flex-direction:column;height:100%;overflow:hidden;position:relative;width:100%}.ag-chart-settings-nav-bar{align-items:center;display:flex;height:30px;padding:0 10px;-webkit-user-select:none;-moz-user-select:none;user-select:none;width:100%}.ag-chart-settings-card-selector{align-items:center;display:flex;flex:1 1 auto;height:100%;justify-content:space-around;padding:0 10px}.ag-chart-settings-card-item{background-color:var(--ag-foreground-color);border-radius:4px;cursor:pointer;height:10px;height:8px;position:relative;width:10px;width:8px;&.ag-not-selected{opacity:.2}&:before{background-color:transparent;content:" ";display:block;height:20px;left:50%;margin-left:-10px;margin-top:-10px;position:absolute;top:50%;width:20px}&.ag-selected{background-color:var(--ag-accent-color)}}.ag-chart-settings-next,.ag-chart-settings-prev{flex:none;position:relative;&:focus-within{border-radius:1px;box-shadow:var(--ag-focus-shadow)}}.ag-chart-settings-next-button,.ag-chart-settings-prev-button{cursor:pointer;height:100%;left:0;opacity:0;position:absolute;top:0;width:100%}.ag-chart-settings-mini-charts-container{flex:1 1 auto;overflow-x:hidden;overflow-y:auto;position:relative}.ag-chart-settings-mini-wrapper{display:flex;flex-direction:column;left:0;min-height:100%;overflow:hidden;position:absolute;top:0;width:100%;&.ag-animating{transition:left .3s;transition-timing-function:ease-in-out}}.ag-chart-mini-thumbnail{cursor:pointer}.ag-chart-mini-thumbnail-canvas{display:block}.ag-chart-advanced-settings-wrapper,.ag-chart-data-wrapper,.ag-chart-format-wrapper{display:flex;flex-direction:column;padding-bottom:16px;position:relative;-webkit-user-select:none;-moz-user-select:none;user-select:none}.ag-chart-advanced-settings-wrapper,.ag-chart-data-wrapper{height:100%;overflow-y:auto}.ag-chart-advanced-settings{background-color:var(--ag-chrome-background-color)}.ag-chart-advanced-settings,.ag-chart-advanced-settings-wrapper{width:100%}.ag-chart-advanced-settings-wrapper{padding-bottom:0}.ag-chart-advanced-settings-section,.ag-chart-data-section,.ag-chart-format-section{display:flex;margin:0}.ag-chart-advanced-settings-section{border-bottom:1px solid var(--ag-border-color)}.ag-chart-empty-text{align-items:center;background-color:var(--ag-background-color);display:flex;height:100%;justify-content:center;top:0;width:100%}.ag-chart .ag-chart-menu{display:none}.ag-chart-menu-hidden:hover .ag-chart-menu{display:block}.ag-chart{.ag-chart-menu-wrapper{.ag-chart-menu{display:flex;flex-direction:row;gap:20px;top:8px;width:auto}}}.ag-ltr .ag-chart{.ag-chart-menu-wrapper{.ag-chart-menu{justify-content:right;right:calc(var(--ag-cell-horizontal-padding) + var(--ag-spacing) - 4px)}}}.ag-rtl .ag-chart{.ag-chart-menu-wrapper{.ag-chart-menu{justify-content:left;left:calc(var(--ag-cell-horizontal-padding) + var(--ag-spacing) - 4px)}}}.ag-charts-font-size-color{align-self:stretch;display:flex;justify-content:space-between}.ag-charts-data-group-item{position:relative}.ag-charts-data-group-item:not(:last-child){margin-bottom:var(--ag-spacing)}.ag-chart-menu{background:var(--ag-background-color);border-radius:var(--ag-border-radius)}.ag-chart-menu-icon{border-radius:var(--ag-border-radius);cursor:pointer;margin:2px 0;opacity:.5;opacity:.8;&:hover{opacity:1}}.ag-chart-menu-toolbar-button{background-color:unset;border:0;border-radius:1px;padding:0 2px}.ag-chart-mini-thumbnail{border:1px solid var(--ag-border-color);border-radius:5px;&.ag-selected{border-color:var(--ag-accent-color);border-width:2px}&:focus-visible{border-color:var(--ag-accent-color);box-shadow:var(--ag-focus-shadow)}}.ag-chart-data-column-drag-handle{margin-left:var(--ag-spacing)}.ag-charts-data-group-title-bar,.ag-charts-format-top-level-group-title-bar,.ag-charts-settings-group-title-bar{position:relative}.ag-charts-advanced-settings-top-level-group-title-bar{background-color:unset;position:relative}.ag-charts-advanced-settings-top-level-group-title-bar:focus-visible,.ag-charts-data-group-title-bar:focus-visible,.ag-charts-format-top-level-group-title-bar:focus-visible,.ag-charts-settings-group-title-bar:focus-visible{box-shadow:inset var(--ag-focus-shadow)}.ag-charts-data-group-container{padding:calc(var(--ag-widget-container-vertical-padding)*.5) var(--ag-widget-container-horizontal-padding);.ag-charts-data-group-item:not(.ag-charts-format-sub-level-group):not(.ag-pill-select):not(.ag-select){height:var(--ag-list-item-height)}.ag-charts-data-group-item.ag-picker-field{margin-top:var(--ag-spacing)}}.ag-charts-advanced-settings-top-level-group-container,.ag-charts-format-top-level-group-container{margin-left:calc(var(--ag-spacing)*2);padding:var(--ag-spacing)}.ag-charts-advanced-settings-top-level-group-item,.ag-charts-format-top-level-group-item{margin:var(--ag-spacing) 0}.ag-charts-format-sub-level-group-container{display:flex;flex-direction:column;gap:var(--ag-widget-vertical-spacing);padding:var(--ag-widget-container-vertical-padding) var(--ag-widget-container-horizontal-padding)}.ag-charts-settings-group-container{display:grid;grid-template-columns:60px 1fr 60px 1fr 60px;padding:var(--ag-spacing);row-gap:8px;.ag-chart-mini-thumbnail:nth-child(3n+1){grid-column:1}.ag-chart-mini-thumbnail:nth-child(3n+2){grid-column:3}.ag-chart-mini-thumbnail:nth-child(3n+3){grid-column:5}}.ag-chart-data-section,.ag-chart-format-section{display:flex;margin:0}.ag-chart-menu-panel{background-color:var(--ag-chrome-background-color)}.ag-ltr .ag-chart-menu-panel{border-left:1px solid var(--ag-border-color)}.ag-rtl .ag-chart-menu-panel{border-right:1px solid var(--ag-border-color)}.ag-chart-tabbed-menu-body{position:relative;&:after{background:linear-gradient(var(--ag-background-color),transparent);content:"";display:block;height:16px;left:0;position:absolute;right:0;top:0}}.ag-charts-data-group-title-bar,.ag-charts-format-top-level-group-title-bar,.ag-charts-settings-group-container,.ag-charts-settings-group-title-bar{border-top:none;font-weight:500;padding:0 calc(var(--ag-spacing)*1.5)}.ag-chart-settings-nav-bar{border-top:1px solid var(--ag-border-color)}.ag-charts-format-sub-level-group-title-bar{background:none;font-weight:500}.ag-chart-data-section,.ag-chart-format-section{.ag-label:not(.ag-group-title-bar){color:var(--ag-chart-menu-label-color)}.ag-label-align-top .ag-label{margin-bottom:var(--ag-widget-vertical-spacing);margin-top:calc(var(--ag-widget-vertical-spacing)*.5)}.ag-slider.ag-label-align-top .ag-label{margin-bottom:0}& label{display:inline-block}}.ag-chart-data-wrapper,.ag-chart-format-wrapper,.ag-charts-data-group-container,.ag-charts-data-group-title-bar,.ag-charts-format-sub-level-group,.ag-charts-format-sub-level-group-container,.ag-charts-format-sub-level-group-container>*,.ag-charts-format-sub-level-group-item:last-child,.ag-charts-format-sub-level-group-title-bar,.ag-charts-format-top-level-group,.ag-charts-format-top-level-group .ag-charts-format-top-level-group-container,.ag-charts-format-top-level-group-item,.ag-charts-format-top-level-group-title-bar,.ag-charts-settings-group-container,.ag-charts-settings-group-title-bar{margin:0;padding:0}.ag-charts-data-group,.ag-charts-format-top-level-group{border-top:1px solid var(--ag-border-color)}.ag-charts-data-group-title-bar,.ag-charts-format-top-level-group-title-bar,.ag-charts-settings-group-title-bar{padding:var(--ag-widget-container-vertical-padding) var(--ag-widget-container-horizontal-padding)}.ag-charts-data-group .ag-charts-data-group-container,.ag-charts-format-top-level-group .ag-charts-format-top-level-group-container,.ag-charts-settings-group .ag-charts-settings-group-container{padding:0 var(--ag-widget-container-horizontal-padding)}.ag-charts-format-sub-level-group-title-bar{padding:var(--ag-widget-vertical-spacing) 0}.ag-charts-format-sub-level-group-container{padding-bottom:var(--ag-widget-container-vertical-padding);padding-top:var(--ag-widget-vertical-spacing)}.ag-charts-format-sub-level-group-container>*,.ag-charts-format-sub-level-no-header-group-container>*,.ag-charts-format-top-level-group-container>*{margin-bottom:var(--ag-widget-vertical-spacing)}.ag-chart-advanced-settings-section,.ag-chart-settings-mini-wrapper,.ag-charts-data-group-item{padding-bottom:var(--ag-widget-container-vertical-padding)}.ag-chart-advanced-settings-section{padding-top:var(--ag-widget-container-vertical-padding)}.ag-charts-advanced-settings-top-level-group{.ag-charts-advanced-settings-top-level-group-container,.ag-charts-advanced-settings-top-level-group-title-bar{padding:0 var(--ag-widget-container-horizontal-padding)}}.ag-charts-advanced-settings-top-level-group-container{margin:0}.ag-charts-advanced-settings-top-level-group-item{margin-bottom:0;margin-top:calc(var(--ag-widget-vertical-spacing)*2)}.ag-chart-menu{--ag-icon-size:20px;background-color:color-mix(in srgb,transparent,var(--ag-background-color) 30%);padding:4px 2px}.ag-chart-settings-card-item.ag-not-selected:hover{opacity:.35}.ag-column-drop{align-items:center;display:inline-flex;overflow:auto;position:relative;width:100%}.ag-column-drop-cell,.ag-column-drop-list{align-items:center;display:flex}.ag-column-drop-cell{gap:var(--ag-spacing);position:relative}.ag-column-drop-cell-text{flex:1 1 auto;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.ag-column-drop-vertical{align-items:stretch;display:flex;flex-direction:column;overflow:hidden}.ag-column-drop-vertical-title-bar{align-items:center;display:flex;flex:none}.ag-column-drop-vertical-list{align-items:stretch;flex-direction:column;flex-grow:1;overflow-x:auto;position:relative;>*{flex:none}}.ag-column-drop-empty .ag-column-drop-vertical-list{overflow:hidden}.ag-column-drop-vertical-empty-message{display:block}.ag-column-drop.ag-column-drop-horizontal{overflow:hidden;white-space:nowrap}.ag-column-drop-cell-button{cursor:pointer}.ag-column-drop-wrapper{display:flex}.ag-column-drop-horizontal-half-width{width:50%!important}.ag-column-drop-cell{background:var(--ag-column-drop-cell-background-color);border:var(--ag-column-drop-cell-border);border-radius:500px;padding:calc(var(--ag-spacing)*.5);&:focus-visible{box-shadow:var(--ag-focus-shadow)}}.ag-ltr .ag-column-drop-cell{padding-left:calc(var(--ag-spacing)*.75)}.ag-rtl .ag-column-drop-cell{padding-right:calc(var(--ag-spacing)*.75)}.ag-column-drop-cell-button{min-width:calc(var(--ag-spacing)*4)}.ag-column-drop-cell-ghost{opacity:.5}.ag-column-drop-horizontal{gap:var(--ag-cell-widget-spacing);height:var(--ag-header-height)}.ag-ltr .ag-column-drop-horizontal{padding-left:var(--ag-cell-horizontal-padding)}.ag-rtl .ag-column-drop-horizontal{padding-right:var(--ag-cell-horizontal-padding)}.ag-column-drop-horizontal-list{gap:var(--ag-cell-widget-spacing)}.ag-column-drop-vertical-list{padding-bottom:var(--ag-spacing);padding-left:var(--ag-spacing);padding-right:var(--ag-spacing)}.ag-column-drop-vertical-cell{margin-top:var(--ag-spacing)}.ag-ltr .ag-column-drop-vertical-icon{margin-right:var(--ag-widget-horizontal-spacing)}.ag-rtl .ag-column-drop-vertical-icon{margin-left:var(--ag-widget-horizontal-spacing)}.ag-column-drop-vertical-empty-message{bottom:0;left:0;margin-top:var(--ag-spacing);overflow:hidden;position:absolute;right:0;top:0}.ag-select-agg-func-popup{background:var(--ag-background-color);border:1px solid var(--ag-border-color);border-radius:var(--ag-border-radius);box-shadow:var(--ag-dropdown-shadow);height:calc(var(--ag-spacing)*5*3.5);padding:0;position:absolute}.ag-select-agg-func-virtual-list-item{cursor:default;&:hover{background-color:var(--ag-selected-row-background-color)}&:focus-visible{shadow:var(--ag-focus-shadow)}}.ag-ltr .ag-select-agg-func-virtual-list-item{padding-left:calc(var(--ag-spacing)*2)}.ag-rtl .ag-select-agg-func-virtual-list-item{padding-right:calc(var(--ag-spacing)*2)}.ag-sort-indicator-container{display:contents}.ag-ltr .ag-sort-indicator-icon{padding-left:var(--ag-spacing)}.ag-rtl .ag-sort-indicator-icon{padding-right:var(--ag-spacing)}.ag-column-drop-horizontal{background-color:var(--ag-header-background-color);border-bottom:var(--ag-header-row-border)}.ag-ltr .ag-column-drop-horizontal-half-width:not(:last-child){border-right:var(--ag-column-border)}.ag-rtl .ag-column-drop-horizontal-half-width:not(:last-child){border-left:var(--ag-column-border)}.ag-column-drop-cell-button{min-width:0;opacity:.75;&:hover{opacity:1}}.ag-column-drop-vertical{min-height:75px}.ag-column-drop-vertical-title-bar{padding:var(--ag-widget-container-vertical-padding) calc(var(--ag-spacing)*2) 0}.ag-column-drop-vertical-empty-message{align-items:center;border:1px dashed;border-color:var(--ag-border-color);display:flex;justify-content:center;margin:calc(var(--ag-spacing)*1.5) calc(var(--ag-spacing)*2);padding:calc(var(--ag-spacing)*2)}.ag-column-select{display:flex;flex:3 1 0px;flex-direction:column;overflow:hidden;position:relative}.ag-column-select-header{flex:none;height:var(--ag-header-height);padding-left:var(--ag-widget-container-horizontal-padding);padding-right:var(--ag-widget-container-horizontal-padding)}.ag-column-select-column,.ag-column-select-column-group,.ag-column-select-header{align-items:center;display:flex;gap:var(--ag-widget-horizontal-spacing);position:relative}.ag-column-select-column,.ag-column-select-column-group{height:100%}.ag-column-select-virtual-list-item:focus-visible{box-shadow:inset var(--ag-focus-shadow)}.ag-column-select-header-icon{border-radius:var(--ag-border-radius);cursor:pointer;height:var(--ag-icon-size);position:relative;width:var(--ag-icon-size);&:focus-visible{box-shadow:var(--ag-focus-shadow)}}.ag-column-select-header-filter-wrapper{flex:1 1 auto}.ag-column-select-header-filter{width:100%}.ag-column-select-list{flex:1 1 0px;overflow:hidden}.ag-ltr .ag-column-select-column,.ag-ltr .ag-column-select-column-group{padding-left:calc(var(--ag-indentation-level)*var(--ag-column-select-indent-size))}.ag-rtl .ag-column-select-column,.ag-rtl .ag-column-select-column-group{padding-right:calc(var(--ag-indentation-level)*var(--ag-column-select-indent-size))}.ag-ltr .ag-column-select-add-group-indent{margin-left:calc(var(--ag-icon-size) + var(--ag-spacing)*1.5)}.ag-rtl .ag-column-select-add-group-indent{margin-right:calc(var(--ag-icon-size) + var(--ag-spacing)*1.5)}.ag-column-select-column,.ag-column-select-column-group{&:not(:last-child){margin-bottom:var(--ag-widget-vertical-spacing)}}.ag-column-select-column-group-readonly,.ag-column-select-column-readonly{opacity:.5;pointer-events:none}.ag-column-select-virtual-list-viewport{padding:calc(var(--ag-widget-container-vertical-padding)*.5) 0}.ag-column-select-virtual-list-item{padding:0 var(--ag-widget-container-horizontal-padding)}.ag-column-select-column-label{flex:1 1 auto;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.ag-column-select-checkbox{display:flex}.ag-set-filter{--ag-indentation-level:0}.ag-set-filter-item{align-items:center;display:flex;height:100%}.ag-set-filter-item-checkbox{display:flex;height:100%;width:100%}.ag-set-filter-group-icons{display:block;>*{cursor:pointer}}.ag-filter-body-wrapper{display:flex;flex-direction:column}.ag-filter-filter{flex:1 1 0px}.ag-filter-condition{display:flex;justify-content:center}.ag-floating-filter-body{display:flex;flex:1 1 auto;height:100%;position:relative}.ag-floating-filter-full-body{align-items:center;display:flex;flex:1 1 auto;height:100%;overflow:hidden;width:100%}.ag-floating-filter-full-body>div{flex:1 1 auto}.ag-floating-filter-input{align-items:center;display:flex;width:100%;>*{flex:1 1 auto}}.ag-floating-filter-button{display:flex;flex:none}.ag-set-floating-filter-input input[disabled]{pointer-events:none}.ag-floating-filter-button-button{-webkit-appearance:none;-moz-appearance:none;appearance:none;background:transparent;border:none;height:var(--ag-icon-size);width:var(--ag-icon-size)}.ag-filter-loading{height:100%;padding:var(--ag-widget-container-vertical-padding) var(--ag-widget-container-horizontal-padding);position:absolute;width:100%;z-index:1}.ag-column-panel{display:flex;flex:1 1 auto;flex-direction:column;overflow:hidden}.ag-pivot-mode-panel{display:flex;height:var(--ag-header-height)}.ag-pivot-mode-select{align-items:center;display:flex}.ag-ltr .ag-pivot-mode-select{margin-left:var(--ag-widget-container-horizontal-padding)}.ag-rtl .ag-pivot-mode-select{margin-right:var(--ag-widget-container-horizontal-padding)}.ag-column-panel-column-select{border-bottom:var(--ag-tool-panel-separator-border);border-top:var(--ag-tool-panel-separator-border)}:where(.ag-column-panel) .ag-column-drop-vertical{flex:1 1 0px;min-height:50px;&:where(:not(.ag-last-column-drop)){border-bottom:var(--ag-tool-panel-separator-border)}}.ag-dnd-ghost{align-items:center;background-color:var(--ag-drag-and-drop-image-background-color);border:var(--ag-drag-and-drop-image-border);border-radius:var(--ag-border-radius);box-shadow:var(--ag-drag-and-drop-image-shadow);color:var(--ag-text-color);cursor:move;font-weight:500;gap:var(--ag-cell-widget-spacing);height:var(--ag-header-height);max-width:200px;padding-left:var(--ag-cell-horizontal-padding);padding-right:var(--ag-cell-horizontal-padding);text-overflow:ellipsis;transform:translateY(calc(var(--ag-spacing)*2))}.ag-dnd-ghost,.ag-header{display:flex;overflow:hidden;white-space:nowrap}.ag-header{background-color:var(--ag-header-background-color);border-bottom:var(--ag-header-row-border);color:var(--ag-header-text-color);font-family:var(--ag-header-font-family);font-size:var(--ag-header-font-size);font-weight:var(--ag-header-font-weight);width:100%}.ag-header-row{height:var(--ag-header-height);position:absolute}.ag-header-row:not(:first-child){.ag-header-cell:not(.ag-header-span-height.ag-header-span-total),.ag-header-group-cell.ag-header-group-cell-with-group{border-top:var(--ag-header-row-border)}}.ag-header-row:not(.ag-header-row-column-group){overflow:hidden}.ag-header.ag-header-allow-overflow .ag-header-row{overflow:visible}.ag-header-cell,.ag-header-group-cell{align-items:center;display:inline-flex;gap:var(--ag-cell-widget-spacing);height:100%;overflow:hidden;padding:0 var(--ag-cell-horizontal-padding);position:absolute}@property --ag-internal-moving-color{syntax:"<color>";inherits:false;initial-value:transparent}@property --ag-internal-hover-color{syntax:"<color>";inherits:false;initial-value:transparent}.ag-header-cell:not(.ag-floating-filter),.ag-header-group-cell{&:before{background-image:linear-gradient(var(--ag-internal-hover-color),var(--ag-internal-hover-color)),linear-gradient(var(--ag-internal-moving-color),var(--ag-internal-moving-color));content:"";inset:0;position:absolute;--ag-internal-moving-color:transparent;--ag-internal-hover-color:transparent;transition:--ag-internal-moving-color var(--ag-header-cell-background-transition-duration),--ag-internal-hover-color var(--ag-header-cell-background-transition-duration)}&:hover:before{--ag-internal-hover-color:var(--ag-header-cell-hover-background-color)}&.ag-header-cell-moving:before{--ag-internal-moving-color:var(--ag-header-cell-moving-background-color);--ag-internal-hover-color:var(--ag-header-cell-hover-background-color)}}:where(.ag-header-cell:not(.ag-floating-filter) *,.ag-header-group-cell *){position:relative;z-index:1}.ag-header-cell-filter-button,.ag-header-cell.ag-header-active .ag-header-cell-menu-button{opacity:1}.ag-header-cell-menu-button:not(.ag-header-menu-always-show){opacity:0;transition:opacity .2s}.ag-header-cell-label,.ag-header-group-cell-label{align-items:center;align-self:stretch;display:flex;flex:1 1 auto;gap:var(--ag-spacing);padding:5px 0}.ag-header-cell-label{overflow:hidden;text-overflow:ellipsis}.ag-header-group-cell-label.ag-sticky-label{flex:none;max-width:100%;position:sticky}.ag-ltr .ag-header-group-cell-label.ag-sticky-label{left:var(--ag-cell-horizontal-padding)}.ag-rtl .ag-header-group-cell-label.ag-sticky-label{right:var(--ag-cell-horizontal-padding)}.ag-header-cell-text,.ag-header-group-text{overflow:hidden;text-overflow:ellipsis}.ag-header-cell-text{word-break:break-word}.ag-header-group-cell .ag-header-cell-comp-wrapper{display:flex}.ag-header-cell:not(.ag-header-cell-auto-height) .ag-header-cell-comp-wrapper{align-items:center;display:flex;height:100%}.ag-header-cell-comp-wrapper{width:100%}.ag-header-cell-wrap-text .ag-header-cell-comp-wrapper{white-space:normal}.ag-right-aligned-header .ag-header-cell-label{flex-direction:row-reverse}.ag-floating-filter-button-button,.ag-header-cell-filter-button,.ag-header-cell-menu-button,.ag-header-cell-sortable .ag-header-cell-label,.ag-header-expand-icon,.ag-panel-title-bar-button{cursor:pointer}.ag-advanced-filter-header-cell,.ag-header-cell,.ag-header-group-cell{&:focus-visible{box-shadow:inset var(--ag-focus-shadow)}}.ag-ltr :where(.ag-header-cell:not(.ag-right-aligned-header)){.ag-header-label-icon,.ag-header-menu-icon{margin-left:var(--ag-spacing)}}.ag-rtl :where(.ag-header-cell:not(.ag-right-aligned-header)){.ag-header-label-icon,.ag-header-menu-icon{margin-right:var(--ag-spacing)}}.ag-ltr :where(.ag-header-cell.ag-right-aligned-header){.ag-header-label-icon,.ag-header-menu-icon{margin-right:var(--ag-spacing)}}.ag-rtl :where(.ag-header-cell.ag-right-aligned-header){.ag-header-label-icon,.ag-header-menu-icon{margin-left:var(--ag-spacing)}}.ag-header-cell:after,.ag-header-group-cell:not(.ag-header-span-height.ag-header-group-cell-no-group):after{content:"";height:var(--ag-header-column-border-height);position:absolute;top:calc(50% - var(--ag-header-column-border-height)*.5);z-index:1}.ag-ltr .ag-header-cell:after,.ag-ltr .ag-header-group-cell:not(.ag-header-span-height.ag-header-group-cell-no-group):after{border-right:var(--ag-header-column-border);right:0}.ag-rtl .ag-header-cell:after,.ag-rtl .ag-header-group-cell:not(.ag-header-span-height.ag-header-group-cell-no-group):after{border-left:var(--ag-header-column-border);left:0}.ag-header-highlight-after:after,.ag-header-highlight-before:after{background-color:var(--ag-accent-color);content:"";height:100%;position:absolute;width:1px}.ag-ltr .ag-header-highlight-before:after{left:0}.ag-ltr .ag-header-highlight-after:after,.ag-rtl .ag-header-highlight-before:after{right:0}.ag-rtl .ag-header-highlight-after:after{left:0}.ag-ltr .ag-pinned-left-header .ag-header-highlight-after:after{right:1px}.ag-rtl .ag-pinned-left-header .ag-header-highlight-after:after{left:1px}.ag-header-cell-resize{align-items:center;cursor:ew-resize;display:flex;height:100%;position:absolute;top:0;width:8px;z-index:2;&:after{background-color:var(--ag-header-column-resize-handle-color);content:"";height:var(--ag-header-column-resize-handle-height);position:absolute;top:calc(50% - var(--ag-header-column-resize-handle-height)*.5);width:var(--ag-header-column-resize-handle-width);z-index:1}}.ag-ltr .ag-header-cell-resize{right:-3px;&:after{left:calc(50% - var(--ag-header-column-resize-handle-width))}}.ag-rtl .ag-header-cell-resize{left:-3px;&:after{right:calc(50% - var(--ag-header-column-resize-handle-width))}}.ag-header-cell.ag-header-span-height .ag-header-cell-resize:after{height:calc(100% - var(--ag-spacing)*4);top:calc(var(--ag-spacing)*2)}.ag-header-group-cell-no-group.ag-header-span-height .ag-header-cell-resize{display:none}.ag-menu{background-color:var(--ag-menu-background-color);border:var(--ag-menu-border);border-radius:var(--ag-border-radius);box-shadow:var(--ag-menu-shadow);color:var(--ag-menu-text-color);max-height:100%;min-width:180px;overflow-y:auto;position:absolute;-webkit-user-select:none;-moz-user-select:none;user-select:none}.ag-menu-list{cursor:default;display:table;padding:var(--ag-spacing) 0;width:100%}.ag-menu-option,.ag-menu-separator{display:table-row}.ag-menu-option-part,.ag-menu-separator-part{display:table-cell;vertical-align:middle}.ag-menu-option-text{white-space:nowrap}.ag-menu-option-custom{display:contents}.ag-compact-menu-option{display:flex;flex-wrap:nowrap;width:100%}.ag-compact-menu-option-text{flex:1 1 auto;white-space:nowrap}.ag-menu-separator{height:calc(var(--ag-spacing)*2 + 1px)}.ag-menu-separator-part:after{border-top:1px solid var(--ag-menu-separator-color);content:"";display:block}.ag-compact-menu-option-active,.ag-menu-option-active{background-color:var(--ag-row-hover-color)}.ag-compact-menu-option-part,.ag-menu-option-part{line-height:var(--ag-icon-size);padding:calc(var(--ag-spacing) + 2px) 0}.ag-compact-menu-option-disabled,.ag-menu-option-disabled{cursor:not-allowed;opacity:.5}.ag-compact-menu-option-icon,.ag-menu-option-icon{width:var(--ag-icon-size)}.ag-ltr .ag-compact-menu-option-icon,.ag-ltr .ag-menu-option-icon{padding-left:calc(var(--ag-spacing)*2)}.ag-rtl .ag-compact-menu-option-icon,.ag-rtl .ag-menu-option-icon{padding-right:calc(var(--ag-spacing)*2)}.ag-compact-menu-option-text,.ag-menu-option-text{padding-left:calc(var(--ag-spacing)*2);padding-right:calc(var(--ag-spacing)*2)}.ag-ltr .ag-compact-menu-option-shortcut,.ag-ltr .ag-menu-option-shortcut{padding-right:var(--ag-spacing)}.ag-rtl .ag-compact-menu-option-shortcut,.ag-rtl .ag-menu-option-shortcut{padding-left:var(--ag-spacing)}.ag-ltr .ag-compact-menu-option-popup-pointer,.ag-ltr .ag-menu-option-popup-pointer{padding-right:var(--ag-spacing)}.ag-rtl .ag-compact-menu-option-popup-pointer,.ag-rtl .ag-menu-option-popup-pointer{padding-left:var(--ag-spacing)}.ag-menu-column-select-wrapper{height:265px;overflow:auto;.ag-column-select{height:100%}}.ag-menu.ag-tabs{min-width:290px}.ag-filter-separator{border-top:1px solid var(--menu-separator-color)}.ag-filter-select .ag-picker-field-wrapper{width:0}.ag-filter-condition-operator{height:17px}.ag-ltr .ag-filter-condition-operator-or{margin-left:calc(var(--ag-spacing)*2)}.ag-rtl .ag-filter-condition-operator-or{margin-right:calc(var(--ag-spacing)*2)}.ag-set-filter-select-all{padding-top:var(--ag-widget-container-vertical-padding)}.ag-filter-no-matches,.ag-set-filter-list{height:calc(var(--ag-list-item-height)*6)}.ag-filter-no-matches{padding:var(--ag-widget-container-vertical-padding) var(--ag-widget-container-horizontal-padding)}.ag-set-filter-tree-list{height:calc(var(--ag-list-item-height)*10)}.ag-set-filter-filter{margin-left:var(--ag-widget-container-horizontal-padding);margin-right:var(--ag-widget-container-horizontal-padding);margin-top:var(--ag-widget-container-vertical-padding)}.ag-filter-to{margin-top:var(--ag-widget-vertical-spacing)}.ag-mini-filter{margin:var(--ag-widget-container-vertical-padding) var(--ag-widget-container-horizontal-padding)}.ag-ltr .ag-set-filter-item{padding-left:calc(var(--ag-widget-container-horizontal-padding) + var(--ag-indentation-level)*var(--ag-set-filter-indent-size))}.ag-rtl .ag-set-filter-item{padding-right:calc(var(--ag-widget-container-horizontal-padding) + var(--ag-indentation-level)*var(--ag-set-filter-indent-size))}.ag-ltr .ag-set-filter-add-group-indent{margin-left:calc(var(--ag-icon-size) + var(--ag-widget-container-horizontal-padding))}.ag-rtl .ag-set-filter-add-group-indent{margin-right:calc(var(--ag-icon-size) + var(--ag-widget-container-horizontal-padding))}.ag-ltr .ag-set-filter-group-icons{margin-right:var(--ag-widget-container-horizontal-padding)}.ag-rtl .ag-set-filter-group-icons{margin-left:var(--ag-widget-container-horizontal-padding)}.ag-filter-menu .ag-set-filter-list{min-width:200px}.ag-filter-virtual-list-item:focus-visible{box-shadow:inset var(--ag-focus-shadow)}.ag-filter-apply-panel{display:flex;justify-content:flex-end;overflow:hidden;padding:var(--ag-widget-vertical-spacing) var(--ag-widget-container-horizontal-padding) var(--ag-widget-container-vertical-padding)}.ag-filter-apply-panel-button{line-height:1.5}.ag-ltr .ag-filter-apply-panel-button{margin-left:calc(var(--ag-spacing)*2)}.ag-rtl .ag-filter-apply-panel-button{margin-right:calc(var(--ag-spacing)*2)}.ag-simple-filter-body-wrapper{display:flex;flex-direction:column;min-height:calc(var(--ag-list-item-height) + var(--ag-widget-container-vertical-padding) + var(--ag-widget-vertical-spacing));overflow-y:auto;padding:var(--ag-widget-container-vertical-padding) var(--ag-widget-container-horizontal-padding);padding-bottom:calc(var(--ag-widget-container-vertical-padding) - var(--ag-widget-vertical-spacing));&>*{margin-bottom:var(--ag-widget-vertical-spacing)}.ag-resizer-wrapper{margin:0}}.ag-multi-filter-menu-item{margin:var(--ag-spacing) 0}.ag-multi-filter-group-title-bar{background-color:transparent;color:var(--ag-header-text-color);font-weight:500;padding:calc(var(--ag-spacing)*1.5) var(--ag-spacing);&:focus-visible{box-shadow:var(--ag-focus-shadow)}}.ag-group-filter-field-select-wrapper{display:flex;flex-direction:column;gap:var(--ag-widget-vertical-spacing);padding:var(--ag-widget-container-vertical-padding) var(--ag-widget-container-horizontal-padding)}.ag-menu-option{cursor:pointer;font-weight:500}.ag-ltr .ag-menu-option-popup-pointer .ag-icon{text-align:right}.ag-rtl .ag-menu-option-popup-pointer .ag-icon{text-align:left}.ag-panel{background-color:var(--ag-panel-background-color);display:flex;flex-direction:column;overflow:hidden;position:relative}.ag-dialog{border:var(--ag-dialog-border);border-radius:var(--ag-border-radius);box-shadow:var(--ag-dialog-shadow);position:absolute}.ag-panel-title-bar{align-items:center;background-color:var(--ag-panel-title-bar-background-color);border-bottom:var(--ag-panel-title-bar-border);color:var(--ag-header-text-color);cursor:default;display:flex;flex:none;height:var(--ag-header-height);padding:var(--ag-spacing) var(--ag-cell-horizontal-padding)}.ag-ltr .ag-panel-title-bar-button{margin-left:calc(var(--ag-spacing)*2);margin-right:var(--ag-spacing)}.ag-rtl .ag-panel-title-bar-button{margin-left:var(--ag-spacing);margin-right:calc(var(--ag-spacing)*2)}.ag-panel-title-bar-title{color:var(--ag-header-text-color);flex:1 1 auto;font-weight:500}.ag-panel-title-bar-buttons{display:flex}.ag-panel-title-bar-button{cursor:pointer}.ag-panel-content-wrapper{display:flex;flex:1 1 auto;overflow:hidden;position:relative}.ag-resizer{pointer-events:none;position:absolute;-webkit-user-select:none;-moz-user-select:none;user-select:none;z-index:1;&.ag-resizer-topLeft{height:5px;left:0;top:0;width:5px}&.ag-resizer-top{cursor:ns-resize;height:5px;left:5px;right:5px;top:0}&.ag-resizer-topRight{height:5px;right:0;top:0;width:5px}&.ag-resizer-right{bottom:5px;cursor:ew-resize;right:0;top:5px;width:5px}&.ag-resizer-bottomRight{bottom:0;height:5px;right:0;width:5px}&.ag-resizer-bottom{bottom:0;cursor:ns-resize;height:5px;left:5px;right:5px}&.ag-resizer-bottomLeft{bottom:0;height:5px;left:0;width:5px}&.ag-resizer-left{bottom:5px;cursor:ew-resize;left:0;top:5px;width:5px}}.ag-ltr .ag-resizer{&.ag-resizer-topLeft{cursor:nwse-resize}&.ag-resizer-topRight{cursor:nesw-resize}&.ag-resizer-bottomRight{cursor:nwse-resize}&.ag-resizer-bottomLeft{cursor:nesw-resize}}.ag-rtl .ag-resizer{&.ag-resizer-topLeft{cursor:nesw-resize}&.ag-resizer-topRight{cursor:nwse-resize}&.ag-resizer-bottomRight{cursor:nesw-resize}&.ag-resizer-bottomLeft{cursor:nwse-resize}}.ag-dragging-fill-handle .ag-dialog,.ag-dragging-range-handle .ag-dialog{opacity:.7;pointer-events:none}.ag-layout-print{&.ag-body{display:block;height:unset}&.ag-root-wrapper{display:inline-block}.ag-body-horizontal-scroll,.ag-body-vertical-scroll{display:none}&.ag-force-vertical-scroll{overflow-y:visible!important}}@media print{.ag-root-wrapper.ag-layout-print{display:table;.ag-body-horizontal-scroll-viewport,.ag-body-viewport,.ag-center-cols-container,.ag-center-cols-viewport,.ag-root,.ag-root-wrapper-body,.ag-virtual-list-viewport{display:block!important;height:auto!important;overflow:hidden!important}.ag-cell,.ag-row{-moz-column-break-inside:avoid;break-inside:avoid}}}.ag-select{align-items:center;display:flex;flex-direction:row;.ag-picker-field-wrapper{cursor:default}&.ag-disabled .ag-picker-field-wrapper:focus{box-shadow:none}&:not(.ag-cell-editor,.ag-label-align-top){min-height:var(--ag-list-item-height)}.ag-picker-field-display{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.ag-picker-field-icon{align-items:center;display:flex}&.ag-disabled{opacity:.5}}.ag-ltr .ag-select{.ag-picker-field-wrapper{padding-left:calc(var(--ag-cell-horizontal-padding)/2);padding-right:var(--ag-spacing)}}.ag-rtl .ag-select{.ag-picker-field-wrapper{padding-left:var(--ag-spacing);padding-right:calc(var(--ag-cell-horizontal-padding)/2)}}.ag-rich-select{cursor:default;height:100%}.ag-rich-select-value{align-items:center;background-color:var(--ag-input-background-color);display:flex;height:100%;padding:var(--ag-spacing);.ag-picker-field-display{overflow:hidden;text-overflow:ellipsis;&.ag-display-as-placeholder{opacity:.5}}}.ag-rich-select-list{background-color:var(--ag-input-background-color);border:var(--ag-input-border);border-radius:var(--ag-input-border-radius);box-shadow:var(--ag-dropdown-shadow);height:auto;position:relative;width:100%;.ag-loading-text{padding:var(--ag-widget-container-vertical-padding) var(--ag-widget-container-horizontal-padding)}}.ag-rich-select-row{align-items:center;display:flex;flex:1 1 auto;height:100%;overflow:hidden;padding:0 var(--ag-spacing);white-space:nowrap}.ag-rich-select-row-selected{background-color:var(--ag-selected-row-background-color)}.ag-rich-select-row-highlighted,.ag-rich-select-row:hover{background-image:linear-gradient(var(--ag-row-hover-color),var(--ag-row-hover-color))}.ag-rich-select-row-text-highlight{font-weight:700}.ag-rich-select-field-input{flex:1 1 auto;.ag-input-field-input{border:none!important;box-shadow:none!important;padding:0!important;text-overflow:ellipsis;&::-moz-placeholder{opacity:.8}&::placeholder{opacity:.8}}}.ag-ltr .ag-rich-select-field-input{left:var(--ag-spacing)}.ag-rtl .ag-rich-select-field-input{right:var(--ag-spacing)}.ag-popup-editor .ag-rich-select-value{height:var(--ag-row-height);min-width:200px}.ag-rich-select-virtual-list-item{cursor:default;height:var(--ag-list-item-height)}.ag-pill-container{display:flex;flex-wrap:nowrap;gap:.25rem}.ag-pill{align-items:center;background:var(--ag-select-cell-background-color);border:var(--ag-select-cell-border);border-radius:var(--ag-border-radius);display:flex;padding:0 .25rem;white-space:nowrap;&:focus-visible{box-shadow:var(--ag-focus-shadow)}}.ag-pill .ag-pill-button{border:none;padding:0;&:hover{color:var(--ag-accent-color);cursor:pointer}}.ag-ltr .ag-pill .ag-pill-button{margin-left:var(--ag-spacing)}.ag-rtl .ag-pill .ag-pill-button{margin-right:var(--ag-spacing)}ag-grid,ag-grid-angular{display:block}.ag-dnd-ghost,.ag-popup,.ag-root-wrapper{cursor:default;line-height:normal;white-space:normal;-webkit-font-smoothing:antialiased;background-color:var(--ag-background-color);color:var(--ag-text-color);color-scheme:var(--ag-browser-color-scheme);font-family:var(--ag-font-family);font-size:var(--ag-font-size);--ag-indentation-level:0}.ag-root-wrapper{border:var(--ag-wrapper-border);border-radius:var(--ag-wrapper-border-radius);display:flex;flex-direction:column;overflow:hidden;position:relative;&.ag-layout-normal{height:100%}}.ag-root-wrapper-body{display:flex;flex-direction:row;&.ag-layout-normal{flex:1 1 auto;height:0;min-height:0}}.ag-root{display:flex;flex-direction:column;position:relative;&.ag-layout-auto-height,&.ag-layout-normal{flex:1 1 auto;overflow:hidden;width:0}&.ag-layout-normal{height:100%}}.ag-tool-panel-wrapper{cursor:default;display:flex;overflow-x:hidden;overflow-y:auto;-webkit-user-select:none;-moz-user-select:none;user-select:none;width:var(--ag-side-bar-panel-width)}.ag-select-agg-func-item{align-items:center;display:flex;flex:1 1 auto;flex-direction:row;flex-wrap:nowrap;height:100%;overflow:hidden;position:relative;text-overflow:ellipsis;white-space:nowrap;>*{flex:none}}.ag-tool-panel-horizontal-resize{cursor:ew-resize;height:100%;position:absolute;top:0;width:5px;z-index:1}.ag-ltr .ag-side-bar-left .ag-tool-panel-horizontal-resize{right:-3px}.ag-ltr .ag-side-bar-right .ag-tool-panel-horizontal-resize,.ag-rtl .ag-side-bar-left .ag-tool-panel-horizontal-resize{left:-3px}.ag-rtl .ag-side-bar-right .ag-tool-panel-horizontal-resize{right:-3px}.ag-side-bar{background-color:var(--ag-side-bar-background-color);display:flex;flex-direction:row-reverse;position:relative}.ag-side-bar-left{flex-direction:row;order:-1}.ag-side-buttons{position:relative;width:calc(var(--ag-icon-size) + var(--ag-spacing)*2)}.ag-side-button{&.ag-selected{background-color:var(--ag-background-color);border-bottom:1px solid var(--ag-border-color);&:not(:first-of-type){border-top:1px solid var(--ag-border-color)}}}.ag-side-button-button{align-items:center;cursor:pointer;display:flex;flex-direction:column;gap:var(--ag-spacing);padding:calc(var(--ag-spacing)*3) 0;position:relative;white-space:nowrap;width:100%;&:focus{box-shadow:none}}.ag-side-button-button:focus-visible{box-shadow:inset var(--ag-focus-shadow)}.ag-side-button-label{writing-mode:vertical-lr}@media (max-resolution:1.5x){.ag-side-button-label{font-family:"Segoe UI",var(--ag-font-family)}.ag-ltr .ag-side-button-label{transform:rotate(.05deg)}.ag-rtl .ag-side-button-label{transform:rotate(-.05deg)}}.ag-ltr .ag-side-bar-left,.ag-rtl .ag-side-bar-right{border-right:var(--ag-side-panel-border);.ag-tool-panel-wrapper{border-left:var(--ag-side-panel-border)}}.ag-ltr .ag-side-bar-right,.ag-rtl .ag-side-bar-left{border-left:var(--ag-side-panel-border);.ag-tool-panel-wrapper{border-right:var(--ag-side-panel-border)}}.ag-ltr .ag-chart-menu-panel{border-left:var(--ag-side-panel-border)}.ag-rtl .ag-chart-menu-panel{border-right:var(--ag-side-panel-border)}.ag-button{border-radius:0}.ag-standard-button{-moz-appearance:none;appearance:none;-webkit-appearance:none;background-color:var(--ag-background-color);border:var(--ag-input-border);border-radius:var(--ag-border-radius);cursor:pointer;font-family:inherit;padding:var(--ag-spacing) calc(var(--ag-spacing)*2);&:hover{background-color:var(--ag-row-hover-color)}&:active{border-color:var(--ag-accent-color)}&:disabled{background-color:var(--ag-input-disabled-background-color);border:var(--ag-input-disabled-border);color:var(--ag-input-disabled-text-color)}}:where(input[class^=ag-][type=button],button[class^=ag-]):focus-visible{box-shadow:var(--ag-focus-shadow)}.ag-drag-handle{color:var(--ag-drag-handle-color);cursor:grab}.ag-list-item,.ag-virtual-list-item{height:var(--ag-list-item-height)}.ag-virtual-list-item{position:absolute;width:100%}.ag-select-list{background-color:var(--ag-background-color);border:var(--ag-input-border);border-radius:var(--ag-border-radius);box-shadow:var(--ag-dropdown-shadow);overflow-x:hidden;overflow-y:auto}.ag-list-item{align-items:center;display:flex;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;&.ag-active-item{background-color:var(--ag-row-hover-color)}}.ag-select-list-item{cursor:default;-webkit-user-select:none;-moz-user-select:none;user-select:none;& span{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}}.ag-ltr .ag-select-list-item{padding-left:calc(var(--ag-cell-horizontal-padding)/2)}.ag-rtl .ag-select-list-item{padding-right:calc(var(--ag-cell-horizontal-padding)/2)}.ag-list-item-hovered:after{background-color:var(--ag-accent-color);content:"";height:1px;left:0;position:absolute;right:0}.ag-item-highlight-top:after{top:0}.ag-item-highlight-bottom:after{bottom:0}.ag-range-field{align-items:center;display:flex;.ag-input-wrapper{height:100%}}& input[class^=ag-][type=range]{-webkit-appearance:none;background:none;height:100%;overflow:visible;padding:0;width:100%;&::-webkit-slider-runnable-track{background-color:var(--ag-border-color);border-radius:1.5px;height:3px;margin:0;padding:0;width:100%}&::-moz-range-track{background-color:var(--ag-border-color);border-radius:1.5px;height:3px;margin:0;padding:0;width:100%}&::-webkit-slider-thumb{-webkit-appearance:none;background-color:var(--ag-background-color);border:1px solid var(--ag-border-color);border-radius:100%;height:var(--ag-icon-size);margin:0;padding:0;transform:translateY(calc(var(--ag-icon-size)*-.5 + 1.5px));width:var(--ag-icon-size)}&::-moz-ag-range-thumb{-webkit-appearance:none;background-color:var(--ag-background-color);border:1px solid var(--ag-border-color);border-radius:100%;height:var(--ag-icon-size);margin:0;padding:0;transform:translateY(calc(var(--ag-icon-size)*-.5 + 1.5px));width:var(--ag-icon-size)}&:focus{&::-webkit-slider-thumb{border-color:var(--ag-accent-color);box-shadow:var(--ag-focus-shadow)}&::-moz-ag-range-thumb{border-color:var(--ag-accent-color);box-shadow:var(--ag-focus-shadow)}}&:active{&::-webkit-slider-runnable-track{background-color:var(--ag-accent-color)}&::-moz-ag-range-track{background-color:var(--ag-accent-color)}}&:disabled{opacity:.5}}.ag-toggle-button{flex:none;min-width:unset;width:unset}.ag-toggle-button-input-wrapper{background-color:var(--ag-toggle-button-off-background-color);border:solid var(--ag-toggle-button-border-width) var(--ag-toggle-button-off-border-color);border-radius:calc(var(--ag-toggle-button-height)*.5);flex:none;height:var(--ag-toggle-button-height);max-width:var(--ag-toggle-button-width);min-width:var(--ag-toggle-button-width);position:relative;& input{-webkit-appearance:none;-moz-appearance:none;appearance:none;height:100%;opacity:0;width:100%}&:before{background-color:var(--ag-toggle-button-switch-background-color);border:var(--ag-toggle-button-border-width) solid var(--ag-toggle-button-switch-border-color);border-radius:100%;content:"";display:block;height:var(--ag-toggle-button-height);pointer-events:none;position:absolute;top:calc(0px - var(--ag-toggle-button-border-width));width:var(--ag-toggle-button-height)}&.ag-checked{background-color:var(--ag-toggle-button-on-background-color);border-color:var(--ag-toggle-button-on-border-color);&:before{border-color:var(--ag-toggle-button-on-border-color)}}&:focus-within{box-shadow:var(--ag-focus-shadow)}&.ag-disabled{opacity:.5}}.ag-ltr .ag-toggle-button-input-wrapper{&:before{left:calc(0px - var(--ag-toggle-button-border-width));transition:left .1s}&.ag-checked{&:before{left:calc(100% - var(--ag-toggle-button-height) + var(--ag-toggle-button-border-width))}}}.ag-rtl .ag-toggle-button-input-wrapper{&:before{right:calc(0px - var(--ag-toggle-button-border-width));transition:right .1s}&.ag-checked{&:before{right:calc(100% - var(--ag-toggle-button-height) + var(--ag-toggle-button-border-width))}}}.ag-autocomplete{align-items:center;display:flex;width:100%;>*{flex:1 1 auto}}.ag-autocomplete-list-popup{position:absolute;-webkit-user-select:none;-moz-user-select:none;user-select:none}.ag-autocomplete-list{height:calc(var(--ag-row-height)*6.5);min-width:200px;position:relative;width:100%}.ag-autocomplete-virtual-list-item{cursor:default;display:flex;height:var(--ag-list-item-height);&:focus-visible:after{content:none}&:hover{background-color:var(--ag-row-hover-color)}}.ag-autocomplete-row{align-items:center;display:flex;flex:1 1 auto;overflow:hidden}.ag-autocomplete-row-label{margin:0 var(--ag-widget-container-horizontal-padding);overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.ag-autocomplete-row-selected{background-color:var(--ag-selected-row-background-color)}.ag-tooltip{background-color:var(--ag-tooltip-background-color);border:var(--ag-tooltip-border);border-radius:var(--ag-border-radius);color:var(--ag-tooltip-text-color);padding:var(--ag-widget-container-vertical-padding) var(--ag-widget-container-horizontal-padding);white-space:normal}.ag-tooltip,.ag-tooltip-custom{position:absolute;z-index:99999}.ag-tooltip-custom:not(.ag-tooltip-interactive),.ag-tooltip:not(.ag-tooltip-interactive){pointer-events:none}.ag-tooltip-custom.ag-tooltip-animate,.ag-tooltip.ag-tooltip-animate{transition:opacity 1s;&.ag-tooltip-hiding{opacity:0}}.ag-angle-select{align-items:center;display:flex}.ag-angle-select-wrapper{display:flex}.ag-angle-select-parent-circle{display:block;position:relative}.ag-angle-select-child-circle{position:absolute}.ag-slider-wrapper{display:flex;.ag-input-field{flex:1 1 auto}}.ag-picker-field-display{flex:1 1 auto}.ag-picker-field{align-items:center;display:flex}.ag-picker-field-icon{border:0;cursor:pointer;display:flex;margin:0;padding:0}.ag-color-panel{display:flex;flex-direction:column;text-align:center;width:100%}.ag-spectrum-color{cursor:default;flex:1 1 auto;overflow:visible;position:relative}.ag-spectrum-fill{inset:0;position:absolute}.ag-spectrum-val{cursor:pointer}.ag-spectrum-dragger{cursor:pointer;pointer-events:none;position:absolute}.ag-spectrum-alpha,.ag-spectrum-hue{cursor:default}.ag-spectrum-hue-background{background:linear-gradient(270deg,red 3%,#ff0 17%,#0f0 33%,#0ff 50%,#00f 67%,#f0f 83%,red);height:100%;width:100%}.ag-spectrum-alpha-background{background:linear-gradient(to right,var(--ag-internal-spectrum-alpha-color-from),var(--ag-internal-spectrum-alpha-color-to)),url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="4" height="4"><rect x="0" y="0" width="4" height="4" fill="%23fff"/><path d="M0 0H2V4H4V2H0Z" fill="%23b2b2b2"/></svg>') 0 0 /4px 4px;height:100%;width:100%}.ag-spectrum-tool{cursor:pointer;position:relative}.ag-spectrum-slider{pointer-events:none;position:absolute}.ag-spectrum-alpha .ag-spectrum-slider{background:linear-gradient(to bottom,var(--ag-internal-spectrum-alpha-color),var(--ag-internal-spectrum-alpha-color)) var(--ag-background-color)}.ag-recent-colors{display:flex;gap:6px;margin-top:10px}.ag-recent-color{cursor:pointer}.ag-angle-select[disabled]{opacity:.5;pointer-events:none}.ag-ltr .ag-angle-select-field,.ag-ltr .ag-slider-field{margin-right:calc(var(--ag-spacing)*2)}.ag-rtl .ag-angle-select-field,.ag-rtl .ag-slider-field{margin-left:calc(var(--ag-spacing)*2)}.ag-angle-select-parent-circle{background-color:var(--ag-background-color);border:1px solid;border-color:var(--ag-border-color);border-radius:12px;height:24px;width:24px}.ag-angle-select-child-circle{background-color:var(--ag-foreground-color);border-radius:3px;height:6px;left:12px;margin-left:-3px;margin-top:-4px;top:4px;width:6px}.ag-picker-field-wrapper{background-color:var(--ag-background-color);border:var(--ag-input-border);border-radius:5px;min-height:max(var(--ag-list-item-height),calc(var(--ag-spacing)*4));overflow:hidden;&:disabled{opacity:.5}&.ag-picker-has-focus,&:focus-within{border:var(--ag-input-focus-border);box-shadow:var(--ag-focus-shadow)}}.ag-picker-field-button{background-color:var(--ag-background-color)}.ag-dialog.ag-color-dialog{border-radius:5px}.ag-color-picker{.ag-picker-field-wrapper{padding-left:var(--ag-spacing);padding-right:var(--ag-spacing)}.ag-picker-field-display{align-items:center;display:flex;flex-direction:row;min-height:var(--ag-list-item-height)}}.ag-ltr .ag-color-picker-color,.ag-ltr .ag-color-picker-value{margin-right:var(--ag-spacing)}.ag-rtl .ag-color-picker-color,.ag-rtl .ag-color-picker-value{margin-left:var(--ag-spacing)}.ag-color-panel{padding:var(--ag-spacing)}.ag-spectrum-tools{padding-bottom:0;padding-left:0;padding-right:0}.ag-spectrum-tool{height:12px}.ag-spectrum-alpha-background,.ag-spectrum-hue-background{border-radius:12px}.ag-spectrum-slider{border:3px solid #f8f8f8;border-radius:18px;height:18px;margin-top:-15px;width:18px}.ag-recent-colors{margin-bottom:2px;margin-left:var(--ag-spacing);margin-right:var(--ag-spacing)}.ag-color-input-color,.ag-color-picker-color,.ag-recent-color{border-radius:4px}.ag-recent-color{border:1px solid var(--ag-border-color)}.ag-spectrum-sat{background-image:linear-gradient(90deg,#fff,hsla(20,42%,65%,0))}.ag-spectrum-val{background-image:linear-gradient(0deg,#000,hsla(20,42%,65%,0))}.ag-spectrum-dragger{background:#000;border:3px solid #fff;border-radius:18px;box-shadow:0 0 2px 0 rgba(0,0,0,.24);height:18px;width:18px}.ag-spectrum-alpha-background,.ag-spectrum-hue-background{border-radius:2px}.ag-spectrum-tool{border-radius:2px;height:11px;margin-bottom:10px}.ag-spectrum-slider{border:2px solid #fff;border-radius:13px;box-shadow:0 1px 4px 0 rgba(0,0,0,.37);height:13px;margin-top:-12px;width:13px}.ag-recent-color,.ag-spectrum-color,.ag-spectrum-slider{&:focus-visible:not(:disabled):not([readonly]){box-shadow:var(--ag-focus-shadow)}}.ag-color-input{.ag-color-input-color{position:absolute}}.ag-ltr .ag-color-input{& input[class^=ag-][type=text].ag-input-field-input{padding-left:calc(var(--ag-icon-size) + var(--ag-spacing)*2)}.ag-color-input-color{margin-left:var(--ag-spacing)}}.ag-rtl .ag-color-input{& input[class^=ag-][type=text].ag-input-field-input{padding-right:calc(var(--ag-icon-size) + var(--ag-spacing)*2)}.ag-color-input-color{margin-right:var(--ag-spacing)}}.ag-color-input-color,.ag-color-picker-color{border:1px solid var(--ag-border-color);border-radius:2px;height:var(--ag-icon-size);width:var(--ag-icon-size)}.ag-pill-select{.ag-picker-field-display{font-weight:500}.ag-picker-field-display,.ag-picker-field-icon .ag-icon{color:var(--ag-chart-menu-label-color)}}.ag-filter-toolpanel{flex:1 1 0px;min-width:0}.ag-filter-toolpanel-header{position:relative}.ag-filter-toolpanel-header,.ag-filter-toolpanel-search{align-items:center;display:flex;>*{align-items:center;display:flex}}.ag-filter-toolpanel-header{height:calc(var(--ag-spacing)*6);&:focus-visible{border-radius:var(--ag-border-radius);box-shadow:inset var(--ag-focus-shadow)}}.ag-filter-toolpanel-header,.ag-filter-toolpanel-search{padding:0 var(--ag-spacing)}.ag-filter-toolpanel-group:not(.ag-has-filter)>.ag-group-title-bar .ag-filter-toolpanel-group-instance-header-icon{display:none}.ag-filter-toolpanel-group-level-0-header{height:calc(var(--ag-spacing)*8)}.ag-filter-toolpanel-group-item{margin-bottom:calc(var(--ag-spacing)*.5);margin-top:calc(var(--ag-spacing)*.5)}.ag-filter-toolpanel-search{margin-bottom:var(--ag-spacing);margin-top:var(--ag-widget-container-vertical-padding)}.ag-filter-toolpanel-search-input{flex-grow:1;height:calc(var(--ag-spacing)*4)}.ag-ltr .ag-filter-toolpanel-group-title-bar-icon{margin-right:var(--ag-spacing)}.ag-rtl .ag-filter-toolpanel-group-title-bar-icon{margin-left:var(--ag-spacing)}.ag-filter-toolpanel-expand{cursor:pointer}.ag-ltr .ag-filter-toolpanel-expand{margin-right:var(--ag-spacing)}.ag-rtl .ag-filter-toolpanel-expand{margin-left:var(--ag-spacing)}.ag-ltr .ag-filter-toolpanel-group-title-bar,.ag-ltr .ag-filter-toolpanel-instance-header{padding-left:calc(var(--ag-spacing) + var(--ag-filter-tool-panel-group-indent)*var(--ag-indentation-level))}.ag-rtl .ag-filter-toolpanel-group-title-bar,.ag-rtl .ag-filter-toolpanel-instance-header{padding-right:calc(var(--ag-spacing) + var(--ag-filter-tool-panel-group-indent)*var(--ag-indentation-level))}.ag-ltr .ag-filter-toolpanel-instance-body{margin-left:var(--ag-filter-tool-panel-group-indent)}.ag-rtl .ag-filter-toolpanel-instance-body{margin-right:var(--ag-filter-tool-panel-group-indent)}.ag-ltr .ag-filter-toolpanel-group-instance-header-icon,.ag-ltr .ag-filter-toolpanel-instance-header-icon{margin-left:var(--ag-spacing)}.ag-rtl .ag-filter-toolpanel-group-instance-header-icon,.ag-rtl .ag-filter-toolpanel-instance-header-icon{margin-right:var(--ag-spacing)}.ag-filter-toolpanel-instance-filter{background-color:var(--ag-chrome-background-color)}.ag-filter-toolpanel-group-level-0{border-top:none}.ag-filter-toolpanel-header{height:auto;padding-bottom:var(--ag-spacing);padding-top:var(--ag-spacing)}.ag-filter-toolpanel-group-item{margin:0}.ag-filter-toolpanel-header,.ag-filter-toolpanel-search{color:var(--ag-header-text-color);font-weight:500}.ag-paging-panel{align-items:center;border-top:var(--ag-footer-row-border);display:flex;gap:calc(var(--ag-spacing)*4);height:max(var(--ag-row-height),22px);justify-content:flex-end;padding:0 var(--ag-cell-horizontal-padding)}.ag-paging-page-size .ag-wrapper{min-width:50px}.ag-paging-page-summary-panel{align-items:center;display:flex;gap:var(--ag-cell-widget-spacing);.ag-disabled &{pointer-events:none}}.ag-paging-button{cursor:pointer;position:relative;&:focus-visible{box-shadow:var(--ag-focus-shadow)}&.ag-disabled{cursor:default;opacity:.5}}.ag-paging-number,.ag-paging-row-summary-panel-number{font-weight:500}.ag-status-bar{border-top:var(--ag-footer-row-border);display:flex;justify-content:space-between;line-height:1.5;overflow:hidden;padding-left:calc(var(--ag-spacing)*4);padding-right:calc(var(--ag-spacing)*4)}.ag-status-panel{display:inline-flex}.ag-status-name-value{white-space:nowrap}.ag-status-bar-center,.ag-status-bar-left,.ag-status-bar-right{display:inline-flex}.ag-status-bar-center{text-align:center}.ag-status-name-value{margin-left:var(--ag-spacing);margin-right:var(--ag-spacing);padding-bottom:var(--ag-widget-container-vertical-padding);padding-top:var(--ag-widget-container-vertical-padding)}.ag-status-name-value-value{font-weight:500}.ag-overlay{inset:0;pointer-events:none;position:absolute;z-index:2}.ag-overlay-panel,.ag-overlay-wrapper{display:flex;height:100%;width:100%}.ag-overlay-wrapper{align-items:center;flex:none;justify-content:center;text-align:center}.ag-overlay-loading-wrapper{pointer-events:all}.ag-overlay-loading-center{background:var(--ag-background-color);border:1px solid var(--ag-border-color);border-radius:var(--ag-border-radius);box-shadow:var(--ag-popup-shadow);padding:var(--ag-spacing)}.ag-icon{display:block;height:var(--ag-icon-size);position:relative;-webkit-user-select:none;-moz-user-select:none;user-select:none;width:var(--ag-icon-size)}.ag-column-select-column-group-readonly,.ag-disabled,[disabled]{.ag-icon{opacity:.5}}.ag-column-select-column-readonly .ag-icon-grip,.ag-column-select-column-readonly.ag-icon-grip{opacity:.35}.ag-chart-menu-icon,.ag-chart-settings-next,.ag-chart-settings-prev,.ag-column-group-icons,.ag-column-select-header-icon,.ag-filter-toolpanel-expand,.ag-floating-filter-button-button,.ag-group-contracted .ag-icon,.ag-group-expanded .ag-icon,.ag-group-title-bar-icon,.ag-header-cell-filter-button,.ag-header-cell-menu-button,.ag-header-expand-icon,.ag-panel-title-bar-button,.ag-panel-title-bar-button-icon,.ag-set-filter-group-icons{&:hover{background-color:var(--ag-icon-button-hover-color);border-radius:1px;box-shadow:0 0 0 4px var(--ag-icon-button-hover-color)}}.ag-filter-active{--ag-icon-button-hover-color:color-mix(in srgb,transparent,var(--ag-accent-color) 28%);background-color:color-mix(in srgb,transparent,var(--ag-accent-color) 14%);border-radius:1px;box-shadow:0 0 0 4px color-mix(in srgb,transparent,var(--ag-accent-color) 14%);position:relative;&:after{background-color:var(--ag-accent-color);border-radius:50%;content:"";height:6px;position:absolute;top:-1px;width:6px}.ag-icon-filter{clip-path:path("M8,0C8,4.415 11.585,8 16,8L16,16L0,16L0,0L8,0Z")}}.ag-ltr .ag-filter-active{&:after{right:-1px}}.ag-rtl .ag-filter-active{&:after{left:-1px}}.ag-label-align-right{.ag-label{order:1}>*{flex:none}}.ag-label-align-top{align-items:flex-start;flex-direction:column;>*{align-self:stretch}}.ag-label-ellipsis{flex:1;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.ag-label{white-space:nowrap}.ag-ltr .ag-label{margin-right:var(--ag-spacing)}.ag-rtl .ag-label{margin-left:var(--ag-spacing)}.ag-label-align-top .ag-label{margin-bottom:calc(var(--ag-spacing)*.5)}.ag-ltr .ag-label-align-right .ag-label{margin-left:var(--ag-spacing)}.ag-rtl .ag-label-align-right .ag-label{margin-right:var(--ag-spacing)}`,Nk={backgroundColor:"#FFF",foregroundColor:"#181d1f",textColor:{ref:"foregroundColor"},accentColor:"#2196f3",invalidColor:"#e02525",borderColor:{ref:"foregroundColor",mix:.15},wrapperBorder:!0,rowBorder:!0,browserColorScheme:"light",headerRowBorder:{ref:"rowBorder"},footerRowBorder:{ref:"rowBorder"},columnBorder:{style:"solid",width:1,color:"transparent"},headerColumnBorder:!1,headerColumnBorderHeight:"100%",pinnedColumnBorder:!0,pinnedRowBorder:!0,sidePanelBorder:!0,fontFamily:["-apple-system","BlinkMacSystemFont","Segoe UI","Roboto","Oxygen-Sans","Ubuntu","Cantarell","Helvetica Neue","sans-serif"],chromeBackgroundColor:{ref:"foregroundColor",mix:.02,onto:"backgroundColor"},headerBackgroundColor:{ref:"chromeBackgroundColor"},headerFontFamily:{ref:"fontFamily"},headerFontWeight:500,headerFontSize:{ref:"fontSize"},dataFontSize:{ref:"fontSize"},headerTextColor:{ref:"textColor"},headerCellHoverBackgroundColor:"transparent",headerCellMovingBackgroundColor:{ref:"backgroundColor"},headerCellBackgroundTransitionDuration:"0.2s",cellTextColor:{ref:"textColor"},subtleTextColor:{ref:"textColor",mix:.5},rangeSelectionBorderStyle:"solid",rangeSelectionBorderColor:{ref:"accentColor"},rangeSelectionBackgroundColor:{ref:"accentColor",mix:.2},rangeSelectionChartBackgroundColor:"#0058FF1A",rangeSelectionChartCategoryBackgroundColor:"#00FF841A",rangeSelectionHighlightColor:{ref:"accentColor",mix:.5},rowHoverColor:{ref:"accentColor",mix:.08},columnHoverColor:{ref:"accentColor",mix:.05},selectedRowBackgroundColor:{ref:"accentColor",mix:.12},modalOverlayBackgroundColor:{ref:"backgroundColor",mix:.66},oddRowBackgroundColor:{ref:"backgroundColor"},borderRadius:4,wrapperBorderRadius:8,cellHorizontalPadding:{calc:"spacing * 2 * cellHorizontalPaddingScale"},cellWidgetSpacing:{calc:"spacing * 1.5"},cellHorizontalPaddingScale:1,rowGroupIndentSize:{calc:"cellWidgetSpacing + iconSize"},valueChangeDeltaUpColor:"#43a047",valueChangeDeltaDownColor:"#e53935",valueChangeValueHighlightBackgroundColor:"#16a08580",spacing:8,fontSize:14,rowHeight:{calc:"max(iconSize, dataFontSize) + spacing * 3.25 * rowVerticalPaddingScale"},rowVerticalPaddingScale:1,headerHeight:{calc:"max(iconSize, dataFontSize) + spacing * 4 * headerVerticalPaddingScale"},headerVerticalPaddingScale:1,popupShadow:{radius:16,color:"#00000026"},dropdownShadow:{radius:4,spread:1,offsetY:1,color:"#babfc766"},dragAndDropImageBackgroundColor:{ref:"backgroundColor"},dragAndDropImageBorder:!0,dragAndDropImageShadow:{ref:"popupShadow"},dragHandleColor:{ref:"foregroundColor",mix:.7},focusShadow:{spread:3,color:{ref:"accentColor",mix:.5}},sideBarPanelWidth:250,sideBarBackgroundColor:{ref:"chromeBackgroundColor"},headerColumnResizeHandleHeight:"30%",headerColumnResizeHandleWidth:2,headerColumnResizeHandleColor:{ref:"borderColor"},widgetContainerHorizontalPadding:{calc:"spacing * 1.5"},widgetContainerVerticalPadding:{calc:"spacing * 1.5"},widgetHorizontalSpacing:{calc:"spacing * 1.5"},widgetVerticalSpacing:{ref:"spacing"},listItemHeight:{calc:"iconSize + widgetVerticalSpacing"},iconSize:16,toggleButtonWidth:28,toggleButtonHeight:18,toggleButtonBorderWidth:2,toggleButtonOnBorderColor:{ref:"accentColor"},toggleButtonOnBackgroundColor:{ref:"accentColor"},toggleButtonOffBorderColor:{ref:"foregroundColor",mix:.3,onto:"backgroundColor"},toggleButtonOffBackgroundColor:{ref:"foregroundColor",mix:.3,onto:"backgroundColor"},toggleButtonSwitchBorderColor:{ref:"toggleButtonOffBorderColor"},toggleButtonSwitchBackgroundColor:{ref:"backgroundColor"},menuBorder:{color:{ref:"foregroundColor",mix:.2}},menuBackgroundColor:{ref:"foregroundColor",mix:.03,onto:"backgroundColor"},menuTextColor:{ref:"foregroundColor",mix:.95,onto:"backgroundColor"},menuShadow:{ref:"popupShadow"},menuSeparatorColor:{ref:"borderColor"},setFilterIndentSize:{ref:"iconSize"},chartMenuPanelWidth:260,chartMenuLabelColor:{ref:"foregroundColor",mix:.8},iconButtonHoverColor:{ref:"foregroundColor",mix:.1},dialogShadow:{ref:"popupShadow"},dialogBorder:{color:{ref:"foregroundColor",mix:.2}},panelBackgroundColor:{ref:"backgroundColor"},panelTitleBarBackgroundColor:{ref:"headerBackgroundColor"},panelTitleBarBorder:!0,columnSelectIndentSize:{ref:"iconSize"},toolPanelSeparatorBorder:!0,tooltipBackgroundColor:{ref:"chromeBackgroundColor"},tooltipTextColor:{ref:"textColor"},tooltipBorder:!0,columnDropCellBackgroundColor:{ref:"foregroundColor",mix:.07},columnDropCellBorder:{color:{ref:"foregroundColor",mix:.13}},selectCellBackgroundColor:{ref:"foregroundColor",mix:.07},selectCellBorder:{color:{ref:"foregroundColor",mix:.13}},advancedFilterBuilderButtonBarBorder:!0,advancedFilterBuilderIndentSize:{calc:"spacing * 2 + iconSize"},advancedFilterBuilderJoinPillColor:"#f08e8d",advancedFilterBuilderColumnPillColor:"#a6e194",advancedFilterBuilderOptionPillColor:"#f3c08b",advancedFilterBuilderValuePillColor:"#85c0e4",filterToolPanelGroupIndent:{ref:"spacing"},iconButtonHoverBackgroundColor:{ref:"foregroundColor",mix:.1},rowLoadingSkeletonEffectColor:"rgba(66, 66, 66, 0.2)"},dJ=e=>e.replace(/[A-Z]/g,t=>`-${t}`).toLowerCase(),C2=e=>`--ag-${dJ(e)}`,Sl=e=>`var(${C2(e)})`,hJ=(e,t,i)=>Math.max(t,Math.min(i,e)),gJ=e=>{const t=new Map;return i=>{const s=i;return t.has(s)||t.set(s,e(i)),t.get(s)}},pJ=gJ(e=>{if(/Color$/.test(e))return"color";if(/Scale?$/.test(e))return"scale";if(e==="spacing"||/(Padding|Spacing|Size|Width|Height|Radius|Indent|Start|End|Top|Bottom|Horizontal|Vertical)$/.test(e))return"length";if(/Border$/.test(e))return"border";if(/BorderStyle$/.test(e))return"borderStyle";if(/Shadow$/.test(e))return"shadow";if(/Image$/.test(e))return"image";if(/Family$/.test(e))return"fontFamily";if(/Weight$/.test(e))return"fontWeight";if(/Duration$/.test(e))return"duration";if(/ColorScheme$/.test(e))return"colorScheme";throw new Error(`"${e}" is not a valid theme parameter.`)}),AC=e=>typeof e=="string"?e:typeof e=="number"?String(e):!1,oR=e=>{if(typeof e=="string")return e;if("ref"in e){const t=Sl(e.ref);return e.mix==null?t:`color-mix(in srgb, ${e.onto?"var(--ag-background-color)":"transparent"}, ${t} ${hJ(e.mix*100,0,100)}%)`}return!1},fJ=AC,Cd=e=>typeof e=="string"?e:typeof e=="number"?`${e}px`:"calc"in e?`calc(${e.calc.replace(/ ?[*/+] ?/g," $& ").replace(/-?[a-z][a-z0-9]*\b(?![-(])/gi,i=>i[0]==="-"?i:` ${Sl(i)} `)})`:"ref"in e?Sl(e.ref):!1,mJ=AC,vJ=(e,t)=>typeof e=="string"?e:e===!0?"solid 1px var(--ag-border-color)":e===!1?t==="columnBorder"?"solid 1px transparent":"none":"ref"in e?Sl(e.ref):b2(e.style??"solid")+" "+Cd(e.width??1)+" "+oR(e.color??{ref:"borderColor"}),yJ=e=>typeof e=="string"?e:e===!1?"none":"ref"in e?Sl(e.ref):[Cd(e.offsetX??0),Cd(e.offsetY??0),Cd(e.radius??0),Cd(e.spread??0),oR(e.color??{ref:"foregroundColor"})].join(" "),b2=AC,S2=e=>typeof e=="string"?e:"googleFont"in e?S2(e.googleFont):"ref"in e?Sl(e.ref):Array.isArray(e)?e.map(t=>(typeof t=="object"&&"googleFont"in t&&(t=t.googleFont),/^[\w-]+$/.test(t)?t:JSON.stringify(t))).join(", "):!1,CJ=AC,w2=e=>typeof e=="string"?e:"url"in e?`url(${JSON.stringify(e.url)})`:"svg"in e?w2({url:`data:image/svg+xml,${encodeURIComponent(e.svg)}`}):"ref"in e?Sl(e.ref):!1,bJ=(e,t)=>typeof e=="string"?e:typeof e=="number"?(e>50&&at(`Numeric value ${e} passed to ${t} param will be interpreted as ${e} seconds. If this is intentional use "${e}s" to silence this warning.`),`${e}s`):"ref"in e?Sl(e.ref):!1,SJ={color:oR,colorScheme:fJ,length:Cd,scale:mJ,border:vJ,borderStyle:b2,shadow:yJ,image:w2,fontFamily:S2,fontWeight:CJ,duration:bJ},wJ=(e,t)=>{const i=pJ(e);return SJ[i](t,e)},xJ=0,MJ=(e=`customTheme${++xJ}`)=>new EJ(e,[],{}),DJ=typeof window!="object"||!window||typeof document!="object"||window.document!==document,RJ=0,zk=!1,EJ=class wM{constructor(t,i=[],s={}){this.id=t,this.dependencies=i,this.defaults=s,this.useCount=0}withPart(t){return typeof t=="function"&&(t=t()),new wM(this.id,this.dependencies.concat(t),this.defaults)}withParams(t){const i={...this.defaults};for(const[s,n]of Object.entries(t))n!=null&&(i[s]=n);return new wM(this.id,this.dependencies,i)}getCSS(){return[Fk,...this._getCSSChunks().map(t=>t.css)].join(`

`)}startUse(t){++this.useCount,this.useCount===1&&this._install(t)}stopUse(){--this.useCount,this.useCount===0&&setTimeout(()=>{this.useCount===0&&Bk(this.getCssClass(),this._installRoot)},1e3)}getCssClass(){return this._cssClass==null&&(this._cssClass=`ag-theme-${++RJ}`),this._cssClass}getParams(){if(this._getParamsCache)return this._getParamsCache;const t={...Nk};for(const i of this._getFlatUnits())for(const[s,n]of Object.entries(i.defaults)){const r=n??Nk[s];r!=null&&(t[s]=r)}return this._getParamsCache=t}async _install({container:t,loadThemeGoogleFonts:i}){if(DJ)return;zk||(zk=!0,Bk("legacy",document.head),getComputedStyle(document.body).getPropertyValue("--ag-legacy-styles-loaded")&&at("both Theming API and the ag-grid.css are used on the same page, styling will be incorrect"));let s=t.getRootNode();s instanceof ShadowRoot||(s=document.head),this._installRoot=s;const n=[];n.push(xM({css:Fk,part:"core",root:s}));for(const r of TJ(this))i?IJ(r):i==null&&ae(`theme uses google font ${r} but no value for loadThemeGoogleFonts was provided. Pass true to load fonts from ${x2} or false to silence this warning.`);for(const r of this._getCSSChunks())xM({css:r.css,part:r.id,scope:this.getCssClass(),root:s});return Promise.all(n)}_getFlatUnits(){if(this._getFlatUnitsCache)return this._getFlatUnitsCache;const t={};for(const s of this.dependencies)delete t[s.feature],t[s.feature]=s;const i=[...Object.values(t),this];return this._getFlatUnitsCache=i}_getCSSChunks(){if(this._getCssChunksCache)return this._getCssChunksCache;const t=[];t.push(AJ(this));for(const i of this._getFlatUnits())if(i.css&&i.css.length>0){let s=`/* Part ${i.id} */`;s+=i.css.map(n=>typeof n=="function"?n():n).join(`
`)+`
`,s=`.${this.getCssClass()} {
	${s}
}`,t.push({css:s,id:i.id})}return this._getCssChunksCache=t}},AJ=e=>{let t="",i="";for(const[r,o]of Object.entries(e.getParams())){const a=wJ(r,o);if(a===!1)at(`Invalid value for param ${r} - ${kJ(o)}`);else{const l=C2(r),d=l.replace("--ag-","--ag-inherited-");t+=`	${l}: var(${d}, ${a});
`,i+=`	${d}: var(${l});
`}}const s=`:where(.${e.getCssClass()})`;let n=`${s} {
${t}}
`;return n+=`:has(> ${s}):not(${s}) {
${i}}
`,{css:n,id:"variables"}},TJ=e=>Array.from(new Set(Object.values(e.getParams()).flat().map(t=>t==null?void 0:t.googleFont).filter(t=>typeof t=="string"))).sort(),xM=async({root:e,part:t,scope:i,css:s})=>{let n=`:scope > style[data-ag-part="${t}"]`;i&&(n+=`[data-ag-scope="${i}"]`);let r=e.querySelector(n);if(!r){r=document.createElement("style"),r.dataset.agPart=t,i&&(r.dataset.agScope=i);const o=e.querySelectorAll(":scope > style[data-ag-part]"),a=o[o.length-1];a?a.insertAdjacentElement("afterend",r):e.firstElementChild?e.firstElementChild.insertAdjacentElement("beforebegin",r):e.appendChild(r)}if(r._agTextContent!==s)return r.textContent=s,r._agTextContent=s,LJ(r)},Bk=(e,t)=>{for(const i of Array.from(t.querySelectorAll(`:scope > style[data-ag-scope="${e}"]`)))i.remove()},Gk=new Set,IJ=async e=>{if(Gk.has(e))return;Gk.add(e);const t=`@import url('https://${x2}/css2?family=${encodeURIComponent(e)}:wght@100;200;300;400;500;600;700;800;900&display=swap');
`;return xM({css:t,part:`googleFont:${e}`,root:document.head})},x2="fonts.googleapis.com",LJ=e=>new Promise(t=>{const i=()=>{e.removeEventListener("load",i),t()};e.addEventListener("load",i)}),kJ=e=>e==null?String(e):`${typeof e} ${e}`,PJ='.ag-checkbox-input-wrapper,.ag-radio-button-input-wrapper{background-color:var(--ag-checkbox-unchecked-background-color);border:solid var(--ag-checkbox-border-width) var(--ag-checkbox-unchecked-border-color);flex:none;height:var(--ag-icon-size);position:relative;width:var(--ag-icon-size);& input{-webkit-appearance:none;-moz-appearance:none;appearance:none;height:100%;opacity:0;width:100%}&:after{content:"";display:block;inset:0;-webkit-mask-position:center;mask-position:center;-webkit-mask-repeat:no-repeat;mask-repeat:no-repeat;pointer-events:none;position:absolute}&.ag-checked{background-color:var(--ag-checkbox-checked-background-color);border-color:var(--ag-checkbox-checked-border-color);&:after{background-color:var(--ag-checkbox-checked-shape-color)}}&:active,&:focus-within{box-shadow:var(--ag-focus-shadow)}&.ag-disabled{filter:grayscale();opacity:.5}}.ag-checkbox-input-wrapper{border-radius:var(--ag-checkbox-border-radius);&.ag-checked:after{-webkit-mask-image:var(--ag-checkbox-checked-shape-image);mask-image:var(--ag-checkbox-checked-shape-image)}&.ag-indeterminate{background-color:var(--ag-checkbox-indeterminate-background-color);border-color:var(--ag-checkbox-indeterminate-border-color);&:after{background-color:var(--ag-checkbox-indeterminate-shape-color);-webkit-mask-image:var(--ag-checkbox-indeterminate-shape-image);mask-image:var(--ag-checkbox-indeterminate-shape-image)}}}.ag-radio-button-input-wrapper{border-radius:100%;&.ag-checked:after{-webkit-mask-image:var(--ag-radio-checked-shape-image);mask-image:var(--ag-radio-checked-shape-image)}}',OJ=dh("checkboxStyle","default").withAdditionalParams({checkboxBorderWidth:1,checkboxBorderRadius:{ref:"borderRadius"},checkboxUncheckedBackgroundColor:{ref:"backgroundColor"},checkboxUncheckedBorderColor:{ref:"foregroundColor",mix:.3,onto:"backgroundColor"},checkboxCheckedBackgroundColor:{ref:"accentColor"},checkboxCheckedBorderColor:{ref:"accentColor"},checkboxCheckedShapeImage:{svg:'<svg xmlns="http://www.w3.org/2000/svg" width="10" height="7" fill="none"><path stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.75" d="M1 3.5 3.5 6l5-5"/></svg>'},checkboxCheckedShapeColor:{ref:"backgroundColor"},checkboxIndeterminateBackgroundColor:{ref:"foregroundColor",mix:.3,onto:"backgroundColor"},checkboxIndeterminateBorderColor:{ref:"foregroundColor",mix:.3,onto:"backgroundColor"},checkboxIndeterminateShapeImage:{svg:'<svg xmlns="http://www.w3.org/2000/svg" width="10" height="2" fill="none"><rect width="10" height="2" fill="#000" rx="1"/></svg>'},checkboxIndeterminateShapeColor:{ref:"backgroundColor"},radioCheckedShapeImage:{svg:'<svg xmlns="http://www.w3.org/2000/svg" width="6" height="6" fill="none"><circle cx="3" cy="3" r="3" fill="#000"/></svg>'}}).withCSS(PJ),FJ=dh("colorScheme","light"),aR=dh("colorScheme","darkWarm").withParams({backgroundColor:"hsl(29, 10%, 17%)",foregroundColor:"#FFF",chromeBackgroundColor:{ref:"foregroundColor",mix:.05,onto:"backgroundColor"},browserColorScheme:"dark"}),NJ=`.ag-icon:before{background-color:currentColor;content:"";display:block;height:var(--ag-icon-size);-webkit-mask-image:linear-gradient(#0000,#0000);mask-image:linear-gradient(#0000,#0000);-webkit-mask-size:contain;mask-size:contain;width:var(--ag-icon-size)}.ag-icon-aggregation:before{-webkit-mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M24 6H8v2l8 8-8 8v2h16v-2H11l8-8-8-8h13z' style='fill-rule:nonzero'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M24 6H8v2l8 8-8 8v2h16v-2H11l8-8-8-8h13z' style='fill-rule:nonzero'/%3E%3C/svg%3E")}.ag-icon-arrows:before{-webkit-mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M7.515 11.171 2.687 16l4.828 4.829-1.414 1.414L-.142 16l6.243-6.243zm16.97 0 1.414-1.414L32.142 16l-6.243 6.243-1.414-1.414L29.313 16zM16.028 13.2l2.829 2.828-2.829 2.829-2.828-2.829zm-4.857 11.285L16 29.313l4.829-4.828 1.414 1.414L16 32.142l-6.243-6.243zm0-16.97L9.757 6.101 16-.142l6.243 6.243-1.414 1.414L16 2.687z' style='fill-rule:nonzero'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M7.515 11.171 2.687 16l4.828 4.829-1.414 1.414L-.142 16l6.243-6.243zm16.97 0 1.414-1.414L32.142 16l-6.243 6.243-1.414-1.414L29.313 16zM16.028 13.2l2.829 2.828-2.829 2.829-2.828-2.829zm-4.857 11.285L16 29.313l4.829-4.828 1.414 1.414L16 32.142l-6.243-6.243zm0-16.97L9.757 6.101 16-.142l6.243 6.243-1.414 1.414L16 2.687z' style='fill-rule:nonzero'/%3E%3C/svg%3E")}.ag-icon-asc:before{-webkit-mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='m5.333 16 1.88 1.88 7.453-7.44v16.227h2.667V10.44l7.44 7.453L26.666 16 15.999 5.333 5.332 16z' style='fill-rule:nonzero'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='m5.333 16 1.88 1.88 7.453-7.44v16.227h2.667V10.44l7.44 7.453L26.666 16 15.999 5.333 5.332 16z' style='fill-rule:nonzero'/%3E%3C/svg%3E")}.ag-icon-cancel:before{-webkit-mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M16 2.667A13.32 13.32 0 0 0 2.667 16c0 7.373 5.96 13.333 13.333 13.333S29.333 23.373 29.333 16 23.373 2.667 16 2.667m6.667 18.12-1.88 1.88L16 17.88l-4.787 4.787-1.88-1.88L14.12 16l-4.787-4.787 1.88-1.88L16 14.12l4.787-4.787 1.88 1.88L17.88 16z' style='fill-rule:nonzero'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M16 2.667A13.32 13.32 0 0 0 2.667 16c0 7.373 5.96 13.333 13.333 13.333S29.333 23.373 29.333 16 23.373 2.667 16 2.667m6.667 18.12-1.88 1.88L16 17.88l-4.787 4.787-1.88-1.88L14.12 16l-4.787-4.787 1.88-1.88L16 14.12l4.787-4.787 1.88 1.88L17.88 16z' style='fill-rule:nonzero'/%3E%3C/svg%3E")}.ag-icon-chart:before{-webkit-mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Echart%3C/title%3E%3Cg fill='%23000' fill-rule='nonzero'%3E%3Cpath d='M14 7h4v18h-4zM8 17h4v8H8zM20 13h4v12h-4z'/%3E%3C/g%3E%3C/svg%3E");mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Echart%3C/title%3E%3Cg fill='%23000' fill-rule='nonzero'%3E%3Cpath d='M14 7h4v18h-4zM8 17h4v8H8zM20 13h4v12h-4z'/%3E%3C/g%3E%3C/svg%3E")}.ag-icon-color-picker:before{-webkit-mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M23.907 17.587 10.574 4.254l-1.88 1.88 3.173 3.173-8.28 8.28 10.16 10.16zm-16.547 0 6.387-6.387 6.387 6.387zm18.387 2s-2.667 2.893-2.667 4.667c0 1.467 1.2 2.667 2.667 2.667s2.667-1.2 2.667-2.667c0-1.773-2.667-4.667-2.667-4.667' style='fill-rule:nonzero'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M23.907 17.587 10.574 4.254l-1.88 1.88 3.173 3.173-8.28 8.28 10.16 10.16zm-16.547 0 6.387-6.387 6.387 6.387zm18.387 2s-2.667 2.893-2.667 4.667c0 1.467 1.2 2.667 2.667 2.667s2.667-1.2 2.667-2.667c0-1.773-2.667-4.667-2.667-4.667' style='fill-rule:nonzero'/%3E%3C/svg%3E")}.ag-icon-columns:before{-webkit-mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M26 25H6V7h20zM12 11H8v12h4zm6 0h-4v12h4zm6 12V11h-4v12z' style='fill-rule:nonzero' transform='translate(0 -1)'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M26 25H6V7h20zM12 11H8v12h4zm6 0h-4v12h4zm6 12V11h-4v12z' style='fill-rule:nonzero' transform='translate(0 -1)'/%3E%3C/svg%3E")}.ag-icon-contracted:before{-webkit-mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='m12 6 10 10-10 10-2-2 8-8-8-8z'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='m12 6 10 10-10 10-2-2 8-8-8-8z'/%3E%3C/svg%3E")}.ag-icon-copy:before{-webkit-mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M22 1.333H6A2.675 2.675 0 0 0 3.333 4v18.667H6V4h16zm4 5.334H11.333a2.675 2.675 0 0 0-2.667 2.667v18.667c0 1.467 1.2 2.667 2.667 2.667H26c1.467 0 2.667-1.2 2.667-2.667V9.334c0-1.467-1.2-2.667-2.667-2.667M26 28H11.333V9.333H26z' style='fill-rule:nonzero'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M22 1.333H6A2.675 2.675 0 0 0 3.333 4v18.667H6V4h16zm4 5.334H11.333a2.675 2.675 0 0 0-2.667 2.667v18.667c0 1.467 1.2 2.667 2.667 2.667H26c1.467 0 2.667-1.2 2.667-2.667V9.334c0-1.467-1.2-2.667-2.667-2.667M26 28H11.333V9.333H26z' style='fill-rule:nonzero'/%3E%3C/svg%3E")}.ag-icon-cross:before{-webkit-mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M15.984 13.894 27.05 2.828l2.122 2.122-11.066 11.066 11.066 11.066-2.122 2.12-11.066-11.066L4.918 29.202l-2.12-2.12 11.066-11.066L2.798 4.95l2.12-2.122z'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M15.984 13.894 27.05 2.828l2.122 2.122-11.066 11.066 11.066 11.066-2.122 2.12-11.066-11.066L4.918 29.202l-2.12-2.12 11.066-11.066L2.798 4.95l2.12-2.122z'/%3E%3C/svg%3E")}.ag-icon-csv:before{-webkit-mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M384 131.9c-7.753-8.433-110.425-128.473-114.9-133L48-.1C21.5 0 0 21.5 0 48v416c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48zm-35.9 2.1H257V27.9zM30 479V27h200l1 105c0 13.3-1.3 29 12 29h111l1 318z' style='fill-rule:nonzero' transform='matrix(.06285 0 0 .06285 3.934 -.054)'/%3E%3Cpath d='M.688-.226a.2.2 0 0 1-.017.074.28.28 0 0 1-.145.14.412.412 0 0 1-.234.013.28.28 0 0 1-.202-.168.468.468 0 0 1-.04-.19q0-.086.025-.155a.319.319 0 0 1 .182-.191.4.4 0 0 1 .134-.025q.087 0 .155.035a.3.3 0 0 1 .104.085.17.17 0 0 1 .036.097.06.06 0 0 1-.018.044.06.06 0 0 1-.042.019.06.06 0 0 1-.042-.013.2.2 0 0 1-.031-.046.2.2 0 0 0-.066-.079.16.16 0 0 0-.095-.027.17.17 0 0 0-.142.068.3.3 0 0 0-.053.193.4.4 0 0 0 .023.139.2.2 0 0 0 .067.083.2.2 0 0 0 .1.027q.063 0 .106-.031a.2.2 0 0 0 .065-.091.2.2 0 0 1 .023-.046q.014-.018.044-.018a.06.06 0 0 1 .044.018.06.06 0 0 1 .019.045' style='fill-rule:nonzero' transform='matrix(8.39799 0 0 12.455 7.122 25.977)'/%3E%3Cpath d='M.622-.215a.2.2 0 0 1-.033.117.23.23 0 0 1-.098.081.4.4 0 0 1-.153.029.34.34 0 0 1-.175-.04.23.23 0 0 1-.079-.077.17.17 0 0 1-.031-.093q0-.027.019-.045a.06.06 0 0 1 .046-.019.06.06 0 0 1 .039.014.1.1 0 0 1 .027.044.3.3 0 0 0 .03.057q.015.023.044.038.03.015.076.015.065 0 .105-.03a.09.09 0 0 0 .04-.075.08.08 0 0 0-.022-.058.14.14 0 0 0-.056-.034 1 1 0 0 0-.092-.025.7.7 0 0 1-.129-.042.2.2 0 0 1-.083-.066.17.17 0 0 1-.03-.104q0-.058.032-.105a.2.2 0 0 1 .093-.07.4.4 0 0 1 .144-.025q.066 0 .114.016a.3.3 0 0 1 .08.044.2.2 0 0 1 .046.057q.015.03.015.058a.07.07 0 0 1-.018.046.06.06 0 0 1-.046.021q-.025 0-.038-.012a.2.2 0 0 1-.028-.041.2.2 0 0 0-.047-.063Q.387-.625.326-.625a.15.15 0 0 0-.09.025q-.035.024-.035.059 0 .021.012.037a.1.1 0 0 0 .032.027.4.4 0 0 0 .111.036q.06.015.11.031.048.018.083.042a.2.2 0 0 1 .054.062.2.2 0 0 1 .019.091' style='fill-rule:nonzero' transform='matrix(8.39799 0 0 12.455 13.339 25.977)'/%3E%3Cpath d='m.184-.633.162.48.163-.483q.013-.038.019-.053a.062.062 0 0 1 .061-.039q.018 0 .034.009a.1.1 0 0 1 .025.025q.009.015.009.031L.654-.64l-.007.025-.009.024-.173.468-.019.051a.2.2 0 0 1-.021.042.1.1 0 0 1-.033.03.1.1 0 0 1-.049.012.1.1 0 0 1-.05-.011A.1.1 0 0 1 .26-.03a.2.2 0 0 1-.021-.042L.22-.123.05-.587.041-.612.033-.638.03-.662q0-.025.02-.046a.07.07 0 0 1 .05-.02q.037 0 .053.023.015.023.031.072' style='fill-rule:nonzero' transform='matrix(8.39799 0 0 12.455 18.94 25.977)'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M384 131.9c-7.753-8.433-110.425-128.473-114.9-133L48-.1C21.5 0 0 21.5 0 48v416c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48zm-35.9 2.1H257V27.9zM30 479V27h200l1 105c0 13.3-1.3 29 12 29h111l1 318z' style='fill-rule:nonzero' transform='matrix(.06285 0 0 .06285 3.934 -.054)'/%3E%3Cpath d='M.688-.226a.2.2 0 0 1-.017.074.28.28 0 0 1-.145.14.412.412 0 0 1-.234.013.28.28 0 0 1-.202-.168.468.468 0 0 1-.04-.19q0-.086.025-.155a.319.319 0 0 1 .182-.191.4.4 0 0 1 .134-.025q.087 0 .155.035a.3.3 0 0 1 .104.085.17.17 0 0 1 .036.097.06.06 0 0 1-.018.044.06.06 0 0 1-.042.019.06.06 0 0 1-.042-.013.2.2 0 0 1-.031-.046.2.2 0 0 0-.066-.079.16.16 0 0 0-.095-.027.17.17 0 0 0-.142.068.3.3 0 0 0-.053.193.4.4 0 0 0 .023.139.2.2 0 0 0 .067.083.2.2 0 0 0 .1.027q.063 0 .106-.031a.2.2 0 0 0 .065-.091.2.2 0 0 1 .023-.046q.014-.018.044-.018a.06.06 0 0 1 .044.018.06.06 0 0 1 .019.045' style='fill-rule:nonzero' transform='matrix(8.39799 0 0 12.455 7.122 25.977)'/%3E%3Cpath d='M.622-.215a.2.2 0 0 1-.033.117.23.23 0 0 1-.098.081.4.4 0 0 1-.153.029.34.34 0 0 1-.175-.04.23.23 0 0 1-.079-.077.17.17 0 0 1-.031-.093q0-.027.019-.045a.06.06 0 0 1 .046-.019.06.06 0 0 1 .039.014.1.1 0 0 1 .027.044.3.3 0 0 0 .03.057q.015.023.044.038.03.015.076.015.065 0 .105-.03a.09.09 0 0 0 .04-.075.08.08 0 0 0-.022-.058.14.14 0 0 0-.056-.034 1 1 0 0 0-.092-.025.7.7 0 0 1-.129-.042.2.2 0 0 1-.083-.066.17.17 0 0 1-.03-.104q0-.058.032-.105a.2.2 0 0 1 .093-.07.4.4 0 0 1 .144-.025q.066 0 .114.016a.3.3 0 0 1 .08.044.2.2 0 0 1 .046.057q.015.03.015.058a.07.07 0 0 1-.018.046.06.06 0 0 1-.046.021q-.025 0-.038-.012a.2.2 0 0 1-.028-.041.2.2 0 0 0-.047-.063Q.387-.625.326-.625a.15.15 0 0 0-.09.025q-.035.024-.035.059 0 .021.012.037a.1.1 0 0 0 .032.027.4.4 0 0 0 .111.036q.06.015.11.031.048.018.083.042a.2.2 0 0 1 .054.062.2.2 0 0 1 .019.091' style='fill-rule:nonzero' transform='matrix(8.39799 0 0 12.455 13.339 25.977)'/%3E%3Cpath d='m.184-.633.162.48.163-.483q.013-.038.019-.053a.062.062 0 0 1 .061-.039q.018 0 .034.009a.1.1 0 0 1 .025.025q.009.015.009.031L.654-.64l-.007.025-.009.024-.173.468-.019.051a.2.2 0 0 1-.021.042.1.1 0 0 1-.033.03.1.1 0 0 1-.049.012.1.1 0 0 1-.05-.011A.1.1 0 0 1 .26-.03a.2.2 0 0 1-.021-.042L.22-.123.05-.587.041-.612.033-.638.03-.662q0-.025.02-.046a.07.07 0 0 1 .05-.02q.037 0 .053.023.015.023.031.072' style='fill-rule:nonzero' transform='matrix(8.39799 0 0 12.455 18.94 25.977)'/%3E%3C/svg%3E")}.ag-icon-cut:before{-webkit-mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M13.775 15.198 3.835 2.945a1.501 1.501 0 0 1 2.33-1.89l14.997 18.488A6.003 6.003 0 0 1 29.657 25c0 3.311-2.688 6-6 6s-6-2.689-6-6c0-1.335.437-2.569 1.176-3.566l-3.127-3.855-3.001 3.7A5.97 5.97 0 0 1 14 25c0 3.311-2.689 6-6 6s-6-2.689-6-6a6.003 6.003 0 0 1 8.315-5.536zm9.882 6.702a3.1 3.1 0 0 0-3.1 3.1c0 1.711 1.389 3.1 3.1 3.1s3.1-1.389 3.1-3.1-1.389-3.1-3.1-3.1M8 21.95a3.05 3.05 0 1 0 .001 6.101A3.05 3.05 0 0 0 8 21.95m9.63-11.505 1.932 2.381 8.015-9.881a1.5 1.5 0 0 0-2.329-1.89z' style='fill-rule:nonzero'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M13.775 15.198 3.835 2.945a1.501 1.501 0 0 1 2.33-1.89l14.997 18.488A6.003 6.003 0 0 1 29.657 25c0 3.311-2.688 6-6 6s-6-2.689-6-6c0-1.335.437-2.569 1.176-3.566l-3.127-3.855-3.001 3.7A5.97 5.97 0 0 1 14 25c0 3.311-2.689 6-6 6s-6-2.689-6-6a6.003 6.003 0 0 1 8.315-5.536zm9.882 6.702a3.1 3.1 0 0 0-3.1 3.1c0 1.711 1.389 3.1 3.1 3.1s3.1-1.389 3.1-3.1-1.389-3.1-3.1-3.1M8 21.95a3.05 3.05 0 1 0 .001 6.101A3.05 3.05 0 0 0 8 21.95m9.63-11.505 1.932 2.381 8.015-9.881a1.5 1.5 0 0 0-2.329-1.89z' style='fill-rule:nonzero'/%3E%3C/svg%3E")}.ag-icon-desc:before,.ag-icon-down:before{-webkit-mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='m26.667 16-1.88-1.88-7.453 7.44V5.333h-2.667V21.56l-7.44-7.453L5.334 16l10.667 10.667z' style='fill-rule:nonzero'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='m26.667 16-1.88-1.88-7.453 7.44V5.333h-2.667V21.56l-7.44-7.453L5.334 16l10.667 10.667z' style='fill-rule:nonzero'/%3E%3C/svg%3E")}.ag-icon-excel:before{-webkit-mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M384 131.9c-7.753-8.433-110.425-128.473-114.9-133L48-.1C21.5 0 0 21.5 0 48v416c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48zm-35.9 2.1H257V27.9zM30 479V27h200l1 105c0 13.3-1.3 29 12 29h111l1 318z' style='fill-rule:nonzero' transform='matrix(.06285 0 0 .06285 3.934 -.054)'/%3E%3Cpath d='m.052-.139.16-.234-.135-.208a.4.4 0 0 1-.028-.052.1.1 0 0 1-.01-.042.05.05 0 0 1 .018-.037.07.07 0 0 1 .045-.016q.03 0 .047.018a1 1 0 0 1 .047.066l.107.174.115-.174.024-.038.019-.026.021-.015a.1.1 0 0 1 .027-.005.06.06 0 0 1 .044.016.05.05 0 0 1 .018.039q0 .033-.038.089l-.141.211.152.234a.3.3 0 0 1 .03.051.1.1 0 0 1 .009.038.1.1 0 0 1-.008.031.1.1 0 0 1-.024.023.1.1 0 0 1-.034.008.1.1 0 0 1-.035-.008.1.1 0 0 1-.023-.022L.427-.067.301-.265l-.134.204-.022.034-.016.019a.1.1 0 0 1-.022.015.1.1 0 0 1-.03.005.06.06 0 0 1-.044-.016.06.06 0 0 1-.017-.047q0-.036.036-.088' style='fill-rule:nonzero' transform='matrix(17.82892 0 0 16.50777 10.371 25.928)'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M384 131.9c-7.753-8.433-110.425-128.473-114.9-133L48-.1C21.5 0 0 21.5 0 48v416c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48zm-35.9 2.1H257V27.9zM30 479V27h200l1 105c0 13.3-1.3 29 12 29h111l1 318z' style='fill-rule:nonzero' transform='matrix(.06285 0 0 .06285 3.934 -.054)'/%3E%3Cpath d='m.052-.139.16-.234-.135-.208a.4.4 0 0 1-.028-.052.1.1 0 0 1-.01-.042.05.05 0 0 1 .018-.037.07.07 0 0 1 .045-.016q.03 0 .047.018a1 1 0 0 1 .047.066l.107.174.115-.174.024-.038.019-.026.021-.015a.1.1 0 0 1 .027-.005.06.06 0 0 1 .044.016.05.05 0 0 1 .018.039q0 .033-.038.089l-.141.211.152.234a.3.3 0 0 1 .03.051.1.1 0 0 1 .009.038.1.1 0 0 1-.008.031.1.1 0 0 1-.024.023.1.1 0 0 1-.034.008.1.1 0 0 1-.035-.008.1.1 0 0 1-.023-.022L.427-.067.301-.265l-.134.204-.022.034-.016.019a.1.1 0 0 1-.022.015.1.1 0 0 1-.03.005.06.06 0 0 1-.044-.016.06.06 0 0 1-.017-.047q0-.036.036-.088' style='fill-rule:nonzero' transform='matrix(17.82892 0 0 16.50777 10.371 25.928)'/%3E%3C/svg%3E")}.ag-icon-expanded:before{-webkit-mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M20 26 10 16 20 6l2 2-8 8 8 8z'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M20 26 10 16 20 6l2 2-8 8 8 8z'/%3E%3C/svg%3E")}.ag-icon-eye-slash:before{-webkit-mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Eeye-slash%3C/title%3E%3Cpath fill='%23000' fill-rule='nonzero' d='M8.95 10.364 7 8.414 8.414 7l2.32 2.32A13.2 13.2 0 0 1 16.5 8c5.608 0 10.542 3.515 12.381 8.667L29 17l-.119.333a13 13 0 0 1-4.255 5.879l1.466 1.466-1.414 1.414-1.754-1.753A13.2 13.2 0 0 1 16.5 26c-5.608 0-10.542-3.515-12.381-8.667L4 17l.119-.333a13 13 0 0 1 4.83-6.303m1.445 1.445A11.02 11.02 0 0 0 6.148 17c1.646 4.177 5.728 7 10.352 7 1.76 0 3.441-.409 4.94-1.146l-1.878-1.878A5.06 5.06 0 0 1 16.5 22c-2.789 0-5.05-2.239-5.05-5 0-1.158.398-2.223 1.065-3.07zm1.855-.974 1.794 1.795A5.07 5.07 0 0 1 16.5 12c2.789 0 5.05 2.239 5.05 5 0 .9-.24 1.745-.661 2.474l2.305 2.306A11 11 0 0 0 26.852 17c-1.646-4.177-5.728-7-10.352-7-1.495 0-2.933.295-4.25.835'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Eeye-slash%3C/title%3E%3Cpath fill='%23000' fill-rule='nonzero' d='M8.95 10.364 7 8.414 8.414 7l2.32 2.32A13.2 13.2 0 0 1 16.5 8c5.608 0 10.542 3.515 12.381 8.667L29 17l-.119.333a13 13 0 0 1-4.255 5.879l1.466 1.466-1.414 1.414-1.754-1.753A13.2 13.2 0 0 1 16.5 26c-5.608 0-10.542-3.515-12.381-8.667L4 17l.119-.333a13 13 0 0 1 4.83-6.303m1.445 1.445A11.02 11.02 0 0 0 6.148 17c1.646 4.177 5.728 7 10.352 7 1.76 0 3.441-.409 4.94-1.146l-1.878-1.878A5.06 5.06 0 0 1 16.5 22c-2.789 0-5.05-2.239-5.05-5 0-1.158.398-2.223 1.065-3.07zm1.855-.974 1.794 1.795A5.07 5.07 0 0 1 16.5 12c2.789 0 5.05 2.239 5.05 5 0 .9-.24 1.745-.661 2.474l2.305 2.306A11 11 0 0 0 26.852 17c-1.646-4.177-5.728-7-10.352-7-1.495 0-2.933.295-4.25.835'/%3E%3C/svg%3E")}.ag-icon-eye:before{-webkit-mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M16.5 23c4.624 0 8.706-2.823 10.352-7-1.646-4.177-5.728-7-10.352-7s-8.706 2.823-10.352 7c1.646 4.177 5.728 7 10.352 7M4.119 15.667C5.958 10.515 10.892 7 16.5 7s10.542 3.515 12.381 8.667L29 16l-.119.333C27.042 21.485 22.108 25 16.5 25S5.958 21.485 4.119 16.333L4 16zM16.5 21c2.789 0 5.049-2.239 5.049-5s-2.26-5-5.049-5-5.049 2.239-5.049 5 2.26 5 5.049 5' style='fill-rule:nonzero'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M16.5 23c4.624 0 8.706-2.823 10.352-7-1.646-4.177-5.728-7-10.352-7s-8.706 2.823-10.352 7c1.646 4.177 5.728 7 10.352 7M4.119 15.667C5.958 10.515 10.892 7 16.5 7s10.542 3.515 12.381 8.667L29 16l-.119.333C27.042 21.485 22.108 25 16.5 25S5.958 21.485 4.119 16.333L4 16zM16.5 21c2.789 0 5.049-2.239 5.049-5s-2.26-5-5.049-5-5.049 2.239-5.049 5 2.26 5 5.049 5' style='fill-rule:nonzero'/%3E%3C/svg%3E")}.ag-icon-filter:before{-webkit-mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='m28 8-8 8v5l-6 6V16L6 8V6h22zM9 8l7 7v7l2-2v-5l7-7z' style='fill-rule:nonzero'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='m28 8-8 8v5l-6 6V16L6 8V6h22zM9 8l7 7v7l2-2v-5l7-7z' style='fill-rule:nonzero'/%3E%3C/svg%3E")}.ag-icon-first:before{-webkit-mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M24.273 22.12 18.153 16l6.12-6.12L22.393 8l-8 8 8 8zM7.727 8h2.667v16H7.727z' style='fill-rule:nonzero'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M24.273 22.12 18.153 16l6.12-6.12L22.393 8l-8 8 8 8zM7.727 8h2.667v16H7.727z' style='fill-rule:nonzero'/%3E%3C/svg%3E")}.ag-icon-group:before{-webkit-mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M14 7v1H9V7zm0-3v1H5.001V4zm-7 7H5v-1h2zm0-3H5V7h2zM3 5H1V4h2zm11 5v1H9v-1zm-7 4H5v-1h2zm7-1v1H9v-1z' style='fill-rule:nonzero' transform='matrix(2 0 0 2 0 -2)'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M14 7v1H9V7zm0-3v1H5.001V4zm-7 7H5v-1h2zm0-3H5V7h2zM3 5H1V4h2zm11 5v1H9v-1zm-7 4H5v-1h2zm7-1v1H9v-1z' style='fill-rule:nonzero' transform='matrix(2 0 0 2 0 -2)'/%3E%3C/svg%3E")}.ag-icon-last:before{-webkit-mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='m7.727 9.88 6.12 6.12-6.12 6.12L9.607 24l8-8-8-8zM21.607 8h2.667v16h-2.667z' style='fill-rule:nonzero'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='m7.727 9.88 6.12 6.12-6.12 6.12L9.607 24l8-8-8-8zM21.607 8h2.667v16h-2.667z' style='fill-rule:nonzero'/%3E%3C/svg%3E")}.ag-icon-left:before{-webkit-mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M26.667 14.667H10.44l7.453-7.453L16 5.334 5.333 16.001 16 26.668l1.88-1.88-7.44-7.453h16.227z' style='fill-rule:nonzero'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M26.667 14.667H10.44l7.453-7.453L16 5.334 5.333 16.001 16 26.668l1.88-1.88-7.44-7.453h16.227z' style='fill-rule:nonzero'/%3E%3C/svg%3E")}.ag-icon-linked:before{-webkit-mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M5.2 16a4.136 4.136 0 0 1 4.133-4.133h5.333V9.334H9.333a6.67 6.67 0 0 0-6.667 6.667 6.67 6.67 0 0 0 6.667 6.667h5.333v-2.533H9.333A4.136 4.136 0 0 1 5.2 16.002zm5.467 1.333h10.667v-2.667H10.667zm12-8h-5.333v2.533h5.333a4.136 4.136 0 0 1 4.133 4.133 4.136 4.136 0 0 1-4.133 4.133h-5.333v2.533h5.333a6.67 6.67 0 0 0 6.667-6.667 6.67 6.67 0 0 0-6.667-6.667z' style='fill-rule:nonzero'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M5.2 16a4.136 4.136 0 0 1 4.133-4.133h5.333V9.334H9.333a6.67 6.67 0 0 0-6.667 6.667 6.67 6.67 0 0 0 6.667 6.667h5.333v-2.533H9.333A4.136 4.136 0 0 1 5.2 16.002zm5.467 1.333h10.667v-2.667H10.667zm12-8h-5.333v2.533h5.333a4.136 4.136 0 0 1 4.133 4.133 4.136 4.136 0 0 1-4.133 4.133h-5.333v2.533h5.333a6.67 6.67 0 0 0 6.667-6.667 6.67 6.67 0 0 0-6.667-6.667z' style='fill-rule:nonzero'/%3E%3C/svg%3E")}.ag-icon-loading:before{-webkit-mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M17 29h-2v-8h2zm-3.586-9L7 26.414 5.586 25 12 18.586zm13 5L25 26.414 18.586 20 20 18.586zM29 17h-8v-2h8zm-18 0H3v-2h8zm2.414-5L12 13.414 5.586 7 7 5.586zm13-5L20 13.414 18.586 12 25 5.586zM17 11h-2V3h2z' style='fill-rule:nonzero' transform='translate(-3.692 -3.692)scale(1.23077)'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M17 29h-2v-8h2zm-3.586-9L7 26.414 5.586 25 12 18.586zm13 5L25 26.414 18.586 20 20 18.586zM29 17h-8v-2h8zm-18 0H3v-2h8zm2.414-5L12 13.414 5.586 7 7 5.586zm13-5L20 13.414 18.586 12 25 5.586zM17 11h-2V3h2z' style='fill-rule:nonzero' transform='translate(-3.692 -3.692)scale(1.23077)'/%3E%3C/svg%3E")}.ag-icon-maximize:before{-webkit-mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M14 30H2V18h2.828v7.05l8.254-8.252 2.12 2.12-8.252 8.254H14zm4-28h12v12h-2.828V6.95l-8.254 8.252-2.12-2.12 8.252-8.254H18z'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M14 30H2V18h2.828v7.05l8.254-8.252 2.12 2.12-8.252 8.254H14zm4-28h12v12h-2.828V6.95l-8.254 8.252-2.12-2.12 8.252-8.254H18z'/%3E%3C/svg%3E")}.ag-icon-menu:before{-webkit-mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M20 13H0v-2h20zm0-6H0V5h20zm0-6H0v-2h20z' style='fill-rule:nonzero' transform='translate(6 9)'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M20 13H0v-2h20zm0-6H0V5h20zm0-6H0v-2h20z' style='fill-rule:nonzero' transform='translate(6 9)'/%3E%3C/svg%3E")}.ag-icon-menu-alt:before{-webkit-mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='32' height='32' fill='none' viewBox='0 0 32 32'%3E%3Cpath fill='%23000' d='M16 19a3 3 0 1 0 0-6 3 3 0 0 0 0 6M16 11a3 3 0 1 0 0-6 3 3 0 0 0 0 6M16 27a3 3 0 1 0 0-6 3 3 0 0 0 0 6'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='32' height='32' fill='none' viewBox='0 0 32 32'%3E%3Cpath fill='%23000' d='M16 19a3 3 0 1 0 0-6 3 3 0 0 0 0 6M16 11a3 3 0 1 0 0-6 3 3 0 0 0 0 6M16 27a3 3 0 1 0 0-6 3 3 0 0 0 0 6'/%3E%3C/svg%3E")}.ag-icon-minimize:before{-webkit-mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M2 18h12v12h-2.828v-7.05l-8.254 8.252-2.12-2.12 8.252-8.254H2zm28-4H18V2h2.828v7.05L29.082.798l2.12 2.12-8.252 8.254H30z'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M2 18h12v12h-2.828v-7.05l-8.254 8.252-2.12-2.12 8.252-8.254H2zm28-4H18V2h2.828v7.05L29.082.798l2.12 2.12-8.252 8.254H30z'/%3E%3C/svg%3E")}.ag-icon-minus:before{-webkit-mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M6.572 6.572a13.32 13.32 0 0 0 0 18.856 13.32 13.32 0 0 0 18.856 0 13.32 13.32 0 0 0 0-18.856 13.32 13.32 0 0 0-18.856 0m17.527 8.099v2.658H7.901v-2.658z' style='fill-rule:nonzero'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M6.572 6.572a13.32 13.32 0 0 0 0 18.856 13.32 13.32 0 0 0 18.856 0 13.32 13.32 0 0 0 0-18.856 13.32 13.32 0 0 0-18.856 0m17.527 8.099v2.658H7.901v-2.658z' style='fill-rule:nonzero'/%3E%3C/svg%3E")}.ag-icon-next:before{-webkit-mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M10.94 6 9.06 7.88 17.167 16 9.06 24.12 10.94 26l10-10z' style='fill-rule:nonzero' transform='translate(1)'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M10.94 6 9.06 7.88 17.167 16 9.06 24.12 10.94 26l10-10z' style='fill-rule:nonzero' transform='translate(1)'/%3E%3C/svg%3E")}.ag-icon-none:before{-webkit-mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Enone%3C/title%3E%3Cg fill='%23000' fill-rule='nonzero'%3E%3Cpath d='M23.708 14.645 16 6.939l-7.708 7.706 1.416 1.416L16 9.767l6.292 6.294zM23.708 20.355 16 28.061l-7.708-7.706 1.416-1.416L16 25.233l6.292-6.294z'/%3E%3C/g%3E%3C/svg%3E");mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Enone%3C/title%3E%3Cg fill='%23000' fill-rule='nonzero'%3E%3Cpath d='M23.708 14.645 16 6.939l-7.708 7.706 1.416 1.416L16 9.767l6.292 6.294zM23.708 20.355 16 28.061l-7.708-7.706 1.416-1.416L16 25.233l6.292-6.294z'/%3E%3C/g%3E%3C/svg%3E")}.ag-icon-not-allowed:before{-webkit-mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M16 2.667C8.64 2.667 2.667 8.64 2.667 16S8.64 29.333 16 29.333 29.333 23.36 29.333 16 23.36 2.667 16 2.667M5.333 16c0-5.893 4.773-10.667 10.667-10.667 2.467 0 4.733.84 6.533 2.253L7.586 22.533A10.54 10.54 0 0 1 5.333 16M16 26.667c-2.467 0-4.733-.84-6.533-2.253L24.414 9.467A10.54 10.54 0 0 1 26.667 16c0 5.893-4.773 10.667-10.667 10.667' style='fill-rule:nonzero'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M16 2.667C8.64 2.667 2.667 8.64 2.667 16S8.64 29.333 16 29.333 29.333 23.36 29.333 16 23.36 2.667 16 2.667M5.333 16c0-5.893 4.773-10.667 10.667-10.667 2.467 0 4.733.84 6.533 2.253L7.586 22.533A10.54 10.54 0 0 1 5.333 16M16 26.667c-2.467 0-4.733-.84-6.533-2.253L24.414 9.467A10.54 10.54 0 0 1 26.667 16c0 5.893-4.773 10.667-10.667 10.667' style='fill-rule:nonzero'/%3E%3C/svg%3E")}.ag-icon-paste:before{-webkit-mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M25.334 4H19.76C19.2 2.453 17.733 1.333 16 1.333S12.8 2.453 12.24 4H6.667A2.675 2.675 0 0 0 4 6.667V28c0 1.467 1.2 2.667 2.667 2.667h18.667c1.467 0 2.667-1.2 2.667-2.667V6.667C28.001 5.2 26.801 4 25.334 4M16 4c.733 0 1.333.6 1.333 1.333s-.6 1.333-1.333 1.333-1.333-.6-1.333-1.333S15.267 4 16 4m9.333 24H6.666V6.667h2.667v4h13.333v-4h2.667z' style='fill-rule:nonzero'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M25.334 4H19.76C19.2 2.453 17.733 1.333 16 1.333S12.8 2.453 12.24 4H6.667A2.675 2.675 0 0 0 4 6.667V28c0 1.467 1.2 2.667 2.667 2.667h18.667c1.467 0 2.667-1.2 2.667-2.667V6.667C28.001 5.2 26.801 4 25.334 4M16 4c.733 0 1.333.6 1.333 1.333s-.6 1.333-1.333 1.333-1.333-.6-1.333-1.333S15.267 4 16 4m9.333 24H6.666V6.667h2.667v4h13.333v-4h2.667z' style='fill-rule:nonzero'/%3E%3C/svg%3E")}.ag-icon-pin:before{-webkit-mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='m10.78 19.777-4.668-4.666s.032-1 .67-1.87c1.366-1.86 4.052-1.96 6.056-1.572l3.158-3.108c-.7-2.342 3.352-5.046 3.352-5.046l9.166 9.168q-.334.447-.67.894c-1.074 1.426-2.538 2.63-4.272 2.338l-3.32 3.218c.046.344.042.03.118 1.152.144 2.13-.64 4.324-2.632 5.34l-.746.364-4.798-4.798-7.292 7.294-1.416-1.416zm8.24-13.672c-.688.568-1.416 1.45-1.024 2.072l.49.722-4.986 4.988c-1.988-.506-4.346-.636-5.156.614l9.02 9.032q.14-.099.272-.21c1.226-1.08.764-3.04.498-4.9l4.79-4.79s1.47.938 2.936-.776l-6.79-6.79q-.026.019-.05.038' style='fill-rule:nonzero'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='m10.78 19.777-4.668-4.666s.032-1 .67-1.87c1.366-1.86 4.052-1.96 6.056-1.572l3.158-3.108c-.7-2.342 3.352-5.046 3.352-5.046l9.166 9.168q-.334.447-.67.894c-1.074 1.426-2.538 2.63-4.272 2.338l-3.32 3.218c.046.344.042.03.118 1.152.144 2.13-.64 4.324-2.632 5.34l-.746.364-4.798-4.798-7.292 7.294-1.416-1.416zm8.24-13.672c-.688.568-1.416 1.45-1.024 2.072l.49.722-4.986 4.988c-1.988-.506-4.346-.636-5.156.614l9.02 9.032q.14-.099.272-.21c1.226-1.08.764-3.04.498-4.9l4.79-4.79s1.47.938 2.936-.776l-6.79-6.79q-.026.019-.05.038' style='fill-rule:nonzero'/%3E%3C/svg%3E")}.ag-icon-pivot:before{-webkit-mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M25.128 2.002c2.56.096 4.772 2.292 4.87 4.87a712 712 0 0 1 0 18.256c-.096 2.56-2.292 4.772-4.87 4.87a712 712 0 0 1-18.256 0c-2.558-.096-4.772-2.29-4.87-4.87a712 712 0 0 1 0-18.256c.096-2.56 2.292-4.772 4.87-4.87a712 712 0 0 1 18.256 0m2.966 7.954H9.892v18.136c5.086.13 10.18.098 15.264-.096 1.48-.094 2.746-1.35 2.84-2.84.192-5.064.226-10.134.098-15.2M3.968 24.1q.015.528.036 1.056c.094 1.484 1.354 2.746 2.84 2.84l1.012.036V24.1zM22 15.414l-.292.294-1.416-1.416L23 11.586l2.708 2.706-1.416 1.416-.292-.294v3.592c-.032 2.604-2.246 4.892-4.872 4.992L15.414 24l.294.292-1.416 1.416L11.586 23l2.706-2.708 1.416 1.416-.322.32c3.372.03 6.578-.164 6.614-3.034zM3.88 18.038c.002 1.346.012 2.694.038 4.04h3.938v-4.04zm.05-6.062a681 681 0 0 0-.044 4.042h3.97v-4.042zm5.962-7.99Q8.449 3.999 7.006 4c-1.57.02-2.946 1.348-3.004 2.922q-.02 1.517-.042 3.034h3.896v-2.02h2.036zm14.244-.016v3.966h3.898q-.017-.546-.038-1.092c-.094-1.48-1.35-2.746-2.84-2.84q-.51-.019-1.02-.034m-8.14-.054q-2.035.022-4.07.048v3.972h4.07zm6.106.008a213 213 0 0 0-4.07-.022v4.034h4.07z' style='fill-rule:nonzero'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M25.128 2.002c2.56.096 4.772 2.292 4.87 4.87a712 712 0 0 1 0 18.256c-.096 2.56-2.292 4.772-4.87 4.87a712 712 0 0 1-18.256 0c-2.558-.096-4.772-2.29-4.87-4.87a712 712 0 0 1 0-18.256c.096-2.56 2.292-4.772 4.87-4.87a712 712 0 0 1 18.256 0m2.966 7.954H9.892v18.136c5.086.13 10.18.098 15.264-.096 1.48-.094 2.746-1.35 2.84-2.84.192-5.064.226-10.134.098-15.2M3.968 24.1q.015.528.036 1.056c.094 1.484 1.354 2.746 2.84 2.84l1.012.036V24.1zM22 15.414l-.292.294-1.416-1.416L23 11.586l2.708 2.706-1.416 1.416-.292-.294v3.592c-.032 2.604-2.246 4.892-4.872 4.992L15.414 24l.294.292-1.416 1.416L11.586 23l2.706-2.708 1.416 1.416-.322.32c3.372.03 6.578-.164 6.614-3.034zM3.88 18.038c.002 1.346.012 2.694.038 4.04h3.938v-4.04zm.05-6.062a681 681 0 0 0-.044 4.042h3.97v-4.042zm5.962-7.99Q8.449 3.999 7.006 4c-1.57.02-2.946 1.348-3.004 2.922q-.02 1.517-.042 3.034h3.896v-2.02h2.036zm14.244-.016v3.966h3.898q-.017-.546-.038-1.092c-.094-1.48-1.35-2.746-2.84-2.84q-.51-.019-1.02-.034m-8.14-.054q-2.035.022-4.07.048v3.972h4.07zm6.106.008a213 213 0 0 0-4.07-.022v4.034h4.07z' style='fill-rule:nonzero'/%3E%3C/svg%3E")}.ag-icon-plus:before{-webkit-mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M6.572 6.572a13.32 13.32 0 0 0 0 18.856 13.32 13.32 0 0 0 18.856 0 13.32 13.32 0 0 0 0-18.856 13.32 13.32 0 0 0-18.856 0m17.527 8.099v2.658h-6.77v6.77h-2.658v-6.77h-6.77v-2.658h6.77v-6.77h2.658v6.77z' style='fill-rule:nonzero'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M6.572 6.572a13.32 13.32 0 0 0 0 18.856 13.32 13.32 0 0 0 18.856 0 13.32 13.32 0 0 0 0-18.856 13.32 13.32 0 0 0-18.856 0m17.527 8.099v2.658h-6.77v6.77h-2.658v-6.77h-6.77v-2.658h6.77v-6.77h2.658v6.77z' style='fill-rule:nonzero'/%3E%3C/svg%3E")}.ag-icon-previous:before{-webkit-mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M21.94 7.88 20.06 6l-10 10 10 10 1.88-1.88L13.833 16z' style='fill-rule:nonzero'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M21.94 7.88 20.06 6l-10 10 10 10 1.88-1.88L13.833 16z' style='fill-rule:nonzero'/%3E%3C/svg%3E")}.ag-icon-right:before{-webkit-mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='m16 5.333-1.88 1.88 7.44 7.453H5.333v2.667H21.56l-7.44 7.453 1.88 1.88 10.667-10.667L16 5.332z' style='fill-rule:nonzero'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='m16 5.333-1.88 1.88 7.44 7.453H5.333v2.667H21.56l-7.44 7.453 1.88 1.88 10.667-10.667L16 5.332z' style='fill-rule:nonzero'/%3E%3C/svg%3E")}.ag-icon-save:before{-webkit-mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M15.708 2.355 8 10.061.292 2.355 1.708.939 8 7.233 14.292.939z' style='fill-rule:nonzero' transform='translate(8 14)'/%3E%3Cpath d='M5 26h22v2H5zM15 4h2v18h-2z'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M15.708 2.355 8 10.061.292 2.355 1.708.939 8 7.233 14.292.939z' style='fill-rule:nonzero' transform='translate(8 14)'/%3E%3Cpath d='M5 26h22v2H5zM15 4h2v18h-2z'/%3E%3C/svg%3E")}.ag-icon-small-down:before{-webkit-mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M7.334 10.667 16 21.334l8.667-10.667z' style='fill-rule:nonzero'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M7.334 10.667 16 21.334l8.667-10.667z' style='fill-rule:nonzero'/%3E%3C/svg%3E")}.ag-icon-small-left:before{-webkit-mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M21.333 7.334 10.666 16l10.667 8.667z' style='fill-rule:nonzero'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M21.333 7.334 10.666 16l10.667 8.667z' style='fill-rule:nonzero'/%3E%3C/svg%3E")}.ag-icon-small-right:before{-webkit-mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M10.667 24.666 21.334 16 10.667 7.333z' style='fill-rule:nonzero'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M10.667 24.666 21.334 16 10.667 7.333z' style='fill-rule:nonzero'/%3E%3C/svg%3E")}.ag-icon-small-up:before{-webkit-mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M7.334 21.333 16 10.666l8.667 10.667z' style='fill-rule:nonzero'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M7.334 21.333 16 10.666l8.667 10.667z' style='fill-rule:nonzero'/%3E%3C/svg%3E")}.ag-icon-tick:before{-webkit-mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M11.586 22.96 27.718 6.828 29.84 8.95 11.586 27.202 2.4 18.016l2.12-2.122z'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M11.586 22.96 27.718 6.828 29.84 8.95 11.586 27.202 2.4 18.016l2.12-2.122z'/%3E%3C/svg%3E")}.ag-icon-tree-closed:before{-webkit-mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='m11.94 6-1.88 1.88L18.167 16l-8.107 8.12L11.94 26l10-10z' style='fill-rule:nonzero'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='m11.94 6-1.88 1.88L18.167 16l-8.107 8.12L11.94 26l10-10z' style='fill-rule:nonzero'/%3E%3C/svg%3E")}.ag-icon-tree-indeterminate:before{-webkit-mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M6 13.5h20v3H6z'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M6 13.5h20v3H6z'/%3E%3C/svg%3E")}.ag-icon-tree-open:before{-webkit-mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M24.12 9.06 16 17.167 7.88 9.06 6 10.94l10 10 10-10z' style='fill-rule:nonzero' transform='translate(0 1)'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M24.12 9.06 16 17.167 7.88 9.06 6 10.94l10 10 10-10z' style='fill-rule:nonzero' transform='translate(0 1)'/%3E%3C/svg%3E")}.ag-icon-unlinked:before{-webkit-mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M22.667 9.333h-5.333v2.533h5.333a4.136 4.136 0 0 1 4.133 4.133c0 1.907-1.307 3.507-3.08 3.973l1.947 1.947c2.173-1.107 3.667-3.32 3.667-5.92a6.67 6.67 0 0 0-6.667-6.667zm-1.334 5.334h-2.92l2.667 2.667h.253zM2.667 5.693 6.814 9.84A6.65 6.65 0 0 0 2.667 16a6.67 6.67 0 0 0 6.667 6.667h5.333v-2.533H9.334a4.136 4.136 0 0 1-4.133-4.133c0-2.12 1.613-3.867 3.68-4.093l2.76 2.76h-.973v2.667h3.64l3.027 3.027v2.307h2.307l5.347 5.333 1.68-1.68L4.362 4.002 2.669 5.695z' style='fill-rule:nonzero'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M22.667 9.333h-5.333v2.533h5.333a4.136 4.136 0 0 1 4.133 4.133c0 1.907-1.307 3.507-3.08 3.973l1.947 1.947c2.173-1.107 3.667-3.32 3.667-5.92a6.67 6.67 0 0 0-6.667-6.667zm-1.334 5.334h-2.92l2.667 2.667h.253zM2.667 5.693 6.814 9.84A6.65 6.65 0 0 0 2.667 16a6.67 6.67 0 0 0 6.667 6.667h5.333v-2.533H9.334a4.136 4.136 0 0 1-4.133-4.133c0-2.12 1.613-3.867 3.68-4.093l2.76 2.76h-.973v2.667h3.64l3.027 3.027v2.307h2.307l5.347 5.333 1.68-1.68L4.362 4.002 2.669 5.695z' style='fill-rule:nonzero'/%3E%3C/svg%3E")}.ag-icon-up:before{-webkit-mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='m5.333 16 1.88 1.88 7.453-7.44v16.227h2.667V10.44l7.44 7.453L26.666 16 15.999 5.333 5.332 16z' style='fill-rule:nonzero'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='m5.333 16 1.88 1.88 7.453-7.44v16.227h2.667V10.44l7.44 7.453L26.666 16 15.999 5.333 5.332 16z' style='fill-rule:nonzero'/%3E%3C/svg%3E")}.ag-icon-grip:before{-webkit-mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M8 24H6v-4h2zm6 0h-2v-4h2zm6 0h-2v-4h2zm6 0h-2v-4h2zM8 18H6v-4h2zm6 0h-2v-4h2zm6 0h-2v-4h2zm6 0h-2v-4h2zM8 12H6V8h2zm6 0h-2V8h2zm6 0h-2V8h2zm6 0h-2V8h2z' style='fill-rule:nonzero'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M8 24H6v-4h2zm6 0h-2v-4h2zm6 0h-2v-4h2zm6 0h-2v-4h2zM8 18H6v-4h2zm6 0h-2v-4h2zm6 0h-2v-4h2zm6 0h-2v-4h2zM8 12H6V8h2zm6 0h-2V8h2zm6 0h-2V8h2zm6 0h-2V8h2z' style='fill-rule:nonzero'/%3E%3C/svg%3E")}.ag-icon-settings:before{-webkit-mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='32' height='32' fill='none' viewBox='0 0 32 32'%3E%3Cpath fill='%23000' d='M30 8h-4.1c-.5-2.3-2.5-4-4.9-4s-4.4 1.7-4.9 4H2v2h14.1c.5 2.3 2.5 4 4.9 4s4.4-1.7 4.9-4H30zm-9 4c-1.7 0-3-1.3-3-3s1.3-3 3-3 3 1.3 3 3-1.3 3-3 3M2 24h4.1c.5 2.3 2.5 4 4.9 4s4.4-1.7 4.9-4H30v-2H15.9c-.5-2.3-2.5-4-4.9-4s-4.4 1.7-4.9 4H2zm9-4c1.7 0 3 1.3 3 3s-1.3 3-3 3-3-1.3-3-3 1.3-3 3-3'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='32' height='32' fill='none' viewBox='0 0 32 32'%3E%3Cpath fill='%23000' d='M30 8h-4.1c-.5-2.3-2.5-4-4.9-4s-4.4 1.7-4.9 4H2v2h14.1c.5 2.3 2.5 4 4.9 4s4.4-1.7 4.9-4H30zm-9 4c-1.7 0-3-1.3-3-3s1.3-3 3-3 3 1.3 3 3-1.3 3-3 3M2 24h4.1c.5 2.3 2.5 4 4.9 4s4.4-1.7 4.9-4H30v-2H15.9c-.5-2.3-2.5-4-4.9-4s-4.4 1.7-4.9 4H2zm9-4c1.7 0 3 1.3 3 3s-1.3 3-3 3-3-1.3-3-3 1.3-3 3-3'/%3E%3C/svg%3E")}`,zJ=dh("iconSet","alpine").withCSS(NJ),BJ=":where(input[class^=ag-][type=number]:not(.ag-number-field-input-stepper)){-moz-appearance:textfield;&::-webkit-inner-spin-button,&::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}}:where(input[class^=ag-]:not([type]),input[class^=ag-][type=text],input[class^=ag-][type=number],input[class^=ag-][type=tel],input[class^=ag-][type=date],input[class^=ag-][type=datetime-local],textarea[class^=ag-]){background-color:var(--ag-input-background-color);border:var(--ag-input-border);border-radius:var(--ag-input-border-radius);color:var(--ag-input-text-color);cursor:pointer;font-family:inherit;font-size:inherit;line-height:inherit;margin:0;min-height:var(--ag-input-height);padding:0;&:where(:disabled){background-color:var(--ag-input-disabled-background-color);border:var(--ag-input-disabled-border);color:var(--ag-input-disabled-text-color)}&:where(:focus){background-color:var(--ag-input-focus-background-color);border:var(--ag-input-focus-border);box-shadow:var(--ag-input-focus-shadow);color:var(--ag-input-focus-text-color)}&:where(:invalid){background-color:var(--ag-input-invalid-background-color);border:var(--ag-input-invalid-border);color:var(--ag-input-invalid-text-color)}&:where(.invalid){background-color:var(--ag-input-invalid-background-color);border:var(--ag-input-invalid-border);color:var(--ag-input-invalid-text-color)}}&.ag-ltr :where(input[class^=ag-]:not([type]),input[class^=ag-][type=text],input[class^=ag-][type=number],input[class^=ag-][type=tel],input[class^=ag-][type=date],input[class^=ag-][type=datetime-local],textarea[class^=ag-]){padding-left:var(--ag-input-padding-start)}&.ag-rtl :where(input[class^=ag-]:not([type]),input[class^=ag-][type=text],input[class^=ag-][type=number],input[class^=ag-][type=tel],input[class^=ag-][type=date],input[class^=ag-][type=datetime-local],textarea[class^=ag-]){padding-right:var(--ag-input-padding-start)}",GJ=dh("inputStyle","base").withAdditionalParams({inputBackgroundColor:"transparent",inputBorder:!1,inputBorderRadius:0,inputTextColor:{ref:"textColor"},inputPaddingStart:0,inputHeight:{calc:"max(iconSize, fontSize) + spacing * 2"},inputFocusBackgroundColor:{ref:"inputBackgroundColor"},inputFocusBorder:{ref:"inputBorder"},inputFocusShadow:"none",inputFocusTextColor:{ref:"inputTextColor"},inputDisabledBackgroundColor:{ref:"inputBackgroundColor"},inputDisabledBorder:{ref:"inputBorder"},inputDisabledTextColor:{ref:"inputTextColor"},inputInvalidBackgroundColor:{ref:"inputBackgroundColor"},inputInvalidBorder:{ref:"inputBorder"},inputInvalidTextColor:{ref:"inputTextColor"}}).withCSS(BJ),HJ=v2(GJ,"bordered").withParams({inputBackgroundColor:{ref:"backgroundColor"},inputBorder:!0,inputBorderRadius:{ref:"borderRadius"},inputPaddingStart:{ref:"spacing"},inputFocusBorder:{color:{ref:"accentColor"}},inputFocusShadow:{ref:"focusShadow"},inputDisabledBackgroundColor:{ref:"foregroundColor",mix:.06,onto:"backgroundColor"},inputDisabledTextColor:{ref:"textColor",mix:.5},inputInvalidBorder:{color:{ref:"invalidColor"}}}),jJ='.ag-tabs-header{background-color:var(--ag-tab-bar-background-color);border-bottom:var(--ag-tab-bar-border);display:flex;gap:var(--ag-tab-spacing);padding:var(--ag-tab-bar-top-padding) var(--ag-tab-bar-horizontal-padding) 0}.ag-tabs-header-wrapper{display:flex;.ag-tabs-header{flex:1}}.ag-tabs-close-button-wrapper{border:0;padding:var(--ag-spacing)}&.ag-ltr .ag-tabs-close-button-wrapper{border-right:1px solid var(--ag-border-color)}&.ag-rtl .ag-tabs-close-button-wrapper{border-left:1px solid var(--ag-border-color)}.ag-tabs-close-button{background-color:unset;border:0;cursor:pointer;padding:0}.ag-tab{align-items:center;background-color:var(--ag-tab-background-color);border-left:var(--ag-tab-selected-border-width) solid transparent;border-right:var(--ag-tab-selected-border-width) solid transparent;color:var(--ag-tab-text-color);cursor:pointer;display:flex;flex:1;justify-content:center;padding:var(--ag-tab-top-padding) var(--ag-tab-horizontal-padding) var(--ag-tab-bottom-padding);position:relative;&:hover{background-color:var(--ag-tab-hover-background-color);color:var(--ag-tab-hover-text-color)}&.ag-tab-selected{background-color:var(--ag-tab-selected-background-color);color:var(--ag-tab-selected-text-color)}&:after{background-color:var(--ag-tab-selected-underline-color);bottom:0;content:"";display:block;height:var(--ag-tab-selected-underline-width);left:0;opacity:0;position:absolute;right:0;transition:opacity var(--ag-tab-selected-underline-transition-duration)}&.ag-tab-selected:after{opacity:1}&:focus-visible{box-shadow:inset var(--ag-focus-shadow)}}&.ag-ltr .ag-tab{&.ag-tab-selected{&:not(:first-of-type){border-left-color:var(--ag-tab-selected-border-color)}&:not(:last-of-type){border-right-color:var(--ag-tab-selected-border-color)}}}&.ag-rtl .ag-tab{&.ag-tab-selected{&:not(:first-of-type){border-right-color:var(--ag-tab-selected-border-color)}&:not(:last-of-type){border-left-color:var(--ag-tab-selected-border-color)}}}',VJ=dh("tabStyle","base").withAdditionalParams({tabBarBackgroundColor:"transparent",tabBarHorizontalPadding:0,tabBarTopPadding:0,tabBackgroundColor:"transparent",tabTextColor:{ref:"textColor"},tabHorizontalPadding:{ref:"spacing"},tabTopPadding:{ref:"spacing"},tabBottomPadding:{ref:"spacing"},tabSpacing:"0",tabHoverBackgroundColor:{ref:"tabBackgroundColor"},tabHoverTextColor:{ref:"tabTextColor"},tabSelectedBackgroundColor:{ref:"tabBackgroundColor"},tabSelectedTextColor:{ref:"tabTextColor"},tabSelectedBorderWidth:1,tabSelectedBorderColor:"transparent",tabSelectedUnderlineColor:"transparent",tabSelectedUnderlineWidth:"0",tabSelectedUnderlineTransitionDuration:"0",tabBarBorder:!1}).withCSS(jJ),_J=v2(VJ,"alpine").withParams({tabBarBorder:!0,tabBarBackgroundColor:{ref:"chromeBackgroundColor"},tabHoverTextColor:{ref:"accentColor"},tabSelectedTextColor:{ref:"accentColor"},tabSelectedUnderlineColor:{ref:"accentColor"},tabSelectedUnderlineWidth:2,tabSelectedUnderlineTransitionDuration:"0.3s"}),WJ=e=>MJ(e).withPart(OJ),lR=WJ("alpine").withPart(FJ).withPart(zJ).withPart(_J).withPart(HJ).withParams({accentColor:"#2196f3",selectedRowBackgroundColor:{ref:"accentColor",mix:.3},inputFocusBorder:{color:{ref:"accentColor",mix:.4}},fontSize:13,dataFontSize:14,headerFontWeight:700,borderRadius:3,wrapperBorderRadius:3,tabSelectedUnderlineColor:{ref:"accentColor"},tabSelectedBorderWidth:2,tabSelectedUnderlineTransitionDuration:.3});Cn.__registerModules([a2,UQ,EC,tJ],!1,void 0);var Rs=Q.createContext({}),pf=(e,t,i,s)=>{if(!e||e.componentFromFramework||t.isDestroyed())return;const r=e.newAgStackInstance();if(r==null)return;let o,a,l=!1;return r.then(d=>{if(l){t.destroyBean(d);return}o=d,a=o.getGui(),i.appendChild(a),Hk(s,o)}),()=>{var d;l=!0,o&&((d=a==null?void 0:a.parentElement)==null||d.removeChild(a),t.destroyBean(o),s&&Hk(s,void 0))}},Hk=(e,t)=>{if(e)if(e instanceof Function)e(t);else{const i=e;i.current=t}},wr=(...e)=>e.filter(i=>i!=null&&i!=="").join(" "),Xn=class M2{constructor(...t){this.classesMap={},t.forEach(i=>{this.classesMap[i]=!0})}setClass(t,i){if(!!this.classesMap[t]==i)return this;const n=new M2;return n.classesMap={...this.classesMap},n.classesMap[t]=i,n}toString(){return Object.keys(this.classesMap).filter(i=>this.classesMap[i]).join(" ")}},hh=e=>{const t=()=>typeof Symbol=="function"&&Symbol.for,i=()=>t()?Symbol.for("react.memo"):60115;return typeof e=="function"&&!(e.prototype&&e.prototype.isReactComponent)||typeof e=="object"&&e.$$typeof===i()},AO,MM=(AO=Q.version)==null?void 0:AO.split(".")[0],UJ=MM==="16"||MM==="17";function $J(){return MM==="19"}var Wv=!1;function YJ(e){return Wv||setTimeout(()=>Wv=!1,0),Wv=!0,e()}var cR=(e,t)=>{!UJ&&e&&!Wv?Tc.flushSync(t):t()};function uR(e,t,i){if(t==null||e==null)return t;if(e===t||t.length===0&&e.length===0)return e;if(i||e.length===0&&t.length>0||e.length>0&&t.length===0)return t;const s=[],n=[],r=new Map,o=new Map;for(let a=0;a<t.length;a++){const l=t[a];o.set(l.instanceId,l)}for(let a=0;a<e.length;a++){const l=e[a];r.set(l.instanceId,l),o.has(l.instanceId)&&s.push(l)}for(let a=0;a<t.length;a++){const l=t[a],d=l.instanceId;r.has(d)||n.push(l)}return s.length===e.length&&n.length===0?e:s.length===0&&n.length===t.length?t:s.length===0?n:n.length===0?s:[...s,...n]}var D2=I.forwardRef((e,t)=>{var K;const{ctrlsFactory:i,context:s}=I.useContext(Rs),n=I.useRef(null),r=I.useRef(null),o=I.useRef(null),a=I.useRef(null),l=I.useRef(null),d=I.useRef(),[h,p]=I.useState(),[f,v]=I.useState(),[y,S]=I.useState(),[w,b]=I.useState(()=>new Xn),[x,D]=I.useState(()=>new Xn("ag-hidden")),[E,T]=I.useState(()=>new Xn("ag-hidden")),[k,P]=I.useState(()=>new Xn("ag-invisible"));I.useImperativeHandle(t,()=>({refresh(){return!1}})),I.useLayoutEffect(()=>pf(h,s,r.current),[h]);const O=I.useCallback(ne=>{if(n.current=ne,!ne){d.current=s.destroyBean(d.current);return}const ge={setInnerRenderer:(_,Y)=>{p(_),S(Y)},setChildCount:_=>v(_),addOrRemoveCssClass:(_,Y)=>b(Z=>Z.setClass(_,Y)),setContractedDisplayed:_=>T(Y=>Y.setClass("ag-hidden",!_)),setExpandedDisplayed:_=>D(Y=>Y.setClass("ag-hidden",!_)),setCheckboxVisible:_=>P(Y=>Y.setClass("ag-invisible",!_))},B=i.getInstance("groupCellRendererCtrl");B&&(d.current=s.createBean(B),d.current.init(ge,ne,o.current,a.current,l.current,D2,e))},[]),F=I.useMemo(()=>`ag-cell-wrapper ${w.toString()}`,[w]),z=I.useMemo(()=>`ag-group-expanded ${x.toString()}`,[x]),V=I.useMemo(()=>`ag-group-contracted ${E.toString()}`,[E]),U=I.useMemo(()=>`ag-group-checkbox ${k.toString()}`,[k]),J=h&&h.componentFromFramework,ye=J?h.componentClass:void 0,Ce=h==null&&y!=null,G=no(y,!0);return Q.createElement("span",{className:F,ref:O,...e.colDef?{}:{role:(K=d.current)==null?void 0:K.getCellAriaRole()}},Q.createElement("span",{className:z,ref:a}),Q.createElement("span",{className:V,ref:l}),Q.createElement("span",{className:U,ref:o}),Q.createElement("span",{className:"ag-group-value",ref:r},Ce&&Q.createElement(Q.Fragment,null,G),J&&Q.createElement(ye,{...h.params})),Q.createElement("span",{className:"ag-group-child-count"},f))}),jk=D2,dR=I.createContext({setMethods:()=>{}}),KJ=e=>{const{initialProps:t,addUpdateCallback:i,CustomComponentClass:s,setMethods:n}=e,[{key:r,...o},a]=I.useState(t);return I.useEffect(()=>{i(l=>a(l))},[]),Q.createElement(dR.Provider,{value:{setMethods:n}},Q.createElement(s,{key:r,...o}))},qJ=I.memo(KJ),ZJ=0;function Vk(){return`agPortalKey_${++ZJ}`}var R2=class{constructor(e,t,i,s){this.portal=null,this.oldPortal=null,this.reactComponent=e,this.portalManager=t,this.componentType=i,this.suppressFallbackMethods=!!s,this.statelessComponent=this.isStateless(this.reactComponent),this.key=Vk(),this.portalKey=Vk(),this.instanceCreated=this.isStatelessComponent()?vi.resolve(!1):new vi(n=>{this.resolveInstanceCreated=n})}getGui(){return this.eParentElement}getRootElement(){return this.eParentElement.firstChild}destroy(){this.componentInstance&&typeof this.componentInstance.destroy=="function"&&this.componentInstance.destroy();const e=this.portal;e&&this.portalManager.destroyPortal(e)}createParentElement(e){const t=this.portalManager.getComponentWrappingElement(),i=document.createElement(t||"div");return i.classList.add("ag-react-container"),e.reactContainer=i,i}addParentContainerStyleAndClasses(){this.componentInstance&&(this.componentInstance.getReactContainerStyle&&this.componentInstance.getReactContainerStyle()&&(ae('Since v31.1 "getReactContainerStyle" is deprecated. Apply styling directly to ".ag-react-container" if needed.'),Object.assign(this.eParentElement.style,this.componentInstance.getReactContainerStyle())),this.componentInstance.getReactContainerClasses&&this.componentInstance.getReactContainerClasses()&&(ae('Since v31.1 "getReactContainerClasses" is deprecated. Apply styling directly to ".ag-react-container" if needed.'),this.componentInstance.getReactContainerClasses().forEach(t=>this.eParentElement.classList.add(t))))}statelessComponentRendered(){return this.eParentElement.childElementCount>0||this.eParentElement.childNodes.length>0}getFrameworkComponentInstance(){return this.componentInstance}isStatelessComponent(){return this.statelessComponent}getReactComponentName(){return this.reactComponent.name}getMemoType(){return this.hasSymbol()?Symbol.for("react.memo"):60115}hasSymbol(){return typeof Symbol=="function"&&Symbol.for}isStateless(e){return typeof e=="function"&&!(e.prototype&&e.prototype.isReactComponent)||typeof e=="object"&&e.$$typeof===this.getMemoType()}hasMethod(e){const t=this.getFrameworkComponentInstance();return!!t&&t[e]!=null||this.fallbackMethodAvailable(e)}callMethod(e,t){const i=this.getFrameworkComponentInstance();if(this.isStatelessComponent())return this.fallbackMethod(e,t&&t[0]?t[0]:{});if(!i){setTimeout(()=>this.callMethod(e,t));return}const s=i[e];if(s)return s.apply(i,t);if(this.fallbackMethodAvailable(e))return this.fallbackMethod(e,t&&t[0]?t[0]:{})}addMethod(e,t){this[e]=t}init(e){return this.eParentElement=this.createParentElement(e),this.createOrUpdatePortal(e),new vi(t=>this.createReactComponent(t))}createOrUpdatePortal(e){this.isStatelessComponent()||(this.ref=t=>{var i;this.componentInstance=t,this.addParentContainerStyleAndClasses(),(i=this.resolveInstanceCreated)==null||i.call(this,!0),this.resolveInstanceCreated=void 0},e.ref=this.ref),this.reactElement=this.createElement(this.reactComponent,{...e,key:this.key}),this.portal=cC.createPortal(this.reactElement,this.eParentElement,this.portalKey)}createElement(e,t){return I.createElement(e,t)}createReactComponent(e){this.portalManager.mountReactPortal(this.portal,this,e)}rendered(){return this.isStatelessComponent()&&this.statelessComponentRendered()||!!(!this.isStatelessComponent()&&this.getFrameworkComponentInstance())}refreshComponent(e){this.oldPortal=this.portal,this.createOrUpdatePortal(e),this.portalManager.updateReactPortal(this.oldPortal,this.portal)}fallbackMethod(e,t){const i=this[`${e}Component`];if(!this.suppressFallbackMethods&&i)return i.bind(this)(t)}fallbackMethodAvailable(e){return this.suppressFallbackMethods?!1:!!this[`${e}Component`]}};function hR(e,t,i){e.forEach(s=>{const n=t[s];n&&(i[s]=n)})}var Mo=class extends R2{constructor(){super(...arguments),this.awaitUpdateCallback=new vi(e=>{this.resolveUpdateCallback=e}),this.wrapperComponent=qJ}init(e){return this.sourceParams=e,super.init(this.getProps())}addMethod(){}getInstance(){return this.instanceCreated.then(()=>this.componentInstance)}getFrameworkComponentInstance(){return this}createElement(e,t){return super.createElement(this.wrapperComponent,{initialProps:t,CustomComponentClass:e,setMethods:i=>this.setMethods(i),addUpdateCallback:i=>{this.updateCallback=()=>(i(this.getProps()),new vi(s=>{setTimeout(()=>{s()})})),this.resolveUpdateCallback()}})}setMethods(e){this.providedMethods=e,hR(this.getOptionalMethods(),this.providedMethods,this)}getOptionalMethods(){return[]}getProps(){return{...this.sourceParams,key:this.key,ref:this.ref}}refreshProps(){return this.updateCallback?this.updateCallback():new vi(e=>this.awaitUpdateCallback.then(()=>{this.updateCallback().then(()=>e())}))}},XJ=class extends Mo{refresh(e){return this.sourceParams=e,this.refreshProps(),!0}},QJ=class extends Mo{constructor(){super(...arguments),this.date=null,this.onDateChange=e=>this.updateDate(e)}getDate(){return this.date}setDate(e){this.date=e,this.refreshProps()}refresh(e){this.sourceParams=e,this.refreshProps()}getOptionalMethods(){return["afterGuiAttached","setInputPlaceholder","setInputAriaLabel","setDisabled"]}updateDate(e){this.setDate(e),this.sourceParams.onDateChanged()}getProps(){const e=super.getProps();return e.date=this.date,e.onDateChange=this.onDateChange,delete e.onDateChanged,e}},JJ=class extends Mo{constructor(){super(...arguments),this.label="",this.icon=null,this.shake=!1}setIcon(e,t){this.icon=e,this.shake=t,this.refreshProps()}setLabel(e){this.label=e,this.refreshProps()}getProps(){const e=super.getProps(),{label:t,icon:i,shake:s}=this;return e.label=t,e.icon=i,e.shake=s,e}},eee=class extends Mo{constructor(){super(...arguments),this.model=null,this.onModelChange=e=>this.updateModel(e),this.onUiChange=()=>this.sourceParams.filterChangedCallback(),this.expectingNewMethods=!0,this.hasBeenActive=!1}isFilterActive(){return this.model!=null}doesFilterPass(e){return this.providedMethods.doesFilterPass(e)}getModel(){return this.model}setModel(e){return this.expectingNewMethods=!0,this.model=e,this.hasBeenActive||(this.hasBeenActive=this.isFilterActive()),this.refreshProps()}refresh(e){return this.sourceParams=e,this.refreshProps(),!0}getOptionalMethods(){return["afterGuiAttached","afterGuiDetached","onNewRowsLoaded","getModelAsString","onAnyFilterChanged"]}setMethods(e){var t;this.expectingNewMethods===!1&&this.hasBeenActive&&((t=this.providedMethods)==null?void 0:t.doesFilterPass)!==(e==null?void 0:e.doesFilterPass)&&setTimeout(()=>{this.sourceParams.filterChangedCallback()}),this.expectingNewMethods=!1,super.setMethods(e)}updateModel(e){this.setModel(e).then(()=>this.sourceParams.filterChangedCallback())}getProps(){const e=super.getProps();return e.model=this.model,e.onModelChange=this.onModelChange,e.onUiChange=this.onUiChange,delete e.filterChangedCallback,delete e.filterModifiedCallback,delete e.valueGetter,e}};function E2(e,t){e.parentFilterInstance(i=>{(i.setModel(t)||vi.resolve()).then(()=>{e.filterParams.filterChangedCallback()})})}var tee=class{constructor(e,t){this.floatingFilterParams=e,this.refreshProps=t,this.model=null,this.onModelChange=i=>this.updateModel(i)}getProps(){return{...this.floatingFilterParams,model:this.model,onModelChange:this.onModelChange}}onParentModelChanged(e){this.model=e,this.refreshProps()}refresh(e){this.floatingFilterParams=e,this.refreshProps()}setMethods(e){hR(this.getOptionalMethods(),e,this)}getOptionalMethods(){return["afterGuiAttached"]}updateModel(e){this.model=e,this.refreshProps(),E2(this.floatingFilterParams,e)}},iee=class extends Mo{constructor(){super(...arguments),this.model=null,this.onModelChange=e=>this.updateModel(e)}onParentModelChanged(e){this.model=e,this.refreshProps()}refresh(e){this.sourceParams=e,this.refreshProps()}getOptionalMethods(){return["afterGuiAttached"]}updateModel(e){this.model=e,this.refreshProps(),E2(this.sourceParams,e)}getProps(){const e=super.getProps();return e.model=this.model,e.onModelChange=this.onModelChange,e}},see=class extends Mo{refresh(e){this.sourceParams=e,this.refreshProps()}},nee=class extends Mo{constructor(){super(...arguments),this.active=!1,this.expanded=!1,this.onActiveChange=e=>this.updateActive(e)}setActive(e){this.awaitSetActive(e)}setExpanded(e){this.expanded=e,this.refreshProps()}getOptionalMethods(){return["select","configureDefaults"]}awaitSetActive(e){return this.active=e,this.refreshProps()}updateActive(e){const t=this.awaitSetActive(e);e&&t.then(()=>this.sourceParams.onItemActivated())}getProps(){const e=super.getProps();return e.active=this.active,e.expanded=this.expanded,e.onActiveChange=this.onActiveChange,delete e.onItemActivated,e}},ree=class extends Mo{refresh(e){this.sourceParams=e,this.refreshProps()}},oee=class extends Mo{refresh(e){return this.sourceParams=e,this.refreshProps(),!0}},aee=class extends Mo{constructor(){super(...arguments),this.onStateChange=e=>this.updateState(e)}refresh(e){return this.sourceParams=e,this.refreshProps(),!0}getState(){return this.state}updateState(e){this.state=e,this.refreshProps(),this.sourceParams.onStateUpdated()}getProps(){const e=super.getProps();return e.state=this.state,e.onStateChange=this.onStateChange,e}};function gR(){ae("As of v32, using custom components with `reactiveCustomComponents = false` is deprecated.")}var lee=1e3,cee=class{constructor(e,t,i){this.destroyed=!1,this.portals=[],this.hasPendingPortalUpdate=!1,this.wrappingElement=t||"div",this.refresher=e,this.maxComponentCreationTimeMs=i||lee}getPortals(){return this.portals}destroy(){this.destroyed=!0}destroyPortal(e){this.portals=this.portals.filter(t=>t!==e),this.batchUpdate()}getComponentWrappingElement(){return this.wrappingElement}mountReactPortal(e,t,i){this.portals=[...this.portals,e],this.waitForInstance(t,i),this.batchUpdate()}updateReactPortal(e,t){this.portals[this.portals.indexOf(e)]=t,this.batchUpdate()}batchUpdate(){this.hasPendingPortalUpdate||(setTimeout(()=>{this.destroyed||(this.refresher(),this.hasPendingPortalUpdate=!1)}),this.hasPendingPortalUpdate=!0)}waitForInstance(e,t,i=Date.now()){if(this.destroyed){t(null);return}if(e.rendered())t(e);else{if(Date.now()-i>=this.maxComponentCreationTimeMs&&!this.hasPendingPortalUpdate)return;window.setTimeout(()=>{this.waitForInstance(e,t,i)})}}},uee=({ctrl:e})=>{const t=e.isAlive(),{context:i}=I.useContext(Rs),s=t?e.getColId():void 0,[n,r]=I.useState(),o=I.useRef(),a=I.useRef(null),l=I.useRef(null),d=I.useRef(null),h=I.useRef(),p=I.useRef();t&&!p.current&&(p.current=new df(()=>a.current));const f=I.useCallback(w=>{var D;if(a.current=w,o.current=w?i.createBean(new ah):i.destroyBean(o.current),!w||!t)return;const b={setWidth:E=>{a.current&&(a.current.style.width=E)},addOrRemoveCssClass:(E,T)=>p.current.addOrRemoveCssClass(E,T),setAriaSort:E=>{a.current&&(E?T8(a.current,E):I8(a.current))},setUserCompDetails:E=>r(E),getUserCompInstance:()=>h.current||void 0};e.setComp(b,w,l.current,d.current,o.current);const x=e.getSelectAllGui();(D=l.current)==null||D.insertAdjacentElement("afterend",x),o.current.addDestroyFunc(()=>x.remove())},[]);I.useLayoutEffect(()=>pf(n,i,d.current,h),[n]),I.useEffect(()=>{e.setDragSource(a.current)},[n]);const v=I.useMemo(()=>!!((n==null?void 0:n.componentFromFramework)&&hh(n.componentClass)),[n]),y=n&&n.componentFromFramework,S=n&&n.componentClass;return Q.createElement("div",{ref:f,className:"ag-header-cell","col-id":s,role:"columnheader"},Q.createElement("div",{ref:l,className:"ag-header-cell-resize",role:"presentation"}),Q.createElement("div",{ref:d,className:"ag-header-cell-comp-wrapper",role:"presentation"},y&&v&&Q.createElement(S,{...n.params}),y&&!v&&Q.createElement(S,{...n.params,ref:h})))},dee=I.memo(uee),hee=({ctrl:e})=>{const{context:t,gos:i}=I.useContext(Rs),[s,n]=I.useState(()=>new Xn("ag-header-cell","ag-floating-filter")),[r,o]=I.useState(()=>new Xn),[a,l]=I.useState(()=>new Xn("ag-floating-filter-button","ag-hidden")),[d,h]=I.useState("false"),[p,f]=I.useState(),[,v]=I.useState(1),y=I.useRef(),S=I.useRef(null),w=I.useRef(null),b=I.useRef(null),x=I.useRef(null),D=I.useRef(),E=I.useRef(),T=G=>{G!=null&&D.current&&D.current(G)},k=I.useCallback(G=>{if(S.current=G,y.current=G?t.createBean(new ah):t.destroyBean(y.current),!G)return;E.current=new vi(ne=>{D.current=ne});const K={addOrRemoveCssClass:(ne,ge)=>n(B=>B.setClass(ne,ge)),addOrRemoveBodyCssClass:(ne,ge)=>o(B=>B.setClass(ne,ge)),setButtonWrapperDisplayed:ne=>{l(ge=>ge.setClass("ag-hidden",!ne)),h(ne?"false":"true")},setWidth:ne=>{S.current&&(S.current.style.width=ne)},setCompDetails:ne=>f(ne),getFloatingFilterComp:()=>E.current?E.current:null,setMenuIcon:ne=>{var ge;return(ge=x.current)==null?void 0:ge.appendChild(ne)}};e.setComp(K,G,x.current,w.current,y.current)},[]);I.useLayoutEffect(()=>pf(p,t,w.current,T),[p]);const P=I.useMemo(()=>s.toString(),[s]),O=I.useMemo(()=>r.toString(),[r]),F=I.useMemo(()=>a.toString(),[a]),z=I.useMemo(()=>!!(p&&p.componentFromFramework&&hh(p.componentClass)),[p]),V=I.useMemo(()=>i.get("reactiveCustomComponents"),[]),U=I.useMemo(()=>{if(p)if(V){const G=new tee(p.params,()=>v(K=>K+1));return T(G),G}else p.componentFromFramework&&gR()},[p]),J=U==null?void 0:U.getProps(),ye=p&&p.componentFromFramework,Ce=p&&p.componentClass;return Q.createElement("div",{ref:k,className:P,role:"gridcell"},Q.createElement("div",{ref:w,className:O,role:"presentation"},ye&&!V&&Q.createElement(Ce,{...p.params,ref:z?()=>{}:T}),ye&&V&&Q.createElement(dR.Provider,{value:{setMethods:G=>U.setMethods(G)}},Q.createElement(Ce,{...J}))),Q.createElement("div",{ref:b,"aria-hidden":d,className:F,role:"presentation"},Q.createElement("button",{ref:x,type:"button",className:"ag-button ag-floating-filter-button-button",tabIndex:-1})))},gee=I.memo(hee),pee=({ctrl:e})=>{const{context:t}=I.useContext(Rs),[i,s]=I.useState(()=>new Xn),[n,r]=I.useState(()=>new Xn),[o,a]=I.useState("false"),[l,d]=I.useState(),[h,p]=I.useState(),f=I.useMemo(()=>e.getColId(),[]),v=I.useRef(),y=I.useRef(null),S=I.useRef(null),w=I.useRef(null),b=I.useRef(),x=I.useCallback(O=>{if(y.current=O,v.current=O?t.createBean(new ah):t.destroyBean(v.current),!O)return;const F={setWidth:z=>{y.current&&(y.current.style.width=z)},addOrRemoveCssClass:(z,V)=>s(U=>U.setClass(z,V)),setHeaderWrapperHidden:z=>{const V=w.current;V&&(z?V.style.setProperty("display","none"):V.style.removeProperty("display"))},setHeaderWrapperMaxHeight:z=>{const V=w.current;V&&(z!=null?V.style.setProperty("max-height",`${z}px`):V.style.removeProperty("max-height"),V.classList.toggle("ag-header-cell-comp-wrapper-limited-height",z!=null))},setUserCompDetails:z=>p(z),setResizableDisplayed:z=>{r(V=>V.setClass("ag-hidden",!z)),a(z?"false":"true")},setAriaExpanded:z=>d(z),getUserCompInstance:()=>b.current||void 0};e.setComp(F,O,S.current,w.current,v.current)},[]);I.useLayoutEffect(()=>pf(h,t,w.current),[h]),I.useEffect(()=>{y.current&&e.setDragSource(y.current)},[h]);const D=I.useMemo(()=>!!((h==null?void 0:h.componentFromFramework)&&hh(h.componentClass)),[h]),E=I.useMemo(()=>"ag-header-group-cell "+i.toString(),[i]),T=I.useMemo(()=>"ag-header-cell-resize "+n.toString(),[n]),k=h&&h.componentFromFramework,P=h&&h.componentClass;return Q.createElement("div",{ref:x,className:E,"col-id":f,role:"columnheader","aria-expanded":l},Q.createElement("div",{ref:w,className:"ag-header-cell-comp-wrapper",role:"presentation"},k&&D&&Q.createElement(P,{...h.params}),k&&!D&&Q.createElement(P,{...h.params,ref:b})),Q.createElement("div",{ref:S,"aria-hidden":o,className:T}))},fee=I.memo(pee),mee=({ctrl:e})=>{const{context:t}=I.useContext(Rs),{topOffset:i,rowHeight:s}=I.useMemo(()=>e.getTopAndHeight(),[]),n=e.getAriaRowIndex(),r=e.getHeaderRowClass(),[o,a]=I.useState(()=>s+"px"),[l,d]=I.useState(()=>i+"px"),h=I.useRef(null),p=I.useRef(null),[f,v]=I.useState(()=>e.getHeaderCtrls()),y=I.useRef(),S=I.useRef(null),w=I.useCallback(D=>{if(S.current=D,y.current=D?t.createBean(new ah):t.destroyBean(y.current),!D)return;const E={setHeight:T=>a(T),setTop:T=>d(T),setHeaderCtrls:(T,k,P)=>{p.current=h.current,h.current=T;const O=uR(p.current,T,k);O!==p.current&&cR(P,()=>v(O))},setWidth:T=>{S.current&&(S.current.style.width=T)}};e.setComp(E,y.current,!1)},[]),b=I.useMemo(()=>({height:o,top:l}),[o,l]),x=I.useCallback(D=>{switch(e.getType()){case mM.COLUMN_GROUP:return Q.createElement(fee,{ctrl:D,key:D.instanceId});case mM.FLOATING_FILTER:return Q.createElement(gee,{ctrl:D,key:D.instanceId});default:return Q.createElement(dee,{ctrl:D,key:D.instanceId})}},[]);return Q.createElement("div",{ref:w,className:r,role:"row",style:b,"aria-rowindex":n},f.map(x))},vee=I.memo(mee),yee=({pinned:e})=>{const[t,i]=I.useState(!0),[s,n]=I.useState([]),{context:r}=I.useContext(Rs),o=I.useRef(null),a=I.useRef(null),l=I.useRef(),d=e==="left",h=e==="right",p=!d&&!h,f=I.useCallback(S=>{if(o.current=S,l.current=S?r.createBean(new d$(e)):r.destroyBean(l.current),!S)return;const w={setDisplayed:i,setCtrls:b=>n(b),setCenterWidth:b=>{a.current&&(a.current.style.width=b)},setViewportScrollLeft:b=>{o.current&&(o.current.scrollLeft=b)},setPinnedContainerWidth:b=>{o.current&&(o.current.style.width=b,o.current.style.minWidth=b,o.current.style.maxWidth=b)}};l.current.setComp(w,o.current)},[]),v=t?"":"ag-hidden",y=()=>s.map(S=>Q.createElement(vee,{ctrl:S,key:S.instanceId}));return Q.createElement(Q.Fragment,null,d&&Q.createElement("div",{ref:f,className:"ag-pinned-left-header "+v,"aria-hidden":!t,role:"rowgroup"},y()),h&&Q.createElement("div",{ref:f,className:"ag-pinned-right-header "+v,"aria-hidden":!t,role:"rowgroup"},y()),p&&Q.createElement("div",{ref:f,className:"ag-header-viewport "+v,role:"presentation"},Q.createElement("div",{ref:a,className:"ag-header-container",role:"rowgroup"},y())))},M0=I.memo(yee),Cee=()=>{const[e,t]=I.useState(()=>new Xn),[i,s]=I.useState(),{context:n}=I.useContext(Rs),r=I.useRef(null),o=I.useRef(),a=I.useCallback(h=>{if(r.current=h,o.current=h?n.createBean(new K9):n.destroyBean(o.current),!h)return;const p={addOrRemoveCssClass:(f,v)=>t(y=>y.setClass(f,v)),setHeightAndMinHeight:f=>s(f)};o.current.setComp(p,h,h)},[]),l=I.useMemo(()=>"ag-header "+e.toString(),[e]),d=I.useMemo(()=>({height:i,minHeight:i}),[i]);return Q.createElement("div",{ref:a,className:l,style:d,role:"presentation"},Q.createElement(M0,{pinned:"left"}),Q.createElement(M0,{pinned:null}),Q.createElement(M0,{pinned:"right"}))},bee=I.memo(Cee),See=(e,t)=>{I.useEffect(()=>{const i=t.current;if(i){const s=i.parentElement;if(s){const n=document.createComment(e);return s.insertBefore(n,i),()=>{s.removeChild(n)}}}},[e])},Ec=See,wee=class{constructor(e,t){this.cellEditorParams=e,this.refreshProps=t,this.instanceCreated=new vi(i=>{this.resolveInstanceCreated=i}),this.onValueChange=i=>this.updateValue(i),this.value=e.value}getProps(){return{...this.cellEditorParams,initialValue:this.cellEditorParams.value,value:this.value,onValueChange:this.onValueChange}}getValue(){return this.value}refresh(e){this.cellEditorParams=e,this.refreshProps()}setMethods(e){hR(this.getOptionalMethods(),e,this)}getInstance(){return this.instanceCreated.then(()=>this.componentInstance)}setRef(e){var t;this.componentInstance=e,(t=this.resolveInstanceCreated)==null||t.call(this),this.resolveInstanceCreated=void 0}getOptionalMethods(){return["isCancelBeforeStart","isCancelAfterEnd","focusIn","focusOut","afterGuiAttached"]}updateValue(e){this.value=e,this.refreshProps()}},xee=e=>{const t=I.useRef(e),i=I.useRef(),s=I.useRef(!1),n=I.useRef(!1),[,r]=I.useState(0);s.current&&(n.current=!0),I.useEffect(()=>(s.current||(i.current=t.current(),s.current=!0),r(o=>o+1),()=>{var o;n.current&&((o=i.current)==null||o.call(i))}),[])},Mee=e=>{const[t,i]=I.useState(),{context:s,popupService:n,localeService:r,gos:o,editService:a}=I.useContext(Rs);return xee(()=>{var E,T;const{editDetails:l,cellCtrl:d,eParentCell:h}=e,{compDetails:p}=l,f=o.get("stopEditingWhenCellsLoseFocus"),v=s.createBean(a.createPopupEditorWrapper(p.params)),y=v.getGui();if(e.jsChildComp){const k=e.jsChildComp.getGui();k&&y.appendChild(k)}const S={column:d.getColumn(),rowNode:d.getRowNode(),type:"popupCellEditor",eventSource:h,ePopup:y,position:l.popupPosition,keepWithinBounds:!0},w=n.positionPopupByComponent.bind(n,S),b=r.getLocaleTextFunc(),x=n.addPopup({modal:f,eChild:y,closeOnEsc:!0,closedCallback:()=>{d.onPopupEditorClosed()},anchorToElement:h,positionCallback:w,ariaLabel:b("ariaLabelCellEditor","Cell Editor")}),D=x?x.hideFunc:void 0;return i(v),(T=(E=e.jsChildComp)==null?void 0:E.afterGuiAttached)==null||T.call(E),()=>{D==null||D(),s.destroyBean(v)}}),Q.createElement(Q.Fragment,null,t&&e.wrappedContent&&cC.createPortal(e.wrappedContent,t.getGui()))},_k=I.memo(Mee),Dee=(e,t,i,s,n,r)=>{const{context:o}=I.useContext(Rs),a=I.useCallback(()=>{const l=n.current;if(!l)return;const d=l.getGui();d&&d.parentElement&&d.parentElement.removeChild(d),o.destroyBean(l),n.current=void 0},[]);I.useEffect(()=>{const l=e!=null,d=(e==null?void 0:e.compDetails)&&!e.compDetails.componentFromFramework,h=t&&i==null;if(!(l&&d&&!h)){a();return}const f=e.compDetails;if(n.current){const y=n.current,w=y.refresh!=null&&e.force==!1?y.refresh(f.params):!1;if(w===!0||w===void 0)return;a()}const v=f.newAgStackInstance();v!=null&&v.then(y=>{if(!y)return;const S=y.getGui();if(!S)return;(t?i:r.current).appendChild(S),n.current=y})},[e,t,s]),I.useEffect(()=>a,[])},Ree=Dee,Eee=(e,t,i)=>{const{compProxy:s}=e;i(s);const n=s.getProps(),r=hh(t);return Q.createElement(dR.Provider,{value:{setMethods:o=>s.setMethods(o)}},r?Q.createElement(t,{...n}):Q.createElement(t,{...n,ref:o=>s.setRef(o)}))},Wk=(e,t,i)=>{const s=e.compProxy;return Q.createElement(Q.Fragment,null,s?Eee(e,t,i):Q.createElement(t,{...e.compDetails.params,ref:i}))},Aee=(e,t,i,s,n)=>{const r=e.compDetails,o=r.componentClass,a=r.componentFromFramework&&!e.popup,l=r.componentFromFramework&&e.popup,d=!r.componentFromFramework&&e.popup;return Q.createElement(Q.Fragment,null,a&&Wk(e,o,t),l&&Q.createElement(_k,{editDetails:e,cellCtrl:s,eParentCell:i,wrappedContent:Wk(e,o,t)}),d&&n&&Q.createElement(_k,{editDetails:e,cellCtrl:s,eParentCell:i,jsChildComp:n}))},Tee=(e,t,i,s,n,r,o)=>{const{compDetails:a,value:l}=e,d=!a,h=a&&a.componentFromFramework,p=a&&a.componentClass,f=l!=null&&l.toString?l.toString():l,v=()=>Q.createElement(Q.Fragment,null,d&&Q.createElement(Q.Fragment,null,f),h&&!r&&Q.createElement(p,{...a.params,key:t,ref:s}),h&&r&&Q.createElement(p,{...a.params,key:t}));return Q.createElement(Q.Fragment,null,n?Q.createElement("span",{role:"presentation",id:`cell-${i}`,className:"ag-cell-value",ref:o},v()):v())},Iee=({cellCtrl:e,printLayout:t,editingRow:i})=>{const{context:s}=I.useContext(Rs),{colIdSanitised:n,instanceId:r}=e,o=I.useRef(),[a,l]=I.useState(()=>e.isCellRenderer()?void 0:{compDetails:void 0,value:e.getValueToDisplay(),force:!1}),[d,h]=I.useState(),[p,f]=I.useState(1),[v,y]=I.useState(),[S,w]=I.useState(!1),[b,x]=I.useState(!1),[D,E]=I.useState(!1),[T,k]=I.useState(),P=I.useMemo(()=>e.isForceWrapper(),[e]),O=I.useMemo(()=>e.getCellAriaRole(),[e]),F=I.useRef(null),z=I.useRef(null),V=I.useRef(),U=I.useRef(),J=I.useRef(),ye=I.useRef([]),Ce=I.useRef(),[G,K]=I.useState(0),ne=I.useCallback(ue=>{Ce.current=ue,K(xe=>xe+1)},[]),ge=a!=null&&(S||D||b),B=P||ge,_=I.useCallback(ue=>{if(U.current=ue,ue){const xe=ue.isCancelBeforeStart&&ue.isCancelBeforeStart();setTimeout(()=>{xe?(e.stopEditing(!0),e.focusCell(!0)):e.cellEditorAttached()})}},[e]),Y=I.useRef();Y.current||(Y.current=new df(()=>F.current)),Ree(a,B,Ce.current,G,V,F);const Z=I.useRef();I.useLayoutEffect(()=>{var _e;const ue=Z.current,xe=a;if(Z.current=a,ue==null||ue.compDetails==null||xe==null||xe.compDetails==null)return;const Ee=ue.compDetails,Ae=xe.compDetails;if(Ee.componentClass!=Ae.componentClass||((_e=z.current)==null?void 0:_e.refresh)==null)return;z.current.refresh(Ae.params)!=!0&&f(je=>je+1)},[a]),I.useLayoutEffect(()=>{if(!(d&&!d.compDetails.componentFromFramework))return;const xe=d.compDetails,Ee=d.popup===!0,Ae=xe.newAgStackInstance();return Ae.then(He=>{if(!He)return;const _e=He.getGui();if(_(He),!Ee){const je=(P?J:F).current;je==null||je.appendChild(_e),He.afterGuiAttached&&He.afterGuiAttached()}k(He)}),()=>{Ae.then(He=>{var je;const _e=He.getGui();s.destroyBean(He),_(void 0),k(void 0),(je=_e==null?void 0:_e.parentElement)==null||je.removeChild(_e)})}},[d]);const ee=I.useCallback(ue=>{if(J.current=ue,!ue){ye.current.forEach(Ee=>Ee()),ye.current=[];return}const xe=Ee=>{if(Ee){const Ae=Ee.getGui();ue.insertAdjacentElement("afterbegin",Ae),ye.current.push(()=>{s.destroyBean(Ee),qc(Ae)})}return Ee};if(S){const Ee=e.createSelectionCheckbox();xe(Ee)}D&&xe(e.createDndSource()),b&&xe(e.createRowDragComp())},[e,s,D,b,S]),fe=I.useCallback(ue=>{if(F.current=ue,o.current=ue?s.createBean(new ah):s.destroyBean(o.current),!ue||!e)return;const xe={addOrRemoveCssClass:(Ae,He)=>Y.current.addOrRemoveCssClass(Ae,He),setUserStyles:Ae=>y(Ae),getFocusableElement:()=>F.current,setIncludeSelection:Ae=>w(Ae),setIncludeRowDrag:Ae=>x(Ae),setIncludeDndSource:Ae=>E(Ae),getCellEditor:()=>U.current||null,getCellRenderer:()=>z.current??V.current,getParentOfValue:()=>Ce.current??J.current??F.current,setRenderDetails:(Ae,He,_e)=>{l(je=>(je==null?void 0:je.compDetails)!==Ae||(je==null?void 0:je.value)!==He||(je==null?void 0:je.force)!==_e?{value:He,compDetails:Ae,force:_e}:je)},setEditDetails:(Ae,He,_e,je)=>{if(Ae){let Dt;je?Dt=new wee(Ae.params,()=>f(ut=>ut+1)):Ae.componentFromFramework&&gR(),h({compDetails:Ae,popup:He,popupPosition:_e,compProxy:Dt}),He||l(void 0)}else h(Dt=>{Dt!=null&&Dt.compProxy&&(U.current=void 0)})}},Ee=J.current||void 0;e.setComp(xe,ue,Ee,t,i,o.current)},[]),ce=I.useMemo(()=>{var xe;return!!(((xe=a==null?void 0:a.compDetails)==null?void 0:xe.componentFromFramework)&&hh(a.compDetails.componentClass))},[a]);I.useLayoutEffect(()=>{var ue;F.current&&(Y.current.addOrRemoveCssClass("ag-cell-value",!B),Y.current.addOrRemoveCssClass("ag-cell-inline-editing",!!d&&!d.popup),Y.current.addOrRemoveCssClass("ag-cell-popup-editing",!!d&&!!d.popup),Y.current.addOrRemoveCssClass("ag-cell-not-inline-editing",!d||!!d.popup),(ue=e.getRowCtrl())==null||ue.setInlineEditingCss(),e.shouldRestoreFocus()&&!e.isEditing()&&F.current.focus({preventScroll:!0}))});const we=()=>Q.createElement(Q.Fragment,null,a!=null&&Tee(a,p,r,z,B,ce,ne),d!=null&&Aee(d,_,F.current,e,T)),de=I.useCallback(()=>e.onFocusOut(),[]);return Q.createElement("div",{ref:fe,style:v,role:O,"col-id":n,onBlur:de},B?Q.createElement("div",{className:"ag-cell-wrapper",role:"presentation",ref:ee},we()):we())},Lee=I.memo(Iee),kee=({rowCtrl:e,containerType:t})=>{const{context:i,gos:s}=I.useContext(Rs),n=I.useRef(),r=I.useRef(e.getDomOrder()),o=e.isFullWidth(),a=e.getRowNode().displayed,[l,d]=I.useState(()=>a?e.getRowIndex():null),[h,p]=I.useState(()=>e.getRowId()),[f,v]=I.useState(()=>e.getBusinessKey()),[y,S]=I.useState(()=>e.getRowStyles()),w=I.useRef(null),b=I.useRef(null),[x,D]=I.useState(()=>null),[E,T]=I.useState(),[k,P]=I.useState(()=>a?e.getInitialRowTop(t):void 0),[O,F]=I.useState(()=>a?e.getInitialTransform(t):void 0),z=I.useRef(null),V=I.useRef(),U=I.useRef(!1),[J,ye]=I.useState(0);I.useEffect(()=>{var fe;if(U.current||!E||J>10)return;const ee=(fe=z.current)==null?void 0:fe.firstChild;ee?(e.setupDetailRowAutoHeight(ee),U.current=!0):ye(ce=>ce+1)},[E,J]);const Ce=I.useRef();Ce.current||(Ce.current=new df(()=>z.current));const G=I.useCallback(ee=>{if(z.current=ee,n.current=ee?i.createBean(new ah):i.destroyBean(n.current),!ee){e.unsetComp(t);return}if(!e.isAlive())return;const fe={setTop:P,setTransform:F,addOrRemoveCssClass:(ce,we)=>Ce.current.addOrRemoveCssClass(ce,we),setDomOrder:ce=>r.current=ce,setRowIndex:d,setRowId:p,setRowBusinessKey:v,setUserStyles:S,setCellCtrls:(ce,we)=>{b.current=w.current,w.current=ce;const de=uR(b.current,ce,r.current);de!==b.current&&cR(we,()=>D(de))},showFullWidth:ce=>T(ce),getFullWidthCellRenderer:()=>V.current,refreshFullWidth:ce=>_.current?(T(we=>({...we,params:ce()})),!0):!V.current||!V.current.refresh?!1:V.current.refresh(ce())};e.setComp(fe,ee,t,n.current)},[]);I.useLayoutEffect(()=>pf(E,i,z.current,V),[E]);const K=I.useMemo(()=>{const ee={top:k,transform:O};return Object.assign(ee,y),ee},[k,O,y]),ne=o&&(E==null?void 0:E.componentFromFramework),ge=!o&&x!=null,B=I.useMemo(()=>!!((E==null?void 0:E.componentFromFramework)&&hh(E.componentClass)),[E]),_=I.useRef(!1);I.useEffect(()=>{_.current=B&&!!E&&!!s.get("reactiveCustomComponents")},[B,E]);const Y=()=>x==null?void 0:x.map(ee=>Q.createElement(Lee,{cellCtrl:ee,editingRow:e.isEditing(),printLayout:e.isPrintLayout(),key:ee.instanceId})),Z=()=>{const ee=E.componentClass;return Q.createElement(Q.Fragment,null,B?Q.createElement(ee,{...E.params}):Q.createElement(ee,{...E.params,ref:V}))};return Q.createElement("div",{ref:G,role:"row",style:K,"row-index":l,"row-id":h,"row-business-key":f},ge&&Y(),ne&&Z())},Pee=I.memo(kee),Oee=({name:e})=>{const{context:t}=I.useContext(Rs),i=I.useMemo(()=>yd(e),[e]),s=I.useRef(null),n=I.useRef(null),r=I.useRef([]),o=I.useRef([]),[a,l]=I.useState(()=>[]),d=I.useRef(!1),h=I.useRef(),p=I.useMemo(()=>wr(i.viewport),[i]),f=I.useMemo(()=>wr(i.container),[i]),v=i.type==="center",y=v?s:n;Ec(" AG Row Container "+e+" ",y);const S=I.useCallback(()=>v?s.current!=null&&n.current!=null:n.current!=null,[]),w=I.useCallback(()=>v?s.current==null&&n.current==null:n.current==null,[]),b=I.useCallback(()=>{if(w()&&(h.current=t.destroyBean(h.current)),S()){const T=P=>{const O=uR(o.current,r.current,d.current);O!==o.current&&(o.current=O,cR(P,()=>l(O)))},k={setHorizontalScroll:P=>{s.current&&(s.current.scrollLeft=P)},setViewportHeight:P=>{s.current&&(s.current.style.height=P)},setRowCtrls:({rowCtrls:P,useFlushSync:O})=>{const F=!!O&&r.current.length>0&&P.length>0;r.current=P,T(F)},setDomOrder:P=>{d.current!=P&&(d.current=P,T(!1))},setContainerWidth:P=>{n.current&&(n.current.style.width=P)},setOffsetTop:P=>{n.current&&(n.current.style.transform=`translateY(${P})`)}};h.current=t.createBean(new sY(e)),h.current.setComp(k,n.current,s.current)}},[S,w]),x=I.useCallback(T=>{n.current=T,b()},[b]),D=I.useCallback(T=>{s.current=T,b()},[b]),E=()=>Q.createElement("div",{className:f,ref:x,role:"rowgroup"},a.map(T=>Q.createElement(Pee,{rowCtrl:T,containerType:i.type,key:T.instanceId})));return Q.createElement(Q.Fragment,null,v?Q.createElement("div",{className:p,ref:D,role:"presentation"},E()):E())},Fee=I.memo(Oee),Nee=()=>{const{context:e,resizeObserverService:t}=I.useContext(Rs),[i,s]=I.useState(""),[n,r]=I.useState(0),[o,a]=I.useState(0),[l,d]=I.useState("0px"),[h,p]=I.useState("0px"),[f,v]=I.useState("100%"),[y,S]=I.useState("0px"),[w,b]=I.useState("0px"),[x,D]=I.useState("100%"),[E,T]=I.useState(""),[k,P]=I.useState(""),[O,F]=I.useState(null),[z,V]=I.useState(""),[U,J]=I.useState(null),[ye,Ce]=I.useState("ag-layout-normal"),G=I.useRef();G.current||(G.current=new df(()=>K.current));const K=I.useRef(null),ne=I.useRef(null),ge=I.useRef(null),B=I.useRef(null),_=I.useRef(null),Y=I.useRef(null),Z=I.useRef(null),ee=I.useRef([]),fe=I.useRef([]);Ec(" AG Grid Body ",K),Ec(" AG Pinned Top ",ne),Ec(" AG Sticky Top ",ge),Ec(" AG Middle ",Y),Ec(" AG Pinned Bottom ",Z);const ce=I.useCallback(tt=>{if(K.current=tt,!tt){ee.current=e.destroyBeans(ee.current),fe.current.forEach(gt=>gt()),fe.current=[];return}if(!e)return;const ot=(gt,Rt)=>{gt.appendChild(Rt),fe.current.push(()=>gt.removeChild(Rt))},ti=gt=>{const Rt=e.createBean(new gt);return ee.current.push(Rt),Rt},_t=(gt,Rt,cn)=>{ot(gt,document.createComment(cn)),ot(gt,ti(Rt).getGui())};_t(tt,g$," AG Fake Horizontal Scroll "),_t(tt,h$," AG Overlay Wrapper "),_.current&&_t(_.current,p$," AG Fake Vertical Scroll ");const fr={setRowAnimationCssOnBodyViewport:s,setColumnCount:gt=>{K.current&&E8(K.current,gt)},setRowCount:gt=>{K.current&&D8(K.current,gt)},setTopHeight:r,setBottomHeight:a,setStickyTopHeight:d,setStickyTopTop:p,setStickyTopWidth:v,setTopDisplay:T,setBottomDisplay:P,setColumnMovingCss:(gt,Rt)=>G.current.addOrRemoveCssClass(gt,Rt),updateLayoutClasses:Ce,setAlwaysVerticalScrollClass:F,setPinnedTopBottomOverflowY:V,setCellSelectableCss:(gt,Rt)=>J(Rt?gt:null),setBodyViewportWidth:gt=>{Y.current&&(Y.current.style.width=gt)},registerBodyViewportResizeListener:gt=>{if(Y.current){const Rt=t.observeResize(Y.current,gt);fe.current.push(()=>Rt())}},setStickyBottomHeight:S,setStickyBottomBottom:b,setStickyBottomWidth:D},Fn=e.createBean(new aY);ee.current.push(Fn),Fn.setComp(fr,tt,Y.current,ne.current,Z.current,ge.current,B.current)},[]),we=I.useMemo(()=>wr("ag-root","ag-unselectable",ye),[ye]),de=I.useMemo(()=>wr("ag-body-viewport",i,ye,O,U),[i,ye,O,U]),ue=I.useMemo(()=>wr("ag-body",ye),[ye]),xe=I.useMemo(()=>wr("ag-floating-top",U),[U]),Ee=I.useMemo(()=>wr("ag-sticky-top",U),[U]),Ae=I.useMemo(()=>wr("ag-sticky-bottom",y==="0px"?"ag-hidden":null,U),[U,y]),He=I.useMemo(()=>wr("ag-floating-bottom",U),[U]),_e=I.useMemo(()=>({height:n,minHeight:n,display:E,overflowY:z}),[n,E,z]),je=I.useMemo(()=>({height:l,top:h,width:f}),[l,h,f]),Dt=I.useMemo(()=>({height:y,bottom:w,width:x}),[y,w,x]),ut=I.useMemo(()=>({height:o,minHeight:o,display:k,overflowY:z}),[o,k,z]),xi=tt=>Q.createElement(Fee,{name:tt,key:`${tt}-container`}),Li=({section:tt,children:ot,className:ti,style:_t})=>Q.createElement("div",{ref:tt,className:ti,role:"presentation",style:_t},ot.map(xi));return Q.createElement("div",{ref:ce,className:we,role:"treegrid"},Q.createElement(bee,null),Li({section:ne,className:xe,style:_e,children:["topLeft","topCenter","topRight","topFullWidth"]}),Q.createElement("div",{className:ue,ref:_,role:"presentation"},Li({section:Y,className:de,children:["left","center","right","fullWidth"]})),Li({section:ge,className:Ee,style:je,children:["stickyTopLeft","stickyTopCenter","stickyTopRight","stickyTopFullWidth"]}),Li({section:B,className:Ae,style:Dt,children:["stickyBottomLeft","stickyBottomCenter","stickyBottomRight","stickyBottomFullWidth"]}),Li({section:Z,className:He,style:ut,children:["bottomLeft","bottomCenter","bottomRight","bottomFullWidth"]}))},zee=I.memo(Nee),Bee=(e,t)=>{const{children:i,eFocusableElement:s,onTabKeyDown:n,gridCtrl:r,forceFocusOutWhenTabGuardsAreEmpty:o}=e,{context:a}=I.useContext(Rs),l=I.useRef(null),d=I.useRef(null),h=I.useRef(),p=w=>{const b=w==null?void 0:parseInt(w,10).toString();[l,d].forEach(x=>{var D,E;b===void 0?(D=x.current)==null||D.removeAttribute("tabindex"):(E=x.current)==null||E.setAttribute("tabindex",b)})};I.useImperativeHandle(t,()=>({forceFocusOutOfContainer(w){var b;(b=h.current)==null||b.forceFocusOutOfContainer(w)}}));const f=I.useCallback(()=>{const w=l.current,b=d.current;if(!w&&!b){h.current=a.destroyBean(h.current);return}if(w&&b){const x={setTabIndex:p};h.current=a.createBean(new QN({comp:x,eTopGuard:w,eBottomGuard:b,eFocusableElement:s,onTabKeyDown:n,forceFocusOutWhenTabGuardsAreEmpty:o,focusInnerElement:D=>r.focusInnerElement(D)}))}},[]),v=I.useCallback(w=>{l.current=w,f()},[f]),y=I.useCallback(w=>{d.current=w,f()},[f]),S=w=>{const b=w==="top"?Vv.TAB_GUARD_TOP:Vv.TAB_GUARD_BOTTOM;return Q.createElement("div",{className:`${Vv.TAB_GUARD} ${b}`,role:"presentation",ref:w==="top"?v:y})};return Q.createElement(Q.Fragment,null,S("top"),i,S("bottom"))},Gee=I.forwardRef(Bee),Hee=I.memo(Gee),jee=({context:e})=>{const[t,i]=I.useState(""),[s,n]=I.useState(""),[r,o]=I.useState(""),[a,l]=I.useState(null),[d,h]=I.useState(null),[p,f]=I.useState(!1),[v,y]=I.useState(),S=I.useRef(),w=I.useRef(null),b=I.useRef(),[x,D]=I.useState(null),E=I.useRef(()=>{}),T=I.useRef(),k=I.useRef([]),P=I.useCallback(()=>{},[]),O=I.useMemo(()=>e.isDestroyed()?null:e.getBeans(),[e]);Ec(" AG Grid ",w);const F=I.useCallback(ye=>{if(w.current=ye,S.current=ye?e.createBean(new HK):e.destroyBean(S.current),!ye||e.isDestroyed())return;const Ce=S.current;E.current=Ce.focusInnerElement.bind(Ce);const G={destroyGridUi:()=>{},setRtlClass:i,setGridThemeClass:n,forceFocusOutOfContainer:K=>{var ne,ge;if(!K&&((ne=T.current)!=null&&ne.isDisplayed())){T.current.forceFocusOutOfContainer(K);return}(ge=b.current)==null||ge.forceFocusOutOfContainer(K)},updateLayoutClasses:o,getFocusableContainers:()=>{var ge;const K=[],ne=(ge=w.current)==null?void 0:ge.querySelector(".ag-root");return ne&&K.push({getGui:()=>ne}),k.current.forEach(B=>{B.isDisplayed()&&K.push(B)}),K},setCursor:l,setUserSelect:h};Ce.setComp(G,ye,ye),f(!0)},[]);I.useEffect(()=>{const ye=S.current,Ce=w.current;if(!v||!O||!ye||!x||!Ce)return;const G=[],{watermarkSelector:K,paginationSelector:ne,sideBarSelector:ge,statusBarSelector:B,gridHeaderDropZonesSelector:_}=ye.getOptionalSelectors(),Y=[];if(_){const ee=e.createBean(new _.component),fe=ee.getGui();Ce.insertAdjacentElement("afterbegin",fe),Y.push(fe),G.push(ee)}if(ge){const ee=e.createBean(new ge.component),fe=ee.getGui(),ce=x.querySelector(".ag-tab-guard-bottom");ce&&(ce.insertAdjacentElement("beforebegin",fe),Y.push(fe)),G.push(ee),k.current.push(ee)}const Z=ee=>{const fe=e.createBean(new ee),ce=fe.getGui();return Ce.insertAdjacentElement("beforeend",ce),Y.push(ce),G.push(fe),fe};if(B&&Z(B.component),ne){const ee=Z(ne.component);T.current=ee,k.current.push(ee)}return K&&Z(K.component),()=>{e.destroyBeans(G),Y.forEach(ee=>{var fe;(fe=ee.parentElement)==null||fe.removeChild(ee)})}},[v,x,O]);const z=I.useMemo(()=>wr("ag-root-wrapper",t,s,r),[t,s,r]),V=I.useMemo(()=>wr("ag-root-wrapper-body","ag-focus-managed",r),[r]),U=I.useMemo(()=>({userSelect:d??"",WebkitUserSelect:d??"",cursor:a??""}),[d,a]),J=I.useCallback(ye=>{b.current=ye,y(ye!==null)},[]);return Q.createElement("div",{ref:F,className:z,style:U,role:"presentation"},Q.createElement("div",{className:V,ref:D,role:"presentation"},p&&x&&O&&Q.createElement(Rs.Provider,{value:O},Q.createElement(Hee,{ref:J,eFocusableElement:x,onTabKeyDown:P,gridCtrl:S.current,forceFocusOutWhenTabGuardsAreEmpty:!0},Q.createElement(zee,null)))))},Vee=I.memo(jee),_ee=class extends re{wireBeans(e){this.ctrlsService=e.ctrlsService}areHeaderCellsRendered(){return this.ctrlsService.getHeaderRowContainerCtrls().every(e=>e.getAllCtrls().every(t=>t.areCellsRendered()))}},A2=e=>{var w;const t=I.useRef(),i=I.useRef(null),s=I.useRef(null),n=I.useRef([]),r=I.useRef([]),o=I.useRef(e),a=I.useRef(),l=I.useRef(),d=I.useRef(!1),[h,p]=I.useState(void 0),[,f]=I.useState(0),v=I.useCallback(b=>{if(i.current=b,!b){n.current.forEach(V=>V()),n.current.length=0;return}const x=e.modules||[];s.current||(s.current=new cee(()=>f(V=>V+1),e.componentWrappingElement,e.maxComponentCreationTimeMs),n.current.push(()=>{var V;(V=s.current)==null||V.destroy(),s.current=null}));const D=m8(e.gridOptions,e),E=()=>{if(d.current){const V=()=>{var J;return(J=a.current)!=null&&J.shouldQueueUpdates()?void 0:r.current.shift()};let U=V();for(;U;)U(),U=V()}},T=new Yee(E);a.current=T;const k=new _ee,P={providedBeanInstances:{frameworkComponentWrapper:new Uee(s.current,D.reactiveCustomComponents??gQ("reactiveCustomComponents")??!0),renderStatusService:k},modules:x,frameworkOverrides:T},O=V=>{p(V),V.createBean(k),n.current.push(()=>{V.destroy()}),V.getBean("ctrlsService").whenReady({addDestroyFunc:U=>{n.current.push(U)}},()=>{var J;if(V.isDestroyed())return;const U=t.current;U&&((J=e.setGridApi)==null||J.call(e,U))})},F=V=>{V.getBean("ctrlsService").whenReady({addDestroyFunc:U=>{n.current.push(U)}},()=>{r.current.forEach(U=>U()),r.current.length=0,d.current=!0})},z=new fQ;D.gridId??(D.gridId=l.current),t.current=z.create(b,D,O,F,P),n.current.push(()=>{t.current=void 0}),t.current&&(l.current=t.current.getGridId())},[]),y=I.useMemo(()=>({height:"100%",...e.containerStyle||{}}),[e.containerStyle]),S=I.useCallback(b=>{var x;d.current&&!((x=a.current)!=null&&x.shouldQueueUpdates())?b():r.current.push(b)},[]);return I.useEffect(()=>{const b=Wee(o.current,e);o.current=e,S(()=>{t.current&&v8(b,t.current)})},[e]),Q.createElement("div",{style:y,className:e.className,ref:v},h&&!h.isDestroyed()?Q.createElement(Vee,{context:h}):null,((w=s.current)==null?void 0:w.getPortals())??null)};function Wee(e,t){const i={};return Object.keys(t).forEach(s=>{const n=t[s];e[s]!==n&&(i[s]=n)}),i}var Uee=class extends MQ{constructor(e,t){super(),this.parent=e,this.reactiveCustomComponents=t}createWrapper(e,t){if(this.reactiveCustomComponents){const n=(r=>{switch(r){case"filter":return eee;case"floatingFilterComponent":return iee;case"dateComponent":return QJ;case"dragAndDropImageComponent":return JJ;case"loadingOverlayComponent":return see;case"noRowsOverlayComponent":return ree;case"statusPanel":return oee;case"toolPanel":return aee;case"menuItem":return nee;case"cellRenderer":return XJ}})(t.propertyName);if(n)return new n(e,this.parent,t)}else switch(t.propertyName){case"filter":case"floatingFilterComponent":case"dateComponent":case"dragAndDropImageComponent":case"loadingOverlayComponent":case"noRowsOverlayComponent":case"statusPanel":case"toolPanel":case"menuItem":case"cellRenderer":gR();break}const i=!t.cellRenderer&&t.propertyName!=="toolPanel";return new R2(e,this.parent,t,i)}},$ee=I.forwardRef((e,t)=>{const{ctrlsFactory:i,context:s,gos:n,resizeObserverService:r,rowModel:o}=I.useContext(Rs),[a,l]=I.useState(()=>new Xn),[d,h]=I.useState(()=>new Xn),[p,f]=I.useState(),[v,y]=I.useState(),S=I.useRef(),w=I.useRef(null),b=I.useRef(),x=I.useMemo(()=>Cn.__getGridRegisteredModules(e.api.getGridId()),[e]),D=I.useMemo(()=>a.toString()+" ag-details-row",[a]),E=I.useMemo(()=>d.toString()+" ag-details-grid",[d]);t&&I.useImperativeHandle(t,()=>({refresh(){var P;return((P=S.current)==null?void 0:P.refresh())??!1}})),e.template&&ae("detailCellRendererParams.template is not supported by AG Grid React. To change the template, provide a Custom Detail Cell Renderer. See https://ag-grid.com/react-data-grid/master-detail-custom-detail/");const T=I.useCallback(P=>{var z;if(w.current=P,!P){S.current=s.destroyBean(S.current),(z=b.current)==null||z.call(b);return}const O={addOrRemoveCssClass:(V,U)=>l(J=>J.setClass(V,U)),addOrRemoveDetailGridCssClass:(V,U)=>h(J=>J.setClass(V,U)),setDetailGrid:V=>f(V),setRowData:V=>y(V),getGui:()=>w.current},F=i.getInstance("detailCellRenderer");if(F&&(s.createBean(F),F.init(O,e),S.current=F,n.get("detailRowAutoHeight"))){const V=()=>{if(w.current==null)return;const U=w.current.clientHeight;U!=null&&U>0&&setTimeout(()=>{e.node.setRowHeight(U),(Ut(n)||wo(n))&&o.onRowHeightChanged()},0)};b.current=r.observeResize(P,V),V()}},[]),k=I.useCallback(P=>{var O;(O=S.current)==null||O.registerDetailWithMaster(P)},[]);return Q.createElement("div",{className:D,ref:T},p&&Q.createElement(A2,{className:E,...p,modules:x,rowData:v,setGridApi:k}))}),Yee=class extends JN{constructor(e){super("react"),this.processQueuedUpdates=e,this.queueUpdates=!1,this.frameworkComponents={agGroupCellRenderer:jk,agGroupRowRenderer:jk,agDetailCellRenderer:$ee},this.wrapIncoming=(t,i)=>i==="ensureVisible"?YJ(t):t(),this.renderingEngine="react"}frameworkComponent(e){return this.frameworkComponents[e]}isFrameworkComponent(e){if(!e)return!1;const t=e.prototype;return!(t&&"getGui"in t)}getLockOnRefresh(){this.queueUpdates=!0}releaseLockOnRefresh(){this.queueUpdates=!1,this.processQueuedUpdates()}shouldQueueUpdates(){return this.queueUpdates}runWhenReadyAsync(){return $J()}},pR=class extends I.Component{constructor(){super(...arguments),this.apiListeners=[],this.setGridApi=e=>{this.api=e,this.apiListeners.forEach(t=>t(e))}}registerApiListener(e){this.apiListeners.push(e)}componentWillUnmount(){this.apiListeners.length=0}render(){return Q.createElement(A2,{...this.props,setGridApi:this.setGridApi})}};Cn.registerModules([EC]);function Kee({id:e,back:t}){const i=mC(),{user:s}=yC(),n=I.useRef(s),[r,o]=I.useState(""),[a,l]=I.useState(!1),d=I.useRef(),h=100,p=10,f=async()=>{try{const b=await fetch(`${El}/movies/data/${e}`),x=await b.json();b.ok?o(x):i("/not-found")}catch(b){i("/not-found"),console.error("error retrieving movie data!",b)}};I.useEffect(()=>{n.current=s},[s]);const v=b=>{n.current?i(`/people/${b.id}`):l(!0)},[y,S]=I.useState([{field:"name",cellRenderer:b=>oe.jsx("span",{style:{color:"white",cursor:"pointer",textDecoration:"underline"},onClick:()=>v(b.data),children:b.value})},{field:"category",width:"150px",headerName:"Role",cellStyle:{textTransform:"capitalize"}},{field:"characters"}]),w={resizable:!1,cellStyle:{textAlign:"left"},sortable:!1};return I.useEffect(()=>{if(d.current&&r.principals){const b={getRows:x=>{x.successCallback(r.principals,r.principals.length)}};d.current.api.setGridOption("datasource",b)}},[r.principals]),I.useEffect(()=>{f()},[e]),oe.jsxs("div",{children:[oe.jsxs(iu,{isOpen:a,onClick:()=>l(!1),children:[oe.jsx(hC,{children:"Error"}),oe.jsx(gC,{children:"Please login to access this page."}),oe.jsx(pC,{children:oe.jsx(ra,{children:"Close"})})]}),oe.jsxs("div",{style:{display:"flex",textAlign:"left"},children:[oe.jsx("div",{children:oe.jsx(ra,{onClick:t,style:{marginRight:"20px",width:"100px"},children:" Back"})}),oe.jsxs("div",{children:[oe.jsx("h2",{children:r.title}),"Released in: ",r.year,oe.jsx("br",{}),"Runtime: ",r.runtime," minutes",oe.jsx("br",{}),"Country: ",r.country,oe.jsx("br",{}),"Box Office: ",r.boxoffice?`$${r.boxoffice.toLocaleString()}`:"unknown",oe.jsx("br",{}),"Genres: ",r.genres&&r.genres.length>0?r.genres.map((b,x)=>oe.jsx("li",{children:b},x)):oe.jsx("li",{children:"No genres available"}),oe.jsx("br",{}),oe.jsx("i",{children:r.plot}),oe.jsx("br",{}),oe.jsx("br",{}),oe.jsx("div",{style:{textAlign:"right"},children:oe.jsx("div",{children:r.ratings&&r.ratings.length>0?r.ratings.map((b,x)=>b.value?oe.jsxs("h6",{children:[b.source,": ",b.value]},x):null):oe.jsx("div",{children:"No ratings available"})})})]}),oe.jsx("div",{children:oe.jsx("img",{src:r.poster,alt:"poster",style:{marginLeft:"20px",marginRight:"20px"}})}),oe.jsx("div",{style:{minHeight:"300px",minWidth:"405px"},children:oe.jsx(pR,{ref:d,theme:lR.withPart(aR),rowModelType:"infinite",cacheBlockSize:h,maxBlocksInCache:p,columnDefs:y,defaultColDef:w})})]})]})}Cn.registerModules([EC]);function Uk(){const e=mC(),{id:t}=R5(),[i,s]=I.useState(!1),[n,r]=I.useState(""),o=()=>s(!i),a=I.useRef(),l=100,d=10;I.useEffect(()=>{r(t||"")},[t]);const h=O=>{e(`/movies/${O.imdbID}`)},p=()=>e("/movies"),[f,v]=I.useState([{field:"title",width:300,maxWidth:300,cellRenderer:O=>oe.jsx("span",{style:{color:"white",cursor:"pointer",textDecoration:"underline"},onClick:()=>h(O.data),children:O.value})},{field:"year"},{field:"imdbRating",headerName:"IMDb"},{field:"rottenTomatoesRating",headerName:"Rotten Tomatoes"},{field:"metacriticRating",headerName:"Metacritic"},{field:"classification"}]),y={resizable:!1,maxWidth:150,cellStyle:{textAlign:"left"},sortable:!1},[S,w]=I.useState(""),[b,x]=I.useState("Any Year"),D={getRows:async O=>{const F=Math.floor(O.startRow/l)+1,z=new URLSearchParams;S&&z.append("title",S),b!="Any Year"&&z.append("year",b),F&&z.append("page",F);const V=`${El}/movies/search?${z.toString()}`;try{const J=await(await fetch(V)).json();O.successCallback(J.data,J.pagination.total)}catch{O.failCallback()}}},E=O=>{O.api.setGridOption("datasource",D)},T=()=>{a.current&&a.current.api&&(a.current.api.setGridOption("datasource",D),a.current.api.purgeInfiniteCache())},P=Array.from({length:new Date().getFullYear()-1990+1},(O,F)=>new Date().getFullYear()-F);return n==""?oe.jsxs("div",{children:[oe.jsx("div",{style:{height:"400px",width:"1100px"},children:oe.jsx(pR,{ref:a,theme:lR.withPart(aR),rowModelType:"infinite",cacheBlockSize:l,maxBlocksInCache:d,onGridReady:E,columnDefs:f,defaultColDef:y})}),oe.jsx("div",{children:oe.jsxs(tF,{children:[oe.jsxs(ih,{isOpen:i,toggle:o,children:[oe.jsx(rf,{style:{paddingRight:"5px",width:"100px"},outline:!0,split:!0,children:oe.jsx("span",{style:{marginRight:"8px"},children:b})}),oe.jsxs(dC,{style:{minWidth:"150px",maxHeight:"200px",overflowY:"auto"},children:[oe.jsx(Oc,{onClick:()=>x("Any Year"),children:"Any Year"}),P.map(O=>oe.jsx(Oc,{onClick:()=>x(O),children:O},O))]})]}),oe.jsx(Fc,{value:S,placeholder:"enter a movie title",onChange:O=>{w(O.target.value)}}),oe.jsx(ra,{style:{backgroundColor:"#d1772e"},onClick:T,children:"Search"})]})})]}):oe.jsx(Kee,{id:n,back:p})}var qee=Object.defineProperty,T2=(e,t)=>{for(var i in t)qee(e,i,{get:t[i],enumerable:!0})},me={};T2(me,{error:()=>L2,errorOnce:()=>Jee,log:()=>Zee,logGroup:()=>tte,reset:()=>ete,table:()=>Xee,warn:()=>I2,warnOnce:()=>Qee});var Pp=new Set;function Zee(...e){console.log(...e)}function I2(e,...t){console.warn(`AG Charts - ${e}`,...t)}function L2(e,...t){typeof e=="object"?console.error("AG Charts error",e,...t):console.error(`AG Charts - ${e}`,...t)}function Xee(...e){console.table(...e)}function Qee(e,...t){const i=`Logger.warn: ${e}`;Pp.has(i)||(I2(e,...t),Pp.add(i))}function Jee(e,...t){const i=`Logger.error: ${e}`;Pp.has(i)||(L2(e,...t),Pp.add(i))}function ete(){Pp.clear()}function tte(e,t){console.groupCollapsed(e);try{return t()}finally{console.groupEnd()}}var yn={};T2(yn,{detectChartDefinition:()=>ote,getAxisModule:()=>lte,getSeriesModule:()=>ate,hasModule:()=>nte,listModulesByType:()=>rte,register:()=>k2,registerMany:()=>ite,reset:()=>ste});var Uv=(e=>(e.Axis="axis",e.Chart="chart",e.Preset="preset",e.Plugin="plugin",e.Series="series",e))(Uv||{}),wl=new Map;function k2(e){const t=wl.get(e.name);if(t&&(t.enterprise||!e.enterprise))throw new Error(`AG Charts - Module '${e.name}' already registered`);wl.set(e.name,e)}function ite(e){for(const t of e)k2(t)}function ste(){wl.clear()}function nte(e){return wl.has(e)}function*rte(e){for(const t of wl.values())t.type===e&&(yield t)}function ote(e){for(const t of wl.values())if(cte(t)&&t.detect(e))return t;throw new Error("AG Charts - Unknown chart type; Check options are correctly structured and series types are specified")}function ate(e){const t=wl.get(e);if(dte(t))return t}function lte(e){const t=wl.get(e);if(ute(t))return t}function cte(e){return(e==null?void 0:e.type)==="chart"}function ute(e){return(e==null?void 0:e.type)==="axis"}function dte(e){return(e==null?void 0:e.type)==="series"}var fR=class{constructor(){this.events=new Map}on(e,t){var i;return this.events.has(e)||this.events.set(e,new Set),(i=this.events.get(e))==null||i.add(t),()=>this.off(e,t)}off(e,t){const i=this.events.get(e);i&&(i.delete(t),i.size===0&&this.events.delete(e))}emit(e,t){var i;(i=this.events.get(e))==null||i.forEach(s=>s(t))}clear(e){e?this.events.delete(e):this.events.clear()}};function DM(e,t="and",i=String,s=1/0){if(e.length===1)return i(e[0]);e=e.map(i);const n=e.pop();if(e.length>=s){const r=e.length-(s-1);return`${e.slice(0,s-1).join(", ")}, and ${r} more ${t} ${n}`}return`${e.join(", ")} ${t} ${n}`}function P2(e,t=1/0){if(typeof e=="number"){if(isNaN(e))return"NaN";if(e===1/0)return"Infinity";if(e===-1/0)return"-Infinity"}const i=JSON.stringify(e)??typeof e;return i.length>t?`${i.slice(0,t)}... (+${i.length-t} characters)`:i}function hte(e){let t=1;for(let i=0;i<e.length;i++)e.charCodeAt(i)===10&&t++;return t}function gte(e,t){if(e===t)return 0;const[i,s]=e.length<t.length?[e,t]:[t,e],n=i.length,r=s.length;let o=new Array(n+1).fill(0).map((l,d)=>d),a=new Array(n+1);for(let l=1;l<=r;l++){a[0]=l;for(let d=1;d<=n;d++){const h=s[l-1]===i[d-1]?0:1;a[d]=Math.min(o[d]+1,a[d-1]+1,o[d-1]+h)}[o,a]=[a,o]}return o[n]}var go={};typeof window<"u"?go.window=window:typeof global<"u"&&(go.window=global.window);typeof document<"u"?go.document=document:typeof global<"u"&&(go.document=global.document);function ua(e){var t;return e?(t=go.document)==null?void 0:t[e]:go.document}function Pt(e){var t;return e?(t=go.window)==null?void 0:t[e]:go.window}function pte(e){go.document=e}function fte(e){go.window=e}function qe(e,t,i){const s=ua().createElement(e);if(typeof t=="object"&&(i=t,t=void 0),t)for(const n of t.split(" "))s.classList.add(n);return i&&Object.assign(s.style,i),s}function Ji(e){return ua().createElementNS("http://www.w3.org/2000/svg",e)}function mte(e,t){const i=ua("body"),s=qe("a",{display:"none"});s.href=e,s.download=t,i.appendChild(s),s.click(),setTimeout(()=>i.removeChild(s))}function vte(e){const t=Pt("Option"),{style:i}=new t;return i.color=e,i.color||null}function dp(e){return e!=null}function $e(e){return Array.isArray(e)}function O2(e){return typeof e=="boolean"}function gh(e){return e instanceof Date}function ff(e){return gh(e)&&!isNaN(Number(e))}function yte(e){return e instanceof RegExp}function Ll(e){return typeof e=="function"}function Ci(e){return typeof e=="object"&&e!==null&&!$e(e)}function bi(e){var t;return typeof e=="object"&&e!==null&&((t=e.constructor)==null?void 0:t.name)==="Object"}function es(e){return typeof e=="string"}function Qn(e){return typeof e=="number"}function lt(e){return Number.isFinite(e)}function Cte(e){return typeof window<"u"&&e instanceof HTMLElement}function D0(e,t){return Object.values(e).includes(t)}function bte(e){return typeof e=="symbol"}function F2(e){return es(e)&&vte(e)!=null}var Zc=Symbol("description"),N2=Symbol("required"),R0=class{constructor(e,t,i,s){this.message=e,this.path=t,this.required=i,this.unknown=s}toString(){return this.message}};function Mr(e,t,i=""){var l;if(!Ci(e)){const d=$k(i,e,"an object",!0);return{valid:null,errors:[new R0(d,i,!0)]}}const s=[],n=new Set(Object.keys(e)),r=[],o={};function a(d){return $e(t)?`${i}[${d}]`:i?`${i}.${d}`:d}for(const d of Object.keys(t)){const h=t[d],p=e[d],f=h[N2];if(n.delete(d),typeof p>"u"&&(s.push(d),!f))continue;const v=a(d);if(Ll(h)){const y={options:e,path:v};if(h(p,y))o[d]=((l=y.result)==null?void 0:l.valid)??p;else if(!y.result){const S=$k(v,p,h,f);r.push(new R0(S,i,f))}y.result&&r.push(...y.result.errors)}else{const y=Mr(p,h,v);y.valid!=null&&(o[d]=y.valid),r.push(...y.errors)}}for(const d of n){if(typeof e[d]>"u")continue;const p=Ste(d,a(d),s);r.push(new R0(p,i,void 0,!0))}return{valid:o,errors:r}}function $k(e,t,i,s){const n=es(i)?i:i[Zc],r=n?`; expecting ${n}`:"",o=e?`Option \`${e}\``:"Value";return s&&t==null?`${o} is required and has not been provided${r}, ignoring.`:`${o} cannot be set to \`${P2(t,50)}\`${r}, ignoring.`}function Ste(e,t,i){const s=wte(e,i),n=s?`; Did you mean \`${s}\`? Ignoring.`:", ignoring.";return`Unknown option \`${t}\`${n}`}function wte(e,t,i=2){let s=1/0;const n=e.toLowerCase();return t.reduce((r,o)=>{const a=gte(n,o.toLowerCase());return s>a&&a<=i?(s=a,o):r},null)}function Ct(e,t){return Object.assign(Ll(e)?(i,s)=>e(i,s):{...e},{[Zc]:t})}function Pe(e){return Object.assign(Ll(e)?(t,i)=>e(t,i):mf(e),{[N2]:!0,[Zc]:e[Zc]})}var mf=(e,t="an object")=>Ct((i,s)=>(s.result=Mr(i,e,s.path),!s.result.errors.some(n=>n.required&&n.path===s.path)),t),xte=(e,t="an object")=>Ct((i,s)=>(s.result=Mr(i,e,s.path),s.result.errors=s.result.errors.filter(n=>!n.unknown),!s.result.errors.some(n=>n.required&&n.path===s.path)),t),ms=(...e)=>Ct((t,i)=>e.every(s=>{const n=s(t,i);return i.result&&!n&&delete i.result,n}),e.map(t=>t[Zc]).filter(Boolean).join(" and ")),ai=(...e)=>Ct((t,i)=>e.some(s=>{const n=s(t,i);return i.result&&!n&&delete i.result,n}),e.map(t=>t[Zc]).filter(Boolean).join(" or ")),Iy=e=>lt(e)||ff(e),Mte=e=>gh(e)||(lt(e)||es(e))&&ff(new Date(e)),po=Ct($e,"an array"),Se=Ct(O2,"a boolean"),St=Ct(Ll,"a function"),Ye=Ct(F2,"a color string"),bd=Ct(Mte,"a date"),Sn=Ct(dp,"a defined value"),ke=Ct(lt,"a number"),Op=Ct(Ci,"an object"),Me=Ct(es,"a string"),TC=(e,t=1/0)=>{let i;return t===1/0?i=`an array of at least ${e} items`:e===t?i=`an array of exactly ${e} items`:i=`an array of at least ${e} and no more than ${t} items`,Ct(s=>$e(s)&&s.length>=e&&s.length<=t,i)},z2=(e,t=!0)=>Ct(i=>lt(i)&&(i>e||t&&i===e),`a number greater than ${t?"or equal to ":""}${e}`),Dte=(e,t)=>Ct(i=>lt(i)&&i>=e&&i<=t,`a number between ${e} and ${t} inclusive`),be=z2(0),$v=z2(0,!1),$t=Dte(0,1),Fp=e=>Ct((t,{options:i})=>!Iy(t)||!Iy(i[e])||t<i[e],`the value to be less than \`${e}\``),RM=e=>Ct((t,{options:i})=>!Iy(t)||!Iy(i[e])||t>i[e],`the value to be greater than \`${e}\``);function Ue(...e){Ci(e[0])&&(e=Object.values(e[0]));const t=DM(e,"or",i=>`'${i}'`);return Ct(i=>e.includes(i),`a keyword such as ${t}`)}var Es=e=>Ct(t=>e===t,`the value ${JSON.stringify(e)}`),Rte=(e,t)=>Ct(i=>i instanceof e,`an instance of ${e.name}`),Jt=(e,t)=>Ct((i,s)=>$e(i)&&i.every(n=>{const r=e(n,s);return delete s.result,r}),`${e[Zc]} array`),Xc=(e,t="an object array")=>Ct((i,s)=>{if(!$e(i))return!1;const n=[],r=[];for(let o=0;o<i.length;o++){const a=`${s.path}[${o}]`,l=Mr(i[o],e,a);r.push(...l.errors),l.errors.some(d=>d.required&&d.path===a)||n.push(l.valid)}return s.result={valid:n,errors:r},!0},t),mR=(e,t="an object")=>{const i=xte({type:Pe(Ue(...Object.keys(e)))});return Ct((s,n)=>{if(i(s,n)){const r=s.type,o={type:Pe(Es(r)),...e[r]},a=mf(o)(s,n);if(n.result)for(const l of n.result.errors)l.message+=` (type="${r}")`;return a}return!1},t)},Ete=mf({color:Ye,stop:$t},""),Ate=Ct(e=>{let t=-1/0;for(const i of e)if((i==null?void 0:i.stop)!=null){if(i.stop<t)return!1;t=i.stop}return!0},"color stops to be defined in ascending order"),vR=ms(TC(2),ms(Jt(Ete),Ate)),yR=Ue("axis","item","series"),E0=mR({gradient:{gradient:Ue("linear","radial","conic"),bounds:yR,colorStops:Pe(vR),rotation:ke,reverse:Se}},"a gradient object with color stops"),Vs={stroke:Ye,strokeWidth:be,strokeOpacity:$t},Tte=mf({type:Pe(Es("gradient")),gradient:Pe(Ue("linear","radial","conic")),bounds:Pe(yR),colorStops:Pe(ai(vR,ms(TC(2),Jt(Ye)))),rotation:Pe(ke),reverse:Pe(Se)}),Ite=mf({type:Pe(Es("pattern")),pattern:Pe(Ue("vertical-lines","horizontal-lines","forward-slanted-lines","backward-slanted-lines","circles","squares","triangles","diamonds","stars","hearts","crosses")),width:Pe(be),height:Pe(be),fill:Pe(Ye),fillOpacity:Pe($t),backgroundFill:Pe(Ye),backgroundFillOpacity:Pe($t),padding:Pe(be),rotation:Pe(ke),stroke:Pe(Ye),strokeWidth:Pe(be),strokeOpacity:Pe($t)}),Lte={gradient:Ue("linear","radial","conic"),bounds:yR,reverse:Se},kte={rotation:ke,padding:be},Pte=mR({gradient:{...Lte,colorStops:vR,rotation:ke},pattern:{...kte,pattern:Ue("vertical-lines","horizontal-lines","forward-slanted-lines","backward-slanted-lines","circles","squares","triangles","diamonds","stars","hearts","crosses"),width:be,height:be,fill:Ye,fillOpacity:$t,backgroundFill:Ye,backgroundFillOpacity:$t,...Vs}},"a color object"),CR=ai(Ye,Pte),rr={fill:CR,fillOpacity:$t};rr.fillGradientDefaults=Tte;rr.fillPatternDefaults=Ite;var fo={lineDash:Jt(be),lineDashOffset:ke},xn={color:Ye,fontFamily:Me,fontSize:be,fontStyle:Ue("normal","italic","oblique"),fontWeight:ai(be,Ue("normal","bold","bolder","lighter"))};function Ly(e){return typeof e>"u"?[]:Array.isArray(e)?e:[e]}function Ote(e){return Array.from(new Set(e))}function bR(e,t){return e.reduce((i,s)=>{const n=t(s);return i[n]??(i[n]=[]),i[n].push(s),i},{})}function ro(e,t){if(e==null||t==null||e.length!==t.length)return!1;for(let i=0;i<e.length;i++)if(Array.isArray(e[i])&&Array.isArray(t[i])){if(!ro(e[i],t[i]))return!1}else if(e[i]!==t[i])return!1;return!0}function Hg(e,t,i=0){if(e.length===0)return[];const s=[];for(let n=0;n<t;n++)s.push(e.at((n+i)%e.length));return s}function Fte(e,t){const i=new Map;return t.forEach((s,n)=>{i.set(s,n)}),e.sort((s,n)=>{const r=i.get(s)??1/0,o=i.get(n)??1/0;return r-o})}function B2(e,t,i){if(e>t)return;let s;for(;t>=e;){const n=Math.floor((t+e)/2);i(n)?(s=n,e=n+1):t=n-1}return s}function G2(e,t,i){if(e>t)return;let s;for(;t>=e;){const n=Math.floor((t+e)/2);i(n)?(s=n,t=n-1):e=n+1}return s}function Nte(e,t,i){if(e>t)return;let s;for(;t>=e;){const n=Math.floor((t+e)/2),r=i(n);r==null?e=n+1:(s=r,t=n-1)}return s}function zte(e,t){const i=Math.max(e.length,t.length),s=new Set,n=new Set;for(let r=0;r<i;r++){const o=e[r],a=t[r];o!==a&&(n.has(a)?n.delete(a):a&&s.add(a),s.has(o)?s.delete(o):o&&n.add(o))}return{changed:s.size>0||n.size>0,added:s,removed:n}}function Yk(e,t,i){const{leading:s=!0,trailing:n=!0}=i??{};let r,o,a=!1;function l(){n&&o?(r=setTimeout(l,t),e(...o)):a=!1,o=null}function d(...h){a?o=h:(a=!0,r=setTimeout(l,t),s?e(...h):o=h)}return Object.assign(d,{cancel(){clearTimeout(r),a=!1,o=null}})}function*Lc(...e){for(const t of e)yield*t}function Bte(e){return e!=null&&typeof e=="object"&&Symbol.iterator in e?e:[e]}function jg(e){for(const t of e)return t;throw new Error("AG Charts - no first() value found")}function*Tr(e){const t=[void 0,void 0];for(const i of Object.keys(e))t[0]=i,t[1]=e[i],yield t}function Be(e,t,i){return Math.min(i,Math.max(e,t))}function Gte(e,t,i=1e-10){return e>=t[0]-i&&e<=t[1]+i}function Jr(e,t,i=1e-10){return e===t||Math.abs(e-t)<i}function SR(e){return Math.sign(e)===-1||Object.is(e,-0)}function Hte(e){return e%1===0}function Kk(e,t=2){const i=10**t;return Math.round(e*i)/i}function H2(e,t){return Math.floor(e%t+(e<0?Math.abs(t):0))}function wR(e){var n;if(Math.floor(e)===e)return 0;let t=String(e),i=0;if(e<1e-6||e>=1e21){let r;[t,r]=t.split("e"),r!=null&&(i=Number(r))}const s=((n=t.split(".")[1])==null?void 0:n.length)??0;return Math.max(s-i,0)}var j2=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(?:\.(\d+))?(~)?([%a-z])?$/i,V2=/^((?:[^#]|#[^{])*)#{([^}]+)}(.*)$/;function jte(e){if(!es(e))return!1;const t=V2.exec(e);return j2.test(t?t[2]:e)}function _2(e){let t,i;const s=V2.exec(e);s&&([,t,e,i]=s);const n=j2.exec(e);if(!n)throw new Error(`The number formatter is invalid: ${e}`);const[,r,o,a,l,d,h,p,f,v,y]=n;return{fill:r,align:o,sign:a,symbol:l,zero:d,width:parseInt(h),comma:p,precision:parseInt(f),trim:!!v,type:y,prefix:t,suffix:i}}function W2(e){const t=typeof e=="string"?_2(e):e,{fill:i,align:s,sign:n="-",symbol:r,zero:o,width:a,comma:l,type:d,prefix:h="",suffix:p="",precision:f}=t;let{trim:v}=t;const y=f==null||isNaN(f);let S;if(!d)S=Zn.g,v=!0;else if(d in Zn&&d in Sd)S=y?Sd[d]:Zn[d];else if(d in Zn)S=Zn[d];else if(d in Sd)S=Sd[d];else throw new Error(`The number formatter type is invalid: ${d}`);let w;return y?w=d?6:12:w=f,b=>{let x=S(b,w);return v&&(x=Wte(x)),l&&(x=Ute(x,l)),x=Yte(b,x,n),r&&r!=="#"&&(x=`${r}${x}`),r==="#"&&d==="x"&&(x=`0x${x}`),d==="s"&&(x=`${x}${$te(b)}`),(d==="%"||d==="p")&&(x=`${x}%`),a!=null&&!isNaN(a)&&(x=Kte(x,a,i??o,s)),x=`${h}${x}${p}`,x}}var Sd={b:e=>wv(e).toString(2),c:e=>String.fromCharCode(e),d:e=>Math.round(Math.abs(e)).toFixed(0),o:e=>wv(e).toString(8),x:e=>wv(e).toString(16),X:e=>Sd.x(e).toUpperCase(),n:e=>Sd.d(e),"%":e=>`${wv(e*100).toFixed(0)}`},Zn={e:(e,t)=>Math.abs(e).toExponential(t),E:(e,t)=>Zn.e(e,t).toUpperCase(),f:(e,t)=>Math.abs(e).toFixed(t),F:(e,t)=>Zn.f(e,t).toUpperCase(),g:(e,t)=>{if(e===0)return"0";const i=Math.abs(e),s=Math.floor(Math.log10(i));return s>=-4&&s<t?i.toFixed(t-1-s):i.toExponential(t-1)},G:(e,t)=>Zn.g(e,t).toUpperCase(),n:(e,t)=>Zn.g(e,t),p:(e,t)=>Zn.r(e*100,t),r:(e,t)=>{if(e===0)return"0";const i=Math.abs(e),n=Math.floor(Math.log10(i))-(t-1);if(n<=0)return i.toFixed(-n);const r=10**n;return(Math.round(i/r)*r).toFixed()},s:(e,t)=>{const i=Y2(e);return Zn.r(e/10**i,t)},"%":(e,t)=>Zn.f(e*100,t)},U2=-24,$2=24,Vte={[U2]:"y",[-21]:"z",[-18]:"a",[-15]:"f",[-12]:"p",[-9]:"n",[-6]:"",[-3]:"m",0:"",3:"k",6:"M",9:"G",12:"T",15:"P",18:"E",21:"Z",[$2]:"Y"},_te="";function wv(e){return Math.floor(Math.abs(e))}function Wte(e){return e.replace(/\.0+$/,"").replace(/(\.[1-9])0+$/,"$1")}function Ute(e,t){let i=e.indexOf(".");i<0&&(i=e.length);const s=e.substring(0,i).split(""),n=e.substring(i);for(let r=s.length-3;r>0;r-=3)s.splice(r,0,t);return`${s.join("")}${n}`}function $te(e){return Vte[Y2(e)]}function Y2(e){return Be(U2,e?Math.floor(Math.log10(Math.abs(e))/3)*3:0,$2)}function Yte(e,t,i=""){if(i==="(")return e>=0?t:`(${t})`;const s=i==="+"?"+":"";return`${e>=0?s:_te}${t}`}function Kte(e,t,i=" ",s=">"){let n=e;if(s===">"||!s)n=n.padStart(t,i);else if(s==="<")n=n.padEnd(t,i);else if(s==="^"){const r=Math.max(0,t-n.length),o=Math.ceil(r/2),a=Math.floor(r/2);n=n.padStart(o+n.length,i),n=n.padEnd(a+n.length,i)}return n}var K2=Object.defineProperty,qte=Object.getOwnPropertyDescriptor,Gr=(e,t)=>{for(var i in t)K2(e,i,{get:t[i],enumerable:!0})},R=(e,t,i,s)=>{for(var n=s>1?void 0:s?qte(t,i):t,r=e.length-1,o;r>=0;r--)(o=e[r])&&(n=(s?o(t,i,n):o(n))||n);return s&&n&&K2(t,i,n),n},IC=class{constructor(){this.destroyFns=[]}destroy(){for(const e of this.destroyFns)e()}},Zte=class{constructor(){this.modules=[],this.dependencies=new Map,this.modulesByOptionKey=new Map}register(...e){for(const t of e){this.registerDependencies(t);const i=this.modules.find(s=>t.type===s.type&&("optionsKey"in t&&"optionsKey"in s?t.optionsKey===s.optionsKey:!0)&&t.identifier===s.identifier);if(i){if(t.packageType==="enterprise"&&i.packageType==="community"){const s=this.modules.indexOf(i);this.modules.splice(s,1,t),"optionsKey"in t&&this.modulesByOptionKey.set(t.optionsKey,t)}}else this.modules.push(t),"optionsKey"in t&&this.modulesByOptionKey.set(t.optionsKey,t)}}hasEnterpriseModules(){return this.modules.some(e=>e.packageType==="enterprise")}*byType(...e){const t=new Set,i=this.modules.filter(r=>e.includes(r.type)),s=r=>{const o=this.dependencies.get(r);return(o==null?void 0:o.flatMap(s).concat(o))??[]},n=[];for(const r of i){const o="optionsKey"in r?r.optionsKey:r.contextKey;if(!t.has(o)){for(const a of s(o)){if(t.has(a))continue;const l=this.modulesByOptionKey.get(a);if(!l){n.push(a);continue}e.includes(l.type)&&(yield l,t.add(a))}yield r,t.add(o)}}if(n.length>0)throw new Error(`Could not resolve module dependencies: ${n}`)}registerDependencies(e){if(e.dependencies==null||e.dependencies.length===0)return;const t="optionsKey"in e?e.optionsKey:e.contextKey;this.dependencies.set(t,e.dependencies)}},oo=new Zte,LC={containsPoint:Xte,isEmpty:Qte,normalize:Jte};function Xte(e,t,i){return t>=e.x&&t<=e.x+e.width&&i>=e.y&&i<=e.y+e.height}function Qte(e){return e==null||e.height===0||e.width===0||isNaN(e.height)||isNaN(e.width)}function Jte(e){let{x:t,y:i,width:s,height:n}=e;return(s==null||s>0)&&(n==null||n>0)?e:(t!=null&&s!=null&&s<0&&(s=-s,t=t-s),i!=null&&n!=null&&n<0&&(n=-n,i=i-n),{x:t,y:i,width:s,height:n})}var kC=Symbol("interpolate"),ky=e=>e[kC]!=null;function PC(e,t,i,s=1/0){const n={nearest:void 0,distanceSquared:s};for(const r of i){const o=r.distanceSquared(e,t);if(o===0)return{nearest:r,distanceSquared:0};o<n.distanceSquared&&(n.nearest=r,n.distanceSquared=o)}return n}function eie(e,t,i,s=1/0){var a;const{x:n=e,y:r=t}=((a=i.transformPoint)==null?void 0:a.call(i,e,t))??{},o={nearest:void 0,distanceSquared:s};for(const l of i.children){const{nearest:d,distanceSquared:h}=l.nearestSquared(n,r,o.distanceSquared);if(h===0)return{nearest:d,distanceSquared:h};h<o.distanceSquared&&(o.nearest=d,o.distanceSquared=h)}return o}var Np=class pd{constructor(t,i,s,n){this.x=t,this.y=i,this.width=s,this.height=n}static fromDOMRect({x:t,y:i,width:s,height:n}){return new pd(t,i,s,n)}static merge(t){let i=1/0,s=1/0,n=-1/0,r=-1/0;for(const o of t)o.x<i&&(i=o.x),o.y<s&&(s=o.y),o.x+o.width>n&&(n=o.x+o.width),o.y+o.height>r&&(r=o.y+o.height);return new pd(i,s,n-i,r-s)}static nearestBox(t,i,s){return PC(t,i,s)}toDOMRect(){return{x:this.x,y:this.y,width:this.width,height:this.height,top:this.y,left:this.x,right:this.x+this.width,bottom:this.y+this.height,toJSON(){return{}}}}clone(){const{x:t,y:i,width:s,height:n}=this;return new pd(t,i,s,n)}equals(t){return this.x===t.x&&this.y===t.y&&this.width===t.width&&this.height===t.height}containsPoint(t,i){return LC.containsPoint(this,t,i)}intersection(t){if(!this.collidesBBox(t))return;const i=Be(t.x,this.x,t.x+t.width),s=Be(t.y,this.y,t.y+t.height),n=Be(t.x,this.x+this.width,t.x+t.width),r=Be(t.y,this.y+this.height,t.y+t.height);return new pd(i,s,n-i,r-s)}collidesBBox(t){return this.x<t.x+t.width&&this.x+this.width>t.x&&this.y<t.y+t.height&&this.y+this.height>t.y}computeCenter(){return{x:this.x+this.width/2,y:this.y+this.height/2}}isFinite(){return Number.isFinite(this.x)&&Number.isFinite(this.y)&&Number.isFinite(this.width)&&Number.isFinite(this.height)}distanceSquared(t,i){if(this.containsPoint(t,i))return 0;const s=t-Be(this.x,t,this.x+this.width),n=i-Be(this.y,i,this.y+this.height);return s*s+n*n}shrink(t,i){if(typeof t=="number")this.applyMargin(t,i);else for(const s of Object.keys(t)){const n=t[s];typeof n=="number"&&this.applyMargin(n,s)}return this.width<0&&(this.width=0),this.height<0&&(this.height=0),this}grow(t,i){if(typeof t=="number")this.applyMargin(-t,i);else for(const s of Object.keys(t)){const n=t[s];typeof n=="number"&&this.applyMargin(-n,s)}return this}applyMargin(t,i){switch(i){case"top":this.y+=t;case"bottom":this.height-=t;break;case"left":this.x+=t;case"right":this.width-=t;break;case"vertical":this.y+=t,this.height-=t*2;break;case"horizontal":this.x+=t,this.width-=t*2;break;case void 0:this.x+=t,this.y+=t,this.width-=t*2,this.height-=t*2;break}}translate(t,i){return this.x+=t,this.y+=i,this}[kC](t,i){return new pd(this.x*(1-i)+t.x*i,this.y*(1-i)+t.y*i,this.width*(1-i)+t.width*i,this.height*(1-i)+t.height*i)}};Np.zero=Object.freeze(new Np(0,0,0,0));Np.NaN=Object.freeze(new Np(NaN,NaN,NaN,NaN));var De=Np,tie=2e3,qk=Date.now(),iie=()=>{const e=Date.now()-qk;if(e>tie){const t=(Math.floor(e/100)/10).toFixed(1);me.log(`**** ${t}s since last log message ****`)}qk=Date.now()},ht={create(...e){return Object.assign((...i)=>{ht.check(...e)&&(typeof i[0]=="function"&&(i=Ly(i[0]())),iie(),me.log(...i))},{check:()=>ht.check(...e),group:(i,s)=>ht.check(...e)?me.logGroup(i,s):s()})},check(...e){return e.length===0&&e.push(!0),Ly(Pt("agChartsDebug")).some(i=>e.includes(i))},inDevelopmentMode(e){if(ht.check("dev"))return e()}};function q2({context:e,pixelRatio:t,width:i,height:s}){e.save(),e.resetTransform(),e.clearRect(0,0,Math.ceil(i*t),Math.ceil(s*t)),e.restore()}function Z2(e){if(ht.check("canvas")){const t=e.save.bind(e),i=e.restore.bind(e);let s=0;Object.assign(e,{save(){t(),s++},restore(){if(s===0)throw new Error("AG Charts - Unable to restore() past depth 0");i(),s--},verifyDepthZero(){if(s!==0)throw new Error(`AG Charts - Save/restore depth is non-zero: ${s}`)}})}}function Zk(e,t,i){return[Math.floor(e*i),Math.floor(t*i)]}var xR=class{constructor(e){const{width:t,height:i,pixelRatio:s,willReadFrequently:n=!1}=e;this.width=t,this.height=i,this.pixelRatio=s;const[r,o]=Zk(t,i,s);this.canvas=new OffscreenCanvas(r,o),this.context=this.canvas.getContext("2d",{willReadFrequently:n}),this.context.setTransform(s,0,0,s,0,0),Z2(this.context)}drawImage(e,t=0,i=0){return e.drawImage(this.canvas,t,i)}transferToImageBitmap(){return this.canvas.transferToImageBitmap()}resize(e,t,i){if(!(e>0&&t>0))return;const{canvas:s,context:n}=this;if(e!==this.width||t!==this.height||i!==this.pixelRatio){const[r,o]=Zk(e,t,i);s.width=r,s.height=o}n.setTransform(i,0,0,i,0,0),this.width=e,this.height=t,this.pixelRatio=i}clear(){q2(this)}destroy(){this.canvas.width=0,this.canvas.height=0,this.context.clearRect(0,0,0,0),this.canvas=null,this.context=null,Object.freeze(this)}},EM=new Map;function sie(){EM.clear()}function En(e){const t=e.constructor,i=Object.hasOwn(t,"className")?t.className:t.name;if(!i)throw new Error(`The ${t} is missing the 'className' property.`);const s=(EM.get(i)??0)+1;return EM.set(i,s),`${i}-${s}`}function AM(){var e;return((e=crypto.randomUUID)==null?void 0:e.call(crypto))??nie()}function nie(){const e=new Uint8Array(16);crypto.getRandomValues(e),e[6]=e[6]&15|64,e[8]=e[8]&63|128;let t="";for(let i=0;i<e.length;i++)(i===4||i===6||i===8||i===10)&&(t+="-"),t+=e[i].toString(16).padStart(2,"0");return t}function Re(e){return function(t,i){const s=`__${i}`;t[i]||rie(t,i,s,e)}}function rie(e,t,i,s){const{type:n="normal",changeCb:r,convertor:o,checkDirtyOnAssignment:a=!1}=s??{},l={changeCb:r,checkDirtyOnAssignment:a,convertor:o};let d;switch(n){case"normal":d=cie(i,l);break;case"transform":d=uie(i);break;case"path":d=die(i);break}d=lie(i,aie(oie(d,l),l),l),Object.defineProperty(e,t,{set:d,get:function(){return this[i]},enumerable:!0,configurable:!0})}function oie(e,t){const{convertor:i}=t;return i?function(s){e.call(this,i(s))}:e}var OC=Symbol("no-change");function aie(e,t){const{changeCb:i}=t;return i?function(s){const n=e.call(this,s);return n!==OC&&i.call(this,this),n}:e}function lie(e,t,i){const{checkDirtyOnAssignment:s}=i;return s?function(n){const r=t.call(this,n);return(n==null?void 0:n._dirty)===!0&&this.markDirty(e),r}:t}function cie(e,t){const{changeCb:i}=t;return function(s){const n=this[e];return s!==n?(this[e]=s,this.markDirty(e),i==null||i(this),s):OC}}function uie(e){return function(t){const i=this[e];return t!==i?(this[e]=t,this.markDirtyTransform(),t):OC}}function die(e){return function(t){const i=this[e];return t!==i?(this[e]=t,this._dirtyPath||(this._dirtyPath=!0,this.markDirty(e)),t):OC}}var X2=(e=>(e[e.All=0]="All",e[e.None=1]="None",e))(X2||{}),vf=class TM{constructor(t){this.serialNumber=TM._nextSerialNumber++,this.childNodeCounts={groups:0,nonGroups:0,thisComplexity:0,complexity:0},this.id=En(this),this.pointerEvents=0,this._dirty=!0,this.dirtyZIndex=!1,this.isContainerNode=!1,this.visible=!0,this.zIndex=0,this.name=t==null?void 0:t.name,this.tag=(t==null?void 0:t.tag)??NaN,this.zIndex=(t==null?void 0:t.zIndex)??0,((t==null?void 0:t.debugDirty)??TM._debugEnabled)&&(this._debugDirtyProperties=new Map([["__first__",[]]]))}static toSVG(t,i,s){var o,a;const n=t==null?void 0:t.toSVG();if(n==null||!n.elements.length&&!((o=n.defs)!=null&&o.length))return;const r=Ji("svg");if(r.setAttribute("width",String(i)),r.setAttribute("height",String(s)),r.setAttribute("viewBox",`0 0 ${i} ${s}`),(a=n.defs)!=null&&a.length){const l=Ji("defs");l.append(...n.defs),r.append(l)}return r.append(...n.elements),r.outerHTML}static*extractBBoxes(t,i){for(const s of t)if(!i||s.visible&&!s.transitionOut){const n=s.getBBox();n&&(yield n)}}get datum(){return this._datum}set datum(t){this._datum!==t&&(this._previousDatum=this._datum,this._datum=t)}get previousDatum(){return this._previousDatum}get layerManager(){return this._layerManager}get dirty(){return this._dirty}closestDatum(){for(const{datum:t}of this.traverseUp(!0))if(t!=null)return t}preRender(t,i=1){this.childNodeCounts.groups=0,this.childNodeCounts.nonGroups=1,this.childNodeCounts.complexity=i,this.childNodeCounts.thisComplexity=i;for(const s of this.children()){const n=s.preRender(t);this.childNodeCounts.groups+=n.groups,this.childNodeCounts.nonGroups+=n.nonGroups,this.childNodeCounts.complexity+=n.complexity}return this.childNodeCounts}render(t){const{stats:i}=t;if(this._dirty=!1,this.debugDirtyProperties(),t.debugNodeSearch){const s=this.name??this.id;t.debugNodeSearch.some(n=>typeof n=="string"?n===s:n.test(s))&&(t.debugNodes[this.name??this.id]=this)}i&&(i.nodesRendered++,i.opsPerformed+=this.childNodeCounts.thisComplexity)}_setLayerManager(t){this._layerManager=t,this._debug=t==null?void 0:t.debug;for(const i of this.children())i._setLayerManager(t)}sortChildren(t){if(this.dirtyZIndex=!1,!this.childNodes)return;const i=[...this.childNodes].sort(t);this.childNodes.clear();for(const s of i)this.childNodes.add(s)}*traverseUp(t){let i=this;for(t&&(yield i);i=i.parentNode;)yield i}*children(){if(this.childNodes)for(const t of this.childNodes)yield t}*descendants(){for(const t of this.children())yield t,yield*t.descendants()}isLeaf(){var t;return!((t=this.childNodes)!=null&&t.size)}isRoot(){return!this.parentNode}append(t){var i;this.childNodes??(this.childNodes=new Set);for(const s of Bte(t))(i=s.parentNode)==null||i.removeChild(s),this.childNodes.add(s),s.parentNode=this,s._setLayerManager(this.layerManager);this.invalidateCachedBBox(),this.dirtyZIndex=!0,this.markDirty()}appendChild(t){return this.append(t),t}removeChild(t){var i;if(!((i=this.childNodes)!=null&&i.delete(t)))throw new Error(`AG Charts - internal error, unknown child node ${t.name??t.id} in $${this.name??this.id}`);delete t.parentNode,t._setLayerManager(),this.invalidateCachedBBox(),this.dirtyZIndex=!0,this.markDirty()}remove(){var t;(t=this.parentNode)==null||t.removeChild(this)}clear(){var t;for(const i of this.children())delete i.parentNode,i._setLayerManager();(t=this.childNodes)==null||t.clear(),this.invalidateCachedBBox()}destroy(){var t;(t=this.parentNode)==null||t.removeChild(this)}setProperties(t,i){if(i)for(const s of i)this[s]=t[s];else Object.assign(this,t);return this}containsPoint(t,i){return!1}pickNode(t,i){if(!(!this.visible||this.pointerEvents===1||!this.containsPoint(t,i))){if(this.childNodes!=null&&this.childNodes.size!==0){const s=[...this.children()];for(let n=s.length-1;n>=0;n--){const r=s[n].pickNode(t,i);if(r)return r}}else if(!this.isContainerNode)return this}}pickNodes(t,i,s=[]){if(!this.visible||this.pointerEvents===1||!this.containsPoint(t,i))return s;this.isContainerNode||s.push(this);for(const n of this.children())n.pickNodes(t,i,s);return s}invalidateCachedBBox(){var t;this.cachedBBox!=null&&(this.cachedBBox=void 0,(t=this.parentNode)==null||t.invalidateCachedBBox())}getBBox(){return this.cachedBBox==null&&(this.cachedBBox=Object.freeze(this.computeBBox())),this.cachedBBox}computeBBox(){}markDirty(t){const{_dirty:i}=this;t!=null&&this._debugDirtyProperties&&this.markDebugProperties(t),!(this.cachedBBox==null&&i)&&(this.invalidateCachedBBox(),this._dirty=!0,this.parentNode&&this.parentNode.markDirty())}markClean(){if(this._dirty){this._dirty=!1,this.debugDirtyProperties();for(const t of this.children())t.markClean()}}markDebugProperties(t){var n,r,o;const i=((n=this._debugDirtyProperties)==null?void 0:n.get(t))??[],s=((r=new Error().stack)==null?void 0:r.split(`
`).filter(a=>a!=="Error"&&!a.includes(".markDebugProperties")&&!a.includes(".markDirty")&&!a.includes("Object.assign ")&&!a.includes(`${this.constructor.name}.`)))??"unknown";i.push(s[0].replace(" at ","").trim()),(o=this._debugDirtyProperties)==null||o.set(t,i)}debugDirtyProperties(){this._debugDirtyProperties!=null&&(this._debugDirtyProperties.has("__first__")||this._debugDirtyProperties.forEach((t,i)=>{t.length>1&&(console.groupCollapsed(`Property changed multiple times before render: ${this.constructor.name}.${i} (${t.length}x)`),t.forEach(s=>console.log(s)),console.groupEnd())}),this._debugDirtyProperties.clear())}onZIndexChange(){const{parentNode:t}=this;t&&(t.dirtyZIndex=!0)}toSVG(){}};vf._nextSerialNumber=0;vf._debugEnabled=!1;R([Re()],vf.prototype,"visible",2);R([Re({changeCb:e=>e.onZIndexChange()})],vf.prototype,"zIndex",2);var da=vf,Py=Symbol("BREAK"),Ld="__decorator_config";function hie(e,t){MR(e,t).optional=!0}function MR(e,t){Object.getOwnPropertyDescriptor(e,Ld)==null&&Object.defineProperty(e,Ld,{value:{}});const i=e[Ld],s=t.toString();if(typeof i[s]<"u")return i[s];const n=new WeakMap;i[s]={setters:[],getters:[],observers:[],valuesMap:n};const r=Object.getOwnPropertyDescriptor(e,t),o=r==null?void 0:r.set,a=r==null?void 0:r.get;return Object.defineProperty(e,t,{set:function(h){const{setters:p,observers:f}=i[s];let v;p.some(y=>y.length>2)&&(v=a?a.call(this):n.get(this));for(const y of p)if(h=y(this,t,h,v),h===Py)return;o?o.call(this,h):n.set(this,h);for(const y of f)y(this,h,v)},get:function(){let h=a?a.call(this):n.get(this);for(const p of i[s].getters)if(h=p(this,t,h),h===Py)return;return h},enumerable:!0,configurable:!1}),i[s]}function xl(e,t,i){return(s,n)=>{const r=MR(s,n);r.setters.push(e),t&&r.getters.unshift(t),i&&Object.assign(r,i)}}function Q2(e){return(t,i)=>{MR(t,i).observers.push(e)}}function yf(e){return typeof e<"u"&&Ld in e}function fl(e){const t=new Set;for(;yf(e);)t.add(e==null?void 0:e[Ld]),e=Object.getPrototypeOf(e);return Array.from(t).flatMap(i=>Object.keys(i))}function J2(e){return fl(e).reduce((t,i)=>(t[i]=e[i]??null,t),{})}function gie(e,t){const i=t.toString();for(;yf(e);){const s=e[Ld];if(Object.hasOwn(s,i))return s[i];e=Object.getPrototypeOf(e)}}function mo(e,t){return Array.isArray(e)?!Array.isArray(t)||e.length!==t.length?!1:e.every((i,s)=>mo(i,t[s])):bi(e)?bi(t)?DR(e,t,mo):!1:e===t}function DR(e,t,i){for(const s of Object.keys(t))if(!(s in e))return!1;for(const s of Object.keys(e))if(!(s in t)||!i(e[s],t[s]))return!1;return!0}function Je(...e){const t={};for(const i of e){if(!Ci(i))continue;const s=yf(i)?fl(i):Object.keys(i);for(const n of s)bi(t[n])&&bi(i[n])?t[n]=Je(t[n],i[n]):t[n]??(t[n]=i[n])}return t}function zp(...e){const t={};for(const i of e){if(!Ci(i))continue;const s=yf(i)?fl(i):Object.keys(i);for(const n of s)bi(t[n])&&bi(i[n])?t[n]=zp(t[n],i[n]):n in t||(t[n]??(t[n]=i[n]))}return t}function Oy(e,...t){return t&&$e(e)?e.map(i=>Je(i,...t)):e}function e3(e,t){const i={};for(const[s,n]of Tr(e))i[s]=t(n,s,e);return i}function Ml(e,t){const i={...e};for(const s of t)delete i[s];return i}function Ud(e,t){return($e(t)?t:t.split(".")).reduce((s,n)=>s[n],e)}var RR=new Set(["__proto__","constructor","prototype"]);function ER(e,t,i){const s=$e(t)?t.slice():t.split("."),n=s.pop();if(s.some(o=>RR.has(o)))return;const r=s.reduce((o,a)=>o[a],e);return r[n]=i,r[n]}function IM(e,t,i){if(i===void 0)return t;for(const s of e){const n=i[s];n!==void 0&&(t[s]=n)}return t}function jc(e){return e==null||typeof e!="object"||!bi(e)||(Object.freeze(e),Object.getOwnPropertyNames(e).forEach(t=>{const i=e[t];i!==null&&(typeof i=="object"||typeof i=="function")&&!Object.isFrozen(i)&&jc(i)})),e}var Jn=Math.PI*2,Vg=Math.PI/2;function Bt(e){return e%=Jn,e+=Jn,e%=Jn,e}function pie(e){return e%=Jn,e+=Jn,e!==Jn&&(e%=Jn),e}function Bp(e){return e%=Jn,e<-Math.PI?e+=Jn:e>=Math.PI&&(e-=Jn),e}function ll(e,t,i){const s=Bt(e),n=Bt(t),r=Bt(i);return n<r?n<=s&&s<=r:n>r?n<=s||s<=r:!0}function Yt(e){return e/180*Math.PI}function fie(e){return e/Math.PI*180}function FC(e,t){return e=Bt(e),t=Bt(t),t-e+(e>t?Jn:0)}function t3(e){const t=Bt(e);return t<=Vg?t/Vg:t<=Math.PI?(Math.PI-t)/Vg:t<=1.5*Math.PI?(t-Math.PI)/Vg:(Jn-t)/Vg}var oc=(e,t,i)=>e*(1-i)+t*i,A0=e=>{const t=e<0?-1:1,i=Math.abs(e);return i<=.04045?e/12.92:t*((i+.055)/1.055)**2.4},T0=e=>{const t=e<0?-1:1,i=Math.abs(e);return i>.0031308?t*(1.055*i**(1/2.4)-.055):12.92*e},i3=class pt{constructor(t,i,s,n=1){this.r=Be(0,t||0,1),this.g=Be(0,i||0,1),this.b=Be(0,s||0,1),this.a=Be(0,n||0,1)}static validColorString(t){return t.indexOf("#")>=0?!!pt.parseHex(t):t.indexOf("rgb")>=0?!!pt.stringToRgba(t):pt.nameToHex.has(t.toLowerCase())}static fromString(t){if(t.indexOf("#")>=0)return pt.fromHexString(t);const i=pt.nameToHex.get(t.toLowerCase());if(i)return pt.fromHexString(i);if(t.indexOf("rgb")>=0)return pt.fromRgbaString(t);throw new Error(`Invalid color string: '${t}'`)}static parseHex(t){t=t.replace(/ /g,"").slice(1);let i;switch(t.length){case 6:case 8:i=[];for(let s=0;s<t.length;s+=2)i.push(parseInt(`${t[s]}${t[s+1]}`,16));break;case 3:case 4:i=t.split("").map(s=>parseInt(s,16)).map(s=>s+s*16);break}if((i==null?void 0:i.length)>=3&&i.every(s=>s>=0))return i.length===3&&i.push(255),i}static fromHexString(t){const i=pt.parseHex(t);if(i){const[s,n,r,o]=i;return new pt(s/255,n/255,r/255,o/255)}throw new Error(`Malformed hexadecimal color string: '${t}'`)}static stringToRgba(t){let i=-1,s=-1;for(let a=0;a<t.length;a++){const l=t[a];if(i===-1&&l==="(")i=a;else if(l===")"){s=a;break}}if(i===-1||s===-1)return;const r=t.substring(i+1,s).split(","),o=[];for(let a=0;a<r.length;a++){const l=r[a];let d=parseFloat(l);if(!Number.isFinite(d))return;l.indexOf("%")>=0?(d=Be(0,d,100),d/=100):a===3?d=Be(0,d,1):(d=Be(0,d,255),d/=255),o.push(d)}return o}static fromRgbaString(t){const i=pt.stringToRgba(t);if(i){if(i.length===3)return new pt(i[0],i[1],i[2]);if(i.length===4)return new pt(i[0],i[1],i[2],i[3])}throw new Error(`Malformed rgb/rgba color string: '${t}'`)}static fromArray(t){if(t.length===4)return new pt(t[0],t[1],t[2],t[3]);if(t.length===3)return new pt(t[0],t[1],t[2]);throw new Error("The given array should contain 3 or 4 color components (numbers).")}static fromHSB(t,i,s,n=1){const r=pt.HSBtoRGB(t,i,s);return new pt(r[0],r[1],r[2],n)}static fromHSL(t,i,s,n=1){const r=pt.HSLtoRGB(t,i,s);return new pt(r[0],r[1],r[2],n)}static fromOKLCH(t,i,s,n=1){const r=pt.OKLCHtoRGB(t,i,s);return new pt(r[0],r[1],r[2],n)}static padHex(t){return t.length===1?"0"+t:t}toHexString(){let t="#"+pt.padHex(Math.round(this.r*255).toString(16))+pt.padHex(Math.round(this.g*255).toString(16))+pt.padHex(Math.round(this.b*255).toString(16));return this.a<1&&(t+=pt.padHex(Math.round(this.a*255).toString(16))),t}toRgbaString(t=3){const i=[Math.round(this.r*255),Math.round(this.g*255),Math.round(this.b*255)],s=Math.pow(10,t);return this.a!==1?(i.push(Math.round(this.a*s)/s),`rgba(${i.join(", ")})`):`rgb(${i.join(", ")})`}toString(){return this.a===1?this.toHexString():this.toRgbaString()}toHSB(){return pt.RGBtoHSB(this.r,this.g,this.b)}static RGBtoOKLCH(t,i,s){const n=A0(t),r=A0(i),o=A0(s),a=Math.cbrt(.4122214708*n+.5363325363*r+.0514459929*o),l=Math.cbrt(.2119034982*n+.6806995451*r+.1073969566*o),d=Math.cbrt(.0883024619*n+.2817188376*r+.6299787005*o),h=.2104542553*a+.793617785*l-.0040720468*d,p=1.9779984951*a-2.428592205*l+.4505937099*d,f=.0259040371*a+.7827717662*l-.808675766*d,v=Math.atan2(f,p)*180/Math.PI,y=h,S=Math.hypot(p,f),w=v>=0?v:v+360;return[y,S,w]}static OKLCHtoRGB(t,i,s){const n=t,r=i*Math.cos(s*Math.PI/180),o=i*Math.sin(s*Math.PI/180),a=(n+.3963377774*r+.2158037573*o)**3,l=(n-.1055613458*r-.0638541728*o)**3,d=(n-.0894841775*r-1.291485548*o)**3,h=4.0767416621*a-3.3077115913*l+.2309699292*d,p=-1.2684380046*a+2.6097574011*l-.3413193965*d,f=-.0041960863*a-.7034186147*l+1.707614701*d,v=T0(h),y=T0(p),S=T0(f);return[v,y,S]}static RGBtoHSL(t,i,s){const n=Math.min(t,i,s),r=Math.max(t,i,s),o=(r+n)/2;let a,l;if(r===n)a=0,l=0;else{const d=r-n;l=o>.5?d/(2-r-n):d/(r+n),r===t?a=(i-s)/d+(i<s?6:0):r===i?a=(s-t)/d+2:a=(t-i)/d+4,a*=360/6}return[a,l,o]}static HSLtoRGB(t,i,s){if(t=(t%360+360)%360,i===0)return[s,s,s];const n=s<.5?s*(1+i):s+i-s*i,r=2*s-n;function o(h){return h<0&&(h+=1),h>1&&(h-=1),h<1/6?r+(n-r)*6*h:h<1/2?n:h<2/3?r+(n-r)*(2/3-h)*6:r}const a=o(t/360+1/3),l=o(t/360),d=o(t/360-1/3);return[a,l,d]}static RGBtoHSB(t,i,s){const n=Math.min(t,i,s),r=Math.max(t,i,s),o=r===0?0:(r-n)/r;let a=0;if(n!==r){const l=r-n,d=(r-t)/l,h=(r-i)/l,p=(r-s)/l;t===r?a=p-h:i===r?a=2+d-p:a=4+h-d,a/=6,a<0&&(a=a+1)}return[a*360,o,r]}static HSBtoRGB(t,i,s){t=(t%360+360)%360/360;let n=0,r=0,o=0;if(i===0)n=r=o=s;else{const a=(t-Math.floor(t))*6,l=a-Math.floor(a),d=s*(1-i),h=s*(1-i*l),p=s*(1-i*(1-l));switch(a>>0){case 0:n=s,r=p,o=d;break;case 1:n=h,r=s,o=d;break;case 2:n=d,r=s,o=p;break;case 3:n=d,r=h,o=s;break;case 4:n=p,r=d,o=s;break;case 5:n=s,r=d,o=h;break}}return[n,r,o]}static mix(t,i,s){return new pt(oc(t.r,i.r,s),oc(t.g,i.g,s),oc(t.b,i.b,s),oc(t.a,i.a,s))}static lighten(t,i){const s=pt.RGBtoOKLCH(t.r,t.g,t.b);return pt.fromOKLCH(Be(0,s[0]+i,1),s[1],s[2])}static darken(t,i){const s=pt.RGBtoOKLCH(t.r,t.g,t.b);return pt.fromOKLCH(Be(0,s[0]-i,1),s[1],s[2])}static interpolate(t,i){const s=1/(t.length-1),n=t.map(r=>pt.RGBtoOKLCH(r.r,r.g,r.b));return Array.from({length:i},(r,o)=>{const a=o/(i-1),l=t.length<=2?0:Math.min(Math.floor(a*(t.length-1)),t.length-2),d=(a-l*s)/s,h=n[l],p=n[l+1];return pt.fromOKLCH(oc(h[0],p[0],d),oc(h[1],p[1],d),oc(h[2],p[2],d))})}};i3.nameToHex=new Map([["aliceblue","#F0F8FF"],["antiquewhite","#FAEBD7"],["aqua","#00FFFF"],["aquamarine","#7FFFD4"],["azure","#F0FFFF"],["beige","#F5F5DC"],["bisque","#FFE4C4"],["black","#000000"],["blanchedalmond","#FFEBCD"],["blue","#0000FF"],["blueviolet","#8A2BE2"],["brown","#A52A2A"],["burlywood","#DEB887"],["cadetblue","#5F9EA0"],["chartreuse","#7FFF00"],["chocolate","#D2691E"],["coral","#FF7F50"],["cornflowerblue","#6495ED"],["cornsilk","#FFF8DC"],["crimson","#DC143C"],["cyan","#00FFFF"],["darkblue","#00008B"],["darkcyan","#008B8B"],["darkgoldenrod","#B8860B"],["darkgray","#A9A9A9"],["darkgreen","#006400"],["darkgrey","#A9A9A9"],["darkkhaki","#BDB76B"],["darkmagenta","#8B008B"],["darkolivegreen","#556B2F"],["darkorange","#FF8C00"],["darkorchid","#9932CC"],["darkred","#8B0000"],["darksalmon","#E9967A"],["darkseagreen","#8FBC8F"],["darkslateblue","#483D8B"],["darkslategray","#2F4F4F"],["darkslategrey","#2F4F4F"],["darkturquoise","#00CED1"],["darkviolet","#9400D3"],["deeppink","#FF1493"],["deepskyblue","#00BFFF"],["dimgray","#696969"],["dimgrey","#696969"],["dodgerblue","#1E90FF"],["firebrick","#B22222"],["floralwhite","#FFFAF0"],["forestgreen","#228B22"],["fuchsia","#FF00FF"],["gainsboro","#DCDCDC"],["ghostwhite","#F8F8FF"],["gold","#FFD700"],["goldenrod","#DAA520"],["gray","#808080"],["green","#008000"],["greenyellow","#ADFF2F"],["grey","#808080"],["honeydew","#F0FFF0"],["hotpink","#FF69B4"],["indianred","#CD5C5C"],["indigo","#4B0082"],["ivory","#FFFFF0"],["khaki","#F0E68C"],["lavender","#E6E6FA"],["lavenderblush","#FFF0F5"],["lawngreen","#7CFC00"],["lemonchiffon","#FFFACD"],["lightblue","#ADD8E6"],["lightcoral","#F08080"],["lightcyan","#E0FFFF"],["lightgoldenrodyellow","#FAFAD2"],["lightgray","#D3D3D3"],["lightgreen","#90EE90"],["lightgrey","#D3D3D3"],["lightpink","#FFB6C1"],["lightsalmon","#FFA07A"],["lightseagreen","#20B2AA"],["lightskyblue","#87CEFA"],["lightslategray","#778899"],["lightslategrey","#778899"],["lightsteelblue","#B0C4DE"],["lightyellow","#FFFFE0"],["lime","#00FF00"],["limegreen","#32CD32"],["linen","#FAF0E6"],["magenta","#FF00FF"],["maroon","#800000"],["mediumaquamarine","#66CDAA"],["mediumblue","#0000CD"],["mediumorchid","#BA55D3"],["mediumpurple","#9370DB"],["mediumseagreen","#3CB371"],["mediumslateblue","#7B68EE"],["mediumspringgreen","#00FA9A"],["mediumturquoise","#48D1CC"],["mediumvioletred","#C71585"],["midnightblue","#191970"],["mintcream","#F5FFFA"],["mistyrose","#FFE4E1"],["moccasin","#FFE4B5"],["navajowhite","#FFDEAD"],["navy","#000080"],["oldlace","#FDF5E6"],["olive","#808000"],["olivedrab","#6B8E23"],["orange","#FFA500"],["orangered","#FF4500"],["orchid","#DA70D6"],["palegoldenrod","#EEE8AA"],["palegreen","#98FB98"],["paleturquoise","#AFEEEE"],["palevioletred","#DB7093"],["papayawhip","#FFEFD5"],["peachpuff","#FFDAB9"],["peru","#CD853F"],["pink","#FFC0CB"],["plum","#DDA0DD"],["powderblue","#B0E0E6"],["purple","#800080"],["rebeccapurple","#663399"],["red","#FF0000"],["rosybrown","#BC8F8F"],["royalblue","#4169E1"],["saddlebrown","#8B4513"],["salmon","#FA8072"],["sandybrown","#F4A460"],["seagreen","#2E8B57"],["seashell","#FFF5EE"],["sienna","#A0522D"],["silver","#C0C0C0"],["skyblue","#87CEEB"],["slateblue","#6A5ACD"],["slategray","#708090"],["slategrey","#708090"],["snow","#FFFAFA"],["springgreen","#00FF7F"],["steelblue","#4682B4"],["tan","#D2B48C"],["teal","#008080"],["thistle","#D8BFD8"],["tomato","#FF6347"],["transparent","#00000000"],["turquoise","#40E0D0"],["violet","#EE82EE"],["wheat","#F5DEB3"],["white","#FFFFFF"],["whitesmoke","#F5F5F5"],["yellow","#FFFF00"],["yellowgreen","#9ACD32"]]);var yt=i3,NC=class{ticks(e,t,i){}niceDomain(e,t=this.domain){return t}tickFormatter(e){}datumFormatter(e){}get bandwidth(){}get step(){}get inset(){}},ph=(e,t)=>{const i=Symbol(String(t));e[i]=void 0,Object.defineProperty(e,t,{get(){return this[i]},set(s){this[i]!==s&&(this[i]=s,this.invalid=!0)},enumerable:!0,configurable:!1})},Xk=e=>{const t=yt.fromString(e),[i,s,n]=yt.RGBtoOKLCH(t.r,t.g,t.b);return{l:i,c:s,h:n,a:t.a}},I0=1e-6,Qk=e=>e.c<I0||e.l<I0||e.l>1-I0,mie=(e,t,i)=>{i=Be(0,i,1);let s;if(Qk(e))s=t.h;else if(Qk(t))s=e.h;else{const a=e.h;let l=t.h;const d=t.h-e.h;d>180?l-=360:d<-180&&(l+=360),s=a*(1-i)+l*i}const n=e.c*(1-i)+t.c*i,r=e.l*(1-i)+t.l*i,o=e.a*(1-i)+t.a*i;return yt.fromOKLCH(r,n,s,o)},fh=class extends NC{constructor(){super(...arguments),this.type="color",this.invalid=!0,this.domain=[0,1],this.range=["red","blue"],this.parsedRange=this.range.map(Xk)}update(){const{domain:e,range:t}=this;e.length<2&&(me.warnOnce("`colorDomain` should have at least 2 values."),e.length===0?e.push(0,1):e.length===1&&e.push(e[0]+1));for(let i=1;i<e.length;i++){const s=e[i-1],n=e[i];if(s>=n){me.warnOnce("`colorDomain` values should be supplied in ascending order."),e.sort((r,o)=>r-o);break}}if(t.length<e.length)for(let i=t.length;i<e.length;i++)t.push(t.length>0?t[0]:"black");this.parsedRange=this.range.map(Xk)}normalizeDomains(...e){return{domain:e.flat(),animatable:!0}}toDomain(){}convert(e){this.refresh();const{domain:t,range:i,parsedRange:s}=this,n=t[0],r=t.at(-1),o=i[0],a=i[i.length-1];if(e<=n)return o;if(e>=r)return a;let l,d;if(t.length===2){const f=(e-n)/(r-n),v=1/(i.length-1);l=i.length<=2?0:Math.min(Math.floor(f*(i.length-1)),i.length-2),d=(f-l*v)/v}else{for(l=0;l<t.length-2&&!(e<t[l+1]);l++);const f=t[l],v=t[l+1];d=(e-f)/(v-f)}const h=s[l],p=s[l+1];return mie(h,p,d).toRgbaString()}invert(){}refresh(){this.invalid&&(this.invalid=!1,this.update(),this.invalid&&me.warnOnce("Expected update to not invalidate scale"))}};R([ph],fh.prototype,"domain",2);R([ph],fh.prototype,"range",2);var zC=class{constructor(e,t=[],i){this.colorSpace=e,this.stops=t,this.bbox=i,this._cache=void 0}createGradient(e,t,i){const s=this.bbox??t;if(isNaN(s.x)||isNaN(s.y))return;if(this._cache!=null&&this._cache.ctx===e&&this._cache.bbox.equals(s))return this._cache.gradient;const{stops:n,colorSpace:r}=this;if(n.length===0)return;if(n.length===1)return n[0].color;let o=this.createCanvasGradient(e,s,i);if(o==null)return;const a=r==="oklch",l=.05;let d=n[0];o.addColorStop(d.stop,d.color);for(let h=1;h<n.length;h+=1){const p=n[h];if(a){const f=new fh;f.domain=[d.stop,p.stop],f.range=[d.color,p.color];for(let v=d.stop+l;v<p.stop;v+=l)o.addColorStop(v,f.convert(v))}o.addColorStop(p.stop,p.color),d=p}return"createPattern"in o&&(o=o.createPattern()),this._cache={ctx:e,bbox:s,gradient:o},o}toSvg(e){const t=this.bbox??e,i=this.createSvgGradient(t);return this.stops.forEach(({stop:s,color:n})=>{const r=Ji("stop");r.setAttribute("offset",`${s}`),r.setAttribute("stop-color",`${n}`),i.appendChild(r)}),i}},s3=class extends zC{constructor(e,t,i=0,s){super(e,t,s),this.angle=i}createCanvasGradient(e,t,i){const{angle:n}=this,r=Bt(Yt(n+-90)),o=(i==null?void 0:i.centerX)??t.x+t.width*.5,a=(i==null?void 0:i.centerY)??t.y+t.height*.5;return e.createConicGradient(r,o,a)}createSvgGradient(e){return Ji("linearGradient")}},n3=class extends zC{constructor(e,t,i=0,s){super(e,t,s),this.angle=i}getGradientPoints(e){const{angle:i}=this,s=Bt(Yt(i+90)),n=Math.cos(s),r=Math.sin(s),o=e.width,a=e.height,l=e.x+o*.5,d=e.y+a*.5,h=Math.sqrt(a*a+o*o)/2,p=Math.atan2(a,o);let f;s<Math.PI/2?f=s:s<Math.PI?f=Math.PI-s:s<1.5*Math.PI?f=s-Math.PI:f=2*Math.PI-s;const v=h*Math.abs(Math.cos(f-p));return{x0:l+n*v,y0:d+r*v,x1:l-n*v,y1:d-r*v}}createCanvasGradient(e,t){const{x0:i,y0:s,x1:n,y1:r}=this.getGradientPoints(t);return e.createLinearGradient(i,s,n,r)}createSvgGradient(e){const{x0:t,y0:i,x1:s,y1:n}=this.getGradientPoints(e),r=Ji("linearGradient");return r.setAttribute("x1",String(t)),r.setAttribute("y1",String(i)),r.setAttribute("x2",String(s)),r.setAttribute("y2",String(n)),r.setAttribute("gradientUnits","userSpaceOnUse"),r}},vie=class extends zC{constructor(e,t,i){super(e,t,i)}createCanvasGradient(e,t,i){const s=(i==null?void 0:i.centerX)??t.x+t.width*.5,n=(i==null?void 0:i.centerY)??t.y+t.height*.5,r=(i==null?void 0:i.innerRadius)??0,o=(i==null?void 0:i.outerRadius)??Math.hypot(t.width*.5,t.height*.5)/Math.SQRT2;return e.createRadialGradient(s,n,r,s,n,o)}createSvgGradient(e){const t=e.x+e.width*.5,i=e.y+e.height*.5,s=Ji("radialGradient");return s.setAttribute("cx",String(t)),s.setAttribute("cy",String(i)),s.setAttribute("r",String(Math.hypot(e.width*.5,e.height*.5)/Math.SQRT2)),s.setAttribute("gradientUnits","userSpaceOnUse"),s}},Ge=class{handleUnknownProperties(e,t){}set(e){const{className:t=this.constructor.name}=this.constructor;if(typeof e!="object")return me.warn(`unable to set ${t} - expecting a properties object`),this;const i=new Set(Object.keys(e));for(const s of fl(this))if(i.has(s)){const n=e[s],r=this;if(vo(r[s]))if(r[s]instanceof Cf){const o=r[s].reset(n);o!=null?r[s]=o:me.warn(`unable to set [${s}] - expecting a properties array`)}else r[s].set(n);else bi(n)?r[s]=zp(n,r[s]??{}):r[s]=n;i.delete(s)}this.handleUnknownProperties(i,e);for(const s of i)me.warn(`unable to set [${s}] in ${t} - property is unknown`);return this}isValid(e){return fl(this).every(t=>{const i=gie(this,t);if(i==null)return!0;const s=i.optional===!0||typeof this[t]<"u";return s||me.warnOnce(`${e??""}[${t}] is required.`),s})}toJson(){return fl(this).reduce((e,t)=>{const i=this[t];return e[t]=vo(i)?i.toJson():i,e},{})}},Cf=class r3 extends Array{constructor(t,...i){super(i.length);const n=(r=>{var o,a;return!!((a=(o=r==null?void 0:r.prototype)==null?void 0:o.constructor)!=null&&a.name)})(t)?r=>new t().set(r):t;Object.defineProperty(this,"itemFactory",{value:n,enumerable:!1,configurable:!1}),this.set(i)}set(t){if($e(t)){this.length=t.length;for(let i=0;i<t.length;i++)this[i]=this.itemFactory(t[i])}return this}reset(t){if(Array.isArray(t))return new r3(this.itemFactory,...t)}toJson(){return this.map(t=>{var i;return((i=t==null?void 0:t.toJson)==null?void 0:i.call(t))??t})}};function vo(e){return e instanceof Ge||e instanceof Cf}function yie(e,t={}){const{optional:i=!1}=t;return xl((s,n,r)=>{const o={...t,target:s,property:n};if(i&&typeof r>"u"||e(r,o))return vo(s[n])&&!vo(r)?(s[n].set(r),s[n]):r;const a=P2(r,50),l=String(n).replace(/^_*/,""),d=s.constructor.className??s.constructor.name.replace(/Properties$/,""),h=e.message?`; expecting ${bf(e,o)}`:"";return me.warn(`Property [${l}] of [${d}] cannot be set to [${a}]${h}, ignoring.`),Py},void 0,{optional:i})}var A=()=>hie,kl=(...e)=>{const t=[];return xt((i,s)=>(t.length=0,e.every(n=>{const r=n(i,s);return r||t.push(bf(n,s)),r})),()=>t.filter(Boolean).join(" AND "))},Cs=(...e)=>xt((t,i)=>e.some(s=>s(t,i)),t=>e.map($ie(t)).filter(Boolean).join(" OR ")),o3=jC(xt((e,t)=>vo(e)||Ci(e)&&vo(t.target[t.property]),"a properties object")),Cie=jC(xt(e=>Ci(e),"an object")),a3=xt(O2,"a boolean"),bie=xt(Ll,"a function"),l3=xt(es,"a string"),An=Kie(xt(lt,"a number")),Sie=xt(e=>Qn(e)&&!isNaN(e),"a real number"),BC=xt(e=>Qn(e)&&isNaN(e),"NaN"),AR=An.restrict({min:0}),wie=An.restrict({min:0,max:1}),TR=Cs(An,BC),IR=Yie(xt($e,"an array")),Wi=(e,t)=>xt((i,s)=>$e(i)&&i.every(n=>e(n,s)),i=>{const s=bf(IR,i)??"";return typeof t=="function"?`${s} of ${t(i)}`:t?`${s} of ${t}`:s}),Fy=e=>lt(e)||ff(e),GC=e=>xt((t,i)=>!Fy(t)||!Fy(i.target[e])||t<i.target[e],`to be less than ${e}`),HC=e=>xt((t,i)=>!Fy(t)||!Fy(i.target[e])||t>i.target[e],`to be greater than ${e}`),LR=xt(ff,"Date object"),kR=Cs(LR,AR),c3="A color string can be in one of the following formats to be valid: #rgb, #rrggbb, rgb(r, g, b), rgba(r, g, b, a) or a CSS color name such as 'white', 'orange', 'cyan', etc",Tn=xt(F2,`color string. ${c3}`),Do=jC(xt(e=>Ci(e)&&e.type==="gradient","a color gradient object")),Ro=jC(xt(e=>Ci(e)&&e.type==="pattern","a color pattern object")),PR=xt(Wi(Tn),`color strings. ${c3}`),xie=Wi(a3,"boolean values"),Mie=Wi(An,"numbers"),Die=Wi(l3,"strings"),Rie=xt(Wi(LR),"Date objects"),Eie=xt(Wi(o3),"objects"),Aie=Mt(["butt","round","square"],"a line cap"),Tie=Mt(["round","bevel","miter"],"a line join"),Iie=Mt(["solid","dashed","dotted"],"a line style"),Lie=xt(Wi(AR),"numbers specifying the length in pixels of alternating dashes and gaps, for example, [6, 3] means dashes with a length of 6 pixels with gaps between of 3 pixels."),kie=Mt(["top","right","bottom","left"],"a position"),Pie=Mt(["normal","italic","oblique"],"a font style"),Oie=Cs(Mt(["normal","bold","bolder","lighter"],"a font weight"),An.restrict({min:1,max:1e3})),Fie=Mt(["never","always","hyphenate","on-space"],"a text wrap strategy"),Nie=Mt(["left","center","right"],"a text align"),zie=Mt(["top","middle","bottom"],"a vertical align"),Bie=Mt(["ellipsis","hide"],"an overflow strategy"),Gie=Mt(["horizontal","vertical"],"a direction"),Hie=Mt(["inside","outside"],"a placement"),jie=Cs(Mt(["exact","nearest"],"interaction range"),An),Vie=Mt(["top","bottom","left","right"]);function Mt(e,t="a"){return xt((i,s)=>{const n=e.find(r=>{const o=typeof r=="string"?r:r.value;return i===o});if(n==null)return!1;if(typeof n!="string"&&(n.deprecated===!0||n.deprecatedTo!=null)){const r=[`Property [%s] with value '${n.value}' is deprecated.`];n.deprecatedTo&&r.push(`Use ${n.deprecatedTo} instead.`),me.warnOnce(r.join(" "),s.property)}return!0},`${t} keyword such as ${Uie(e)}`)}var _ie=Cs(kl(An.restrict({min:1}),GC("maxSpacing")),BC),Wie=Cs(kl(An.restrict({min:1}),HC("minSpacing")),BC);function xt(e,t){return e.message=t,e}function Uie(e){const t=e.filter(s=>typeof s=="string"||s.undocumented!==!0).map(s=>`'${typeof s=="string"?s:s.value}'`);if(t.length===1)return t[0];const i=t.pop();return`${t.join(", ")} or ${i}`}function bf(e,t){return Ll(e.message)?e.message(t):e.message}function $ie(e){return t=>bf(t,e)}function Yie(e){return Object.assign(e,{restrict({length:t,minLength:i}={}){let s="an array";return Qn(i)&&i>0?s="a non-empty array":Qn(t)&&(s=`an array of length ${t}`),xt(n=>$e(n)&&(Qn(t)?n.length===t:!0)&&(Qn(i)?n.length>=i:!0),s)}})}function Kie(e){return Object.assign(e,{restrict({min:t,max:i}={}){const s=["a number"],n=Qn(t),r=Qn(i);return n&&r?s.push(`between ${t} and ${i} inclusive`):n?s.push(`greater than or equal to ${t}`):r&&s.push(`less than or equal to ${i}`),xt(o=>lt(o)&&(n?o>=t:!0)&&(r?o<=i:!0),s.join(" "))}})}function jC(e){return Object.assign(e,{restrict(t){return xt(i=>i instanceof t,i=>bf(e,i)??`an instance of ${t.name}`)}})}var OR=class extends Ge{constructor(){super(...arguments),this.color="black"}};R([A()],OR.prototype,"stop",2);R([A()],OR.prototype,"color",2);function qie(e){let t;for(const i of e)if((i==null?void 0:i.stop)!=null){if(t!=null&&i.stop<t)return!1;t=i.stop}return!0}function u3(e){return e.flatMap((t,i)=>{var r;const{stop:s}=t,n=(r=e.at(i+1))==null?void 0:r.color;return n!=null?[t,{stop:s,color:n}]:[t]})}function Zie(e,t){const i=t==="discrete"?1:0,s=e.map((n,r,{length:o})=>({stop:(r+i)/(o-1+i),color:n}));return t==="discrete"?u3(s):s}function d3(e,t,i,s="continuous"){var y,S,w,b;const n=e.map(x=>typeof x=="string"?{color:x}:x);if(n.length===0)return Zie(t,s);if(!qie(n))return me.warnOnce("[fills] must have the stops defined in ascending order"),[];const r=Math.min(...i),o=Math.max(...i),a=s==="discrete",l=new Float64Array(n.length);let d=0,h=-1;for(let x=0;x<n.length;x+=1){const D=n[x];if(x>=h){h=n.length-1;for(let T=x+1;T<n.length;T+=1)if(((y=n[T])==null?void 0:y.stop)!=null){h=T;break}}let E=D==null?void 0:D.stop;if(E==null){const T=(S=n[d])==null?void 0:S.stop,k=(w=n[h])==null?void 0:w.stop,P=T??r,O=k??o,F=a&&T==null?1:0;E=P+(O-P)*(x-d+F)/(h-d+F)}else d=x;l[x]=Math.max(0,Math.min(1,(E-r)/(o-r)))}let p=(b=n.find(x=>x.color!=null))==null?void 0:b.color,f;const v=n.map((x,D)=>{let E=x==null?void 0:x.color;const T=l[D];return E!=null?p=E:p!=null?E=p:(f==null&&(f=new fh,f.domain=[0,1],f.range=t),E=f.convert(T)),{stop:T,color:E}});return s==="discrete"?u3(v):v}function hp(e,t,i,s){const n=e-i,r=t-s;return n*n+r*r}function gp(e,t,i,s,n,r,o){if(i===n&&s===r)return Math.min(o,hp(e,t,i,s));const a=n-i,l=r-s,d=Math.max(0,Math.min(1,((e-i)*a+(t-s)*l)/(a*a+l*l))),h=i+d*a,p=s+d*l;return Math.min(o,hp(e,t,h,p))}function Xie(e,t,i,s,n,r,o,a,l){a&&([o,r]=[r,o]);const d=Math.atan2(t-s,e-i);if(!ll(d,r,o)){const p=i+Math.cos(r)*n,f=s+Math.sin(r)*n,v=i+Math.cos(r)*n,y=s+Math.sin(r)*n;return Math.min(l,hp(e,t,p,f),hp(e,t,v,y))}const h=n-Math.sqrt(hp(e,t,i,s));return Math.min(l,h*h)}function Qie(e,t){const i=-t/e;return e!==0&&i>=0&&i<=1?[i]:[]}function Jie(e,t,i){if(e===0)return Qie(t,i);const s=t*t-4*e*i,n=[];if(s===0){const r=-t/(2*e);r>=0&&r<=1&&n.push(r)}else if(s>0){const r=Math.sqrt(s),o=(-t-r)/(2*e),a=(-t+r)/(2*e);o>=0&&o<=1&&n.push(o),a>=0&&a<=1&&n.push(a)}return n}function ese(e,t,i,s){if(e===0)return Jie(t,i,s);const n=t/e,r=i/e,o=s/e,a=(3*r-n*n)/9,l=(9*n*r-27*o-2*n*n*n)/54,d=a*a*a+l*l,h=1/3,p=[];if(d>=0){const f=Math.sqrt(d),v=Math.sign(l+f)*Math.pow(Math.abs(l+f),h),y=Math.sign(l-f)*Math.pow(Math.abs(l-f),h),S=Math.abs(Math.sqrt(3)*(v-y)/2),w=-.3333333333333333*n+(v+y);if(w>=0&&w<=1&&p.push(w),S===0){const b=-.3333333333333333*n-(v+y)/2;b>=0&&b<=1&&p.push(b)}}else{const f=Math.acos(l/Math.sqrt(-a*a*a)),v=h*n,y=2*Math.sqrt(-a),S=y*Math.cos(h*f)-v,w=y*Math.cos(h*(f+2*Math.PI))-v,b=y*Math.cos(h*(f+4*Math.PI))-v;S>=0&&S<=1&&p.push(S),w>=0&&w<=1&&p.push(w),b>=0&&b<=1&&p.push(b)}return p}function wd(e,t,i,s,n,r,o,a){const l=(i-e)*(a-r)-(s-t)*(o-n);if(l===0)return 0;const d=((o-n)*(t-r)-(e-n)*(a-r))/l,h=((i-e)*(t-r)-(s-t)*(e-n))/l;return d>=0&&d<=1&&h>=0&&h<=1?1:0}function tse(e,t,i,s,n,r,o,a,l,d,h,p){let f=0;const v=d-p,y=h-l,S=l*(p-d)-d*(h-l),w=Jk(e,i,n,o),b=Jk(t,s,r,a),x=v*w[0]+y*b[0],D=v*w[1]+y*b[1],E=v*w[2]+y*b[2],T=v*w[3]+y*b[3]+S,k=ese(x,D,E,T);for(const P of k){const O=P*P,F=P*O,z=w[0]*F+w[1]*O+w[2]*P+w[3],V=b[0]*F+b[1]*O+b[2]*P+b[3];let U;l===h?U=(V-d)/(p-d):U=(z-l)/(h-l),U>=0&&U<=1&&f++}return f}function Jk(e,t,i,s){return[-e+3*t-3*i+s,3*e-6*t+3*i,-3*e+3*t,e]}function h3(e,t,i,s,n,r,o,a,l,d){if(isNaN(e)||isNaN(t))return 0;r&&([n,s]=[s,n]);const h=(d-a)/(l-o),p=a-h*o,f=Math.pow(h,2)+1,v=2*(h*(p-t)-e),y=Math.pow(e,2)+Math.pow(p-t,2)-Math.pow(i,2),S=Math.pow(v,2)-4*f*y;if(S<0)return 0;const w=(-v+Math.sqrt(S))/2/f,b=(-v-Math.sqrt(S))/2/f;let x=0;return[w,b].forEach(D=>{if(!(D>=Math.min(o,l)&&D<=Math.max(o,l)))return;const T=h*D+p,k=D-e,P=T-t,O=Math.atan2(P,k);ll(O,s,n)&&x++}),x}function Ny(e,t,i,s,n){return(1-n)**3*e+3*(1-n)**2*n*t+3*(1-n)*n**2*i+n**3*s}function zy(e,t,i,s,n){if(n<=Math.min(e,s))return e<s?0:1;if(n>=Math.max(e,s))return e<s?1:0;let r=0,o=1,a=NaN;for(let l=0;l<12;l+=1)a=(r+o)/2,Ny(e,t,i,s,a)<n?r=a:o=a;return a}function By(e,t,i,s,n,r,o,a,l){const d=(1-l)*e+l*i,h=(1-l)*t+l*s,p=(1-l)*i+l*n,f=(1-l)*s+l*r,v=(1-l)*n+l*o,y=(1-l)*r+l*a,S=(1-l)*d+l*p,w=(1-l)*h+l*f,b=(1-l)*p+l*v,x=(1-l)*f+l*y,D=(1-l)*S+l*b,E=(1-l)*w+l*x;return[[{x:e,y:t},{x:d,y:h},{x:S,y:w},{x:D,y:E}],[{x:D,y:E},{x:b,y:x},{x:v,y},{x:o,y:a}]]}function LM(e,t,i,s){const n=-e+3*t-3*i+s,r=3*e-6*t+3*i,o=-3*e+3*t;if(n===0){if(r!==0){const l=-o/r;if(l>0&&l<1)return[l]}return[]}const a=r*r-4*n*o;if(a>=0){const l=Math.sqrt(a),d=(-r+l)/(2*n),h=(-r-l)/(2*n);return[d,h].filter(p=>p>0&&p<1)}return[]}function g3(e,t,i,s,n,r,o,a){const l=LM(e,i,n,o),d=LM(t,s,r,a);return[...l,...d]}var $d=class{constructor(){this.path2d=new Path2D,this.previousCommands=[],this.previousParams=[],this.previousClosedPath=!1,this.commands=[],this.params=[],this.openedPath=!1,this.closedPath=!1}isEmpty(){return this.commands.length===0}isDirty(){return this.closedPath!==this.previousClosedPath||this.previousCommands.length!==this.commands.length||this.previousParams.length!==this.params.length||this.previousCommands.toString()!==this.commands.toString()||this.previousParams.toString()!==this.params.toString()}getPath2D(){return this.path2d}moveTo(e,t){this.openedPath=!0,this.path2d.moveTo(e,t),this.commands.push(0),this.params.push(e,t)}lineTo(e,t){this.openedPath?(this.path2d.lineTo(e,t),this.commands.push(1),this.params.push(e,t)):this.moveTo(e,t)}rect(e,t,i,s){this.moveTo(e,t),this.lineTo(e+i,t),this.lineTo(e+i,t+s),this.lineTo(e,t+s),this.closePath()}roundRect(e,t,i,s,n){n=Math.min(n,i/2,s/2),this.moveTo(e,t+n),this.arc(e+n,t+n,n,Math.PI,1.5*Math.PI),this.lineTo(e+n,t),this.lineTo(e+i-n,t),this.arc(e+i-n,t+n,n,1.5*Math.PI,2*Math.PI),this.lineTo(e+i,t+n),this.lineTo(e+i,t+s-n),this.arc(e+i-n,t+s-n,n,0,Math.PI/2),this.lineTo(e+i-n,t+s),this.lineTo(e+n,t+s),this.arc(e+ +n,t+s-n,n,Math.PI/2,Math.PI),this.lineTo(e,t+s-n),this.closePath()}arc(e,t,i,s,n,r){this.openedPath=!0,this.path2d.arc(e,t,i,s,n,r),this.commands.push(2),this.params.push(e,t,i,s,n,r?1:0)}cubicCurveTo(e,t,i,s,n,r){this.openedPath||this.moveTo(e,t),this.path2d.bezierCurveTo(e,t,i,s,n,r),this.commands.push(3),this.params.push(e,t,i,s,n,r)}closePath(){this.openedPath&&(this.path2d.closePath(),this.commands.push(4),this.openedPath=!1,this.closedPath=!0)}clear(e){e&&(this.previousCommands=this.commands,this.previousParams=this.params,this.previousClosedPath=this.closedPath),this.path2d=new Path2D,this.openedPath=!1,this.closedPath=!1,this.commands=[],this.params=[]}isPointInPath(e,t){const i=this.commands,s=this.params,n=i.length,r=-1e4,o=-1e4;let a=NaN,l=NaN,d=0,h=0,p=0;for(let f=0,v=0;f<n;f++)switch(i[f]){case 0:p+=wd(a,l,d,h,r,o,e,t),d=s[v++],a=d,h=s[v++],l=h;break;case 1:p+=wd(d,h,s[v++],s[v++],r,o,e,t),d=s[v-2],h=s[v-1];break;case 3:p+=tse(d,h,s[v++],s[v++],s[v++],s[v++],s[v++],s[v++],r,o,e,t),d=s[v-2],h=s[v-1];break;case 2:{const y=s[v++],S=s[v++],w=s[v++],b=s[v++],x=s[v++],D=!!s[v++];if(p+=h3(y,S,w,b,x,D,r,o,e,t),!isNaN(a)){const E=y+Math.cos(b)*w,T=S+Math.sin(b)*w;p+=wd(d,h,E,T,r,o,e,t)}d=y+Math.cos(x)*w,h=S+Math.sin(x)*w;break}case 4:p+=wd(a,l,d,h,r,o,e,t);break}return p%2===1}distanceSquared(e,t){let i=1/0;const s=this.commands,n=this.params,r=s.length;let o=NaN,a=NaN,l=0,d=0;for(let h=0,p=0;h<r;h++)switch(s[h]){case 0:l=o=n[p++],d=a=n[p++];break;case 1:{const f=n[p++],v=n[p++];i=gp(e,t,l,d,f,v,i);break}case 3:me.error("Command.Curve distanceSquare not implemented");break;case 2:{const f=n[p++],v=n[p++],y=n[p++],S=n[p++],w=n[p++],b=f+Math.cos(S)*y,x=v+Math.sin(S)*y,D=!!n[p++];i=gp(e,t,l,d,b,x,i),i=Xie(e,t,f,v,y,S,w,D,i),l=f+Math.cos(w)*y,d=v+Math.sin(w)*y;break}case 4:i=gp(e,t,l,d,o,a,i);break}return i}toSVG(e=(t,i)=>({x:t,y:i})){const t=[],{commands:i,params:s}=this,n=(o,...a)=>{t.push(o);for(let l=0;l<a.length;l+=2){const{x:d,y:h}=e(a[l],a[l+1]);t.push(d,h)}};let r=0;for(const o of i)switch(o){case 0:n("M",s[r++],s[r++]);break;case 1:n("L",s[r++],s[r++]);break;case 3:n("C",s[r++],s[r++],s[r++],s[r++],s[r++],s[r++]);break;case 2:{const a=s[r++],l=s[r++],d=s[r++],h=s[r++],p=s[r++],f=s[r++];let v=f?h-p:p-h;v<0&&(v+=Math.ceil(-v/(2*Math.PI))*2*Math.PI),f&&(v=-v);const y=Math.max(Math.ceil(Math.abs(v)/(Math.PI/2)),1),S=v/y,w=4/3*Math.tan(S/4),b=t.length===0?"M":"L";n(b,a+Math.cos(h)*d,l+Math.sin(h)*d);for(let x=0;x<y;x+=1){const D=h+S*(x+0),E=h+S*(x+1),T=d*Math.sin(D),k=d*Math.cos(D),P=d*Math.sin(E),O=d*Math.cos(E);n("C",a+k-w*T,l+T+w*k,a+O+w*P,l+P-w*O,a+O,l+P)}break}case 4:t.push("Z");break}return t.join(" ")}computeBBox(){const{commands:e,params:t}=this;let[i,s,n,r]=[1/0,1/0,-1/0,-1/0],[o,a]=[NaN,NaN],[l,d]=[NaN,NaN];const h=(f,v,y)=>{i=Math.min(v,i),s=Math.min(f,s),n=Math.max(f,n),r=Math.max(v,r),y&&([o,a]=[f,v])};let p=0;for(const f of e)switch(f){case 0:h(t[p++],t[p++],!0),[l,d]=[o,a];break;case 1:h(t[p++],t[p++],!0);break;case 3:{const v=t[p++],y=t[p++],S=t[p++],w=t[p++],b=t[p++],x=t[p++];h(b,x,!0),g3(o,a,v,y,S,w,b,x).forEach(E=>{const T=Ny(o,v,S,b,E),k=Ny(a,y,w,x,E);h(T,k)});break}case 2:{const v=t[p++],y=t[p++],S=t[p++];let w=Bt(t[p++]),b=Bt(t[p++]);t[p++]&&([w,b]=[b,w]);const D=(T,k)=>{const P=v+S*Math.cos(T),O=y+S*Math.sin(T);h(P,O,k)};D(w),D(b,!0);const E=[0,Math.PI/2,Math.PI,3*Math.PI/2];for(const T of E)(w<b&&w<=T&&T<=b||w>b&&(w<=T||T<=b))&&D(T);break}case 4:[o,a]=[l,d];break}return new De(s,i,n-s,r-i)}};function ji(e,t,i){const s=Math.round(t*e)/e;return i==null?s:i===0?0:i<1?Math.ceil(i*e)/e:Math.round((i+t)*e)/e-s}function eP(e,t){return Math.floor(t*e)/e}function L0(e,t,i){const{width:s,height:n,padding:r,strokeWidth:o}=t,a=s/2,l=n/2,d=Math.max(1,s-r-o/2),h=Math.max(1,n-r-o/2);let p=!1;for(const[f,v]of i){const y=a+(f-.5)*d,S=l+(v-.5)*h;p?e.lineTo(y,S):e.moveTo(y,S),p=!0}e.closePath()}var ise={circles(e,{width:t,strokeWidth:i,padding:s}){const n=t/2,r=Math.max(1,n-s-i/2);e.arc(n,n,r,0,Math.PI*2)},squares(e,{width:t,height:i,pixelRatio:s,padding:n,strokeWidth:r}){const o=n+r/2;e.moveTo(ji(s,o),ji(s,o)),e.lineTo(ji(s,t-o),ji(s,o)),e.lineTo(ji(s,t-o),ji(s,i-o)),e.lineTo(ji(s,o),ji(s,i-o)),e.closePath()},triangles(e,t){L0(e,t,[[.5,0],[1,1],[0,1]])},diamonds(e,t){L0(e,t,[[.5,0],[1,.5],[.5,1],[0,.5]])},stars(e,{width:t,height:i,padding:s}){const r=Math.max(1,(t-s)/2),o=r/2,a=Math.PI/2;for(let l=0;l<5*2;l++){const d=l%2===0?r:o,h=l*Math.PI/5-a,p=t/2+Math.cos(h)*d,f=i/2+Math.sin(h)*d;e.lineTo(p,f)}e.closePath()},hearts(e,{width:t,height:i,padding:s}){const n=Math.max(1,t/4-s/2),r=t/2,o=i/2+n/2;e.arc(r-n,o-n,n,Yt(130),Yt(330)),e.arc(r+n,o-n,n,Yt(220),Yt(50)),e.lineTo(r,o+n),e.closePath()},crosses(e,t){L0(e,t,[[.25,0],[.5,.25],[.75,0],[1,.25],[.75,.5],[1,.75],[.75,1],[.5,.75],[.25,1],[0,.75],[.25,.5],[0,.25]])},"vertical-lines"(e,{width:t,height:i,pixelRatio:s,strokeWidth:n}){const r=ji(s,t/2)-n%2/2;e.moveTo(r,0),e.lineTo(r,i)},"horizontal-lines"(e,{width:t,height:i,pixelRatio:s,strokeWidth:n}){const r=ji(s,i/2)-n%2/2;e.moveTo(0,r),e.lineTo(t,r)},"forward-slanted-lines"(e,{width:t,height:i,strokeWidth:s}){const n=Math.atan2(i,t),r=s*Math.cos(n),o=s*Math.sin(n);e.moveTo(-r,o),e.lineTo(r,-o),e.moveTo(-r,i+o),e.lineTo(t+r,-o),e.moveTo(t-r,i+o),e.lineTo(t+r,i-o)},"backward-slanted-lines"(e,{width:t,height:i,strokeWidth:s}){const n=Math.atan2(i,t),r=s*Math.cos(n),o=s*Math.sin(n);e.moveTo(t-r,-o),e.lineTo(t+r,o),e.moveTo(-r,-o),e.lineTo(t+r,i+o),e.moveTo(-r,i-o),e.lineTo(r,i+o)}},sse=class{constructor(e,t=1){this.pixelRatio=t,this._cache=void 0,this.width=Math.max((e==null?void 0:e.width)??10,1),this.height=Math.max((e==null?void 0:e.height)??10,1),this.fill=e.fill??"transparent",this.fillOpacity=e.fillOpacity??1,this.backgroundFill=e.backgroundFill??"transparent",this.backgroundFillOpacity=e.backgroundFillOpacity??1,this.stroke=e.stroke??"black",this.strokeOpacity=e.strokeOpacity??1,this.strokeWidth=e.strokeWidth??1,this.padding=e.padding??1,this.pattern=e.pattern??"forward-slanted-lines",this.rotation=e.rotation??0}getPath(){const{pattern:e,width:t,height:i,padding:s,strokeWidth:n,pixelRatio:r}=this,o=new $d;return ise[e](o,{width:t,height:i,pixelRatio:r,strokeWidth:n,padding:s}),o}renderStroke(e,t){const{stroke:i,strokeWidth:s,strokeOpacity:n}=this;s&&(t.strokeStyle=i,t.lineWidth=s,t.globalAlpha=n,t.stroke(e))}renderFill(e,t){const{fill:i,fillOpacity:s}=this;t.fillStyle=i,t.globalAlpha=s,t.fill(e)}createCanvasPattern(e){const{width:t,height:i,backgroundFill:s,backgroundFillOpacity:n,pixelRatio:r,rotation:o}=this,a=new xR({width:t,height:i,pixelRatio:r}),l=a.context;l.fillStyle=s,l.globalAlpha=n,l.fillRect(0,0,t,i);const d=this.getPath().getPath2D();this.renderFill(d,l),this.renderStroke(d,l);const h=e.createPattern(a.canvas,"repeat"),p=Bt(Yt(o)),f=1/r,v=Math.cos(p)*f,y=Math.sin(p)*f;return h==null||h.setTransform(new DOMMatrix([v,y,-y,v,0,0])),a.destroy(),h}createPattern(e){if(this._cache!=null&&this._cache.ctx===e)return this._cache.pattern;const t=this.createCanvasPattern(e);if(t!=null)return this._cache={ctx:e,pattern:t},t}toSvg(){const{width:e,height:t,fill:i,fillOpacity:s,backgroundFill:n,backgroundFillOpacity:r,stroke:o,strokeWidth:a,strokeOpacity:l,rotation:d}=this,h=Ji("pattern");h.setAttribute("viewBox",`0 0 ${e} ${t}`),h.setAttribute("width",String(e)),h.setAttribute("height",String(t)),h.setAttribute("patternUnits","userSpaceOnUse");const p=Ji("rect");p.setAttribute("x","0"),p.setAttribute("y","0"),p.setAttribute("width",String(e)),p.setAttribute("height",String(t)),p.setAttribute("fill",n),p.setAttribute("fill-opacity",String(r)),h.appendChild(p);const f=Ji("path");return f.setAttribute("fill",i),f.setAttribute("fill-opacity",String(s)),f.setAttribute("stroke-opacity",String(l)),f.setAttribute("stroke",o),f.setAttribute("stroke-width",String(a)),f.setAttribute("transform",`rotate(${d})`),f.setAttribute("d",this.getPath().toSVG()),h.appendChild(f),h}};function Fr(e){return Ci(e)&&e.type=="gradient"}function p3(e){return $e(e)&&e.every(t=>typeof t=="string")}function Qc(e){return e!==null&&Ci(e)&&e.type=="pattern"}function nse(e){return Fr(e)||Qc(e)}var As=class Xr extends da{constructor(){super(...arguments),this.fillOpacity=1,this.strokeOpacity=1,this.fill=Xr.defaultStyles.fill,this.stroke=Xr.defaultStyles.stroke,this.strokeWidth=Xr.defaultStyles.strokeWidth,this.lineDash=Xr.defaultStyles.lineDash,this.lineDashOffset=Xr.defaultStyles.lineDashOffset,this.lineCap=Xr.defaultStyles.lineCap,this.lineJoin=Xr.defaultStyles.lineJoin,this.miterLimit=void 0,this.opacity=Xr.defaultStyles.opacity,this.fillShadow=Xr.defaultStyles.fillShadow}restoreOwnStyles(){const{defaultStyles:t}=this.constructor;Object.assign(this,t)}getGradient(t){if(Fr(t))return this.createGradient(t)}createGradient(t){const{colorSpace:i="rgb",gradient:s="linear",colorStops:n,rotation:r=0,reverse:o=!1}=t;if(n==null)return;let a=d3(n,["black"],[0,1]);switch(o&&(a=a.map(l=>({color:l.color,stop:1-l.stop})).reverse()),s){case"linear":return new n3(i,a,r);case"radial":return new vie(i,a);case"conic":return new s3(i,a,r)}}getPattern(t){if(Qc(t))return this.createPattern(t)}createPattern(t){var s,n;const i=((n=(s=this.layerManager)==null?void 0:s.canvas)==null?void 0:n.pixelRatio)??1;return new sse(t,i)}onFillChange(){typeof this.fill=="object"&&mo(this._cachedFill??{},this.fill)||(this.fillGradient=this.getGradient(this.fill),this.fillPattern=this.getPattern(this.fill),this._cachedFill=this.fill)}onStrokeChange(){this.strokeGradient=this.getGradient(this.stroke)}align(t,i){var s,n;return ji(((n=(s=this.layerManager)==null?void 0:s.canvas)==null?void 0:n.pixelRatio)??1,t,i)}preRender(t,i){return this.dirty&&(this.cachedDefaultGradientFillBBox=void 0),super.preRender(t,i)}fillStroke(t,i){this.renderFill(t,i),this.renderStroke(t,i)}renderFill(t,i){if(this.fill){const{globalAlpha:s}=t;this.applyFill(t),this.applyFillAlpha(t),this.applyShadow(t),this.executeFill(t,i),t.globalAlpha=s}t.shadowColor="rgba(0, 0, 0, 0)"}executeFill(t,i){i?t.fill(i):t.fill()}applyFill(t){var l;const{fill:i,fillGradient:s,fillBBox:n=this.getDefaultGradientFillBBox()??this.getBBox(),fillParams:r}=this,o=n?s==null?void 0:s.createGradient(t,n,r):void 0,a=(l=this.fillPattern)==null?void 0:l.createPattern(t);t.fillStyle=a??o??(typeof i=="string"?i:void 0)??"black"}applyStroke(t){var i;t.strokeStyle=((i=this.strokeGradient)==null?void 0:i.createGradient(t,this.getBBox()))??(typeof this.stroke=="string"?this.stroke:void 0)??"black"}applyFillAlpha(t){t.globalAlpha*=this.opacity*this.fillOpacity}applyShadow(t){var n;const i=((n=this.layerManager)==null?void 0:n.canvas.pixelRatio)??1,s=this.fillShadow;s!=null&&s.enabled&&(t.shadowColor=s.color,t.shadowOffsetX=s.xOffset*i,t.shadowOffsetY=s.yOffset*i,t.shadowBlur=s.blur*i)}renderStroke(t,i){if(this.stroke&&this.strokeWidth){const{globalAlpha:s}=t;this.applyStroke(t),t.globalAlpha*=this.opacity*this.strokeOpacity,t.lineWidth=this.strokeWidth,this.lineDash&&t.setLineDash(this.lineDash),this.lineDashOffset&&(t.lineDashOffset=this.lineDashOffset),this.lineCap&&(t.lineCap=this.lineCap),this.lineJoin&&(t.lineJoin=this.lineJoin),this.miterLimit!=null&&(t.miterLimit=this.miterLimit),this.executeStroke(t,i),t.globalAlpha=s}}executeStroke(t,i){i?t.stroke(i):t.stroke()}getDefaultGradientFillBBox(){return this.cachedDefaultGradientFillBBox==null&&(this.cachedDefaultGradientFillBBox=Object.freeze(this.computeDefaultGradientFillBBox())),this.cachedDefaultGradientFillBBox}computeDefaultGradientFillBBox(){}containsPoint(t,i){return this.isPointInPath(t,i)}applySvgFillAttributes(t,i){const{fill:s,fillOpacity:n}=this;if(typeof s=="string")t.setAttribute("fill",s);else if(Fr(s)&&this.fillGradient){i??(i=[]);const r=this.fillGradient.toSvg(this.fillBBox??this.getBBox()),o=AM();r.setAttribute("id",o),i.push(r),t.setAttribute("fill",`url(#${o})`)}else if(Qc(s)&&this.fillPattern){i??(i=[]);const r=this.fillPattern.toSvg(),o=AM();r.setAttribute("id",o),i.push(r),t.setAttribute("fill",`url(#${o})`)}else t.setAttribute("fill","none");return t.setAttribute("fill-opacity",String(n)),i}applySvgStrokeAttributes(t){const{stroke:i,strokeOpacity:s,strokeWidth:n,lineDash:r,lineDashOffset:o}=this;if(i!=null&&(t.setAttribute("stroke",typeof i=="string"?i:"none"),t.setAttribute("stroke-opacity",String(s)),t.setAttribute("stroke-width",String(n))),(r==null?void 0:r.some(a=>a!==0))===!0){const a=r.length%2===1?[...r,...r]:r;t.setAttribute("stroke-dasharray",a.join(" ")),t.setAttribute("stroke-dashoffset",String(o))}}};As.defaultStyles={fill:"black",stroke:void 0,strokeWidth:0,lineDash:void 0,lineDashOffset:0,lineCap:void 0,lineJoin:void 0,opacity:1,fillShadow:void 0};R([Re()],As.prototype,"fillOpacity",2);R([Re()],As.prototype,"strokeOpacity",2);R([Re({changeCb:e=>e.onFillChange()})],As.prototype,"fill",2);R([Re({changeCb:e=>e.onStrokeChange()})],As.prototype,"stroke",2);R([Re()],As.prototype,"strokeWidth",2);R([Re()],As.prototype,"lineDash",2);R([Re()],As.prototype,"lineDashOffset",2);R([Re()],As.prototype,"lineCap",2);R([Re()],As.prototype,"lineJoin",2);R([Re()],As.prototype,"miterLimit",2);R([Re({convertor:e=>Be(0,e,1)})],As.prototype,"opacity",2);R([Re({checkDirtyOnAssignment:!0})],As.prototype,"fillShadow",2);R([Re({changeCb:e=>e.onFillChange()})],As.prototype,"fillBBox",2);R([Re({changeCb:e=>e.onFillChange()})],As.prototype,"fillParams",2);var cr=As,f3=[1,0,0,1,0,0],Nr=class Yv{get e(){return[...this.elements]}constructor(t=f3){this.elements=[...t]}setElements(t){const i=this.elements;return i[0]=t[0],i[1]=t[1],i[2]=t[2],i[3]=t[3],i[4]=t[4],i[5]=t[5],this}get identity(){const t=this.elements;return Jr(t[0],1)&&Jr(t[1],0)&&Jr(t[2],0)&&Jr(t[3],1)&&Jr(t[4],0)&&Jr(t[5],0)}AxB(t,i,s){const n=t[0]*i[0]+t[2]*i[1],r=t[1]*i[0]+t[3]*i[1],o=t[0]*i[2]+t[2]*i[3],a=t[1]*i[2]+t[3]*i[3],l=t[0]*i[4]+t[2]*i[5]+t[4],d=t[1]*i[4]+t[3]*i[5]+t[5];s=s??t,s[0]=n,s[1]=r,s[2]=o,s[3]=a,s[4]=l,s[5]=d}multiplySelf(t){return this.AxB(this.elements,t.elements),this}multiply(t){const i=new Array(6);return t instanceof Yv?this.AxB(this.elements,t.elements,i):this.AxB(this.elements,[t.a,t.b,t.c,t.d,t.e,t.f],i),new Yv(i)}preMultiplySelf(t){return this.AxB(t.elements,this.elements,this.elements),this}inverse(){const t=this.elements;let i=t[0],s=t[1],n=t[2],r=t[3];const o=t[4],a=t[5],l=1/(i*r-s*n);return i*=l,s*=l,n*=l,r*=l,new Yv([r,-s,-n,i,n*a-r*o,s*o-i*a])}invertSelf(){const t=this.elements;let i=t[0],s=t[1],n=t[2],r=t[3];const o=t[4],a=t[5],l=1/(i*r-s*n);return i*=l,s*=l,n*=l,r*=l,t[0]=r,t[1]=-s,t[2]=-n,t[3]=i,t[4]=n*a-r*o,t[5]=s*o-i*a,this}transformPoint(t,i){const s=this.elements;return{x:t*s[0]+i*s[2]+s[4],y:t*s[1]+i*s[3]+s[5]}}transformBBox(t,i){const s=this.elements,n=s[0],r=s[1],o=s[2],a=s[3],l=t.width*.5,d=t.height*.5,h=t.x+l,p=t.y+d,f=Math.abs(l*n)+Math.abs(d*o),v=Math.abs(l*r)+Math.abs(d*a);return i??(i=new De(0,0,0,0)),i.x=h*n+p*o+s[4]-f,i.y=h*r+p*a+s[5]-v,i.width=f+f,i.height=v+v,i}toContext(t){if(this.identity)return;const i=this.elements;t.transform(i[0],i[1],i[2],i[3],i[4],i[5])}static updateTransformMatrix(t,i,s,n,r,o,a){const l=i,d=s;let h,p;l===1&&d===1?(h=0,p=0):(h=(a==null?void 0:a.scalingCenterX)??0,p=(a==null?void 0:a.scalingCenterY)??0);const f=n,v=Math.cos(f),y=Math.sin(f);let S,w;f===0?(S=0,w=0):(S=(a==null?void 0:a.rotationCenterX)??0,w=(a==null?void 0:a.rotationCenterY)??0);const b=r,x=o,D=h*(1-l)-S,E=p*(1-d)-w;return t.setElements([v*l,y*l,-y*d,v*d,v*D-y*E+S+b,y*D+v*E+w+x]),t}};function el(e){return v3(e.constructor)}var m3=Symbol("isMatrixTransform");function v3(e){return e[m3]===!0}function FR(e){var t,i;const s=e;if(v3(e))return e;const n=Symbol("matrix_combined_transform");class r extends s{constructor(){super(...arguments),this[i]=new Nr,this._dirtyTransform=!0}markDirtyTransform(){this._dirtyTransform=!0,super.markDirty()}updateMatrix(a){}computeTransformMatrix(){this._dirtyTransform&&(this[n].setElements(f3),this.updateMatrix(this[n]),this._dirtyTransform=!1)}toParent(a){return this.computeTransformMatrix(),this[n].identity?a.clone():this[n].transformBBox(a)}toParentPoint(a,l){return this.computeTransformMatrix(),this[n].identity?{x:a,y:l}:this[n].transformPoint(a,l)}fromParent(a){return this.computeTransformMatrix(),this[n].identity?a.clone():this[n].inverse().transformBBox(a)}fromParentPoint(a,l){return this.computeTransformMatrix(),this[n].identity?{x:a,y:l}:this[n].inverse().transformPoint(a,l)}computeBBox(){const a=super.computeBBox();return a&&this.toParent(a)}computeBBoxWithoutTransforms(){return super.computeBBox()}pickNode(a,l){return{x:a,y:l}=this.fromParentPoint(a,l),super.pickNode(a,l)}pickNodes(a,l,d){return{x:a,y:l}=this.fromParentPoint(a,l),super.pickNodes(a,l,d)}render(a){this.computeTransformMatrix();const{ctx:l}=a,d=this[n];let h=!1;d.identity||(l.save(),h=!0,d.toContext(l)),super.render(a),h&&l.restore()}toSVG(){this.computeTransformMatrix();const a=super.toSVG(),l=this[n];if(l.identity||a==null)return a;const d=Ji("g");d.append(...a.elements);const[h,p,f,v,y,S]=l.e;return d.setAttribute("transform",`matrix(${h} ${p} ${f} ${v} ${y} ${S})`),{elements:[d],defs:a.defs}}}return t=m3,i=n,r[t]=!0,r}function mh(e){var t;const i=e,s=Symbol("matrix_rotation");class n extends FR(i){constructor(){super(...arguments),this[t]=new Nr,this.rotationCenterX=null,this.rotationCenterY=null,this.rotation=0}updateMatrix(o){super.updateMatrix(o);const{rotation:a,rotationCenterX:l,rotationCenterY:d}=this;a!==0&&(Nr.updateTransformMatrix(this[s],1,1,a,0,0,{rotationCenterX:l,rotationCenterY:d}),o.multiplySelf(this[s]))}}return t=s,R([Re({type:"transform"})],n.prototype,"rotationCenterX",2),R([Re({type:"transform"})],n.prototype,"rotationCenterY",2),R([Re({type:"transform"})],n.prototype,"rotation",2),n}function NR(e){var t;const i=e,s=Symbol("matrix_scale");class n extends FR(i){constructor(){super(...arguments),this[t]=new Nr,this.scalingX=1,this.scalingY=1,this.scalingCenterX=null,this.scalingCenterY=null}updateMatrix(o){super.updateMatrix(o);const{scalingX:a,scalingY:l,scalingCenterX:d,scalingCenterY:h}=this;a===1&&l===1||(Nr.updateTransformMatrix(this[s],a,l,0,0,0,{scalingCenterX:d,scalingCenterY:h}),o.multiplySelf(this[s]))}}return t=s,R([Re({type:"transform"})],n.prototype,"scalingX",2),R([Re({type:"transform"})],n.prototype,"scalingY",2),R([Re({type:"transform"})],n.prototype,"scalingCenterX",2),R([Re({type:"transform"})],n.prototype,"scalingCenterY",2),n}function au(e){var t;const i=e,s=Symbol("matrix_translation");class n extends FR(i){constructor(){super(...arguments),this[t]=new Nr,this.translationX=0,this.translationY=0}updateMatrix(o){super.updateMatrix(o);const{translationX:a,translationY:l}=this;a===0&&l===0||(Nr.updateTransformMatrix(this[s],1,1,0,a,l),o.multiplySelf(this[s]))}}return t=s,R([Re({type:"transform"})],n.prototype,"translationX",2),R([Re({type:"transform"})],n.prototype,"translationY",2),n}var hi=class{static fromCanvas(e,t){const i=[];for(const s of e.traverseUp())el(s)&&i.unshift(s);for(const s of i)t=s.fromParent(t);return el(e)&&(t=e.fromParent(t)),t}static toCanvas(e,t){t==null?t=e.getBBox():el(e)&&(t=e.toParent(t));for(const i of e.traverseUp())el(i)&&(t=i.toParent(t));return t}static fromCanvasPoint(e,t,i){const s=[];for(const n of e.traverseUp())el(n)&&s.unshift(n);for(const n of s)({x:t,y:i}=n.fromParentPoint(t,i));return el(e)&&({x:t,y:i}=e.fromParentPoint(t,i)),{x:t,y:i}}static toCanvasPoint(e,t,i){el(e)&&({x:t,y:i}=e.toParentPoint(t,i));for(const s of e.traverseUp())el(s)&&({x:t,y:i}=s.toParentPoint(t,i));return{x:t,y:i}}},k0=(e,t)=>Math.sign(e-t);function y3(e,t){if(typeof e=="number"&&typeof t=="number")return k0(e,t);const i=typeof e=="number"?[e]:e,s=typeof t=="number"?[t]:t,n=Math.min(i.length,s.length);for(let r=0;r<n;r+=1){const o=k0(i[r],s[r]);if(o!==0)return o}return k0(i.length,s.length)}var _g,zR=class Xg extends da{constructor(t){super(t),this.opacity=1,this.renderToOffscreenCanvas=!1,this.optimizeForInfrequentRedraws=!1,this.layer=void 0,this.image=void 0,this._lastWidth=NaN,this._lastHeight=NaN,this._lastDevicePixelRatio=NaN,this.isContainerNode=!0,this.renderToOffscreenCanvas=(t==null?void 0:t.renderToOffscreenCanvas)===!0}static is(t){return t instanceof Xg}static computeChildrenBBox(t,i=!0){return De.merge(da.extractBBoxes(t,i))}static compareChildren(t,i){return y3(t.zIndex,i.zIndex)||t.serialNumber-i.serialNumber}containsPoint(t,i){return!0}computeBBox(){return Xg.computeChildrenBBox(this.children())}computeSafeClippingBBox(t){const i=this.computeBBox();if(!i.isFinite())return;let s=0;const n=4;for(const f of this.descendants())f instanceof cr&&(s=Math.max(s,f.strokeWidth));const r=Math.max(1,s/2*n),{x:o,y:a}=hi.toCanvasPoint(this,0,0),l=eP(t,o+i.x-r)-o,d=eP(t,a+i.y-r)-a,h=Math.ceil(i.x+i.width-l+r),p=Math.ceil(i.y+i.height-d+r);return new De(l,d,h,p)}prepareSharedCanvas(t,i,s){return _g==null||_g.pixelRatio!==s?_g=new xR({width:t,height:i,pixelRatio:s}):_g.resize(t,i,s),_g}isDirty(t){const{width:i,height:s,devicePixelRatio:n}=t,{dirty:r,dirtyZIndex:o,layer:a}=this,l=a!=null&&(this._lastWidth!==i||this._lastHeight!==s),d=this._lastDevicePixelRatio!==n;if(this._lastWidth=i,this._lastHeight=s,this._lastDevicePixelRatio=n,r||o||l||d)return!0;for(const h of this.children())if(h.dirty)return!0;return!1}preRender(t){var s,n;const i=super.preRender(t,0);return i.groups+=1,i.nonGroups-=1,this.renderToOffscreenCanvas&&!this.optimizeForInfrequentRedraws&&i.nonGroups>0&&this.getVisibility()?this.layer??(this.layer=(s=this._layerManager)==null?void 0:s.addLayer({name:this.name})):this.layer!=null&&((n=this._layerManager)==null||n.removeLayer(this.layer),this.layer=void 0),i}render(t){const{layer:i,renderToOffscreenCanvas:s}=this,n={...t};if(!s){this.renderInContext(n),super.render(n);return}const{ctx:r,stats:o,devicePixelRatio:a}=t;let{image:l}=this;if(this.isDirty(t)){l==null||l.bitmap.close(),l=void 0;const h=i?void 0:this.computeSafeClippingBBox(a),p=(f,...v)=>{var S;const y=f.context;n.ctx=y,f.clear(),y.save(),y.setTransform(...v),y.globalAlpha=1,this.renderInContext(n),y.restore(),(S=y.verifyDepthZero)==null||S.call(y)};if(i)p(i,r.getTransform());else if(h){const{x:f,y:v,width:y,height:S}=h,w=this.prepareSharedCanvas(y,S,a);p(w,a,0,0,a,-f*a,-v*a),l={bitmap:w.transferToImageBitmap(),x:f,y:v,width:y,height:S}}else this.dirtyZIndex&&this.sortChildren(Xg.compareChildren);this.image=l,o&&o.layersRendered++}else this.skipRender(n),o&&o.layersSkipped++;const{globalAlpha:d}=r;if(r.globalAlpha=d*this.opacity,i)r.save(),r.resetTransform(),i.drawImage(r),r.restore();else if(l){const{bitmap:h,x:p,y:f,width:v,height:y}=l;r.drawImage(h,0,0,v*a,y*a,p,f,v,y)}r.globalAlpha=d,super.render(n)}skipRender(t){const{stats:i}=t;for(const s of this.children())s.markClean(),i&&(i.nodesSkipped+=this.childNodeCounts.groups+this.childNodeCounts.nonGroups,i.opsSkipped+=this.childNodeCounts.complexity)}applyClip(t,i){const{x:s,y:n,width:r,height:o}=i;t.beginPath(),t.rect(s,n,r,o),t.clip()}renderInContext(t){const{ctx:i,stats:s}=t;this.dirtyZIndex&&this.sortChildren(Xg.compareChildren),i.save(),i.globalAlpha*=this.opacity,this.clipRect!=null&&(this.applyClip(i,this.clipRect),t.clipBBox=hi.toCanvas(this,this.clipRect));for(const n of this.children()){if(!n.visible){n.markClean(),s&&(s.nodesSkipped+=n.childNodeCounts.nonGroups+n.childNodeCounts.groups,s.opsSkipped+=n.childNodeCounts.complexity);continue}i.save(),n.render(t),i.restore()}i.restore()}setClipRect(t){this.clipRect=t?hi.fromCanvas(this,t):void 0}setClipRectCanvasSpace(t){this.clipRect=t}_setLayerManager(t){var i;this.layer&&((i=this._layerManager)==null||i.removeLayer(this.layer),this.layer=void 0),super._setLayerManager(t)}getVisibility(){for(const t of this.traverseUp(!0))if(!t.visible)return!1;return!0}toSVG(){if(!this.visible)return;const t=[],i=[];for(const s of this.children()){const n=s.toSVG();n!=null&&(i.push(...n.elements),n.defs!=null&&t.push(...n.defs))}return{elements:i,defs:t}}};zR.className="Group";R([Re({convertor:e=>Be(0,e,1)})],zR.prototype,"opacity",2);var Ne=zR,rse=class extends NR(Ne){},ose=class extends mh(Ne){},Bs=class extends au(Ne){},Wg=class extends mh(au(Ne)){},tP=class{constructor(){this.queue=[]}await(e=50){return new Promise(t=>{const i=()=>{clearTimeout(n),t(!0)},n=setTimeout(()=>{const r=this.queue.indexOf(i);r<0||(this.queue.splice(r,1),t(!1))},e);this.queue.push(i)})}notify(){this.queue.splice(0).forEach(e=>e())}};function ase(){return new Promise(e=>{setTimeout(e,0)})}function Gy(e,t){e&&(t=LC.normalize(t),t.width==null?e.style.removeProperty("width"):e.style.width=`${t.width}px`,t.height==null?e.style.removeProperty("height"):e.style.height=`${t.height}px`,t.x==null?e.style.removeProperty("left"):e.style.left=`${t.x}px`,t.y==null?e.style.removeProperty("top"):e.style.top=`${t.y}px`)}function C3(e){const t=parseFloat(e.style.width)||e.offsetWidth,i=parseFloat(e.style.height)||e.offsetHeight,s=parseFloat(e.style.left)||e.offsetLeft,n=parseFloat(e.style.top)||e.offsetTop;return{x:s,y:n,width:t,height:i}}function lse(e){var s;if(e.focus({preventScroll:!0}),((s=e.lastChild)==null?void 0:s.textContent)==null)return;const t=ua().createRange();t.setStart(e.lastChild,e.lastChild.textContent.length),t.setEnd(e.lastChild,e.lastChild.textContent.length);const i=Pt().getSelection();i==null||i.removeAllRanges(),i==null||i.addRange(t)}var cse=0;function use(e){return`${e??"ag-charts-element"}-${cse++}`}function b3(){const e=Pt("navigator");if("scheduling"in e){const t=e.scheduling;if("isInputPending"in t)return t.isInputPending({includeContinuous:!0})}return!1}function VC(e){return`ag-charts-icon ag-charts-icon-${e}`}var kM="class-instance";function yo(e,t,i){if($e(t)){if(!$e(e)||e.length!==t.length||t.some((s,n)=>yo(e[n],s,i)!=null))return t}else if(bi(t)){if(!bi(e))return t;const s={},n=new Set([...Object.keys(e),...Object.keys(t)]);for(const r of n)if(e[r]!==t[r])if(i!=null&&i.has(r))s[r]=t[r];else if(typeof e[r]==typeof t[r]){const o=yo(e[r],t[r],i);o!==null&&(s[r]=o)}else s[r]=t[r];return Object.keys(s).length?s:null}else if(e!==t)return t;return null}function S3(e,t){for(const i of Object.keys(e))if(e[i]!==(t==null?void 0:t[i]))return!1;return!0}function Vt(e,t){return $e(e)?e.map(i=>Vt(i,t)):bi(e)?dse(e,t):e instanceof Map?new Map(Vt(Array.from(e))):BR(e)}function dse(e,t){var s,n;const i={};for(const r of Object.keys(e))(s=t==null?void 0:t.assign)!=null&&s.has(r)?i[r]=e[r]:(n=t==null?void 0:t.shallow)!=null&&n.has(r)?i[r]=BR(e[r]):i[r]=Vt(e[r],t);return i}function BR(e){return $e(e)?e.slice(0):bi(e)?{...e}:gh(e)?new Date(e):yte(e)?new RegExp(e.source,e.flags):e}function Zo(e,t,i,s,n,r){if($e(e)){r=t(e,s,n,r);let o=0;for(const a of e)r=Zo(a,t,i,s==null?void 0:s[o],n,r),o++}else if(bi(e)){r=t(e,s,n,r);for(const o of Object.keys(e)){if(i!=null&&i.has(o))continue;const a=e[o];r=Zo(a,t,i,s==null?void 0:s[o],n,r)}}return r}function pp(e,t,i={}){const{path:s,matcherPath:n=s==null?void 0:s.replace(/(\[[0-9+]+])/i,"[]"),skip:r=[]}=i;if(e==null)throw new Error(`AG Charts - target is uninitialised: ${s??"<root>"}`);if(t==null)return e;if(vo(e))return e.set(t);const o=e,a=P0(e);for(const l of Object.keys(t)){if(RR.has(l))continue;const d=`${n?n+".":""}${l}`;if(r.includes(d))continue;const h=t[l],p=`${s?s+".":""}${l}`,f=o.constructor,v=o[l];try{const y=P0(v),S=P0(h);if(a===kM&&!(l in e||l==="context")){if(h===void 0)continue;me.warn(`unable to set [${p}] in ${f==null?void 0:f.name} - property is unknown`);continue}if(y!=null&&S!=null&&S!==y&&(y!==kM||S!=="object")){me.warn(`unable to set [${p}] in ${f==null?void 0:f.name} - can't apply type of [${S}], allowed types are: [${y}]`);continue}if(vo(v))o[l].set(h);else if(S==="object"&&l!=="context"){if(v==null){me.warn(`unable to set [${p}] in ${f==null?void 0:f.name} - property is unknown`);continue}pp(v,h,{...i,path:p,matcherPath:d})}else o[l]=h}catch(y){me.warn(`unable to set [${p}] in [${f==null?void 0:f.name}]; nested error is: ${y.message}`)}}return e}function P0(e){return e==null?null:Cte(e)||gh(e)?"primitive":$e(e)?"array":Ci(e)?bi(e)?"object":kM:Ll(e)?"function":"primitive"}function Hy(e,t,i,s){return OM(e,t,s??e,{matches:new Map},i)}var PM=Symbol("operation-resolved-undefined");function OM(e,t,i,s,n,r=[],o={}){if($e(e)){iP(e,t,i,s,r,o);let a=0;for(const l of e)OM(l,t,i,s,n,[...r,`${a}`],o),a++}else if(bi(e)){iP(e,t,i,s,r,o);for(const a of Object.keys(e)){if(n!=null&&n.has(a))continue;const l=e[a];OM(l,t,i,s,n,[...r,a],o)}}return o}function iP(e,t,i,s,n,r){if($e(e))for(let o=0;o<e.length;o++)e[o]=sP(e[o],t,i,s,[...n,`${o}`],r),e[o]===PM&&(e[o]=void 0);else{let o=!1;for(const a of Object.keys(e))e[a]=sP(e[a],t,i,s,[...n,a],r),o||(o=Ir(a,Vy)),e[a]===PM&&delete e[a];if(o&&Object.keys(e).length>1)for(const a of Object.keys(e))Ir(a,Vy)&&delete e[a]}}function sP(e,t,i,s,n,r){const o=Dl(e);if(!o)return e;r[n.join(".")]=e;const a=Gp(o.operation,o.values,t,i,n,s);return a===void 0?PM:a}function Dl(e){if(!bi(e))return;const[t]=Object.keys(e);if(Ir(t,Vy))return{operation:t,values:e[t]}}function Gp(e,t,i,s,n,r){r.referencedParams??(r.referencedParams=new Set);const o=["$find","$map"];$e(t)&&!o.includes(e)&&(t=t.map(l=>{const d=Dl(l);return d?Gp(d.operation,d.values,i,s,n,r):l}));const a=Vy[e];return a(t,n,i,s,r)}function Ir(e,t){return es(e)&&(Ci(t)||$e(t))&&e in t}function jy(e){return Qn(e)&&e>=0&&e<=1}function w3(e){return Ci(e)&&e.type=="gradient"}function hse(e){return e!==null&&Ci(e)&&e.type=="pattern"}function x3(e,t){const i=t.split("/");let s=[...e];t.startsWith("/")&&(s=[],i.shift());let n=!1;for(const r of i){if(r==="..")s.pop(),n||s.pop();else if(r===".")s.pop();else if(r==="$index"){const o=e.findLast(a=>!isNaN(Number(a)));o!=null&&s.push(o)}else if(r==="$prevIndex"){const o=e.findLast(a=>!isNaN(Number(a)));o!=null&&s.push(`${Number(o)-1}`)}else r.length!==0&&s.push(r);n=r===".."}return s}var gse={$ref:M3,$path:bse,$palette:Cse},pse={$if:([e,t,i])=>e?t:i,$eq:([e,t])=>e===t,$not:([e])=>!e,$or:e=>$e(e)&&e.some(Boolean),$and:e=>$e(e)&&e.every(Boolean),$switch:()=>{},$isOperation:Sse},fse={$isEven:wse,$mul:xse,$round:Mse},mse={$map:Dse,$find:Rse,$merge:Ese,$omit:Ase,$value:Tse},vse={$rem:Ise},yse={$mix:Lse,$foregroundBackgroundMix:kse,$foregroundBackgroundAccentMix:Pse,$interpolate:Ose,$isGradient:([e])=>w3(e),$isPattern:([e])=>hse(e)},Vy={...gse,...pse,...fse,...mse,...vse,...yse};function M3(e,t,i,s,n){var o,a;if(!Ir(e,i)){me.warnOnce(`\`$ref\` json operation failed on [${String(e)}] at [${t.join(".")}], expecting one of [${Object.keys(i).join(", ")}].`);return}const r=Dl(i[e]);if((r==null?void 0:r.operation)!=="$ref")return i[e];if((o=n.referencedParams)!=null&&o.has(r.values)){me.warnOnce(`\`$ref\` json operation failed on [${String(e)}] at [${t.join(".")}], circular reference detected with [${[...n.referencedParams].join(", ")}].`);return}return(a=n.referencedParams)==null||a.add(r.values),M3(r.values,t,i,s,n)}function Cse(e,t,i,s){if(!es(e))return;const n=i.__palette;if(["fill","fillFallback","stroke","gradient","range2"].includes(e)){const o=t.findLastIndex(p=>!isNaN(Number(p)));let a=Number(t[o]);if(isNaN(a))return;const l=t.slice(0,o),d=["map-shape-background","map-line-background"],h=Ud(s,l).slice(0,a).filter(p=>d.includes(p.type)).length;switch(a-=h,e){case"fill":return Hg(n.fills,1,a)[0];case"fillFallback":return Hg(n.fillsFallback,1,a)[0];case"stroke":return Hg(n.strokes,1,a)[0];case"gradient":return Hg(n.sequentialColors,1,a)[0];case"range2":return Hg(n.fills,2,a)}return}return e==="gradients"?n.sequentialColors:Ud(n,e)}function bse(e,t,i,s){let n=!1,r,o=!1,a=s;if($e(e))n=!0,r=e[1],o=e.length===3,a=o?e[2]:a,e=e[0];else if(!es(e)){me.warnOnce(`\`$path\` json operation failed on [${String(e)}] at [${t.join(".")}], expecting a string.`);return}const l=x3(o?[]:t,e);let d=a;for(const h of l){if(!Ir(h,d)){if(n)return r;me.warnOnce(`\`$path\` json operation failed on [${String(e)}] at [${t.join(".")}] resolved to [${l.join(".")}], could not find path in object.`);return}d=d[h]}return Object.isFrozen(d)?Vt(d):d}function Sse(e,t,i,s){const n=es(e)?x3(t,e):t,r=n.length===0?s:Ud(s,n);return Dl(r)!=null}function wse([e],t){if(typeof e=="number")return e%2===0;me.warnOnce(`\`$isEven\` json operation failed on [${String(e)}] at [${t.join(".")}], expecting a number.`)}function xse([e,t],i){if(typeof e=="number"&&typeof t=="number")return e*t;me.warnOnce(`\`$mul\` json operation failed on [${String(e)}] and [${String(t)}] at [${i.join(".")}], expecting two numbers.`)}function Mse([e],t){if(typeof e=="number")return Math.round(e);me.warnOnce(`\`$round\` json operation failed on [${String(e)}] at [${t.join(".")}], expecting a number.`)}function Dse([e,t],i,s,n,r){const o=Dl(t);if(o&&(t=Gp(o.operation,o.values,s,n,i,r)),!$e(t))return[];const a=Dl(e);return a?(r.matches.set(i.join("."),t),t.map(()=>({[a.operation]:a.values}))):[]}function Rse([e,t],i,s,n,r){const o=Dl(t);if(o&&(t=Gp(o.operation,o.values,s,n,i,r)),!$e(t))return;const a=Dl(e);return a?t.find(l=>Gp(a.operation,a.values,s,l,[],r)):e?t[0]:void 0}function Ese(e){if($e(e)){for(const t of e)if(!bi(t))return;return Je(...e)}}function Ase([e,t]){if(!(!$e(e)||!bi(t)))return Ml(t,e)}function Tse(e,t,i,s,n){var l;if(e!=="$1"&&e!=="$index")return e;const r=t.findLastIndex(d=>!isNaN(Number(d)));if(r===-1)return e;const o=Number(t[r]);if(e==="$index")return o;const a=t.slice(0,r).join(".");return(l=n.matches.get(a))==null?void 0:l.at(o)}function Ise([e],t,i){const s="fontSize";if(Ir(s,i)&&typeof i[s]=="number"&&typeof e=="number")return Math.round(e*i[s]);me.warnOnce(`\`$rem\` json operation failed on [${String(e)}] at [${t.join(".")}], expecting a number.`)}function Lse([e,t,i],s){const n=`\`$mix\` json operation failed on [${String(e)}, ${String(t)}, ${String(i)}] at [${s.join(".")}], expecting`,r=`${n} two colors and a number between 0 and 1.`;if(typeof t!="string"||!jy(i)){me.warnOnce(r);return}if(typeof e=="string")try{return yt.mix(yt.fromString(e),yt.fromString(t),i).toString()}catch{me.warnOnce(r);return}if(!w3(e)){me.warnOnce(r);return}let o=e.colorStops;try{o=o==null?void 0:o.map(a=>{let l;return typeof a.color=="string"&&(l=yt.mix(yt.fromString(a.color),yt.fromString(t),i).toString()),{...a,color:l}})}catch{me.warnOnce(`${n} a gradient, a color and a number between 0 and 1.`);return}return{...e,colorStops:o}}function kse([e],t,i){const s="foregroundColor",n="backgroundColor";if(Ir(s,i)&&Ir(n,i)&&typeof i[s]=="string"&&typeof i[n]=="string"&&jy(e))return yt.mix(yt.fromString(i[s]),yt.fromString(i[n]),e).toString();me.warnOnce(`\`$foregroundBackgroundMix\` json operation failed on [${String(e)}}}] at [${t.join(".")}], expecting a number between 0 and 1.`)}function Pse([e,t],i,s){const n="foregroundColor",r="backgroundColor",o="accentColor";if(Ir(n,s)&&Ir(r,s)&&Ir(o,s)&&typeof s[n]=="string"&&typeof s[r]=="string"&&typeof s[o]=="string"&&jy(e)&&jy(t))return yt.mix(yt.mix(yt.fromString(s[n]),yt.fromString(s[r]),e),yt.fromString(s[o]),t).toString();me.warnOnce(`\`$foregroundBackgroundAccentMix\` json operation failed on [${String(e)}, ${String(t)}}] at [${i.join(".")}], expecting two numbers between 0 and 1.`)}function Ose([e,t]){if(!(!$e(e)||!Qn(t)))return yt.interpolate(e.map(i=>yt.fromString(i)),t).map(i=>i.toString())}var Fse=class{constructor(){this.available=!0,this.acquireQueue=[]}acquire(e){return new Promise(t=>{this.acquireQueue.push([e,t]),this.available&&this.dispatchNext().catch(i=>me.errorOnce(i))})}async acquireImmediately(e){return this.available?(await this.acquire(e),!0):!1}async waitForClearAcquireQueue(){return this.acquire(()=>Promise.resolve(void 0))}async dispatchNext(){this.available=!1;let[e,t]=this.acquireQueue.shift()??[];for(;e;){try{await e(),t==null||t()}catch(i){me.error("mutex callback error",i),t==null||t()}[e,t]=this.acquireQueue.shift()??[]}this.available=!0}},D3=class{constructor(){this.eventListeners=new Map}addEventListener(e,t){if(typeof t!="function")throw new Error("AG Charts - listener must be a Function");const i=this.eventListeners.get(e);i?i.add(t):this.eventListeners.set(e,new Set([t]))}removeEventListener(e,t){const i=this.eventListeners.get(e);i!=null&&(i.delete(t),i.size===0&&this.eventListeners.delete(e))}hasEventListener(e){return this.eventListeners.has(e)}clearEventListeners(){this.eventListeners.clear()}fireEvent(e){var t;(t=this.eventListeners.get(e.type))==null||t.forEach(i=>i(e))}},Pl=class extends Ge{constructor(e=0,t=e,i=e,s=t){super(),this.top=e,this.right=t,this.bottom=i,this.left=s}};R([A()],Pl.prototype,"top",2);R([A()],Pl.prototype,"right",2);R([A()],Pl.prototype,"bottom",2);R([A()],Pl.prototype,"left",2);function Et(e,t){const i=$e(e)?e:e.split(".");if(i.length===1){const[s]=i;return xl((n,r,o)=>n[s]=o,n=>n[s],t)}return xl((s,n,r)=>ER(s,i,r),s=>Ud(s,i),t)}function Nse(e){return xl((t,i,s)=>t[e]=s)}function ss(e,t){return xl((i,s,n)=>i[e][t??s]=n)}function an(e){const{newValue:t,oldValue:i,changeValue:s}=e;return xl((n,r,o,a)=>(o!==a&&(a!==void 0&&(i==null||i.call(n,a)),o!==void 0&&(t==null||t.call(n,o)),s==null||s.call(n,o,a)),o))}function Ol(e){return Q2(e)}function zse(e){return R3((t,i)=>Pt().requestAnimationFrame(t),e)}function Bse(e){return R3((t,i=0)=>{i===0?queueMicrotask(t):setTimeout(t,i)},e)}function R3(e,t){let i=0,s=!1,n,r;const o=()=>s,a=()=>{s=!1,r==null||r(),r=void 0,n=void 0,i>0&&e(l)},l=()=>{const d=i;i=0,s=!0;const h=t({count:d});if(!h){a();return}h.then(a,a)};return{schedule(d){i===0&&!o()&&e(l,d),i++},async await(){if(o())for(n==null&&(n=new Promise(d=>{r=d}));o();)await n}}}function ac(e){return e==="true"}function Gse(e){return Number(e)}function Cr(e){return e}var O0={role:Cr,"aria-checked":ac,"aria-controls":Cr,"aria-describedby":Cr,"aria-disabled":ac,"aria-expanded":ac,"aria-haspopup":ac,"aria-hidden":ac,"aria-label":Cr,"aria-labelledby":Cr,"aria-live":Cr,"aria-orientation":Cr,"aria-selected":ac,"data-preventdefault":ac,class:Cr,id:Cr,tabindex:Gse,title:Cr,placeholder:Cr};function kt(e,t,i){i==null||i===""||i===""?e==null||e.removeAttribute(t):e==null||e.setAttribute(t,i.toString())}function Jc(e,t){if(t!=null)for(const[i,s]of Tr(t))i!=="class"&&kt(e,i,s)}function _C(e,t,i){var n;if(!(e instanceof HTMLElement))return;const s=e.getAttribute(t);return s===null?i:((n=O0[t])==null?void 0:n.call(O0,s))??void 0}function Rr(e,t,i){e!=null&&(i==null?e.style.removeProperty(t):e.style.setProperty(t,i.toString()))}function Hse(e,t){for(const[i,s]of Tr(t))Rr(e,i,s)}var GR=["blur","change","contextmenu","focus","keydown","keyup","click","dblclick","mouseenter","mousemove","mouseleave","wheel","touchstart","touchmove","touchend","touchcancel"];function od(e,t,i){const{offsetX:s,offsetY:n,clientX:r,clientY:o}=t,{currentX:a,currentY:l}=ia.calcCurrentXY(i,t);return{type:e,offsetX:s,offsetY:n,clientX:r,clientY:o,currentX:a,currentY:l,sourceEvent:t}}function xv(e,t,i){return{type:e,sourceEvent:t}}var jse={blur:e=>({type:"blur",sourceEvent:e}),change:e=>({type:"change",sourceEvent:e}),contextmenu:(e,t)=>od("contextmenu",e,t),focus:e=>({type:"focus",sourceEvent:e}),keydown:e=>({type:"keydown",sourceEvent:e}),keyup:e=>({type:"keyup",sourceEvent:e}),click:(e,t)=>od("click",e,t),dblclick:(e,t)=>od("dblclick",e,t),mouseenter:(e,t)=>od("mouseenter",e,t),mousemove:(e,t)=>od("mousemove",e,t),mouseleave:(e,t)=>od("mouseleave",e,t),wheel:e=>{const{offsetX:t,offsetY:i,clientX:s,clientY:n}=e,r=e.deltaMode===0?.01:1,o=e.deltaX*r,a=e.deltaY*r;return{type:"wheel",offsetX:t,offsetY:i,clientX:s,clientY:n,deltaX:o,deltaY:a,sourceEvent:e}},touchstart:(e,t)=>xv("touchstart",e),touchmove:(e,t)=>xv("touchmove",e),touchend:(e,t)=>xv("touchend",e),touchcancel:(e,t)=>xv("touchcancel",e)},ia=class{static alloc(e,t,i){return jse[e](t,i)}static isHTMLEvent(e){return GR.includes(e)}static calcCurrentXY(e,t){const i=e.getBoundingClientRect();return{currentX:t.clientX-i.x,currentY:t.clientY-i.y}}},Vse=class{constructor(){this.widgetListeners={},this.sourceListeners={}}initSourceHandler(e,t){this.sourceListeners??(this.sourceListeners={}),this.sourceListeners[e]=t}lazyGetWidgetListeners(e,t){var i;if(!(e in(this.sourceListeners??{}))){const s=r=>{var a;const o=ia.alloc(e,r,t.getElement());for(const l of((a=this.widgetListeners)==null?void 0:a[e])??[])l(o,t)},n={};e.startsWith("touch")&&(n.passive=!1),this.initSourceHandler(e,s),t.getElement().addEventListener(e,s,n)}return this.widgetListeners??(this.widgetListeners={}),(i=this.widgetListeners)[e]??(i[e]=[]),this.widgetListeners[e]}add(e,t,i){this.lazyGetWidgetListeners(e,t).push(i)}remove(e,t,i){const s=this.lazyGetWidgetListeners(e,t),n=s.indexOf(i);n>-1&&s.splice(n,1)}destroy(e){for(const[t,i]of Tr(this.sourceListeners??{}))e.getElement().removeEventListener(t,i);this.widgetListeners=void 0,this.sourceListeners=void 0}},_se=class{constructor(e,t,i,s){this.glob=e,this.self=t,this.window=Pt(),this.mousegeneral=l=>{l.stopPropagation(),l.stopImmediatePropagation()},this.mousemove=l=>{var d;l.stopPropagation(),l.stopImmediatePropagation(),(d=this.glob.globalMouseDragCallbacks)==null||d.mousemove(l)},this.mouseup=l=>{var d;l.button===0&&(l.stopPropagation(),l.stopImmediatePropagation(),(d=this.glob.globalMouseDragCallbacks)==null||d.mouseup(l),this.destroy())};const{window:n,mousegeneral:r,mousemove:o,mouseup:a}=this;n.addEventListener("mousedown",r,{capture:!0}),n.addEventListener("mouseenter",r,{capture:!0}),n.addEventListener("mouseleave",r,{capture:!0}),n.addEventListener("mouseout",r,{capture:!0}),n.addEventListener("mouseover",r,{capture:!0}),n.addEventListener("mousemove",o,{capture:!0}),n.addEventListener("mouseup",a,{capture:!0}),t.mouseDragger=this,e.globalMouseDragCallbacks=i,e.globalMouseDragCallbacks.mousedown(s)}destroy(){const{window:e,mousegeneral:t,mousemove:i,mouseup:s}=this;e.removeEventListener("mousedown",t,{capture:!0}),e.removeEventListener("mouseenter",t,{capture:!0}),e.removeEventListener("mouseleave",t,{capture:!0}),e.removeEventListener("mouseout",t,{capture:!0}),e.removeEventListener("mouseover",t,{capture:!0}),e.removeEventListener("mousemove",i,{capture:!0}),e.removeEventListener("mouseup",s,{capture:!0}),this.glob.globalMouseDragCallbacks=void 0,this.self.mouseDragger=void 0}};function Wse(e,t,i,s){if(e.globalMouseDragCallbacks==null)return new _se(e,t,i,s)}var Use=500,$se=100;function Yse(e,t){const i=e.clientX-t.clientX,s=e.clientY-t.clientY;return i*i+s*s}var FM=!1,Kse=class{constructor(e,t,i,s,n){this.glob=e,this.self=t,this.initialTouch=s,this.target=n,this.longTapInterrupted=!1,this.longtap=()=>{const{target:a,initialTouch:l}=this;if(!this.longTapInterrupted){a.dispatchEvent(new TouchEvent("touchcancel",{touches:[l],bubbles:!0})),FM=!0;const d=y=>{y.preventDefault()},h=y=>{FM=!1,y.preventDefault(),a.removeEventListener("touchmove",d),a.removeEventListener("touchend",h),a.removeEventListener("touchcancel",h)};a.addEventListener("touchmove",d,{passive:!1}),a.addEventListener("touchend",h,{passive:!1}),a.addEventListener("touchcancel",h,{passive:!1});const{clientX:p,clientY:f}=l,v=new PointerEvent("contextmenu",{bubbles:!0,cancelable:!0,view:Pt(),clientX:p,clientY:f,pointerType:"touch"});a.dispatchEvent(v)}},this.touchmove=a=>{var f;const{glob:l,self:d,initialTouch:h}=this,p=this.findInitialFinger(a.targetTouches);p!=null&&(this.longTapInterrupted=this.longTapInterrupted||Yse(h,p)>$se,d.dragTouchEnabled&&p!=null&&((f=l.globalTouchDragCallbacks)==null||f.touchmove(a,p)))},this.touchend=a=>{var d;this.longTapInterrupted=!0;const l=this.findInitialFinger(a.changedTouches,a.touches);l!=null&&((d=this.glob.globalTouchDragCallbacks)==null||d.touchend(a,l)),this.destroy()},this.longtapTimer=setTimeout(this.longtap,Use);const{touchmove:r,touchend:o}=this;n.addEventListener("touchmove",r,{passive:!1}),n.addEventListener("touchstart",o,{passive:!1}),n.addEventListener("touchend",o,{passive:!1}),n.addEventListener("touchcancel",o,{passive:!1}),t.touchDragger=this,e.globalTouchDragCallbacks=i}destroy(){const{longtapTimer:e,touchmove:t,touchend:i}=this;clearTimeout(e),this.target.removeEventListener("touchstart",i),this.target.removeEventListener("touchmove",t),this.target.removeEventListener("touchend",i),this.target.removeEventListener("touchcancel",i),this.glob.globalTouchDragCallbacks=void 0,this.self.touchDragger=void 0}findInitialFinger(...e){const t=e.map(i=>Array.from(i)).flat();return Array.from(t).find(i=>i.identifier===this.initialTouch.identifier)}};function qse(e,t,i,s,n){if(!(e.globalTouchDragCallbacks!=null||FM))return new Kse(e,t,i,s,n)}function F0(e,t,i,s){const{currentX:n,currentY:r}=ia.calcCurrentXY(e.getElement(),s),o=s.pageX-i.pageX,a=s.pageY-i.pageY;return{type:t,device:"mouse",offsetX:i.offsetX+o,offsetY:i.offsetY+a,clientX:s.clientX,clientY:s.clientY,currentX:n,currentY:r,originDeltaX:o,originDeltaY:a,sourceEvent:s}}function Zse(e,{pageX:t,pageY:i}){const{x:s,y:n}=e.getElement().getBoundingClientRect();return{offsetX:t-s,offsetY:i-n}}function N0(e,t,i,s,n){const{currentX:r,currentY:o}=ia.calcCurrentXY(e.getElement(),n),a=n.pageX-i.pageX,l=n.pageY-i.pageY;return{type:t,device:"touch",offsetX:i.offsetX+a,offsetY:i.offsetY+l,clientX:n.clientX,clientY:n.clientY,currentX:r,currentY:o,originDeltaX:a,originDeltaY:l,sourceEvent:s}}var nP={},rP=class{constructor(e){this.dispatchCallback=e,this.dragTouchEnabled=!0}destroy(){var e,t,i;(e=this.dragTriggerRemover)==null||e.call(this),this.dragTriggerRemover=void 0,this.dragStartListeners=void 0,this.dragMoveListeners=void 0,this.dragEndListeners=void 0,(t=this.mouseDragger)==null||t.destroy(),(i=this.touchDragger)==null||i.destroy()}add(e,t,i){switch(e){case"drag-start":{this.dragStartListeners??(this.dragStartListeners=[]),this.dragStartListeners.push(i),this.registerDragTrigger(t);break}case"drag-move":{this.dragMoveListeners??(this.dragMoveListeners=[]),this.dragMoveListeners.push(i),this.registerDragTrigger(t);break}case"drag-end":{this.dragEndListeners??(this.dragEndListeners=[]),this.dragEndListeners.push(i),this.registerDragTrigger(t);break}}}remove(e,t,i){switch(e){case"drag-start":return this.removeHandler(this.dragStartListeners,i);case"drag-move":return this.removeHandler(this.dragMoveListeners,i);case"drag-end":return this.removeHandler(this.dragEndListeners,i)}}removeHandler(e,t){const i=e==null?void 0:e.indexOf(t);i!==void 0&&(e==null||e.splice(i,1))}registerDragTrigger(e){if(this.dragTriggerRemover==null){const t=s=>this.triggerMouseDrag(e,s),i=s=>this.triggerTouchDrag(e,s);e.getElement().addEventListener("mousedown",t),e.getElement().addEventListener("touchstart",i,{passive:!1}),this.dragTriggerRemover=()=>{e.getElement().removeEventListener("mousedown",t),e.getElement().removeEventListener("touchstart",i)}}}triggerMouseDrag(e,t){t.button===0&&this.startMouseDrag(e,t)}startMouseDrag(e,t){const i={pageX:NaN,pageY:NaN,offsetX:NaN,offsetY:NaN};IM(["pageX","pageY","offsetX","offsetY"],i,t);const s={mousedown:n=>{const r=F0(e,"drag-start",i,n);this.dispatch("drag-start",e,r)},mousemove:n=>{const r=F0(e,"drag-move",i,n);this.dispatch("drag-move",e,r)},mouseup:n=>{const r=F0(e,"drag-end",i,n);this.dispatch("drag-end",e,r),this.endDrag(e,r)}};this.mouseDragger=Wse(nP,this,s,t)}endDrag(e,{sourceEvent:t,clientX:i,clientY:s}){var o;const n=e.getElement(),r=n.getBoundingClientRect();LC.containsPoint(r,i,s)||(n.dispatchEvent(new MouseEvent("mouseleave",t)),(o=t.target)==null||o.dispatchEvent(new MouseEvent("mouseenter",t)))}triggerTouchDrag(e,t){const i=t.targetTouches[0];t.targetTouches.length===1&&i!=null&&this.startOneFingerTouch(e,t,i)}startOneFingerTouch(e,t,i){const s={pageX:NaN,pageY:NaN,...Zse(e,i)};IM(["pageX","pageY"],s,i);const n={touchmove:(a,l)=>{const d=N0(e,"drag-move",s,a,l);this.dispatch("drag-move",e,d)},touchend:(a,l)=>{const d=N0(e,"drag-end",s,a,l);this.dispatch("drag-end",e,d)}},r=e.getElement();this.touchDragger=qse(nP,this,n,i,r);const o=N0(e,"drag-start",s,t,i);this.dispatch("drag-start",e,o)}dispatch(e,t,i){var s,n,r;switch(e){case"drag-start":(s=this.dragStartListeners)==null||s.forEach(o=>o(i,t));break;case"drag-move":(n=this.dragMoveListeners)==null||n.forEach(o=>o(i,t));break;case"drag-end":(r=this.dragEndListeners)==null||r.forEach(o=>o(i,t));break}this.dispatchCallback(e,i)}},Xse=class{constructor(e){this.elem=e}setBounds(e){Gy(this.elemContainer??this.elem,e)}getBounds(){return C3(this.elemContainer??this.elem)}static setElementContainer(e,t){const i=e.getBounds();Gy(t,i),Hse(e.elem,{width:"100%",height:"100%"}),e.elem.remove(),e.elemContainer=t,e.elemContainer.replaceChildren(e.elem)}},Eo=class extends Xse{constructor(e){super(e),this.elem=e,this.index=NaN,this.children=[]}getElement(){return this.elem}getBoundingClientRect(){return this.elem.getBoundingClientRect()}get clientWidth(){return this.elem.clientWidth}get clientHeight(){return this.elem.clientHeight}destroy(){var e,t,i,s;(e=this.parent)==null||e.removeChild(this),this.children.forEach(n=>{n.parent=void 0,n.destroy()}),this.children.length=0,this.destructor(),this.elem.remove(),(t=this.elemContainer)==null||t.remove(),(i=this.internalListener)==null||i.destroy(),(s=this.htmlListener)==null||s.destroy(this)}setHidden(e){Rr(this.elem,"display",e?"none":void 0)}isHidden(){var e,t;return((t=(e=Pt())==null?void 0:e.getComputedStyle)==null?void 0:t.call(e,this.elem).display)==="none"}setCursor(e){Rr(this.elem,"cursor",e)}setTextContent(e){this.elem.textContent=e??null}setAriaDescribedBy(e){kt(this.elem,"aria-describedby",e)}setAriaHidden(e){kt(this.elem,"aria-hidden",e)}setAriaLabel(e){kt(this.elem,"aria-label",e)}setInnerHTML(e){this.elem.innerHTML=e}isDisabled(){return _C(this.elem,"aria-disabled",!1)}parseFloat(e){return e===""?0:parseFloat(e)}cssLeft(){return this.parseFloat(this.elem.style.left)}cssTop(){return this.parseFloat(this.elem.style.top)}cssWidth(){return this.parseFloat(this.elem.style.width)}cssHeight(){return this.parseFloat(this.elem.style.height)}focus(){this.elem.focus()}setPreventsDefault(e){kt(this.elem,"data-preventdefault",e)}setTabIndex(e){kt(this.elem,"tabindex",e)}addChild(e){this.addChildToDOM(e,this.getBefore(e)),this.children.push(e),e.index=this.children.length-1,e.parent=this,this.onChildAdded(e)}removeChild(e){const t=this.children.findIndex(i=>i===e);this.children.splice(t,1),this.removeChildFromDOM(e),this.onChildRemoved(e)}moveChild(e,t){e.domIndex!==t&&(e.domIndex=t,this.removeChildFromDOM(e),this.addChildToDOM(e,this.getBefore(e)))}addClass(...e){this.elem.classList.add(...e)}removeClass(...e){this.elem.classList.remove(...e)}toggleClass(e,t){this.elem.classList.toggle(e,t)}appendOrInsert(e,t){t?t.getElement().insertAdjacentElement("beforebegin",e):this.elem.appendChild(e)}addChildToDOM(e,t){this.appendOrInsert(e.getElement(),t)}removeChildFromDOM(e){this.elem.removeChild(e.getElement())}onChildAdded(e){}onChildRemoved(e){}getBefore({domIndex:e}){if(e!==void 0)return this.children.filter(t=>t.domIndex!==void 0&&t.domIndex>e).reduce((t,i)=>!t||i.domIndex<t.domIndex?i:t,void 0)}addListener(e,t){return ia.isHTMLEvent(e)?(this.htmlListener??(this.htmlListener=new Vse),this.htmlListener.add(e,this,t)):(this.internalListener??(this.internalListener=new rP(this.onDispatch.bind(this))),this.internalListener.add(e,this,t)),()=>this.removeListener(e,t)}removeListener(e,t){var i,s;ia.isHTMLEvent(e)?(i=this.htmlListener)==null||i.remove(e,this,t):this.htmlListener!=null&&((s=this.internalListener)==null||s.remove(e,this,t))}setDragTouchEnabled(e){this.internalListener??(this.internalListener=new rP(this.onDispatch.bind(this))),this.internalListener.dragTouchEnabled=e}onDispatch(e,t){if(!t.sourceEvent.bubbles)return;let{parent:i}=this;for(;i!=null;){const{internalListener:s}=i;if(s!=null){const n={...t,...ia.calcCurrentXY(i.getElement(),t)};s.dispatch(e,i,n)}i=i.parent}}static addWindowEvent(e,t){const i=s=>{s.persisted||t()};return Pt().addEventListener("pagehide",i),()=>Pt().removeEventListener("pagehide",i)}};function Qse(e=0,t=0){return new OffscreenCanvas(e,t).getContext("2d")}var HR=class{constructor(e=5){this.maxCacheSize=e,this.store=new Map}get(e){if(!this.store.has(e))return;const t=this.store.get(e);return this.store.delete(e),this.store.set(e,t),t}has(e){return this.store.has(e)}set(e,t){if(this.store.set(e,t),this.store.size>this.maxCacheSize){const i=this.store.keys();let s=this.store.size-this.maxCacheSize;for(;s>0;){const n=i.next();n.done||this.store.delete(n.value),s--}}return t}clear(){this.store.clear()}},fa=class{static measureText(e,t){return this.getMeasurer(t).measureText(e)}static measureLines(e,t){return this.getMeasurer(t).measureLines(e)}static getMeasurer(e){const t=typeof e.font=="string"?e.font:Wt.toFontString(e.font),i=`${t}-${e.textAlign??"start"}-${e.textBaseline??"alphabetic"}`;return this.instanceMap.get(i)??this.createFontMeasurer(t,e,i)}static createFontMeasurer(e,t,i){const s=Qse();s.font=e,s.textAlign=t.textAlign??"start",s.textBaseline=t.textBaseline??"alphabetic";const n=new E3(s,t);return this.instanceMap.set(i,n),n}};fa.instanceMap=new HR(10);var E3=class{constructor(e,t){this.ctx=e,this.measureMap=new HR(100),t.textAlign&&(e.textAlign=t.textAlign),t.textBaseline&&(e.textBaseline=t.textBaseline),e.font=typeof t.font=="string"?t.font:Wt.toFontString(t.font),this.textMeasurer=new jR(i=>this.cachedCtxMeasureText(i),t.textBaseline??"alphabetic")}textWidth(e,t){return this.textMeasurer.textWidth(e,t)}measureText(e){return this.textMeasurer.measureText(e)}measureLines(e){return this.textMeasurer.measureLines(e)}cachedCtxMeasureText(e){if(!this.measureMap.has(e)){const t=this.ctx.measureText(e);this.measureMap.set(e,{actualBoundingBoxAscent:t.actualBoundingBoxAscent,emHeightAscent:t.emHeightAscent,emHeightDescent:t.emHeightDescent,actualBoundingBoxDescent:t.actualBoundingBoxDescent,actualBoundingBoxLeft:t.actualBoundingBoxLeft,actualBoundingBoxRight:t.actualBoundingBoxRight,alphabeticBaseline:t.alphabeticBaseline,fontBoundingBoxAscent:t.fontBoundingBoxAscent,fontBoundingBoxDescent:t.fontBoundingBoxDescent,hangingBaseline:t.hangingBaseline,ideographicBaseline:t.ideographicBaseline,width:t.width})}return this.measureMap.get(e)}},Wt=class{static toFontString({fontSize:e=10,fontStyle:t,fontWeight:i,fontFamily:s,lineHeight:n}){let r="";return t&&(r+=`${t} `),i&&(r+=`${i} `),r+=`${e}px`,n&&(r+=`/${n}px`),r+=` ${s}`,r.trim()}static getLineHeight(e){return Math.ceil(e*this.defaultLineHeight)}static getVerticalModifier(e){switch(e){case"hanging":case"top":return 0;case"middle":return .5;case"alphabetic":case"bottom":case"ideographic":default:return 1}}};Wt.EllipsisChar="";Wt.defaultLineHeight=1.15;Wt.lineSplitter=/\r?\n/g;var jR=class{constructor(e,t="alphabetic"){this.measureTextFn=e,this.textBaseline=t,this.charMap=new Map}getMetrics(e){const t=this.measureTextFn(e);return t.fontBoundingBoxAscent??(t.fontBoundingBoxAscent=t.emHeightAscent),t.fontBoundingBoxDescent??(t.fontBoundingBoxDescent=t.emHeightDescent),{width:t.width,height:t.actualBoundingBoxAscent+t.actualBoundingBoxDescent,lineHeight:t.fontBoundingBoxAscent+t.fontBoundingBoxDescent,offsetTop:t.actualBoundingBoxAscent,offsetLeft:t.actualBoundingBoxLeft}}getMultilineMetrics(e){let t=0,i=0,s=0,n=0,r=0;const o=Wt.getVerticalModifier(this.textBaseline),a=[];let l=0;const d=e.length;for(const h of e){const p=this.measureTextFn(h);p.fontBoundingBoxAscent??(p.fontBoundingBoxAscent=p.emHeightAscent),p.fontBoundingBoxDescent??(p.fontBoundingBoxDescent=p.emHeightDescent),t<p.width&&(t=p.width),n<p.actualBoundingBoxLeft&&(n=p.actualBoundingBoxLeft),l===0?(i+=p.actualBoundingBoxAscent,s+=p.actualBoundingBoxAscent):r+=p.fontBoundingBoxAscent,l===d-1?i+=p.actualBoundingBoxDescent:r+=p.fontBoundingBoxDescent,a.push({text:h,width:p.width,height:p.actualBoundingBoxAscent+p.actualBoundingBoxDescent,lineHeight:p.fontBoundingBoxAscent+p.fontBoundingBoxDescent,offsetTop:p.actualBoundingBoxAscent,offsetLeft:p.actualBoundingBoxLeft}),l++}return i+=r,s+=r*o,{width:t,height:i,offsetTop:s,offsetLeft:n,lineMetrics:a}}textWidth(e,t){if(t){let i=0;for(let s=0;s<e.length;s++)i+=this.textWidth(e.charAt(s));return i}return e.length>1?this.measureTextFn(e).width:this.charMap.get(e)??this.charWidth(e)}measureText(e){return this.getMetrics(e)}measureLines(e){const t=typeof e=="string"?e.split(Wt.lineSplitter):e;return this.getMultilineMetrics(t)}charWidth(e){const{width:t}=this.measureTextFn(e);return this.charMap.set(e,t),t}},In=class Kv extends cr{constructor(){super(...arguments),this.x=0,this.y=0,this.lines=[],this.text=void 0,this.fontSize=10,this.fontFamily="sans-serif",this.textAlign=Kv.defaultStyles.textAlign,this.textBaseline=Kv.defaultStyles.textBaseline}onTextChange(){var t;this.lines=((t=this.text)==null?void 0:t.split(`
`).map(i=>i.trim()))??[]}static computeBBox(t,i,s,n){const{offsetTop:r,offsetLeft:o,width:a,height:l}=fa.measureLines(t,n);return new De(i-o,s-r,a,l)}computeBBox(){const{x:t,y:i,lines:s,textBaseline:n,textAlign:r}=this;return Kv.computeBBox(s,t,i,{font:this,textBaseline:n,textAlign:r})}isPointInPath(t,i){const s=this.getBBox();return s?s.containsPoint(t,i):!1}render(t){const{ctx:i,stats:s}=t;if(!this.lines.length||!this.layerManager)return s&&(s.nodesSkipped+=1),super.render(t);const{fill:n,stroke:r,strokeWidth:o}=this,{pixelRatio:a}=this.layerManager.canvas;if(!n&&!(r!=null&&o>0))return super.render(t);const l=Wt.toFontString(this);if(i.font!==l&&(i.font=l),i.textAlign=this.textAlign,i.textBaseline=this.textBaseline,n){this.applyFill(i),i.globalAlpha*=this.opacity*this.fillOpacity;const{fillShadow:d}=this;d!=null&&d.enabled&&(i.shadowColor=d.color,i.shadowOffsetX=d.xOffset*a,i.shadowOffsetY=d.yOffset*a,i.shadowBlur=d.blur*a),this.renderLines((h,p,f)=>i.fillText(h,p,f))}if(r&&o){this.applyStroke(i),i.lineWidth=o,i.globalAlpha*=this.opacity*this.strokeOpacity;const{lineDash:d,lineDashOffset:h,lineCap:p,lineJoin:f}=this;d&&i.setLineDash(d),h&&(i.lineDashOffset=h),p&&(i.lineCap=p),f&&(i.lineJoin=f),this.renderLines((v,y,S)=>i.strokeText(v,y,S))}super.render(t)}renderLines(t){const{lines:i,x:s,y:n}=this,r=this.lineHeight??Wt.getLineHeight(this.fontSize);let o=(r-r*i.length)*Wt.getVerticalModifier(this.textBaseline);for(const a of i)t(a,s,n+o),o+=r}setFont(t){this.fontFamily=t.fontFamily,this.fontSize=t.fontSize,this.fontStyle=t.fontStyle,this.fontWeight=t.fontWeight}setAlign(t){this.textAlign=t.textAlign,this.textBaseline=t.textBaseline}toSVG(){var i;if(!this.visible||!this.text)return;const t=Ji("text");return this.applySvgFillAttributes(t),t.setAttribute("font-family",((i=this.fontFamily)==null?void 0:i.split(",")[0])??""),t.setAttribute("font-size",String(this.fontSize)),t.setAttribute("font-style",this.fontStyle??""),t.setAttribute("font-weight",String(this.fontWeight??"")),t.setAttribute("text-anchor",{center:"middle",left:"start",right:"end",start:"start",end:"end"}[this.textAlign??"start"]),t.setAttribute("alignment-baseline",{alphabetic:"alphabetic",top:"top",bottom:"bottom",hanging:"hanging",middle:"middle",ideographic:"ideographic"}[this.textBaseline??"alphabetic"]),t.setAttribute("x",String(this.x)),t.setAttribute("y",String(this.y)),t.textContent=this.text??"",{elements:[t]}}};In.className="Text";In.defaultStyles={...cr.defaultStyles,textAlign:"start",fontStyle:void 0,fontWeight:void 0,fontSize:10,fontFamily:"sans-serif",textBaseline:"alphabetic"};R([Re()],In.prototype,"x",2);R([Re()],In.prototype,"y",2);R([Re({changeCb:e=>e.onTextChange()})],In.prototype,"text",2);R([Re()],In.prototype,"fontStyle",2);R([Re()],In.prototype,"fontWeight",2);R([Re()],In.prototype,"fontSize",2);R([Re()],In.prototype,"fontFamily",2);R([Re()],In.prototype,"textAlign",2);R([Re()],In.prototype,"textBaseline",2);R([Re()],In.prototype,"lineHeight",2);var Vi=In,A3=class extends mh(Vi){},Yd=class extends mh(au(Vi)){},VR=class{static wrapText(e,t){return this.wrapLines(e,t).join(`
`)}static wrapLines(e,t){const i=this.textWrap(e,t);return t.overflow==="hide"&&i.some(s=>s.endsWith(Wt.EllipsisChar))?[]:i}static appendEllipsis(e){return e.replace(/[.,]{1,5}$/,"")+Wt.EllipsisChar}static truncateLine(e,t,i,s){const n=t.textWidth(Wt.EllipsisChar);let r=0,o=0;for(;o<e.length;o++){const a=t.textWidth(e.charAt(o));if(r+a>i)break;r+=a}if(e.length===o&&(!s||r+n<=i))return s?e+Wt.EllipsisChar:e;for(e=e.slice(0,o).trimEnd();e.length&&t.textWidth(e)+n>i;)e=e.slice(0,-1).trimEnd();return e+Wt.EllipsisChar}static textWrap(e,t){const i=e.split(Wt.lineSplitter),s=fa.getMeasurer(t);if(t.textWrap==="never")return i.map(a=>this.truncateLine(a.trimEnd(),s,t.maxWidth));const n=[],r=t.textWrap==="hyphenate",o=t.textWrap==null||t.textWrap==="on-space";for(const a of i){let l=a.trimEnd();if(l===""){n.push(l);continue}let d=0,h=0,p=0;for(;d<l.length;){const f=l.charAt(d);if(h+=s.textWidth(f),f===" "&&(p=d),h>t.maxWidth){if(d===0)break;const v=s.textWidth(l.slice(0,d+1));if(v<=t.maxWidth){h=v,d++;continue}if(p){const w=this.getWordAt(l,p+1),b=s.textWidth(w);if(b<=t.maxWidth){n.push(l.slice(0,p).trimEnd()),l=l.slice(p).trimStart(),d=0,h=0,p=0;continue}else o&&b>t.maxWidth&&n.push(l.slice(0,p).trimEnd(),this.truncateLine(l.slice(p).trimStart(),s,t.maxWidth,!0))}else o&&n.push(this.truncateLine(l,s,t.maxWidth,!0));if(o){l="";break}const y=r?"-":"";let S=l.slice(0,d).trim();for(;S.length&&s.textWidth(S+y)>t.maxWidth;)S=S.slice(0,-1).trimEnd();if(n.push(S+y),!S.length){l="";break}l=l.slice(S.length).trimStart(),d=-1,h=0,p=0}d++}l&&n.push(l)}return this.avoidOrphans(n,s,t),this.clipLines(n,s,t)}static getWordAt(e,t){const i=e.indexOf(" ",t);return i===-1?e.slice(t):e.slice(t,i)}static clipLines(e,t,i){if(!i.maxHeight)return e;const{height:s,lineMetrics:n}=t.measureLines(e);if(s<=i.maxHeight)return e;for(let r=0,o=0;r<n.length;r++){const{lineHeight:a}=n[r];if(o+=a,o>i.maxHeight){if(i.overflow==="hide")return[];const l=e.slice(0,r||1),d=l.pop();return l.concat(this.truncateLine(d,t,i.maxWidth,!0))}}return e}static avoidOrphans(e,t,i){if(i.avoidOrphans===!1||e.length<2)return;const{length:s}=e,n=e[s-1],r=e[s-2];if(r.length<n.length)return;const o=r.lastIndexOf(" ");if(o===-1||o===r.indexOf(" ")||n.includes(" "))return;const a=r.slice(o+1);t.textWidth(n+a)<=i.maxWidth&&(e[s-2]=r.slice(0,o),e[s-1]=a+" "+n)}},Kt=class extends Ge{constructor(){super(...arguments),this.id=En(this),this.node=new A3({zIndex:1}).setProperties({textAlign:"center",pointerEvents:1}),this.enabled=!1,this.textAlign="center",this.fontSize=10,this.fontFamily="sans-serif",this.wrapping="always",this.padding=0,this.layoutStyle="block",this.truncated=!1}registerInteraction(e,t){return e.layoutManager.addListener("layout:complete",()=>this.updateA11yText(e,t))}computeTextWrap(e,t){const{text:i,padding:s,wrapping:n}=this,r=Math.min(this.maxWidth??1/0,e)-s*2,o=this.maxHeight??t-s*2;if(!isFinite(r)&&!isFinite(o)){this.node.text=i;return}const a=VR.wrapText(i??"",{maxWidth:r,maxHeight:o,font:this,textWrap:n});this.node.text=a,this.truncated=a.includes(Wt.EllipsisChar)}updateA11yText(e,t){var s;const{proxyInteractionService:i}=e;if(this.enabled&&this.text){const n=hi.toCanvas(this.node);if(n){const{id:r}=this;this.proxyText??(this.proxyText=i.createProxyElement({type:"text",domManagerId:r,where:t})),this.proxyText.textContent=this.text,this.proxyText.setBounds(n),this.proxyText.addListener("mousemove",o=>this.handleMouseMove(e,o)),this.proxyText.addListener("mouseleave",o=>this.handleMouseLeave(e,o))}}else(s=this.proxyText)==null||s.destroy(),this.proxyText=void 0}handleMouseMove(e,t){if(t!=null&&this.enabled&&this.node.visible&&this.truncated){const{x:i,y:s}=hi.toCanvas(this.node),n=t.sourceEvent.offsetX+i,r=t.sourceEvent.offsetY+s;e.tooltipManager.updateTooltip(this.id,{canvasX:n,canvasY:r,showArrow:!1},[{type:"structured",title:this.text}])}}handleMouseLeave(e,t){e.tooltipManager.removeTooltip(this.id)}};Kt.SMALL_PADDING=10;R([A(),ss("node","visible")],Kt.prototype,"enabled",2);R([A(),ss("node")],Kt.prototype,"text",2);R([A(),ss("node")],Kt.prototype,"textAlign",2);R([A(),ss("node")],Kt.prototype,"fontStyle",2);R([A(),ss("node")],Kt.prototype,"fontWeight",2);R([A(),ss("node")],Kt.prototype,"fontSize",2);R([A(),ss("node")],Kt.prototype,"fontFamily",2);R([A(),ss("node","fill")],Kt.prototype,"color",2);R([A()],Kt.prototype,"spacing",2);R([A()],Kt.prototype,"maxWidth",2);R([A()],Kt.prototype,"maxHeight",2);R([A()],Kt.prototype,"wrapping",2);R([A()],Kt.prototype,"padding",2);R([A()],Kt.prototype,"layoutStyle",2);var _R=(e=>(e.X="x",e.Y="y",e))(_R||{}),WR=(e=>(e[e.Caption=0]="Caption",e[e.Legend=1]="Legend",e[e.ToolbarLeft=2]="ToolbarLeft",e[e.ToolbarBottom=3]="ToolbarBottom",e[e.Navigator=4]="Navigator",e[e.Overlay=5]="Overlay",e))(WR||{}),T3=class{constructor(){this.events=new fR,this.elements=new Map}addListener(e,t){return this.events.on(e,t)}registerElement(e,t){return this.elements.has(e)?this.elements.get(e).add(t):this.elements.set(e,new Set([t])),()=>{var i;return(i=this.elements.get(e))==null?void 0:i.delete(t)}}createContext(e,t){var s;const i=new Jse(e,t);for(const n of Object.values(WR))typeof n=="number"&&((s=this.elements.get(n))==null||s.forEach(r=>r(i)));return i}emitLayoutComplete(e,t){const i="layout:complete",{width:s,height:n}=e;this.events.emit(i,{type:i,axes:t.axes??[],chart:{width:s,height:n},clipSeries:t.clipSeries??!1,series:t.series})}},Jse=class{constructor(e,t){this.width=e,this.height=t,this.layoutBox=new De(0,0,e,t)}},WC=class{constructor(){this.title=new Kt,this.subtitle=new Kt,this.footnote=new Kt}positionCaptions(e){const{title:t,subtitle:i,footnote:s}=this,n=e.layoutBox.height/10;if(t.enabled){const{spacing:r}=t;this.positionCaption("top",t,e.layoutBox,n),this.shrinkLayoutByCaption("top",t,e.layoutBox,r)}i.enabled&&(this.positionCaption("top",i,e.layoutBox,n),this.shrinkLayoutByCaption("top",i,e.layoutBox,i.spacing)),s.enabled&&(this.positionCaption("bottom",s,e.layoutBox,n),this.shrinkLayoutByCaption("bottom",s,e.layoutBox,s.spacing))}positionAbsoluteCaptions(e){const{title:t,subtitle:i,footnote:s}=this,{rect:n}=e.series;for(const r of[t,i,s])if(r.layoutStyle==="overlay"){if(r.textAlign==="left")r.node.x=n.x+r.padding;else if(r.textAlign==="right"){const o=r.node.getBBox();r.node.x=n.x+n.width-o.width-r.padding}}}computeX(e,t){return e==="left"?t.x:e==="right"?t.x+t.width:t.x+t.width/2}positionCaption(e,t,i,s){const n=Math.max(Wt.getLineHeight(t.fontSize),s);t.node.x=this.computeX(t.textAlign,i)+t.padding,t.node.y=i.y+(e==="top"?0:i.height)+t.padding,t.node.textBaseline=e,t.computeTextWrap(i.width,n)}shrinkLayoutByCaption(e,t,i,s=0){if(t.layoutStyle==="block"){const n=t.node.getBBox();i.shrink(Math.ceil(e==="top"?n.y-i.y+n.height+s:i.y+i.height-n.y+s),e)}}};R([A()],WC.prototype,"title",2);R([A()],WC.prototype,"subtitle",2);R([A()],WC.prototype,"footnote",2);var ene=["candlestick","hollow-candlestick","ohlc","line","step-line","hlc","high-low"],tne=class{constructor(e){this.chartService=e,this.mementoOriginatorKey="chartType"}createMemento(){var t,i;let e=(i=(t=this.chartService.publicApi)==null?void 0:t.getOptions())==null?void 0:i.chartType;return e==null&&(e="candlestick"),e}guardMemento(e){return e==null||ene.includes(e)}restoreMemento(e,t,i){var n;if(i==null)return;const s={chartType:i};(n=this.chartService.publicApi)==null||n.updateDelta(s).catch(r=>me.error("error restoring state",r))}},I3=class{constructor(){this.destroyFns=[]}destroy(){this.destroyFns.forEach(e=>e()),this.destroyFns.length=0}setFns(e){this.destroy(),this.destroyFns=e}push(...e){this.destroyFns.push(...e)}},_y="11.2.4",oP=Symbol("previous-memento-not-found"),ine=class{constructor(e){this.history=[],this.historyIndex=-1,this.originators=new Map,this.clearState=new Map,this.maxHistoryLength=100,this.debug=ht.create(!0,"history"),this.destroyFns=new I3,this.destroyFns.setFns([e.addListener("series-undo",this.undo.bind(this)),e.addListener("series-redo",this.redo.bind(this))])}destroy(){this.destroyFns.destroy()}addMementoOriginator(e){this.originators.set(e.mementoOriginatorKey,e),this.clearState.set(e.mementoOriginatorKey,e.createMemento()),this.debugEvent("History add originator:",e.mementoOriginatorKey)}clear(){this.debug("History clear:",Object.keys(this.originators)),this.history=[],this.historyIndex=-1;for(const[e,t]of this.originators.entries())this.clearState.set(e,t.createMemento())}record(e,...t){this.historyIndex<this.history.length-1&&(this.history=this.history.slice(0,this.historyIndex+1)),this.history.length>this.maxHistoryLength&&(this.history=this.history.slice(-this.maxHistoryLength));const i=new Map;for(const s of t){if(!this.originators.has(s.mementoOriginatorKey))throw new Error(`Originator [${s.mementoOriginatorKey}] has not been added to the HistoryManager.`);i.set(s.mementoOriginatorKey,s.createMemento())}this.history.push({label:e,mementos:i}),this.historyIndex=this.history.length-1,this.debugEvent(`History record: [${e}]`)}undo(){const e=this.history[this.historyIndex];if(e){for(const t of e.mementos.keys()){const i=this.findPreviousMemento(t);if(i===oP)throw new Error(`Could not find previous memento for [${t}].`);this.restoreMemento(t,i)}this.historyIndex-=1,this.debugEvent(`History undo: [${e.label}]`)}}redo(){const e=this.history[this.historyIndex+1];if(e){for(const[t,i]of e.mementos.entries())this.restoreMemento(t,i);this.historyIndex+=1,this.debugEvent(`History redo: [${e.label}]`)}}findPreviousMemento(e){for(let t=this.historyIndex-1;t>=0;t--)if(this.history[t].mementos.has(e))return this.history[t].mementos.get(e);return this.clearState.has(e)?this.clearState.get(e):oP}restoreMemento(e,t){var i;(i=this.originators.get(e))==null||i.restoreMemento(_y,_y,t)}debugEvent(...e){this.debug(...e,this.history.map((t,i)=>i===this.historyIndex?`** ${t.label} **`:t.label))}},L3=class NM{constructor(t){this.version=t.split("-")[0]}save(...t){const i={version:this.version};for(const s of Object.values(t))i[s.mementoOriginatorKey]=this.encode(s,s.createMemento());return i}restore(t,...i){if(typeof t!="object"){me.warnOnce(`Could not restore data of type [${typeof t}], expecting an object, ignoring.`);return}if(t==null){me.warnOnce("Could not restore data of type [null], expecting an object, ignoring.");return}if(!("version"in t)||typeof t.version!="string"){me.warnOnce("Could not restore data, missing [version] string in object, ignoring.");return}for(const s of i){const n=this.decode(s,t[s.mementoOriginatorKey]),r=[];if(!s.guardMemento(n,r)){const o=r.length>0?`

${r.join(`

`)}

`:"";me.warnOnce(`Could not restore [${s.mementoOriginatorKey}] data, value was invalid, ignoring.${o}`,n);return}s.restoreMemento(this.version,t.version,n)}}encode(t,i){try{return JSON.parse(JSON.stringify(i,NM.encodeTypes))}catch(s){throw new Error(`Failed to encode [${t.mementoOriginatorKey}] value [${s}].`,{cause:s})}}decode(t,i){if(i==null)return i;try{return JSON.parse(JSON.stringify(i),NM.decodeTypes)}catch(s){throw new Error(`Failed to decode [${t.mementoOriginatorKey}] value [${s}].`,{cause:s})}}static encodeTypes(t,i){return gh(this[t])?{__type:"date",value:this[t].toISOString()}:i}static decodeTypes(t,i){return Ci(this[t])&&"__type"in this[t]&&this[t].__type==="date"?new Date(this[t].value):i}},sne=class{constructor(){this.caretaker=new L3(_y),this.state=new Map}setState(e,t){mo(this.state.get(e.mementoOriginatorKey),t)||this.setStateAndRestore(e,t)}setStateAndRestore(e,t){this.state.set(e.mementoOriginatorKey,t),this.restoreState(e)}restoreState(e){const{caretaker:t,state:i}=this;if(!i.has(e.mementoOriginatorKey))return;const s=i.get(e.mementoOriginatorKey);t.restore({version:t.version,[e.mementoOriginatorKey]:s},e)}},nne=`.ag-charts-wrapper,.ag-charts-wrapper:after,.ag-charts-wrapper:before,.ag-charts-wrapper *,.ag-charts-wrapper *:after,.ag-charts-wrapper *:before{box-sizing:border-box}.ag-charts-wrapper{--align-items: center;--justify-content: center;position:relative;user-select:none;-webkit-user-select:none;-webkit-tap-highlight-color:rgba(0,0,0,0)}.ag-charts-wrapper--safe-horizontal{--justify-content: flex-start}.ag-charts-wrapper--safe-vertical{--align-items: flex-start}.ag-charts-tab-guard{width:0%;height:0%;position:absolute;pointer-events:none}.ag-charts-canvas-center{width:100%;height:100%;position:absolute;touch-action:auto;pointer-events:auto;display:flex;align-items:var(--align-items);justify-content:var(--justify-content)}.ag-charts-canvas-container,.ag-charts-canvas{position:relative;user-select:none;-webkit-user-select:none}.ag-charts-canvas-container>*,.ag-charts-canvas>*{pointer-events:none}.ag-charts-canvas canvas{display:block}.ag-charts-series-area{outline:none;pointer-events:auto;position:absolute}.ag-charts-swapchain{top:0;left:0;outline:none;opacity:0;pointer-events:none;position:absolute;width:100%;height:100%}.ag-charts-swapchain:focus-visible{opacity:1}.ag-charts-canvas-proxy,.ag-charts-canvas-overlay{inset:0;pointer-events:none;position:absolute;user-select:none;-webkit-user-select:none}.ag-charts-canvas-overlay>*{position:absolute;pointer-events:auto}.ag-charts-theme-default,.ag-charts-theme-default-dark{--ag-charts-accent-color: #2196f3;--ag-charts-background-color: #fff;--ag-charts-border-color: #dddddd;--ag-charts-foreground-color: #464646;--ag-charts-font-family: Verdana, sans-serif;--ag-charts-font-size: 12px;--ag-charts-font-weight: 400;--ag-charts-padding: 20px;--ag-charts-shadow-color: #00000080;--ag-charts-subtle-text-color: #8c8c8c;--ag-charts-text-color: #464646;--ag-charts-chrome-background-color: #fafafa;--ag-charts-chrome-font-family: Verdana, sans-serif;--ag-charts-chrome-font-size: 12px;--ag-charts-chrome-font-weight: 400;--ag-charts-chrome-subtle-text-color: #8c8c8c;--ag-charts-chrome-text-color: #181d1f;--ag-charts-input-background-color: #fff;--ag-charts-input-text-color: #464646;--ag-charts-crosshair-label-background-color: #fff;--ag-charts-crosshair-label-text-color: #464646;--ag-charts-spacing: 4px;--ag-charts-border-radius: 4px;--ag-charts-shadow: 0 2px 8px 0 color-mix(in srgb, black 8%, transparent);--ag-charts-focus-shadow: 0 0 0 3px var(--ag-charts-accent-color);--ag-charts-focus-color: color-mix(in srgb, var(--ag-charts-background-color), var(--ag-charts-accent-color) 12%);--ag-charts-input-border-color: var(--ag-charts-border-color);--ag-charts-input-border-radius: var(--ag-charts-border-radius);--ag-charts-input-focus-border-color: var(--ag-charts-accent-color);--ag-charts-input-focus-text-color: var(--ag-charts-accent-color);--ag-charts-input-disabled-background-color: color-mix( in srgb, var(--ag-charts-chrome-background-color), var(--ag-charts-foreground-color) 6% );--ag-charts-input-disabled-border-color: var(--ag-charts-border-color);--ag-charts-input-disabled-text-color: color-mix( in srgb, var(--ag-charts-chrome-background-color), var(--ag-charts-input-text-color) 50% );--ag-charts-input-placeholder-text-color: color-mix( in srgb, var(--ag-charts-input-background-color), var(--ag-charts-input-text-color) 60% );--ag-charts-button-background-color: var(--ag-charts-background-color);--ag-charts-button-border-color: var(--ag-charts-border-color);--ag-charts-button-border-radius: var(--ag-charts-border-radius);--ag-charts-button-text-color: var(--ag-charts-text-color);--ag-charts-button-focus-background-color: color-mix( in srgb, var(--ag-charts-button-background-color), var(--ag-charts-accent-color) 12% );--ag-charts-button-focus-border-color: var(--ag-charts-accent-color);--ag-charts-button-focus-text-color: var(--ag-charts-accent-color);--ag-charts-button-disabled-background-color: color-mix( in srgb, var(--ag-charts-chrome-background-color), var(--ag-charts-foreground-color) 6% );--ag-charts-button-disabled-border-color: var(--ag-charts-border-color);--ag-charts-button-disabled-text-color: color-mix( in srgb, var(--ag-charts-chrome-background-color), var(--ag-charts-chrome-text-color) 50% );--ag-charts-checkbox-background-color: color-mix( in srgb, var(--ag-charts-background-color), var(--ag-charts-foreground-color) 35% );--ag-charts-checkbox-checked-background-color: var(--ag-charts-accent-color);--ag-charts-chrome-font-size-small: var(--ag-charts-chrome-font-size);--ag-charts-chrome-font-size-medium: calc(var(--ag-charts-chrome-font-size) * (13 / 12));--ag-charts-chrome-font-size-large: calc(var(--ag-charts-chrome-font-size) * (14 / 12));--ag-charts-border: solid 1px var(--ag-charts-border-color);--ag-charts-focus-border: solid 1px var(--ag-charts-accent-color);--ag-charts-focus-border-shadow: 0 0 0 3px color-mix(in srgb, transparent, var(--ag-charts-accent-color) 20%);--ag-charts-layer-menu: 6;--ag-charts-layer-ui-overlay: 5;--ag-charts-layer-tooltip: 4;--ag-charts-layer-toolbar: 3;--ag-charts-layer-crosshair: 2;--ag-charts-layer-annotations: 1}.ag-charts-theme-default-dark{--ag-charts-shadow: 0 2px 12px 0 color-mix(in srgb, black 33.3%, transparent);--ag-charts-focus-color: color-mix(in srgb, var(--ag-charts-background-color), var(--ag-charts-accent-color) 22%)}.ag-chart-canvas-wrapper .ag-charts-theme-default{--ag-charts-border-radius: var(--ag-border-radius, 4px);--ag-charts-border: var(--ag-borders-critical, solid 1px) var(--ag-charts-border-color);--ag-charts-focus-shadow: var(--ag-focus-shadow, 0 0 0 3px var(--ag-charts-accent-color));--ag-charts-focus-border-shadow: var( --ag-focus-shadow, 0 0 0 3px color-mix(in srgb, transparent, var(--ag-charts-accent-color) 20%) )}.ag-charts-icon{display:block;width:20px;height:20px;speak:none;speak:never;mask:var(--icon) center / contain no-repeat;background-color:currentColor;transition:background-color .25s ease-in-out}.ag-charts-icon-align-center{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBmaWxsPSIjMDAwIiBkPSJNNyAxMGg2djFIN3pNNCA3aDEydjFINHptMSA2aDEwdjFINXoiLz48L3N2Zz4=)}.ag-charts-icon-align-left{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBmaWxsPSIjMDAwIiBkPSJNNCAxMGg2djFINHptMC0zaDEydjFINHptMCA2aDEwdjFINHoiLz48L3N2Zz4=)}.ag-charts-icon-align-right{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBmaWxsPSIjMDAwIiBkPSJNMTAgMTBoNnYxaC02ek00IDdoMTJ2MUg0em0yIDZoMTB2MUg2eiIvPjwvc3ZnPg==)}.ag-charts-icon-arrow-drawing{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0iTTE1LjI5MyA0LjVIMTIuNXYtMUgxN3Y0aC0xVjUuMjA3bC05LjY0NiA5LjY0Ny0uNzA4LS43MDh6IiBmaWxsPSIjMDAwIi8+PHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik03IDE2YTIuNSAyLjUgMCAxIDEtNSAwIDIuNSAyLjUgMCAwIDEgNSAwbS0yLjUgMS41YTEuNSAxLjUgMCAxIDAgMC0zIDEuNSAxLjUgMCAwIDAgMCAzIiBmaWxsPSIjMDAwIi8+PC9zdmc+)}.ag-charts-icon-arrow-down-drawing{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik02IDhMMS41IDhMMTAgMThMMTguNSA4TDE0IDhMMTQgM0w2IDNMNiA4Wk03IDRMNyA5SDMuNjYyNDRMMTAgMTYuNDU2TDE2LjMzNzYgOUwxMyA5TDEzIDRMNyA0WiIgZmlsbD0iYmxhY2siLz4KPC9zdmc+Cg==)}.ag-charts-icon-arrow-up-drawing{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0xNCAxMkgxOC41TDEwIDJMMS41IDEySDZMNi4wMDAwMiAxN0gxNFYxMlpNMTMgMTZWMTFIMTYuMzM3NkwxMCAzLjU0NDA1TDMuNjYyNDQgMTFIN0w3LjAwMDAyIDE2SDEzWiIgZmlsbD0iYmxhY2siLz4KPC9zdmc+Cg==)}.ag-charts-icon-callout-annotation{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNMyA0LjVBMS41IDEuNSAwIDAgMSA0LjUgM2gxMUExLjUgMS41IDAgMCAxIDE3IDQuNXY4YTEuNSAxLjUgMCAwIDEtMS41IDEuNWgtNC41MTRhMjYgMjYgMCAwIDAtMi4wMTcgMS41NGwtLjMxNC4yNmMtLjU1LjQ1Ny0xLjExNS45MjYtMS43NiAxLjQtLjY2OS40OTEtMS41NjItLjAxMi0xLjU2Mi0uOFYxNEg0LjVBMS41IDEuNSAwIDAgMSAzIDEyLjV6TTQuNSA0YS41LjUgMCAwIDAtLjUuNXY4YS41LjUgMCAwIDAgLjUuNWgxLjgzM3YzLjM3MmEzNiAzNiAwIDAgMCAxLjY3OC0xLjMzOGwuMzItLjI2NWEyNiAyNiAwIDAgMSAyLjIyNS0xLjY4NWwuMTI2LS4wODRIMTUuNWEuNS41IDAgMCAwIC41LS41di04YS41LjUgMCAwIDAtLjUtLjV6IiBjbGlwLXJ1bGU9ImV2ZW5vZGQiLz48L3N2Zz4=)}.ag-charts-icon-candlestick-series{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzEzMTcyMiIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNNyAxdjNoMnYxMkg3djNINnYtM0g0VjRoMlYxek01IDVoM3YxMEg1ek0xMSAxNFY2aDJWMy4yNWgxVjZoMnY4aC0ydjIuNzVoLTFWMTR6bTEtN2gzdjZoLTN6IiBjbGlwLXJ1bGU9ImV2ZW5vZGQiLz48L3N2Zz4=)}.ag-charts-icon-close{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBkPSJtNSA1IDEwIDEwTTUgMTUgMTUgNSIgc3Ryb2tlPSIjMDAwIi8+PC9zdmc+)}.ag-charts-icon-comment-annotation{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNNy41MTMgMy45OTVhNi41IDYuNSAwIDAgMSA2LjA5OCAxMS40MWMtLjU4OC4zOTMtMS4yMTcuNTM2LTEuODI5LjU4NWExMyAxMyAwIDAgMS0xLjI3LjAxN0EyNyAyNyAwIDAgMCAxMCAxNkg0LjVhLjUuNSAwIDAgMS0uNS0uNVYxMHEwLS4yNDctLjAwNy0uNTEzYy0uMDA4LS40MTYtLjAxNi0uODU3LjAxNy0xLjI2OS4wNS0uNjEyLjE5Mi0xLjI0LjU4NS0xLjgzYTYuNSA2LjUgMCAwIDEgMi45MTgtMi4zOTNtMy41Ni42MWE1LjUgNS41IDAgMCAwLTUuNjQ2IDIuMzRjLS4yNjYuMzk3LS4zNzkuODQyLS40MiAxLjM1NC0uMDMuMzYtLjAyMi43MTgtLjAxNSAxLjEwOFE1IDkuNjg5IDUgMTB2NWg1cS4zMTEuMDAxLjU5My4wMDhjLjM5LjAwNy43NDcuMDE1IDEuMTA4LS4wMTUuNTEyLS4wNDEuOTU3LS4xNTQgMS4zNTUtLjQyYTUuNSA1LjUgMCAwIDAtMS45ODMtOS45NjciIGNsaXAtcnVsZT0iZXZlbm9kZCIvPjwvc3ZnPg==)}.ag-charts-icon-crosshair-add-line{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZD0iTTEwIDUuNWEuNS41IDAgMCAxIC41LjV2My41aDMuODc1YS41LjUgMCAwIDEgMCAxSDEwLjV2NC4yNWEuNS41IDAgMSAxLTEgMFYxMC41SDUuNjI1YS41LjUgMCAxIDEgMC0xSDkuNVY2YS41LjUgMCAwIDEgLjUtLjUiLz48L3N2Zz4=)}.ag-charts-icon-date-range-drawing{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBkPSJNMiAyaDF2MTZIMnptMTUgMGgxdjE2aC0xeiIgZmlsbD0iIzE4MUQxRiIvPjxwYXRoIGQ9Ik0xMy4xNTcgMTFINXYtMWg3Ljc5M0wxMSA4LjIwN2wuNzA3LS43MDcgMy4xODIgMy4xODItMy4xODIgMy4xODItLjcwNy0uNzA3eiIgZmlsbD0iIzAwMCIvPjwvc3ZnPg==)}.ag-charts-icon-date-price-range-drawing{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBkPSJNMyAySDJ2MTZoMXptMy41MDcgNC44OUw4LjUgNC44OTVWMTBINXYxaDMuNXY3aDF2LTdoNS4wODhsLTEuOTU3IDEuOTU3LjcwNy43MDcgMy4xODItMy4xODJMMTMuMzM4IDcuM2wtLjcwNy43MDdMMTQuNjI0IDEwSDkuNVY0LjkzMmwxLjk1NyAxLjk1Ny43MDctLjcwN0w4Ljk4MiAzIDUuOCA2LjE4MnoiIGZpbGw9IiMxODFEMUYiLz48L3N2Zz4=)}.ag-charts-icon-delete{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzEzMTcyMiIgZD0iTTguNDk2IDguOTk2QS41LjUgMCAwIDEgOSA5LjQ5MnY0YS41LjUgMCAxIDEtMSAuMDA4di00YS41LjUgMCAwIDEgLjQ5Ni0uNTA0TTEyIDkuNWEuNS41IDAgMCAwLTEgMHY0YS41LjUgMCAwIDAgMSAweiIvPjxwYXRoIGZpbGw9IiMxMzE3MjIiIGZpbGwtcnVsZT0iZXZlbm9kZCIgZD0iTTYgNVYzLjVBMi41IDIuNSAwIDAgMSA4LjUgMWgzQTIuNSAyLjUgMCAwIDEgMTQgMy41VjVoMi44MzNhLjUuNSAwIDAgMSAwIDFIMTV2MTAuMjVjMCAuNDE1LS4wNjYuODYzLS4zIDEuMjIxLS4yNTcuMzk0LS42NzIuNjEyLTEuMi42MTJoLTdjLS41MjggMC0uOTQzLS4yMTgtMS4yLS42MTItLjIzNC0uMzU4LS4zLS44MDYtLjMtMS4yMjFWNkgzLjMzM2EuNS41IDAgMCAxIDAtMXptMS0xLjVBMS41IDEuNSAwIDAgMSA4LjUgMmgzQTEuNSAxLjUgMCAwIDEgMTMgMy41VjVIN3pNNiAxNi4yNVY2aDh2MTAuMjVjMCAuMzM1LS4wNTkuNTU0LS4xMzguNjc1LS4wNTUuMDg1LS4xNC4xNTgtLjM2Mi4xNThoLTdjLS4yMjIgMC0uMzA3LS4wNzMtLjM2Mi0uMTU4LS4wOC0uMTIxLS4xMzgtLjM0LS4xMzgtLjY3NSIgY2xpcC1ydWxlPSJldmVub2RkIi8+PC9zdmc+)}.ag-charts-icon-disjoint-channel,.ag-charts-icon-disjoint-channel-drawing{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzEzMTcyMiIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNMTkuMDI4IDE3LjQ2YTIuMjUgMi4yNSAwIDAgMC00LjA5Mi0xLjg1bC05LjUxMS0yLjM3OGEyLjI1IDIuMjUgMCAxIDAtLjIyNS45NzRsOS40NzUgMi4zNjlhMi4yNTEgMi4yNTEgMCAwIDAgNC4zNTMuODg2bS0xLjY2Mi0xLjk2NWExLjI1IDEuMjUgMCAxIDEtLjg4NSAyLjMzOCAxLjI1IDEuMjUgMCAwIDEgLjg4NS0yLjMzOE00LjM0MyAxMy42NjlhMS4yNSAxLjI1IDAgMSAwLTIuMzM4LS44ODUgMS4yNSAxLjI1IDAgMCAwIDIuMzM4Ljg4NU0zLjk3IDguNzY5YTIuMjUgMi4yNSAwIDAgMCAxLjQ1NS0yLjExbDkuNTExLTIuMzc4YTIuMjUgMi4yNSAwIDEgMC0uMjYtLjk2NUw1LjIgNS42ODVhMi4yNSAyLjI1IDAgMSAwLTEuMjMgMy4wODRtLjM3My0yLjU0N2ExLjI1IDEuMjUgMCAxIDEtMi4zMzguODg1IDEuMjUgMS4yNSAwIDAgMSAyLjMzOC0uODg1bTEzLjc1LTMuNDM4YTEuMjUgMS4yNSAwIDEgMS0yLjMzOC44ODUgMS4yNSAxLjI1IDAgMCAxIDIuMzM4LS44ODUiIGNsaXAtcnVsZT0iZXZlbm9kZCIvPjwvc3ZnPg==)}.ag-charts-icon-drag-handle{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48Y2lyY2xlIGN4PSI1Ljc1IiBjeT0iNy43NSIgcj0iLjc1IiBmaWxsPSIjMDAwIiBmaWxsLW9wYWNpdHk9Ii41Ii8+PGNpcmNsZSBjeD0iOS43NSIgY3k9IjcuNzUiIHI9Ii43NSIgZmlsbD0iIzAwMCIgZmlsbC1vcGFjaXR5PSIuNSIvPjxjaXJjbGUgY3g9IjEzLjc1IiBjeT0iNy43NSIgcj0iLjc1IiBmaWxsPSIjMDAwIiBmaWxsLW9wYWNpdHk9Ii41Ii8+PGNpcmNsZSBjeD0iMTMuNzUiIGN5PSIxMS43NSIgcj0iLjc1IiBmaWxsPSIjMDAwIiBmaWxsLW9wYWNpdHk9Ii41Ii8+PGNpcmNsZSBjeD0iOS43NSIgY3k9IjExLjc1IiByPSIuNzUiIGZpbGw9IiMwMDAiIGZpbGwtb3BhY2l0eT0iLjUiLz48Y2lyY2xlIGN4PSI1Ljc1IiBjeT0iMTEuNzUiIHI9Ii43NSIgZmlsbD0iIzAwMCIgZmlsbC1vcGFjaXR5PSIuNSIvPjwvc3ZnPg==)}.ag-charts-icon-fibonacci-retracement-drawing{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBmaWxsPSIjMDAwIiBkPSJNMiA1aDEydjFIMnoiLz48Y2lyY2xlIGN4PSIxNS43NSIgY3k9IjUuNSIgcj0iMS43NSIgc3Ryb2tlPSIjMDAwIi8+PGNpcmNsZSBjeD0iNC4yNSIgY3k9IjE0LjUiIHI9IjEuNzUiIHN0cm9rZT0iIzAwMCIvPjxwYXRoIGZpbGw9IiMwMDAiIGQ9Ik0xOCAxNUg2di0xaDEyem0wLTQuNUgydi0xaDE2eiIvPjwvc3ZnPg==)}.ag-charts-icon-fibonacci-retracement-trend-based-drawing{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBmaWxsPSIjMDAwIiBkPSJtNC45OTYgMTIuNjc0IDMuMjkxLTUuNzQzLjg2OC40OTctMy4yOTEgNS43NDN6Ii8+PGNpcmNsZSBjeD0iOS43NSIgY3k9IjUuNSIgcj0iMS43NSIgc3Ryb2tlPSIjMDAwIi8+PGNpcmNsZSBjeD0iNC4zNTEiIGN5PSIxNC41IiByPSIxLjc1IiBzdHJva2U9IiMwMDAiLz48cGF0aCBmaWxsPSIjMDAwIiBkPSJNMTggNmgtN1Y1aDd6bTAgNC41aC03di0xaDd6bTAgNC41SDZ2LTFoMTJ6Ii8+PC9zdmc+)}.ag-charts-icon-fill-color{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJtOC4wNzEgNC4wNi0uOTI0LS45MjQuNzA3LS43MDcgNy4yODggNy4yODgtNC45NSA0Ljk1YTMuNSAzLjUgMCAwIDEtNC45NSAwbC0xLjQxNC0xLjQxNGEzLjUgMy41IDAgMCAxIDAtNC45NXptLjcwNy43MDhMNC41MzYgOS4wMWEyLjUgMi41IDAgMCAwIDAgMy41MzZMNS45NSAxMy45NmEyLjUgMi41IDAgMCAwIDMuNTM1IDBsNC4yNDMtNC4yNDN6bTYuOSA3LjIwMi0uMzQ1LjM2My0uMzQ0LS4zNjNhLjUuNSAwIDAgMSAuNjg4IDBtLS4zNDUgMS4wOGE4IDggMCAwIDAtLjI4LjMyMyA0LjMgNC4zIDAgMCAwLS40MDkuNTgyYy0uMTEzLjIwMS0uMTQ0LjMyNi0uMTQ0LjM3OGEuODMzLjgzMyAwIDAgMCAxLjY2NyAwYzAtLjA1Mi0uMDMxLS4xNzctLjE0NC0uMzc4YTQuMyA0LjMgMCAwIDAtLjQxLS41ODIgOCA4IDAgMCAwLS4yOC0uMzIybS0uMzQ0LTEuMDguMzQ0LjM2My4zNDQtLjM2My4wMDIuMDAyLjAwNC4wMDQuMDEzLjAxMmE2IDYgMCAwIDEgLjIwNi4yMDhjLjEzMS4xMzYuMzA4LjMyNy40ODUuNTQ1LjE3Ni4yMTUuMzYzLjQ2Ny41MDcuNzI0LjEzNy4yNDMuMjczLjU1My4yNzMuODY4YTEuODMzIDEuODMzIDAgMSAxLTMuNjY3IDBjMC0uMzE1LjEzNi0uNjI1LjI3My0uODY4LjE0NC0uMjU3LjMzLS41MDkuNTA3LS43MjRhOSA5IDAgMCAxIC42NDUtLjcwOGwuMDQ2LS4wNDUuMDEzLS4wMTIuMDA0LS4wMDR6IiBjbGlwLXJ1bGU9ImV2ZW5vZGQiLz48L3N2Zz4=)}.ag-charts-icon-hollow-candlestick-series{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzEzMTcyMiIgZmlsbC1vcGFjaXR5PSIuMTUiIGQ9Ik01IDVoM3YxMEg1eiIvPjxwYXRoIGZpbGw9IiMxMzE3MjIiIGZpbGwtcnVsZT0iZXZlbm9kZCIgZD0iTTcgMXYzaDJ2MTJIN3YzSDZ2LTNINFY0aDJWMXpNNSA1aDN2MTBINXptNyAyaDN2NmgtM3ptLTEgN1Y2aDJWMy4yNWgxVjZoMnY4aC0ydjIuNzVoLTFWMTR6IiBjbGlwLXJ1bGU9ImV2ZW5vZGQiLz48L3N2Zz4=)}.ag-charts-icon-horizontal-line,.ag-charts-icon-horizontal-line-drawing{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzEzMTcyMiIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNLjUgOS41aDcuMzA2YTIuMjUgMi4yNSAwIDAgMSA0LjM4OCAwSDE5LjV2MWgtNy4zMDZhMi4yNSAyLjI1IDAgMCAxLTQuMzg4IDBILjV6bTkuNSAxLjc1YTEuMjUgMS4yNSAwIDEgMCAwLTIuNSAxLjI1IDEuMjUgMCAwIDAgMCAyLjUiIGNsaXAtcnVsZT0iZXZlbm9kZCIvPjwvc3ZnPg==)}.ag-charts-icon-line-color{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNMTQuMjQyIDIuNzIyYy0uNjEyIDAtMS4yLjI0My0xLjYzMi42NzVsLTEuMzQzIDEuMzQ0YS41LjUgMCAwIDAtLjExMi4xMTJMNC4wNSAxMS45NTljLS4yMDcuMjA3LS4zNi40Ni0uNDQ2Ljc0di4wMDFsLS42OSAyLjc2N3YuMDAyYS44Mi44MiAwIDAgMCAxLjAyMiAxLjAyMWguMDAybDIuNjM0LS44MjJjLjI4LS4wODUuNTM0LS4yMzcuNzQtLjQ0M2w3LjEwNy03LjEwOGEuNS41IDAgMCAwIC4xMTItLjExMmwxLjM0My0xLjM0M2EyLjMwOCAyLjMwOCAwIDAgMC0xLjYzMi0zLjk0TTE0LjEyMiA3bDEuMDQ0LTEuMDQ1YTEuMzA4IDEuMzA4IDAgMSAwLTEuODQ5LTEuODVMMTIuMjcxIDUuMTV6bS0yLjU1OC0xLjE0Mi02LjgwNyA2LjgwOWEuOC44IDAgMCAwLS4xOTYuMzI1bC0uNzUgMi40NjggMi40Ny0uNzQ5YS44LjggMCAwIDAgLjMyNS0uMTk0bDYuODA4LTYuODF6IiBjbGlwLXJ1bGU9ImV2ZW5vZGQiLz48L3N2Zz4=)}.ag-charts-icon-line-series{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzEzMTcyMiIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJtMTcuMzYyIDQuODczLTQuNTk0IDYuNjU0LTQuODUtMy4zMTctNC4yNTEgNi45NzctLjg1NC0uNTJMNy42MTIgNi43OWw0Ljg5OSAzLjM1IDQuMDI4LTUuODM2eiIgY2xpcC1ydWxlPSJldmVub2RkIi8+PC9zdmc+)}.ag-charts-icon-line-style-dashed{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBmaWxsPSIjMDAwIiBkPSJNMiA5aDR2MUgyem0xMiAwaDR2MWgtNHpNOCA5aDR2MUg4eiIvPjwvc3ZnPg==)}.ag-charts-icon-line-style-dotted{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48Y2lyY2xlIGN4PSIyLjUiIGN5PSI5LjUiIHI9Ii41IiBmaWxsPSIjMDAwIi8+PGNpcmNsZSBjeD0iNC41IiBjeT0iOS41IiByPSIuNSIgZmlsbD0iIzAwMCIvPjxjaXJjbGUgY3g9IjYuNSIgY3k9IjkuNSIgcj0iLjUiIGZpbGw9IiMwMDAiLz48Y2lyY2xlIGN4PSI4LjUiIGN5PSI5LjUiIHI9Ii41IiBmaWxsPSIjMDAwIi8+PGNpcmNsZSBjeD0iMTAuNSIgY3k9IjkuNSIgcj0iLjUiIGZpbGw9IiMwMDAiLz48Y2lyY2xlIGN4PSIxMi41IiBjeT0iOS41IiByPSIuNSIgZmlsbD0iIzAwMCIvPjxjaXJjbGUgY3g9IjE0LjUiIGN5PSI5LjUiIHI9Ii41IiBmaWxsPSIjMDAwIi8+PGNpcmNsZSBjeD0iMTYuNSIgY3k9IjkuNSIgcj0iLjUiIGZpbGw9IiMwMDAiLz48L3N2Zz4=)}.ag-charts-icon-line-style-solid{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBmaWxsPSIjMDAwIiBkPSJNMiA5aDE2djFIMnoiLz48L3N2Zz4=)}.ag-charts-icon-line-with-markers-series{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzEzMTcyMiIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJtMTguMTk4IDQuODg4LTMuNTU2IDQuOTE4YTIuMjUgMi4yNSAwIDEgMS0zLjg2Ni43NWwtMS40MzItLjlhMi4yNCAyLjI0IDAgMCAxLTIuMDA5LjQzNWwtMy44MjggNi40MjgtLjg2LS41MTJMNi40NSA5LjYyM2EyLjI1IDIuMjUgMCAxIDEgMy41MS0uNzYxbDEuMzI5LjgzNWEyLjI0IDIuMjQgMCAwIDEgMi41NTctLjQ5N2wzLjU0Mi00Ljg5OHptLTQuOTYgNS4xNTNhMS4yNSAxLjI1IDAgMSAwLS42NCAyLjQxOSAxLjI1IDEuMjUgMCAwIDAgLjY0LTIuNDE5TTkuMSA4LjMyMXEuMDY2LS4xOTIuMDY3LS40MDRhMS4yNSAxLjI1IDAgMSAwLS4wNjcuNDA0IiBjbGlwLXJ1bGU9ImV2ZW5vZGQiLz48L3N2Zz4=)}.ag-charts-icon-lock,.ag-charts-icon-locked{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNMTAuMjA3IDMuNzY0YTIuODk0IDIuODk0IDAgMCAwLTIuODk1IDIuODk0VjloNS43ODlWNi42NThhMi44OTQgMi44OTQgMCAwIDAtMi44OTUtMi44OTRNMTQuMSA5VjYuNjU4YTMuODk0IDMuODk0IDAgMSAwLTcuNzg5IDB2Mi4zNDlBMi41IDIuNSAwIDAgMCA0IDExLjV2M0EyLjUgMi41IDAgMCAwIDYuNSAxN2g4YTIuNSAyLjUgMCAwIDAgMi41LTIuNXYtM0EyLjUgMi41IDAgMCAwIDE0LjUgOXpNNi41IDEwQTEuNSAxLjUgMCAwIDAgNSAxMS41djNBMS41IDEuNSAwIDAgMCA2LjUgMTZoOGExLjUgMS41IDAgMCAwIDEuNS0xLjV2LTNhMS41IDEuNSAwIDAgMC0xLjUtMS41eiIgY2xpcC1ydWxlPSJldmVub2RkIi8+PC9zdmc+)}.ag-charts-icon-measurer-drawing{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0ibTQuNDYxIDEyLjcxIDEuNTMyLTEuNTMxIDEuNDE0IDEuNDE0LjcwNy0uNzA3TDYuNyAxMC40NzJsMS41MzItMS41MzMgMiAyIC43MDctLjcwNy0yLTIgNi4wMS02LjAxIDIuODMgMi44MjhMNS4wNSAxNy43NzggMi4yMjIgMTQuOTVsMS41MzItMS41MzIgMS40MTQgMS40MTQuNzA3LS43MDd6TS44MDggMTQuOTVsLjcwNy0uNzA3TDE0LjI0MyAxLjUxNWwuNzA3LS43MDcuNzA3LjcwNyAyLjgyOCAyLjgyOC43MDcuNzA3LS43MDcuNzA3TDUuNzU3IDE4LjQ4NWwtLjcwNy43MDctLjcwNy0uNzA3LTIuODI4LTIuODI4em0xMS4wNzgtNi44MzVMMTAuNDcgNi43bC43MDctLjcwNyAxLjQxNSAxLjQxNHptLjgyNC0zLjY1NCAxIDEgLjcwOC0uNzA3LTEtMXoiIGZpbGw9IiMxODFEMUYiLz48L3N2Zz4=)}.ag-charts-icon-note-annotation{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNMyA0LjVBMS41IDEuNSAwIDAgMSA0LjUgM2gxMUExLjUgMS41IDAgMCAxIDE3IDQuNXY4YTEuNSAxLjUgMCAwIDEtMS41IDEuNWgtMy4yMWwtMS40NjkgMi41N2ExIDEgMCAwIDEtMS42ODIuMDg1TDcuMjQzIDE0SDQuNUExLjUgMS41IDAgMCAxIDMgMTIuNXpNNC41IDRhLjUuNSAwIDAgMC0uNS41djhhLjUuNSAwIDAgMCAuNS41aDMuMjU3bDIuMTk2IDMuMDc0TDExLjcxIDEzaDMuNzlhLjUuNSAwIDAgMCAuNS0uNXYtOGEuNS41IDAgMCAwLS41LS41eiIgY2xpcC1ydWxlPSJldmVub2RkIi8+PHBhdGggZmlsbD0iIzAwMCIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNNi41IDYuNUEuNS41IDAgMCAxIDcgNmg2YS41LjUgMCAwIDEgMCAxSDdhLjUuNSAwIDAgMS0uNS0uNU02LjUgOS41QS41LjUgMCAwIDEgNyA5aDZhLjUuNSAwIDAgMSAwIDFIN2EuNS41IDAgMCAxLS41LS41IiBjbGlwLXJ1bGU9ImV2ZW5vZGQiLz48L3N2Zz4=)}.ag-charts-icon-ohlc-series{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzEzMTcyMiIgZD0iTTEzIDExaC0zdi0xaDNWM2gxdjJoNHYxaC00djExaC0xek02IDE3di0yaDN2LTFINlY0SDV2MUgydjFoM3YxMXoiLz48L3N2Zz4=)}.ag-charts-icon-pan-end{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZD0ibTYuNjQ2IDEzLjgxMy0uMzUzLjM1NC43MDcuNzA3LjM1NC0uMzU0ek0xMS4xNjYgMTBsLjM1NC4zNTQuMzU0LS4zNTQtLjM1NC0uMzU0ek03LjM1NSA1LjQ4IDcgNS4xMjZsLS43MDcuNzA3LjM1My4zNTR6bTAgOS4wNCA0LjE2Ni00LjE2Ni0uNzA3LS43MDgtNC4xNjcgNC4xNjd6bTQuMTY2LTQuODc0TDcuMzU0IDUuNDhsLS43MDguNzA3IDQuMTY3IDQuMTY3ek0xMy4wODMgNXYxMGgxVjV6Ii8+PC9zdmc+)}.ag-charts-icon-pan-left{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNMTIuNzkgNS44MzMgOC42MjUgMTBsNC4xNjYgNC4xNjctLjcwNy43MDdMNy4yMSAxMGw0Ljg3My00Ljg3NHoiIGNsaXAtcnVsZT0iZXZlbm9kZCIvPjwvc3ZnPg==)}.ag-charts-icon-pan-right{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNNy4yMSAxNC4xNjcgMTEuMzc2IDEwIDcuMjEgNS44MzNsLjcwNy0uNzA3TDEyLjc5IDEwbC00Ljg3MyA0Ljg3NHoiIGNsaXAtcnVsZT0iZXZlbm9kZCIvPjwvc3ZnPg==)}.ag-charts-icon-pan-start{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZD0iTTYgNXYxMGgxVjV6TTkuNjI0IDEwbDQuMTY2LTQuMTY3LS43MDctLjcwN0w4LjIxIDEwbDQuODc0IDQuODc0LjcwNy0uNzA3eiIvPjwvc3ZnPg==)}.ag-charts-icon-parallel-channel,.ag-charts-icon-parallel-channel-drawing{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzEzMTcyMiIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNMTcuNzIgNS4zMzFBMi4yNSAyLjI1IDAgMSAwIDE0LjcwNSAzLjZsLTkuNDkgNC41NjJhMi4yNSAyLjI1IDAgMSAwIC4yMDkgMS4wMWw5LjY2Mi00LjY0NmEyLjI1IDIuMjUgMCAwIDAgMi42MzQuODA1bS4zNzMtMi41NDdhMS4yNSAxLjI1IDAgMSAxLTIuMzM4Ljg4NSAxLjI1IDEuMjUgMCAwIDEgMi4zMzgtLjg4NU00LjM0MyA4LjY3YTEuMjUgMS4yNSAwIDEgMS0yLjMzOC44ODUgMS4yNSAxLjI1IDAgMCAxIDIuMzM4LS44ODVNNS4zMDcgMTYuNzI4YTIuMjUgMi4yNSAwIDEgMS0uNTI1LS44NThsOS45MjMtNC43N2EyLjI1IDIuMjUgMCAxIDEgLjM4MS45MjZ6bS0uOTY0LjI3NGExLjI1IDEuMjUgMCAxIDEtMi4zMzguODg1IDEuMjUgMS4yNSAwIDAgMSAyLjMzOC0uODg1bTEzLjAyMy01LjEwNmExLjI1IDEuMjUgMCAxIDAtLjg4NS0yLjMzOSAxLjI1IDEuMjUgMCAwIDAgLjg4NSAyLjMzOSIgY2xpcC1ydWxlPSJldmVub2RkIi8+PC9zdmc+)}.ag-charts-icon-position-bottom{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBmaWxsPSIjMDAwIiBmaWxsLW9wYWNpdHk9Ii4yNSIgZD0iTTMgMTBoMTR2MUgzem0zLTNoOHYxSDZ6Ii8+PHBhdGggZmlsbD0iIzAwMCIgZD0iTTYgMTNoOHYxSDZ6Ii8+PC9zdmc+)}.ag-charts-icon-position-center{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBmaWxsPSIjMDAwIiBkPSJNMyAxMGgxNHYxSDN6Ii8+PHBhdGggZmlsbD0iIzAwMCIgZmlsbC1vcGFjaXR5PSIuMjUiIGQ9Ik02IDdoOHYxSDZ6bTAgNmg4djFINnoiLz48L3N2Zz4=)}.ag-charts-icon-position-top{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBmaWxsPSIjMDAwIiBmaWxsLW9wYWNpdHk9Ii4yNSIgZD0iTTMgMTBoMTR2MUgzeiIvPjxwYXRoIGZpbGw9IiMwMDAiIGQ9Ik02IDdoOHYxSDZ6Ii8+PHBhdGggZmlsbD0iIzAwMCIgZmlsbC1vcGFjaXR5PSIuMjUiIGQ9Ik02IDEzaDh2MUg2eiIvPjwvc3ZnPg==)}.ag-charts-icon-price-label-annotation{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNNC41IDNBMS41IDEuNSAwIDAgMCAzIDQuNVYxM2ExLjUgMS41IDAgMCAwIDEuNSAxLjVoLjgzM3YuMDU3Yy4yNDItLjI5OS41OTctLjUwMyAxLS41NDhWMTMuNUg0LjVBLjUuNSAwIDAgMSA0IDEzVjQuNWEuNS41IDAgMCAxIC41LS41aDExYS41LjUgMCAwIDEgLjUuNXY4YS41LjUgMCAwIDEtLjUuNWgtNC44MThsLS4xMjYuMDg0YTI2IDI2IDAgMCAwLTIuMjI1IDEuNjg1bC0uMzIuMjY1LS4wNjguMDU2YTEuNSAxLjUgMCAwIDEtMi42MDkgMS4zNTRjLjAzMy43NjMuOTA1IDEuMjM4IDEuNTYuNzU2LjY0Ni0uNDc0IDEuMjEtLjk0MyAxLjc2MS0xLjRsLjMxMy0uMjZBMjYgMjYgMCAwIDEgMTAuOTg2IDE0SDE1LjVhMS41IDEuNSAwIDAgMCAxLjUtMS41di04QTEuNSAxLjUgMCAwIDAgMTUuNSAzeiIgY2xpcC1ydWxlPSJldmVub2RkIi8+PHBhdGggZmlsbD0iIzEzMTcyMiIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNOC43MTYgMTQuODE1YTIuMjUgMi4yNSAwIDEgMS00LjIxIDEuNTkzIDIuMjUgMi4yNSAwIDAgMSA0LjIxLTEuNTkzbS0xLjY2MiAxLjk2NmExLjI1IDEuMjUgMCAxIDAtLjg4NS0yLjMzOSAxLjI1IDEuMjUgMCAwIDAgLjg4NSAyLjMzOSIgY2xpcC1ydWxlPSJldmVub2RkIi8+PC9zdmc+)}.ag-charts-icon-price-range-drawing{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBkPSJNOS4wNDYgMTVWNS44NzdoLjk0MlYxNXoiIGZpbGw9IiMxODFEMUYiLz48cGF0aCBkPSJNOS4wNDYgMTVWNS44NzdoLjk0MlYxNXoiIGZpbGw9IiMxODFEMUYiLz48cGF0aCBkPSJNOS41IDYuMjI4IDcuMTY3IDguMzc2IDYuNSA3Ljc2MiA5LjUgNWwzIDIuNzYyLS42NjcuNjE0eiIgZmlsbD0iIzAwMCIvPjxwYXRoIGQ9Ik0yIDE4di0xaDE2djF6TTIgM1YyaDE2djF6IiBmaWxsPSIjMTgxRDFGIi8+PC9zdmc+)}.ag-charts-icon-reset{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNMTIuMDQgNC40NDVhNS44MSA1LjgxIDAgMCAwLTcuMjU3IDIuNDUzLjUuNSAwIDAgMS0uODY1LS41MDJBNi44MSA2LjgxIDAgMSAxIDMgOS44MTNhLjUuNSAwIDAgMSAxIDAgNS44MSA1LjgxIDAgMSAwIDguMDQtNS4zNjgiIGNsaXAtcnVsZT0iZXZlbm9kZCIvPjxwYXRoIGZpbGw9IiMwMDAiIGZpbGwtcnVsZT0iZXZlbm9kZCIgZD0iTTQuMjg5IDMuMDAyYS41LjUgMCAwIDEgLjUuNXYyLjY1NWgyLjY1NWEuNS41IDAgMCAxIDAgMUg0LjI5YS41LjUgMCAwIDEtLjUtLjVWMy41MDJhLjUuNSAwIDAgMSAuNS0uNSIgY2xpcC1ydWxlPSJldmVub2RkIi8+PC9zdmc+)}.ag-charts-icon-settings{--icon: url(data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PSIwIDAgMjAgMjAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSIgc3R5bGU9ImZpbGwtcnVsZTpldmVub2RkIj48cGF0aCBkPSJNMTAgMTNhMyAzIDAgMSAwIDAtNiAzIDMgMCAwIDAgMCA2bTAtMWEyIDIgMCAxIDEtLjAwMS0zLjk5OUEyIDIgMCAwIDEgMTAgMTIiLz48cGF0aCBkPSJNMi4zMSAxNC4zNDVjLS44MTctMS40OTEuMDI3LTIuNDk5LjQ3NC0yLjg2NS41MzEtLjQzNC45NjktLjM2NS45NzItMS40OC0uMDAzLTEuMTE1LS40NDEtMS4wNDYtLjk3Mi0xLjQ4MS0uNDU0LS4zNzEtMS4zMTctMS40MDUtLjQzNC0yLjkzNmwuMDA1LS4wMDljLjg4NC0xLjUyIDIuMjA3LTEuMjkgMi43NTUtMS4wODMuNjQxLjI0My44MDEuNjU2IDEuNzY4LjEwMS45NjQtLjU2LjY4Ni0uOTA0Ljc5Ni0xLjU4Mi4wOTQtLjU3OC41NTktMS44NDMgMi4zMjYtMS44NDNoLjAxYzEuNzU5LjAwNSAyLjIyMiAxLjI2NiAyLjMxNiAxLjg0My4xMS42NzgtLjE2OCAxLjAyMi43OTYgMS41ODIuOTY3LjU1NSAxLjEyNy4xNDIgMS43NjgtLjEwMS41NDktLjIwOCAxLjg3Ni0uNDM4IDIuNzYgMS4wOTJzLjAyIDIuNTY1LS40MzQgMi45MzZjLS41MzEuNDM1LS45NjkuMzY2LS45NzIgMS40ODEuMDAzIDEuMTE1LjQ0MSAxLjA0Ni45NzIgMS40OC40NTQuMzcyIDEuMzE3IDEuNDA2LjQzNCAyLjkzN2wtLjAwNS4wMDljLS44ODQgMS41Mi0yLjIwNyAxLjI5LTIuNzU1IDEuMDgzLS42NDEtLjI0My0uODAxLS42NTYtMS43NjgtLjEwMS0uOTY0LjU2LS42ODYuOTA0LS43OTYgMS41ODEtLjA5NC41NzktLjU1OSAxLjg0NC0yLjMyNiAxLjg0NGgtLjAxYy0xLjc1OS0uMDA1LTIuMjIyLTEuMjY2LTIuMzE2LTEuODQ0LS4xMS0uNjc3LjE2OC0xLjAyMS0uNzk2LTEuNTgxLS45NjctLjU1NS0xLjEyNy0uMTQyLTEuNzY4LjEwMS0uNTQ5LjIwOC0xLjg3Ni40MzgtMi43Ni0xLjA5MmwtLjAyLS4wMzZ6TTkuOTg0IDIuMTYySDEwYzEuMzU1IDAgMS4zNDIgMS4wMzkgMS4zNTMgMS40MjUuMDA4LjMxMi4wNCAxLjE2IDEuMjU5IDEuODcybC4wMTUuMDA4YzEuMjI1LjcgMS45NzYuMzA0IDIuMjUxLjE1NS4zMzctLjE4MyAxLjIyNi0uNzExIDEuOTAyLjQ0NWwuMDA4LjAxNGMuNjc4IDEuMTczLS4yMjkgMS42ODItLjU1OCAxLjg4NC0uMjY2LjE2My0uOTg0LjYxNS0uOTkxIDIuMDI3di4wMTZjLjAwNyAxLjQxMi43MjUgMS44NjQuOTkxIDIuMDI3LjMyOC4yMDEgMS4yMjkuNzA3LjU2NiAxLjg3bC0uMDA4LjAxNGMtLjY3NyAxLjE3NC0xLjU3MS42NDMtMS45MS40NTktLjI3NS0uMTQ5LTEuMDI2LS41NDUtMi4yNTEuMTU0bC0uMDE1LjAwOWMtMS4yMTkuNzEyLTEuMjUxIDEuNTYtMS4yNTkgMS44NzItLjAxMS4zODYuMDAyIDEuNDI1LTEuMzUzIDEuNDI1cy0xLjM0Mi0xLjAzOS0xLjM1My0xLjQyNWMtLjAwOC0uMzEyLS4wNC0xLjE2LTEuMjU5LTEuODcybC0uMDE1LS4wMDljLTEuMjI1LS42OTktMS45NzYtLjMwMy0yLjI1MS0uMTU0LS4zMzYuMTgzLTEuMjE5LjcwNi0xLjg5NC0uNDMybC0uMDE2LS4wMjdjLS42NzgtMS4xNzQuMjI5LTEuNjgyLjU1OC0xLjg4NC4yNjYtLjE2My45ODQtLjYxNS45OTEtMi4wMjd2LS4wMTZjLS4wMDctMS40MTItLjcyNS0xLjg2NC0uOTkxLTIuMDI3LS4zMjgtLjIwMS0xLjIyOS0uNzA3LS41NjYtMS44N2wuMDA4LS4wMTRjLjY3Ny0xLjE3NCAxLjU3MS0uNjQzIDEuOTEtLjQ1OS4yNzUuMTQ5IDEuMDI2LjU0NSAyLjI1MS0uMTU1bC4wMTUtLjAwOGMxLjIxOS0uNzEyIDEuMjUxLTEuNTYgMS4yNTktMS44NzIuMDEtLjM4NC0uMDAyLTEuNDE3IDEuMzM3LTEuNDI1Ii8+PC9zdmc+)}.ag-charts-icon-step-line-series{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzE4MUQxRiIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNNiA0aDV2OGgzVjhoNXYxaC00djRoLTVWNUg3djEwSDJ2LTFoNHoiIGNsaXAtcnVsZT0iZXZlbm9kZCIvPjwvc3ZnPg==)}.ag-charts-icon-text-annotation{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik00IDRIMTZWN0gxNVY1SDEwLjVWMTVIMTRWMTZINlYxNUg5LjVWNUg1VjdINFY0WiIgZmlsbD0iYmxhY2siLz4KPC9zdmc+Cg==)}.ag-charts-icon-trend-line,.ag-charts-icon-trend-line-drawing{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzEzMTcyMiIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNNS4zMTQgMTAuOTM4YTIuMjUgMi4yNSAwIDEgMSAuMDEtMWg5LjM1MmEyLjI1IDIuMjUgMCAxIDEgLjAxIDF6bS0yLjE4OS43MjlhMS4yNSAxLjI1IDAgMSAwIDAtMi41IDEuMjUgMS4yNSAwIDAgMCAwIDIuNW0xMy43NSAwYTEuMjUgMS4yNSAwIDEgMCAwLTIuNSAxLjI1IDEuMjUgMCAwIDAgMCAyLjUiIGNsaXAtcnVsZT0iZXZlbm9kZCIvPjwvc3ZnPg==)}.ag-charts-icon-unlock,.ag-charts-icon-unlocked{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNMTAuNjUxIDMuNWEyLjg5NCAyLjg5NCAwIDAgMC0yLjg5NCAyLjg5NFY5SDE0LjVhMi41IDIuNSAwIDAgMSAyLjUgMi41djNhMi41IDIuNSAwIDAgMS0yLjUgMi41aC04QTIuNSAyLjUgMCAwIDEgNCAxNC41di0zQTIuNSAyLjUgMCAwIDEgNi41IDloLjI1N1Y2LjM5NGEzLjg5NCAzLjg5NCAwIDEgMSA3Ljc4OSAwIC41LjUgMCAwIDEtMSAwQTIuODk0IDIuODk0IDAgMCAwIDEwLjY1IDMuNU02LjUgMTBBMS41IDEuNSAwIDAgMCA1IDExLjV2M0ExLjUgMS41IDAgMCAwIDYuNSAxNmg4YTEuNSAxLjUgMCAwIDAgMS41LTEuNXYtM2ExLjUgMS41IDAgMCAwLTEuNS0xLjV6IiBjbGlwLXJ1bGU9ImV2ZW5vZGQiLz48L3N2Zz4=)}.ag-charts-icon-vertical-line,.ag-charts-icon-vertical-line-drawing{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzEzMTcyMiIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNMTAuNSA3LjgwNmEyLjI1IDIuMjUgMCAwIDEgMCA0LjM4OFYxOS41aC0xdi03LjMwNmEyLjI1IDIuMjUgMCAwIDEgMC00LjM4OFYuNWgxem0tLjUuOTQ0YTEuMjUgMS4yNSAwIDEgMSAwIDIuNSAxLjI1IDEuMjUgMCAwIDEgMC0yLjUiIGNsaXAtcnVsZT0iZXZlbm9kZCIvPjwvc3ZnPg==)}.ag-charts-icon-zoom-in{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZD0iTTEwIDUuNWEuNS41IDAgMCAxIC41LjV2My41aDMuODc1YS41LjUgMCAwIDEgMCAxSDEwLjV2NC4yNWEuNS41IDAgMSAxLTEgMFYxMC41SDUuNjI1YS41LjUgMCAxIDEgMC0xSDkuNVY2YS41LjUgMCAwIDEgLjUtLjUiLz48L3N2Zz4=)}.ag-charts-icon-zoom-out{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNNS41IDEwYS41LjUgMCAwIDEgLjUtLjVoOGEuNS41IDAgMCAxIDAgMUg2YS41LjUgMCAwIDEtLjUtLjUiIGNsaXAtcnVsZT0iZXZlbm9kZCIvPjwvc3ZnPg==)}.ag-charts-icon-high-low-series{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzEzMTcyMiIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNNyA0aDJ2MTJINFY0aDNNNSA1aDN2MTBINXpNMTEgMTRWNmg1djhoLTVtMS03aDN2NmgtM3oiIGNsaXAtcnVsZT0iZXZlbm9kZCIvPjwvc3ZnPg==)}.ag-charts-icon-hlc-series{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzEzMTcyMiIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJtMTguMTYzIDEuODM3LTUuMzM0IDExLjYyMUw2Ljk1NyA4LjEybC00LjE5OSA5LjYyMi0uOTE2LS40IDQuNzU2LTEwLjlMMTIuNDkgMTEuOCAxNy4yNTQgMS40MnoiIGNsaXAtcnVsZT0iZXZlbm9kZCIvPjxwYXRoIGZpbGw9IiMwMDAiIGZpbGwtb3BhY2l0eT0iLjQiIGZpbGwtcnVsZT0iZXZlbm9kZCIgZD0iTTUuODI1IDIuNzA0LjU1IDEzLjc4NWwuOTAyLjQzIDQuNzI0LTkuOTE5IDYuMDM0IDUuMDI5IDMuMjU1LTguMTQtLjkyOC0uMzctMi43NDUgNi44NnptNy44NTIgMTQuNjM2IDUuNzgtMTMuMTM5LS45MTUtLjQwMi01LjIxOSAxMS44Ni02LjAwNS01LjUwNC0zLjI3OCA3LjY0OC45Mi4zOTQgMi43MjItNi4zNTJ6IiBjbGlwLXJ1bGU9ImV2ZW5vZGQiLz48L3N2Zz4=)}.ag-charts-icon-zoom-in-alt{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0IiBmaWxsPSJub25lIiBzdHJva2U9ImN1cnJlbnRDb2xvciIgc3Ryb2tlLXdpZHRoPSIyIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIGNsYXNzPSJsdWNpZGUgbHVjaWRlLXpvb20taW4iPjxjaXJjbGUgY3g9IjExIiBjeT0iMTEiIHI9IjgiLz48bGluZSB4MT0iMjEiIHgyPSIxNi42NSIgeTE9IjIxIiB5Mj0iMTYuNjUiLz48bGluZSB4MT0iMTEiIHgyPSIxMSIgeTE9IjgiIHkyPSIxNCIvPjxsaW5lIHgxPSI4IiB4Mj0iMTQiIHkxPSIxMSIgeTI9IjExIi8+PC9zdmc+)}.ag-charts-icon-zoom-out-alt{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0IiBmaWxsPSJub25lIiBzdHJva2U9ImN1cnJlbnRDb2xvciIgc3Ryb2tlLXdpZHRoPSIyIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIGNsYXNzPSJsdWNpZGUgbHVjaWRlLXpvb20tb3V0Ij48Y2lyY2xlIGN4PSIxMSIgY3k9IjExIiByPSI4Ii8+PGxpbmUgeDE9IjIxIiB4Mj0iMTYuNjUiIHkxPSIyMSIgeTI9IjE2LjY1Ii8+PGxpbmUgeDE9IjgiIHgyPSIxNCIgeTE9IjExIiB5Mj0iMTEiLz48L3N2Zz4=)}.ag-charts-input{--input-layer-active: 1;--input-layer-focus: 2;--input-padding: calc(var(--ag-charts-spacing) * 2);--input-padding-large: calc(var(--ag-charts-spacing) * 2.5);color:var(--ag-charts-input-text-color);font-family:var(--ag-charts-chrome-font-family);font-size:var(--ag-charts-chrome-font-size-large);transition-duration:.25s;transition-property:none;transition-timing-function:ease-out}.ag-charts-input:focus-visible{outline:var(--ag-charts-focus-border);box-shadow:var(--ag-charts-focus-border-shadow);z-index:var(--input-layer-focus)}.ag-charts-button{background:var(--ag-charts-button-background-color);border:1px solid var(--ag-charts-border-color);border-radius:var(--ag-charts-button-border-radius);color:var(--ag-charts-button-text-color);cursor:pointer;padding:var(--input-padding);transition-property:background,border-color}.ag-charts-button:hover{background:var(--ag-charts-focus-color)}.ag-charts-button:has(.ag-charts-icon){padding:2px}.ag-charts-checkbox{--checkbox-transition-duration: .1s;appearance:none;background:var(--ag-charts-checkbox-background-color);border-radius:calc(var(--ag-charts-border-radius) * 9);cursor:pointer;height:18px;margin:0;transition-duration:var(--checkbox-transition-duration);transition-property:margin;width:29px}.ag-charts-checkbox:before{display:block;background:var(--ag-charts-input-background-color);border-radius:calc(var(--ag-charts-border-radius) * 7);content:" ";height:14px;margin:2px;transition-duration:var(--checkbox-transition-duration);transition-property:margin;transition-timing-function:var(--ag-charts-input-transition-easing);width:14px}.ag-charts-checkbox:checked{background:var(--ag-charts-checkbox-checked-background-color)}.ag-charts-checkbox:checked:before{margin-left:13px}.ag-charts-select{background:var(--ag-charts-input-background-color);border:1px solid var(--ag-charts-input-border-color);border-radius:var(--ag-charts-input-border-radius);padding:3px 2px 4px;font-size:inherit}.ag-charts-textarea{--textarea-line-height: 1.38;background:var(--ag-charts-input-background-color);border:1px solid var(--ag-charts-border-color);border-radius:var(--ag-charts-input-border-radius);line-height:var(--textarea-line-height);font-family:var(--ag-charts-chrome-font-family);font-size:var(--ag-charts-chrome-font-size-large);padding:var(--input-padding-large) var(--input-padding)}.ag-charts-textarea::placeholder{color:var(--ag-charts-input-placeholder-text-color)}.ag-charts-proxy-container{pointer-events:none;position:absolute}.ag-charts-proxy-elem{-webkit-appearance:none;appearance:none;background:none;border:none;color:#0000;overflow:hidden;pointer-events:auto;position:absolute}.ag-charts-proxy-elem::-moz-range-thumb,.ag-charts-proxy-elem::-moz-range-track{opacity:0}.ag-charts-proxy-elem::-webkit-slider-runnable-track,.ag-charts-proxy-elem::-webkit-slider-thumb{opacity:0}.ag-charts-proxy-elem:focus-visible{outline:var(--ag-charts-focus-border);box-shadow:var(--ag-charts-focus-border-shadow)}.ag-charts-focus-indicator{position:absolute;display:block;pointer-events:none;user-select:none;-webkit-user-select:none;width:100%;height:100%}.ag-charts-focus-indicator>div{position:absolute;outline:solid 1px var(--ag-charts-chrome-background-color);box-shadow:var(--ag-charts-focus-shadow)}.ag-charts-focus-indicator>svg{width:100%;height:100%;fill:none;overflow:visible}.ag-charts-focus-svg-outer-path{stroke:var(--ag-charts-chrome-background-color);stroke-width:4px}.ag-charts-focus-svg-inner-path{stroke:var(--ag-charts-accent-color);stroke-width:2px}.ag-charts-overlay{color:#181d1f;pointer-events:none}.ag-charts-overlay.ag-charts-dark-overlay{color:#fff}.ag-charts-overlay--loading{color:#8c8c8c}.ag-charts-overlay__loading-background{background:#fff;pointer-events:none}.ag-charts-overlay.ag-charts-dark-overlay .ag-charts-overlay__loading-background{background:#192232}.ag-charts-tooltip{--tooltip-arrow-size: 8px;--tooltip-row-spacing: 8px;--tooltip-column-spacing: 16px;position:fixed;inset:unset;margin:0;padding:0;overflow:visible;top:var(--top, 0px);left:var(--left, 0px);width:max-content;max-width:100%;font-family:var(--ag-charts-chrome-font-family);font-size:var(--ag-charts-chrome-font-size);font-weight:var(--ag-charts-chrome-font-weight);color:var(--ag-charts-chrome-text-color);background:var(--ag-charts-chrome-background-color);border:var(--ag-charts-border);border-radius:var(--ag-charts-border-radius);box-shadow:var(--ag-charts-shadow)}.ag-charts-tooltip--compact .ag-charts-tooltip-content{--tooltip-row-spacing: 2px;--tooltip-column-spacing: 8px;padding:3px 6px}.ag-charts-tooltip--arrow-top:before,.ag-charts-tooltip--arrow-right:before,.ag-charts-tooltip--arrow-bottom:before,.ag-charts-tooltip--arrow-left:before{content:"";position:absolute;display:block;width:var(--tooltip-arrow-size);height:var(--tooltip-arrow-size);border:inherit;border-bottom-color:transparent;border-right-color:transparent;background:inherit;clip-path:polygon(0 0,100% 0,100% 1px,1px 100%,0 100%)}.ag-charts-tooltip--arrow-top:before{bottom:100%;left:50%;transform:translate(-50%) translateY(calc(var(--tooltip-arrow-size) * .5)) rotate(45deg)}.ag-charts-tooltip--arrow-bottom:before{top:100%;left:50%;transform:translate(-50%) translateY(calc(var(--tooltip-arrow-size) * -.5)) rotate(225deg)}.ag-charts-tooltip--arrow-left:before{right:100%;top:50%;transform:translateY(-50%) translate(calc(var(--tooltip-arrow-size) * .5)) rotate(315deg)}.ag-charts-tooltip--arrow-right:before{left:100%;top:50%;transform:translateY(-50%) translate(calc(var(--tooltip-arrow-size) * -.5)) rotate(135deg)}.ag-charts-tooltip--no-interaction{pointer-events:none;user-select:none;-webkit-user-select:none}.ag-charts-tooltip--wrap-always{overflow-wrap:break-word;word-break:break-word;hyphens:none}.ag-charts-tooltip--wrap-hyphenate{overflow-wrap:break-word;word-break:break-word;hyphens:auto}.ag-charts-tooltip--wrap-on-space{overflow-wrap:normal;word-break:normal}.ag-charts-tooltip--wrap-never{white-space:nowrap}.ag-charts-tooltip-heading,.ag-charts-tooltip-title,.ag-charts-tooltip-label,.ag-charts-tooltip-value{overflow:hidden;text-overflow:ellipsis}.ag-charts-tooltip-content{display:grid;grid:auto-flow minmax(1em,auto) / 1fr;padding:8px 12px;gap:var(--tooltip-row-spacing)}.ag-charts-tooltip-content:has(.ag-charts-tooltip-symbol){grid:auto-flow minmax(1em,auto) / auto 1fr}.ag-charts-tooltip-heading{grid-column:1 / -1}.ag-charts-tooltip-symbol{grid-column:1 / 2;place-self:center}.ag-charts-tooltip-symbol svg{display:block}.ag-charts-tooltip-title{grid-column:-2 / -1}.ag-charts-tooltip-row{grid-column:1 / -1;display:flex;gap:var(--tooltip-column-spacing);align-items:baseline;justify-content:space-between;overflow:hidden}.ag-charts-tooltip-row--inline{grid-column:-2 / -1}.ag-charts-tooltip-label{flex:1;min-width:0}.ag-charts-tooltip-value{min-width:0}.ag-charts-tooltip-footer{grid-column:1 / -1;color:var(--ag-charts-chrome-subtle-text-color);text-align:center}.ag-charts-popover{position:absolute;border:var(--ag-charts-border);border-radius:var(--ag-charts-border-radius);background:var(--ag-charts-chrome-background-color);color:var(--ag-charts-chrome-text-color);font-family:var(--ag-charts-chrome-font-family);font-size:var(--ag-charts-chrome-font-size);font-weight:var(--ag-charts-chrome-font-weight);box-shadow:var(--ag-charts-shadow);z-index:var(--ag-charts-layer-ui-overlay)}.ag-charts-menu{--item-padding: 6px 12px;--icon-color: var(--ag-charts-chrome-text-color);display:grid;grid:auto-flow auto / 1fr;column-gap:12px;font-size:var(--ag-charts-chrome-font-size)}.ag-charts-menu:has(.ag-charts-menu__icon,.ag-charts-menu__row--stroke-width-visible){grid:auto-flow auto / auto 1fr}.ag-charts-menu__row--stroke-width-visible:before{content:"";height:var(--strokeWidth);width:12px;background:var(--icon-color)}.ag-charts-menu__row--stroke-width-visible[aria-disabled=true]:before{filter:grayscale(1);opacity:.5}.ag-charts-menu__row{display:grid;grid-column:1 / -1;grid-template-columns:subgrid;align-items:center;padding:var(--item-padding)}.ag-charts-menu__row:not(.ag-charts-menu__row--active){cursor:pointer}.ag-charts-menu__row:first-child{border-top-left-radius:inherit;border-top-right-radius:inherit}.ag-charts-menu__row:last-child{border-bottom-left-radius:inherit;border-bottom-right-radius:inherit}.ag-charts-menu__row:focus{background:var(--ag-charts-focus-color)}.ag-charts-menu__row:focus-visible{outline:var(--ag-charts-focus-border);box-shadow:var(--ag-charts-focus-border-shadow);z-index:var(--ag-charts-layer-menu)}.ag-charts-menu__row--active{--icon-color: var(--ag-charts-accent-color);background:var(--ag-charts-focus-color);color:var(--ag-charts-accent-color)}.ag-charts-menu__label{grid-column:-1 / span 1}.ag-charts-toolbar{--toolbar-gap: calc(var(--ag-charts-spacing) * 2);--toolbar-size: 34px;--toolbar-button-padding: 6px;align-items:center;display:flex;flex-wrap:nowrap;position:absolute}.ag-charts-toolbar__button{align-items:center;background:var(--ag-charts-chrome-background-color);border:var(--ag-charts-border);color:var(--ag-charts-chrome-text-color);cursor:pointer;display:flex;font-family:var(--ag-charts-chrome-font-family);font-size:var(--ag-charts-chrome-font-size-medium);font-weight:var(--ag-charts-chrome-font-weight);justify-content:center;min-height:var(--toolbar-size);min-width:var(--toolbar-size);padding:var(--toolbar-button-padding);position:relative;transition:background-color .25s ease-in-out,border-color .25s ease-in-out,color .25s ease-in-out;white-space:nowrap}.ag-charts-toolbar__button:hover{background:var(--ag-charts-focus-color);z-index:1}.ag-charts-toolbar__button:focus-visible{outline:var(--ag-charts-focus-border);box-shadow:var(--ag-charts-focus-border-shadow);z-index:calc(var(--ag-charts-layer-ui-overlay) + 1)}.ag-charts-toolbar__button--active{background:var(--ag-charts-focus-color);border-color:var(--ag-charts-accent-color);color:var(--ag-charts-accent-color);z-index:2}.ag-charts-toolbar__button[aria-disabled=true]{background:var(--ag-charts-button-disabled-background-color);color:var(--ag-charts-button-disabled-text-color);cursor:default}.ag-charts-toolbar--horizontal{flex-direction:row;.ag-charts-toolbar__button{margin:0 0 0 -1px}.ag-charts-toolbar__button--first{border-bottom-left-radius:var(--ag-charts-border-radius);border-top-left-radius:var(--ag-charts-border-radius);margin:0}.ag-charts-toolbar__button--last{border-bottom-right-radius:var(--ag-charts-border-radius);border-top-right-radius:var(--ag-charts-border-radius)}}.ag-charts-toolbar--vertical{flex-direction:column;.ag-charts-toolbar__button{margin:-1px 0 0;max-width:100%}.ag-charts-toolbar__button--first{border-top-left-radius:var(--ag-charts-border-radius);border-top-right-radius:var(--ag-charts-border-radius);margin:0}.ag-charts-toolbar__button--last{border-bottom-left-radius:var(--ag-charts-border-radius);border-bottom-right-radius:var(--ag-charts-border-radius)}}.ag-charts-toolbar__icon+.ag-charts-toolbar__label{margin-left:var(--toolbar-gap)}.ag-charts-toolbar__icon,.ag-charts-toolbar__label{pointer-events:none}.ag-charts-floating-toolbar{border:none;display:flex;.ag-charts-toolbar{align-items:unset;position:unset}}.ag-charts-floating-toolbar__drag-handle{align-items:center;background:var(--ag-charts-chrome-background-color);border:var(--ag-charts-border);border-bottom-left-radius:var(--ag-charts-border-radius);border-top-left-radius:var(--ag-charts-border-radius);cursor:grab;display:flex;justify-content:center;min-width:24px;padding-left:0;padding-right:0}.ag-charts-floating-toolbar__drag-handle--dragging{cursor:grabbing}
`,ma=class{constructor(){this.registeredListeners=new Map}addListener(e,t){const i={symbol:Symbol(e),handler:t};return this.registeredListeners.has(e)?this.registeredListeners.get(e).push(i):this.registeredListeners.set(e,[i]),()=>this.removeListener(i.symbol)}removeListener(e){for(const[t,i]of this.registeredListeners.entries()){const s=i.findIndex(n=>n.symbol===e);if(s>=0){i.splice(s,1),i.length===0&&this.registeredListeners.delete(t);break}}}dispatch(e,...t){for(const i of this.getListenersByType(e))try{i.handler(...t)}catch(s){me.errorOnce(String(s))}}getListenersByType(e){return this.registeredListeners.get(e)??[]}destroy(){this.registeredListeners.clear()}},Fl=class{constructor(){this.listeners=new ma,this.destroyFns=[],this.destroyed=!1}addListener(e,t){return this.listeners.addListener(e,t)}destroy(){this.listeners.destroy(),this.destroyFns.forEach(e=>e()),this.destroyed=!0}},rne=class qv{constructor(t,i,s){this.element=t,this.topTabGuard=i,this.bottomTabGuard=s,this.destroyFns=[],this.guardTabIndex=0,this.hasFocus=!1,this.initTabGuard(this.topTabGuard,n=>this.onTab(n,!1)),this.initTabGuard(this.bottomTabGuard,n=>this.onTab(n,!0)),this.element.addEventListener("focus",()=>this.onFocus(),{capture:!0}),this.element.addEventListener("blur",n=>this.onBlur(n),{capture:!0})}set tabIndex(t){this.guardTabIndex=t,this.guardTabIndex===0?this.setGuardIndices(void 0):this.hasFocus||this.setGuardIndices(this.guardTabIndex)}destroy(){for(const t of this.destroyFns)t();this.destroyFns.length=0}initTabGuard(t,i){const s=()=>i(t);t.addEventListener("focus",s),this.destroyFns.push(()=>t.removeEventListener("focus",s))}setGuardIndices(t){const i=t;kt(this.topTabGuard,"tabindex",i),kt(this.bottomTabGuard,"tabindex",i)}onFocus(){this.hasFocus=!0,this.guardTabIndex!==0&&this.setGuardIndices(0)}onBlur({relatedTarget:t}){const{topTabGuard:i,bottomTabGuard:s}=this;this.hasFocus=!1,this.guardTabIndex!==0&&t!==i&&t!==s&&this.setGuardIndices(this.guardTabIndex)}onTab(t,i){if(this.guardTabIndex!==0){let s;t.tabIndex===0?(s=this.findExitTarget(!i),this.setGuardIndices(this.guardTabIndex)):s=this.findEnterTarget(i),s==null||s.focus()}}static queryFocusable(t,i){const s=Pt();return Array.from(t.querySelectorAll(i)).filter(n=>{if(n instanceof HTMLElement){const r=s.getComputedStyle(n);return r.display!=="none"&&r.visibility!=="none"}return!1})}findEnterTarget(t){const i=qv.queryFocusable(this.element,'[tabindex="0"]'),s=t?i.length-1:0;return i[s]}findExitTarget(t){const i=qv.queryFocusable(ua(),"[tabindex]").filter(r=>r.tabIndex>0).sort((r,o)=>r.tabIndex-o.tabIndex),{before:s,after:n}=qv.findBeforeAndAfter(i,this.guardTabIndex);return t?s:n}static findBeforeAndAfter(t,i){let s=0,n=t.length-1,r,o;for(;s<=n;){const a=Math.floor((s+n)/2),l=t[a].tabIndex;if(l===i){r=t[a-1]||void 0,o=t[a+1]||void 0;break}else l<i?(r=t[a],s=a+1):(o=t[a],n=a-1)}return{before:r,after:o}}};function Lr(e,t,i,s,n){t.addEventListener(i,s);const r=()=>t.removeEventListener(i,s,n);return e.push(r),r}function k3(e,t,i){Lr(e,t,"keydown",s=>{s.key==="Escape"&&i(s)})}function one(e,t,i){const s=Lr(e,window,"mousedown",n=>{[0,2].includes(n.button)&&!P3(t,n)&&(i(),s())});return s}function ane(e,t,i){const s=Lr(e,window,"touchstart",n=>{Array.from(n.targetTouches).some(o=>!P3(t,o))&&(i(),s())});return s}function P3(e,t){if(t.target instanceof Element){const{x:i,y:s,width:n,height:r}=e.getBoundingClientRect(),{clientX:o,clientY:a}=t;return o>=i&&a>=s&&o<=i+n&&a<=s+r}return!1}function UC(e){return!(e.shiftKey||e.altKey||e.ctrlKey||e.metaKey)}function UR(e,t,...i){return UC(e)&&(e.key===t||i.some(s=>e.key===s))}function aP(e,t,i,s){i&&Lr(e,t,"keydown",n=>{UR(n,s)&&i.focus()})}function lne(e,t,i,s,n,r){aP(e,t,n,r),aP(e,t,i,s),Lr(e,t,"keydown",o=>{UR(o,s,r)&&o.preventDefault()})}var kd={horizontal:{nextKey:"ArrowRight",prevKey:"ArrowLeft"},vertical:{nextKey:"ArrowDown",prevKey:"ArrowUp"}};function O3(e){const{orientation:t,buttons:i,wrapAround:s=!1,onEscape:n,onFocus:r,onBlur:o}=e,{nextKey:a,prevKey:l}=kd[t],d=v=>{v.target&&"tabIndex"in v.target&&(i.forEach(y=>y.tabIndex=-1),v.target.tabIndex=0)},[h,p]=s?[i.length,i.length]:[0,1/0],f=[];for(let v=0;v<i.length;v++){const y=i[(h+v-1)%p],S=i[v],w=i[(h+v+1)%p];Lr(f,S,"focus",d),r&&Lr(f,S,"focus",r),o&&Lr(f,S,"blur",o),n&&k3(f,S,n),lne(f,S,w,a,y,l),S.tabIndex=v===0?0:-1}return f}var cne=class{constructor(e,t,i){this.lastFocus=t,this.closeCallback=i,this.destroyFns=[],this.destroyFns.push(one(this.destroyFns,e,()=>this.close(!0))),this.destroyFns.push(ane(this.destroyFns,e,()=>this.close(!0)))}close(e){this.destroyFns.forEach(t=>t()),this.destroyFns.length=0,this.closeCallback(),this.finishClosing(e)}finishClosing(e){var t;this.destroyFns.forEach(i=>i()),this.destroyFns.length=0,kt(this.lastFocus,"aria-expanded",!1),e||(t=this.lastFocus)==null||t.focus({preventScroll:!0}),this.lastFocus=void 0}};function F3(e){var y;const{sourceEvent:t,orientation:i,menu:s,buttons:n,closeCallback:r,overrideFocusVisible:o,autoCloseOnBlur:a=!1}=e,{nextKey:l,prevKey:d}=kd[i],h=YR(t);kt(h,"aria-expanded",!0);const p=new cne(s,h,r),f=()=>p.close(),{destroyFns:v}=p;if(s.role="menu",s.ariaOrientation=i,v.push(...O3({orientation:i,buttons:n,onEscape:f,wrapAround:!0})),s.tabIndex=-1,k3(v,s,f),Lr(v,s,"keydown",S=>{var w;S.target===s&&(S.key===l||S.key===d)&&(S.preventDefault(),(w=n[0])==null||w.focus())}),a){const S=w=>{!n.includes(w.relatedTarget)&&f()};for(const w of n)Lr(v,w,"blur",S)}return(y=n[0])==null||y.focus({preventScroll:!0}),o!==void 0&&(n.forEach(w=>w.setAttribute("data-focus-visible-override",o.toString())),Lr(v,s,"keydown",()=>{n.forEach(w=>w.setAttribute("data-focus-visible-override","true"))},{once:!0})),p}function une(e,t){return i=>{if(e.ariaDisabled==="true")return i.preventDefault();t(i)}}function $R(e){return"button"in e?e.button===0:UC(e)&&(e.code==="Space"||e.key==="Enter")}function YR(e){if((e==null?void 0:e.target)instanceof HTMLElement&&"tabindex"in e.target.attributes)return e.target}function N3(e){const t=i=>{if(i.defaultPrevented)return;_C(i.target,"data-preventdefault",!0)&&UR(i,"ArrowRight","ArrowLeft","ArrowDown","ArrowUp")&&i.preventDefault()};return e.addEventListener("keydown",t),()=>e.removeEventListener("keydown",t)}var dne=class{constructor(e){this.callback=e,this.devicePixelRatio=Pt("devicePixelRatio")??1,this.devicePixelRatioMediaQuery=void 0,this.devicePixelRatioListener=t=>{t.matches||(this.devicePixelRatio=Pt("devicePixelRatio")??1,this.unregisterDevicePixelRatioListener(),this.registerDevicePixelRatioListener(),this.callback(this.pixelRatio))}}get pixelRatio(){return this.devicePixelRatio}observe(){this.registerDevicePixelRatioListener()}disconnect(){this.unregisterDevicePixelRatioListener()}unregisterDevicePixelRatioListener(){var e;(e=this.devicePixelRatioMediaQuery)==null||e.removeEventListener("change",this.devicePixelRatioListener),this.devicePixelRatioMediaQuery=void 0}registerDevicePixelRatioListener(){var t;const e=(t=Pt("matchMedia"))==null?void 0:t(`(resolution: ${this.pixelRatio}dppx)`);e==null||e.addEventListener("change",this.devicePixelRatioListener),this.devicePixelRatioMediaQuery=e}},z3=class{constructor(){var t;this.elements=new Map,this.documentReady=!1,this.queuedObserveRequests=[],this.onLoad=()=>{this.documentReady=!0,this.queuedObserveRequests.forEach(([i,s])=>this.observe(i,s)),this.queuedObserveRequests=[],this.observeWindow()},typeof ResizeObserver<"u"&&(this.resizeObserver=new ResizeObserver(i=>{for(const{target:s,contentRect:{width:n,height:r}}of i){const o=this.elements.get(s);this.checkSize(o,s,n,r)}}));let e;this.pixelRatioObserver=new dne(()=>{clearTimeout(e),e=setTimeout(()=>this.checkPixelRatio(),0)}),this.documentReady=ua("readyState")==="complete",this.documentReady?this.observeWindow():(t=Pt())==null||t.addEventListener("load",this.onLoad)}destroy(){var e,t,i;(e=Pt())==null||e.removeEventListener("load",this.onLoad),(t=this.resizeObserver)==null||t.disconnect(),this.resizeObserver=void 0,(i=this.pixelRatioObserver)==null||i.disconnect(),this.pixelRatioObserver=void 0}observeWindow(){var e;(e=this.pixelRatioObserver)==null||e.observe()}checkPixelRatio(){var t;const e=((t=this.pixelRatioObserver)==null?void 0:t.pixelRatio)??1;for(const[i,s]of this.elements)if(s.size!=null&&s.size.pixelRatio!==e){const{width:n,height:r}=s.size;s.size={width:n,height:r,pixelRatio:e},s.cb(s.size,i)}}checkSize(e,t,i,s){var n,r,o;if(e&&(i!==((n=e.size)==null?void 0:n.width)||s!==((r=e.size)==null?void 0:r.height))){const a=((o=this.pixelRatioObserver)==null?void 0:o.pixelRatio)??1;e.size={width:i,height:s,pixelRatio:a},e.cb(e.size,t)}}observe(e,t){var s;if(!this.documentReady){this.queuedObserveRequests.push([e,t]);return}this.elements.has(e)?this.removeFromQueue(e):(s=this.resizeObserver)==null||s.observe(e);const i={cb:t};this.elements.set(e,i)}unobserve(e){var t;(t=this.resizeObserver)==null||t.unobserve(e),this.elements.delete(e),this.removeFromQueue(e),this.elements.size||this.destroy()}removeFromQueue(e){this.queuedObserveRequests=this.queuedObserveRequests.filter(([t])=>t!==e)}},Kd=class extends Map{constructor(e,t){super(),this.defaultValue=e,this.defaultState=t}set(e,t){return this.delete(e),typeof t<"u"&&super.set(e,t),this}stateId(){return Array.from(this.keys()).pop()??this.defaultState}stateValue(){return Array.from(this.values()).pop()??this.defaultValue}},hne='<div role="presentation" class="ag-charts-wrapper ag-charts-styles" data-ag-charts><div role="presentation" class="ag-charts-canvas-center"><div role="presentation" class="ag-charts-canvas-container"><div role="presentation" class="ag-charts-canvas" aria-hidden="true"></div><div role="figure" class="ag-charts-canvas-proxy"><div role="presentation" class="ag-charts-series-area"></div></div><div role="presentation" class="ag-charts-canvas-overlay ag-charts-tooltip-container"></div></div></div></div>',gne=["styles","canvas","canvas-center","canvas-container","canvas-overlay","canvas-proxy","series-area","tooltip-container"],lP={safeHorizontal:"ag-charts-wrapper--safe-horizontal",safeVertical:"ag-charts-wrapper--safe-vertical"},pne=new Map([["styles",{childElementType:"style"}],["canvas",{childElementType:"canvas"}],["canvas-proxy",{childElementType:"div"}],["canvas-overlay",{childElementType:"div"}],["canvas-center",{childElementType:"div"}],["series-area",{childElementType:"div"}],["tooltip-container",{childElementType:"div"}]]);function fne(e,t){if(typeof IntersectionObserver>"u")return;const i=new IntersectionObserver(s=>{for(const n of s)n.target===e&&t(n.intersectionRatio)},{root:e});return i.observe(e),i}var B3={x:0,y:0,width:0,height:0,top:0,bottom:0,left:0,right:0,toJSON(){return B3}};function cP(e,t){const i=qe("div");return i.className="ag-charts-tab-guard",e.insertAdjacentElement(t,i),i}var KR=class wc extends Fl{constructor(t,i,s="normal"){super(),this.styleContainer=i,this.mode=s,this.anchorName=`--${En(this)}`,this.styles=new Map,this.pendingContainer=void 0,this.container=void 0,this.documentRoot=void 0,this.initiallyConnected=void 0,this.containerSize=void 0,this.sizeMonitor=new z3,this.cursorState=new Kd("default"),this.minWidth=0,this.minHeight=0,this.element=this.initDOM(),this.rootElements=this.initRootElements(),this.rootElements.canvas.element.style.setProperty("anchor-name",this.anchorName);let n=!1;if(this.observer=fne(this.element,r=>{r===0&&!n&&this.listeners.dispatch("hidden",{type:"hidden"}),n=r===0}),this.setSizeOptions(),this.updateContainerSize(),this.addStyles("ag-charts-community",nne),this.setContainer(t),this.destroyFns.push(N3(this.element)),this.mode==="normal"){const r=this.rootElements["canvas-center"].element;if(r==null)throw new Error("Error initializing tab guards");const o=cP(r,"beforebegin"),a=cP(r,"afterend");this.tabGuards=new rne(r,o,a)}}initDOM(){if(this.mode==="normal"){const s=qe("div");return s.innerHTML=hne,s.firstChild}const t=qe("div");t.role="presentation",t.classList.add("ag-charts-canvas-container","ag-charts-canvas","ag-charts-tooltip-container");const i=qe("div");return t.appendChild(i),i.role="presentation",i.classList.add("ag-charts-series-area"),t}initRootElements(){return gne.reduce((t,i)=>{const s=`ag-charts-${i}`;let n=this.element.classList.contains(s)?this.element:this.element.querySelector(`.${s}`);if(!n&&this.mode==="normal")throw new Error(`AG Charts - unable to find DOM element ${s}`);return n??(n=qe("div")),t[i]={element:n,children:new Map,listeners:[]},t},{})}destroy(){var t;super.destroy(),(t=this.observer)==null||t.unobserve(this.element),this.container&&this.sizeMonitor.unobserve(this.container),this.pendingContainer=void 0,Object.values(this.rootElements).forEach(i=>{i.children.forEach(s=>s.remove()),i.element.remove()}),this.element.remove()}postRenderUpdate(){this.mode!=="minimal"&&(this.pendingContainer==null||this.pendingContainer===this.container||(wc.batchedUpdateContainer.length===0&&Pt().setTimeout(this.applyBatchedUpdateContainer.bind(this),0),wc.batchedUpdateContainer.push(this)))}applyBatchedUpdateContainer(){for(const t of wc.batchedUpdateContainer)t.destroyed||t.updateContainer();wc.batchedUpdateContainer.splice(0)}setSizeOptions(t=300,i=300,s,n){const{style:r}=this.element;r.width=`${s??t}px`,r.height=`${n??i}px`,this.minWidth=s??t,this.minHeight=n??i,this.updateContainerClassName()}updateContainerSize(){const{style:t}=this.rootElements["canvas-center"].element;t.visibility=this.containerSize==null?"hidden":"",this.containerSize?(t.width=`${this.containerSize.width??0}px`,t.height=`${this.containerSize.height??0}px`):(t.width="",t.height=""),this.updateContainerClassName()}setTabGuardIndex(t){this.tabGuards&&(this.tabGuards.tabIndex=t)}setContainer(t){t!==this.container&&(this.pendingContainer=t,(this.mode==="minimal"||this.container==null)&&this.updateContainer())}updateContainer(){const{pendingContainer:t}=this;if(!(t==null||t===this.container)){if(this.container&&(this.container.removeChild(this.element),this.sizeMonitor.unobserve(this.container)),this.documentRoot!=null)for(const i of this.rootElements.styles.children.keys())this.removeChild("styles",i);this.container=t,this.pendingContainer=void 0,this.documentRoot=this.getShadowDocumentRoot(t),this.initiallyConnected=this.mode==="minimal"||t.isConnected;for(const[i,s]of this.styles)this.addStyles(i,s);t.appendChild(this.element),this.sizeMonitor.observe(t,i=>{this.containerSize=i,this.updateContainerSize(),this.listeners.dispatch("resize",{type:"resize"})}),this.listeners.dispatch("container-changed",{type:"container-changed"})}}setThemeClass(t){const i="ag-charts-theme-";this.element.classList.forEach(s=>{s.startsWith(i)&&s!==t&&this.element.classList.remove(s)}),this.element.classList.add(t)}setThemeParameters(t){const i={accentColor:"accent-color",axisColor:"axis-color",backgroundColor:"background-color",borderColor:"border-color",foregroundColor:"foreground-color",fontFamily:"font-family",fontSize:"font-size",fontWeight:"font-weight",gridLineColor:"grid-line-color",padding:"padding",subtleTextColor:"subtle-text-color",textColor:"text-color",chromeBackgroundColor:"chrome-background-color",chromeFontFamily:"chrome-font-family",chromeFontSize:"chrome-font-size",chromeFontWeight:"chrome-font-weight",chromeSubtleTextColor:"chrome-subtle-text-color",chromeTextColor:"chrome-text-color",inputBackgroundColor:"input-background-color",inputTextColor:"input-text-color",crosshairLabelBackgroundColor:"crosshair-label-background-color",crosshairLabelTextColor:"crosshair-label-text-color"},s=["fontSize","chromeFontSize"];for(const[n,r]of Tr(t)){let o=`${r}`;s.includes(n)&&(o=`${r}px`),this.element.style.setProperty(`--ag-charts-${i[n]}`,o)}}updateCanvasLabel(t){kt(this.rootElements["canvas-proxy"].element,"aria-label",t)}getEventElement(t,i){return["focus","blur","keydown","keyup"].includes(i)?this.rootElements["series-area"].element:t}addEventListener(t,i,s){this.getEventElement(this.element,t).addEventListener(t,i,s)}removeEventListener(t,i,s){this.getEventElement(this.element,t).removeEventListener(t,i,s)}getBoundingClientRect(){return this.rootElements.canvas.element.getBoundingClientRect()}getOverlayClientRect(){var n;const t=Pt(),i=new De(0,0,t.innerWidth,t.innerHeight),s=this.getRawOverlayClientRect();return((n=i.intersection(s))==null?void 0:n.toDOMRect())??B3}getRawOverlayClientRect(){var r,o,a;let t=this.element;const i=(r=this.element.getRootNode())==null?void 0:r.fullscreenElement;for(;t!=null;){let l;if(i!=null&&t===i)l=!0;else{const d=(o=t.computedStyleMap)==null?void 0:o.call(t),h=(a=d==null?void 0:d.get("overflow-y"))==null?void 0:a.toString();l=h==="auto"||h==="scroll"}if(l)return De.fromDOMRect(t.getBoundingClientRect());t=t.parentElement}if(this.documentRoot!=null)return De.fromDOMRect(this.documentRoot.getBoundingClientRect());const{innerWidth:s,innerHeight:n}=Pt();return new De(0,0,s,n)}getShadowDocumentRoot(t=this.container){var s;const i=((s=t==null?void 0:t.ownerDocument)==null?void 0:s.body)??ua("body");for(;t!=null;){if(t===i)return;if(t.parentNode instanceof DocumentFragment)return t;t=t.parentNode}}getParent(t){return this.rootElements[t].element}getChildBoundingClientRect(t){const{children:i}=this.rootElements[t],s=[];for(const n of i.values())s.push(De.fromDOMRect(n.getBoundingClientRect()));return De.merge(s)}isManagedChildDOMElement(t,i,s){const{children:n}=this.rootElements[i],r=n==null?void 0:n.get(s);return r!=null&&t.contains(r)}contains(t,i){return i==null?this.element.contains(t):this.rootElements[i].element.contains(t)}addStyles(t,i){const s="data-ag-charts";if(this.styles.set(t,i),this.container==null)return;const n=a=>a.getAttribute(s)===t,r=a=>{const l=new Set(["TITLE","META"]);let d=!0,h;for(const f of a.children){if(d&&l.has(f.tagName)){h=f;continue}if(d=!1,n(f))return;f.hasAttribute(s)&&(h=f)}const p=qe("style");return h==null?a.prepend(p):a.insertBefore(p,h.nextSibling),p};let o;this.styleContainer?o=r(this.styleContainer):this.initiallyConnected===!1?o=this.addChild("styles",t):this.documentRoot==null&&!wc.headStyles.has(t)?(o=r(ua("head")),wc.headStyles.add(t)):this.documentRoot!=null&&(o=this.addChild("styles",t)),!(o==null||n(o))&&(o.setAttribute(s,t),o.innerHTML=i)}removeStyles(t){this.removeChild("styles",t)}updateCursor(t,i){this.cursorState.set(t,i),this.element.style.cursor=this.cursorState.stateValue()}getCursor(){return this.element.style.cursor}addChild(t,i,s,n){const{element:r,children:o,listeners:a}=this.rootElements[t];if(!o)throw new Error("AG Charts - unable to create DOM elements after destroy()");if(o.has(i))return o.get(i);const{childElementType:l="div"}=pne.get(t)??{};if(s&&s.tagName.toLowerCase()!==l.toLowerCase())throw new Error("AG Charts - mismatching DOM element type");const d=s??qe(l);for(const[h,p,f]of a)d.addEventListener(h,p,f);if(o.set(i,d),n){const h=r.querySelector(n.query);if(h==null)throw new Error(`AG Charts - addChild query failed ${n.query}`);h.insertAdjacentElement(n.where,d)}else r==null||r.appendChild(d);return d}removeChild(t,i){var n;const{children:s}=this.rootElements[t];s&&((n=s.get(i))==null||n.remove(),s.delete(i))}incrementDataCounter(t){const{dataset:i}=this.element;i[t]??(i[t]="0"),i[t]=String(Number(i[t])+1)}setDataBoolean(t,i){this.element.dataset[t]=String(i)}updateContainerClassName(){const{element:t,containerSize:i,minWidth:s,minHeight:n}=this;t.classList.toggle(lP.safeHorizontal,s>=((i==null?void 0:i.width)??1/0)),t.classList.toggle(lP.safeVertical,n>=((i==null?void 0:i.height)??1/0))}};KR.batchedUpdateContainer=[];KR.headStyles=new Set;var G3=KR,mne=class extends Eo{constructor(){super(qe("div")),this.textElement=Ji("text"),this.textElement.role="presentation",this.svgElement=Ji("svg"),this.svgElement.appendChild(this.textElement),this.svgElement.style.width="100%",this.svgElement.style.opacity="0",this.svgElement.role="presentation",this.elem.appendChild(this.svgElement),this.elem.role="presentation"}set textContent(e){var s;this.textElement.textContent=e;const t=this.textElement,i=(s=t.getBBox)==null?void 0:s.call(t);i&&this.svgElement.setAttribute("viewBox",`${i.x} ${i.y} ${i.width} ${i.height}`)}get textContent(){return this.textElement.textContent}destructor(){}},Sf=class extends Eo{constructor(){super(qe("button")),this.setEnabled(!0)}destructor(){}setEnabled(e){kt(this.elem,"aria-disabled",!e),Rr(this.elem,"pointer-events",e?void 0:"none")}addListener(e,t){return super.addListener(e,(i,s)=>{(e==="click"||e==="dblclick")&&this.isDisabled()||t(i,s)})}},vne=class extends Eo{constructor(){super(qe("div")),kt(this.elem,"role","group")}destructor(){}},H3=class extends Eo{constructor(e,t){super(qe("div")),this.focusedChildIndex=0,this.onChildFocus=(i,s)=>{const n=this.children[this.focusedChildIndex];this.focusedChildIndex=s.index,n==null||n.setTabIndex(-1),s.setTabIndex(0)},this.onChildKeyDown=(i,s)=>{var l;const n=this.orientation,[r,o]=n==="both"?[kd.horizontal,kd.vertical]:[kd[n],void 0];let a=-1;if(UC(i.sourceEvent)){const d=i.sourceEvent.key;d===r.nextKey||d===(o==null?void 0:o.nextKey)?a=s.index+1:(d===r.prevKey||d===(o==null?void 0:o.prevKey))&&(a=s.index-1)}(l=this.children[a])==null||l.focus()},this.orientation=e,kt(this.elem,"role",t)}get orientation(){return _C(this.elem,"aria-orientation")??"both"}set orientation(e){kt(this.elem,"aria-orientation",e!=="both"?e:void 0)}focus(){var e;(e=this.children[this.focusedChildIndex])==null||e.focus()}onChildAdded(e){e.addListener("focus",this.onChildFocus),e.addListener("keydown",this.onChildKeyDown),e.setTabIndex(this.children.length===1?0:-1)}onChildRemoved(e){e.removeListener("focus",this.onChildFocus),e.removeListener("keydown",this.onChildKeyDown);const{focusedChildIndex:t,children:i}=this,s=t===e.index;for(let n=0;n<i.length;n++){const r=i[n];r.index===t&&(this.focusedChildIndex=n),r.index=n}if(s){const n=i[t]??i[t-1];n?(this.focusedChildIndex=n.index,n.setTabIndex(0)):this.focusedChildIndex=0}}},yne=class extends H3{constructor(){super("both","list"),this.setHidden(!0)}destructor(){this.children.forEach(e=>e.getElement().parentElement.remove())}addChildToDOM(e,t){const i=qe("div");kt(i,"role","listitem"),Rr(i,"position","absolute"),Eo.setElementContainer(e,i),this.appendOrInsert(i,t),this.setHidden(!1)}removeChildFromDOM(e){e.getElement().parentElement.remove(),this.setHidden(this.children.length===0)}setHidden(e){this.children.length===0&&(e=!0),super.setHidden(e)}},qd=class extends Eo{constructor(e){super(e)}destructor(){}},Cne=new Intl.NumberFormat("en-US",{style:"percent"});function ha(e,t=2){return typeof e=="number"?V3(e,t):typeof e=="string"?e:String(e??"")}function j3(e){return Cne.format(e)}var uP=new Map().set(2,new Intl.NumberFormat("en-US",{maximumFractionDigits:2,useGrouping:!1}));function V3(e,t){let i=uP.get(t);return i||(i=new Intl.NumberFormat("en-US",{maximumFractionDigits:t,useGrouping:!1}),uP.set(t,i)),i.format(e)}var qR=class Qg extends Eo{constructor(){super(qe("input")),this._step=Qg.STEP_ONE,this.orientation="both"}get step(){return this._step}set step(t){this._step=t,this.getElement().step=t.attributeValue}get keyboardStep(){var t;return((t=this._keyboardStep)==null?void 0:t.step)??this._step}set keyboardStep(t){var i;if(t!==((i=this._keyboardStep)==null?void 0:i.step)&&(this._keyboardStep!==void 0&&(this.removeListener("keydown",this._keyboardStep.onKeyDown),this.removeListener("keyup",this._keyboardStep.onKeyUp),this.removeListener("blur",this._keyboardStep.onBlur),this._keyboardStep=void 0),t!==void 0)){const s=()=>this.getElement().step=t.attributeValue,n=()=>this.getElement().step=this._step.attributeValue;this._keyboardStep={step:t,onKeyDown:s,onKeyUp:n,onBlur:n},this.addListener("keydown",this._keyboardStep.onKeyDown),this.addListener("keyup",this._keyboardStep.onKeyUp),this.addListener("blur",this._keyboardStep.onBlur)}}get orientation(){return _C(this.elem,"aria-orientation")??"both"}set orientation(t){kt(this.elem,"aria-orientation",t!=="both"?t:void 0),Qg.registerDefaultPreventers(this,t)}destructor(){}clampValueRatio(t,i){const s=this.getValueRatio(),n=Be(t,s,i);return n!==s&&this.setValueRatio(n),n}setValueRatio(t,i){const{divider:s}=this.step,n=Math.round(t*1e4)/s,{ariaValueText:r=j3(n/s)}=i??{},o=this.getElement();o.value=`${n}`,o.ariaValueText=r}getValueRatio(){return parseFloat(this.getElement().value)/this.step.divider}static registerDefaultPreventers(t,i){i==="both"?t.removeListener("keydown",Qg.onKeyDown):t.addListener("keydown",Qg.onKeyDown)}static onKeyDown(t,i){let s=[];const{orientation:n}=i;n==="horizontal"?s=["ArrowUp","ArrowDown"]:n==="vertical"&&(s=["ArrowLeft","ArrowRight"]),s.includes(t.sourceEvent.code)&&t.sourceEvent.preventDefault()}};qR.STEP_ONE={attributeValue:"1",divider:1};qR.STEP_HUNDRETH={attributeValue:"0.01",divider:100};var ZR=qR,bne=class extends Sf{constructor(){super(),kt(this.elem,"role","switch"),this.setChecked(!1)}setChecked(e){kt(this.elem,"aria-checked",e)}},$C=class extends H3{constructor(e="horizontal"){super(e,"toolbar")}destructor(){}};function ad(e,t){var i;return((i=t.params)==null?void 0:i.type)===e}function Sne(e){if(e==="button")return new Sf;if(e==="slider")return new ZR;if(e==="toolbar")return new $C;if(e==="group")return new vne;if(e==="list")return new yne;if(e==="region")return new qd(qe("div"));if(e==="text")return new mne;if(e==="listswitch")return new bne;throw Error("AG Charts - error allocating meta")}function dP(e){const t={params:e,result:void 0};return t.result=Sne(t.params.type),t}var _3=class{constructor(e,t){this.localeManager=e,this.domManager=t,this.destroyFns=[]}destroy(){this.destroyFns.forEach(e=>e())}addLocalisation(e){e(),this.destroyFns.push(this.localeManager.addListener("locale-changed",e))}createProxyContainer(e){const t=dP(e),{params:i,result:s}=t,n=s.getElement();return this.domManager.addChild("canvas-proxy",i.domManagerId,n),n.classList.add(...i.classList,"ag-charts-proxy-container"),n.role=i.type,"ariaOrientation"in i&&(n.ariaOrientation=i.ariaOrientation),ad("toolbar",t)&&(t.result.orientation=t.params.orientation),this.addLocalisation(()=>{n.ariaLabel=this.localeManager.t(i.ariaLabel.id,i.ariaLabel.params)}),s}createProxyElement(e){const t=dP(e);if(ad("button",t)){const{params:i,result:s}=t,n=s.getElement();if(this.initInteract(i,s),typeof i.textContent=="string")n.textContent=i.textContent;else{const{textContent:r}=i;this.addLocalisation(()=>{n.textContent=this.localeManager.t(r.id,r.params)})}this.setParent(t.params,t.result)}if(ad("slider",t)){const{params:i,result:s}=t,n=s.getElement();this.initInteract(i,s),n.type="range",n.role="presentation",n.style.margin="0px",this.addLocalisation(()=>{n.ariaLabel=this.localeManager.t(i.ariaLabel.id,i.ariaLabel.params)}),this.setParent(t.params,t.result)}if(ad("text",t)){const{params:i,result:s}=t;this.initElement(i,s),this.setParent(t.params,t.result)}if(ad("listswitch",t)){const{params:i,result:s}=t;this.initInteract(i,s),s.setTextContent(i.textContent),s.setChecked(i.ariaChecked),s.setAriaDescribedBy(i.ariaDescribedBy),this.setParent(t.params,t.result)}if(ad("region",t)){const{params:i,result:s}=t,n=s.getElement();this.initInteract(i,s),n.role="region",this.setParent(t.params,t.result)}return t.result}initElement(e,t){const i=t.getElement();return kt(i,"id",e.id),Rr(i,"cursor",e.cursor),i.classList.toggle("ag-charts-proxy-elem",!0),i}initInteract(e,t){const{tabIndex:i,domIndex:s}=e,n=this.initElement(e,t);i!==void 0&&(n.tabIndex=i),s!==void 0&&(t.domIndex=s)}setParent(e,t){var i;if("parent"in e)(i=e.parent)==null||i.addChild(t);else{const s={where:e.where,query:".ag-charts-series-area"};this.domManager.addChild("canvas-proxy",e.domManagerId,t.getElement(),s)}}},wne={ariaAnnounceHoverDatum:"${datum}",ariaAnnounceChart:"chart, ${seriesCount}[number] series",ariaAnnounceHierarchyChart:"hierarchy chart, ${caption}",ariaAnnounceGaugeChart:"gauge chart, ${caption}",ariaAnnounceHierarchyDatum:"level ${level}[number], ${count}[number] children, ${description}",ariaAnnounceFlowProportionLink:"link ${index} of ${count}, from ${from} to ${to}, ${sizeName} ${size}",ariaAnnounceFlowProportionNode:"node ${index} of ${count}, ${description}",ariaDescriptionLegendItem:"Press Space or Enter to toggle visibility",ariaLabelAddHorizontalLine:"Add Horizontal Line",ariaLabelAnnotationOptionsToolbar:"Annotation Options",ariaLabelAnnotationSettingsDialog:"Annotation Settings",ariaLabelColorPicker:"Color picker",ariaLabelFinancialCharts:"Financial Charts",ariaLabelLegend:"Legend",ariaLabelLegendPagination:"Legend Pagination",ariaLabelLegendPagePrevious:"Previous Legend Page",ariaLabelLegendPageNext:"Next Legend Page",ariaLabelLegendItem:"${label}, Legend item ${index}[number] of ${count}[number]",ariaLabelLegendItemUnknown:"Unknown legend item",ariaLabelNavigator:"Navigator",ariaLabelNavigatorRange:"Range",ariaLabelNavigatorMinimum:"Minimum",ariaLabelNavigatorMaximum:"Maximum",ariaLabelRangesToolbar:"Ranges",ariaLabelSettingsTabBar:"Settings",ariaLabelZoomToolbar:"Zoom",ariaValuePanRange:"${min}[percent0to2dp] to ${max}[percent0to2dp]",iconAltTextLineStyleSolid:"Solid",iconAltTextLineStyleDashed:"Long-dashed",iconAltTextLineStyleDotted:"Short-dashed",iconAltTextPositionTop:"Top",iconAltTextPositionCenter:"Center",iconAltTextPositionBottom:"Bottom",iconAltTextAlignLeft:"Left",iconAltTextAlignCenter:"Center",iconAltTextAlignRight:"Right",iconAltTextClose:"Close",overlayLoadingData:"Loading data...",overlayNoData:"No data to display",overlayNoVisibleSeries:"No visible series",overlayUnsupportedBrowser:"Incompatible browser version. Please upgrade your browser.",seriesHistogramTooltipFrequency:"Frequency",seriesHistogramTooltipSum:"${yName} (sum)",seriesHistogramTooltipCount:"${yName} (count)",seriesHistogramTooltipMean:"${yName} (mean)",toolbarSeriesTypeDropdown:"Chart Type",toolbarSeriesTypeOHLC:"OHLC",toolbarSeriesTypeHLC:"HLC",toolbarSeriesTypeHighLow:"High Low",toolbarSeriesTypeCandles:"Candles",toolbarSeriesTypeHollowCandles:"Hollow Candles",toolbarSeriesTypeLine:"Line",toolbarSeriesTypeLineWithMarkers:"Line with Markers",toolbarSeriesTypeStepLine:"Step Line",toolbarAnnotationsTrendLine:"Trend Line",toolbarAnnotationsFibonacciRetracement:"Fib Retracement",toolbarAnnotationsFibonacciRetracementTrendBased:"Fib Trend Based",toolbarAnnotationsHorizontalLine:"Horizontal Line",toolbarAnnotationsVerticalLine:"Vertical Line",toolbarAnnotationsParallelChannel:"Parallel Channel",toolbarAnnotationsDisjointChannel:"Disjoint Channel",toolbarAnnotationsClearAll:"Clear All",toolbarAnnotationsFillColor:"Fill Color",toolbarAnnotationsLineColor:"Line Color",toolbarAnnotationsLineStyle:"Line Style",toolbarAnnotationsLineStrokeWidth:"Line Stroke Width",toolbarAnnotationsSettings:"Settings",toolbarAnnotationsTextColor:"Text Color",toolbarAnnotationsTextSize:"Text Size",toolbarAnnotationsLock:"Lock",toolbarAnnotationsUnlock:"Unlock",toolbarAnnotationsDelete:"Delete",toolbarAnnotationsDragHandle:"Drag Toolbar",toolbarAnnotationsLineAnnotations:"Trend Lines",toolbarAnnotationsFibonacciAnnotations:"Fibonacci",toolbarAnnotationsTextAnnotations:"Text Annotations",toolbarAnnotationsShapeAnnotations:"Arrows",toolbarAnnotationsMeasurerAnnotations:"Measurers",toolbarAnnotationsCallout:"Callout",toolbarAnnotationsComment:"Comment",toolbarAnnotationsNote:"Note",toolbarAnnotationsText:"Text",toolbarAnnotationsArrow:"Arrow",toolbarAnnotationsArrowUp:"Arrow Up",toolbarAnnotationsArrowDown:"Arrow Down",toolbarAnnotationsDateRange:"Date Range",toolbarAnnotationsPriceRange:"Price Range",toolbarAnnotationsDatePriceRange:"Date and Price",toolbarAnnotationsQuickDatePriceRange:"Measure",toolbarRange1Month:"1M",toolbarRange1MonthAria:"1 month",toolbarRange3Months:"3M",toolbarRange3MonthsAria:"3 months",toolbarRange6Months:"6M",toolbarRange6MonthsAria:"6 months",toolbarRangeYearToDate:"YTD",toolbarRangeYearToDateAria:"Year to date",toolbarRange1Year:"1Y",toolbarRange1YearAria:"1 year",toolbarRangeAll:"All",toolbarRangeAllAria:"All",toolbarZoomZoomOut:"Zoom out",toolbarZoomZoomIn:"Zoom in",toolbarZoomPanLeft:"Pan left",toolbarZoomPanRight:"Pan right",toolbarZoomPanStart:"Pan to the start",toolbarZoomPanEnd:"Pan to the end",toolbarZoomReset:"Reset the zoom",contextMenuDownload:"Download",contextMenuToggleSeriesVisibility:"Toggle Visibility",contextMenuToggleOtherSeries:"Toggle Other Series",contextMenuZoomToCursor:"Zoom to here",contextMenuPanToCursor:"Pan to here",dialogHeaderChannel:"Channel",dialogHeaderLine:"Line",dialogHeaderFibonacciRange:"Fib Retracement",dialogHeaderDateRange:"Date Range",dialogHeaderPriceRange:"Price Range",dialogHeaderDatePriceRange:"Date and Price",dialogHeaderText:"Text",dialogInputAlign:"Align",dialogInputColorPicker:"Color",dialogInputColorPickerAltText:"Text Color",dialogInputFillColorPicker:"Fill",dialogInputFillColorPickerAltText:"Fill Color",dialogInputExtendChannelStart:"Extend channel start",dialogInputExtendChannelEnd:"Extend channel end",dialogInputExtendLineStart:"Extend line start",dialogInputExtendLineEnd:"Extend line end",dialogInputExtendAbove:"Extend above",dialogInputExtendBelow:"Extend below",dialogInputExtendLeft:"Extend left",dialogInputExtendRight:"Extend right",dialogInputReverse:"Reverse",dialogInputShowFill:"Show Fill",dialogInputFontSize:"Size",dialogInputFontSizeAltText:"Font Size",dialogInputLineStyle:"Dash",dialogInputPosition:"Position",dialogInputStrokeWidth:"Weight",dialogInputStrokeWidthAltText:"Line Weight",dialogInputFibonacciBands:"Bands",dialogInputFibonacciBandsAltText:"Fibonacci Bands",inputTextareaPlaceholder:"Add Text",measurerDateRangeBars:"${value}[number] bars",measurerPriceRangeValue:"${value}[number]",measurerPriceRangePercent:"${value}[percent]",measurerVolume:"Vol ${value}",tooltipPaginationStatus:"${index}[number] of ${count}[number]"},xne=/\$\{(\w+)}(?:\[(\w+)])?/gi,z0={number:new Intl.NumberFormat("en-US"),percent:new Intl.NumberFormat("en-US",{style:"percent",minimumFractionDigits:2,maximumFractionDigits:2}),percent0to2dp:new Intl.NumberFormat("en-US",{style:"percent",minimumFractionDigits:0,maximumFractionDigits:2}),date:new Intl.DateTimeFormat("en-US",{dateStyle:"full"}),time:new Intl.DateTimeFormat("en-US",{timeStyle:"full"}),datetime:new Intl.DateTimeFormat("en-US",{dateStyle:"full",timeStyle:"full"})},Mne=({defaultValue:e,variables:t})=>e==null?void 0:e.replaceAll(xne,(i,s,n)=>{const r=t[s],o=n!=null?z0[n]:null;return n!=null&&o==null&&me.warnOnce(`Format style [${n}] is not supported`),o!=null?o.format(r):typeof r=="number"?z0.number.format(r):r instanceof Date?z0.datetime.format(r):String(r)}),Dne=class extends ma{constructor(){super(...arguments),this.localeText=void 0,this.getLocaleText=void 0}setLocaleText(e){this.localeText!==e&&(this.localeText=e,this.dispatch("locale-changed"))}setLocaleTextFormatter(e){this.getLocaleText=e,this.getLocaleText!==e&&(this.getLocaleText=e,this.dispatch("locale-changed"))}t(e,t={}){const{localeText:i=wne,getLocaleText:s}=this,n=i[e];return(s==null?void 0:s({key:e,defaultValue:n,variables:t}))??Mne({defaultValue:n,variables:t})??e}},XR=class{constructor(e){this.enabled=!0,this.width=600,this.height=300;const{width:t,height:i,canvasElement:s,willReadFrequently:n=!1}=e;this.pixelRatio=e.pixelRatio??Pt("devicePixelRatio")??1,this.element=s??qe("canvas"),this.element.style.display="block",this.element.style.width=(t??this.width)+"px",this.element.style.height=(i??this.height)+"px",this.element.width=Math.round((t??this.width)*this.pixelRatio),this.element.height=Math.round((i??this.height)*this.pixelRatio),this.context=this.element.getContext("2d",{willReadFrequently:n}),this.onEnabledChange(),this.resize(t??0,i??0,this.pixelRatio),Z2(this.context)}drawImage(e,t=0,i=0){return e.drawImage(this.context.canvas,t,i)}toDataURL(e){return this.element.toDataURL(e)}resize(e,t,i){if(!(e>0&&t>0))return;const{element:s,context:n}=this;s.width=Math.round(e*i),s.height=Math.round(t*i),n.setTransform(i,0,0,i,0,0),s.style.width=e+"px",s.style.height=t+"px",this.width=e,this.height=t,this.pixelRatio=i}clear(){q2(this)}destroy(){this.element.remove(),this.element.width=0,this.element.height=0,this.context.clearRect(0,0,0,0),Object.freeze(this)}onEnabledChange(){this.element&&(this.element.style.display=this.enabled?"":"none")}};R([Ol(e=>e.onEnabledChange())],XR.prototype,"enabled",2);var Rne=class{constructor(e){this.canvas=e,this.debug=ht.create(!0,"scene"),this.layersMap=new Map,this.nextLayerId=0}get size(){return this.layersMap.size}resize(e,t,i){this.canvas.resize(e,t,i),this.layersMap.forEach(({canvas:s})=>s.resize(e,t,i))}addLayer(e){const{width:t,height:i,pixelRatio:s}=this.canvas,{name:n}=e,r=new xR({width:t,height:i,pixelRatio:s});return this.layersMap.set(r,{id:this.nextLayerId++,name:n,canvas:r}),this.debug("Scene.addLayer() - layers",this.layersMap),r}removeLayer(e){this.layersMap.has(e)&&(this.layersMap.delete(e),e.destroy(),this.debug("Scene.removeLayer() -  layers",this.layersMap))}clear(){for(const e of this.layersMap.values())e.canvas.destroy();this.layersMap.clear()}};function Ene(e){for(const t of["B","KB","MB","GB"]){if(e<1536)return`${e.toFixed(1)}${t}`;e/=1024}return`${e.toFixed(1)}TB}`}function Ane(){if(!("memory"in performance))return;const{totalJSHeapSize:e,usedJSHeapSize:t,jsHeapSizeLimit:i}=performance.memory,s=[];for(const n of[t,e,i])typeof n=="number"&&s.push(Ene(n));return`Heap ${s.join(" / ")}`}function hP(e,t,i,s,n={},r=De.zero){if(!ht.check("scene:stats","scene:stats:verbose"))return;const{layersRendered:o=0,layersSkipped:a=0,nodesRendered:l=0,nodesSkipped:d=0,opsPerformed:h=0,opsSkipped:p=0}=s??{},f=performance.now(),{start:v,...y}=t,S=Object.entries(y).map(([z,V])=>gP(z,V)).filter(z=>z!=null).join(" + "),w=Object.entries(n).map(([z,V])=>`${z}: ${JSON.stringify(V)}`).join(" ; "),b=ht.check("scene:stats:verbose"),x=Ane(),D=[`${gP("",v,f)} (${S})`,`${w}`,`Layers: ${b?B0(o,a):e.size}`,b?`Nodes: ${B0(l,d)}`:null,b?`Ops: ${B0(h,p)}`:null,b&&x?x:null].filter(es),E=new jR(z=>i.measureText(z)),T=new Map(D.map(z=>[z,E.measureLines(z)])),k=Math.max(...Array.from(T.values(),z=>z.width)),P=One(T.values(),z=>z.height),O=2+r.x;i.save(),i.fillStyle="white",i.fillRect(O,0,k,P),i.fillStyle="black";let F=0;for(const[z,V]of T.entries())F+=V.height,i.fillText(z,O,F);i.restore()}function Tne(e){const t=Ly(Pt("agChartsSceneDebug")),i=[];for(const s of t)s==="layout"?i.push("seriesRoot","legend","root",/.*Axis-\d+-axis.*/):i.push(s);e.debugNodeSearch=i}function Ine(e,t){e.save();for(const[i,s]of Object.entries(t)){const n=hi.toCanvas(s);if(!n){me.log(`Scene.render() - no bbox for debugged node [${i}].`);continue}e.globalAlpha=.8,e.strokeStyle="red",e.lineWidth=1,e.strokeRect(n.x,n.y,n.width,n.height),e.fillStyle="red",e.strokeStyle="white",e.font="16px sans-serif",e.textBaseline="top",e.textAlign="left",e.lineWidth=2,e.strokeText(i,n.x,n.y,n.width),e.fillText(i,n.x,n.y,n.width)}e.restore()}var Lne=new Set,kne=new Set(["gradient","zIndex","clipRect","cachedBBox","childNodeCounts","path","__zIndex","name","__scalingCenterX","__scalingCenterY","__rotationCenterX","__rotationCenterY","_previousDatum","__fill","__lineDash","borderPath","borderClipPath","_clipPath"]);function Pne(e){const{...t}=e;for(const i of Object.keys(t))kne.has(i)||typeof t[i]!="number"&&typeof t[i]!="string"&&typeof t[i]!="boolean"&&(Lne.add(i),delete t[i]);return t}function Zv(e,t){if(!ht.check(!0,"scene"))return{};let i=0;return{node:t==="json"?Pne(e):e,name:e.name??e.id,dirty:e.dirty,...Array.from(e.children(),s=>Zv(s,t)).reduce((s,n)=>{let{name:r}=n;const{node:{visible:o,opacity:a,zIndex:l,translationX:d,translationY:h,rotation:p,scalingX:f,scalingY:v},node:y}=n;(!o||a<=0)&&(r=`(${r})`),Ne.is(y)&&y.renderToOffscreenCanvas&&(r=`*${r}*`);const S=Array.isArray(l)?`(${l.join(", ")})`:l,w=[`${(i++).toString().padStart(3,"0")}|`,`${r??"<unknown>"}`,`z: ${S}`,d&&`x: ${d}`,h&&`y: ${h}`,p&&`r: ${p}`,f!=null&&f!==1&&`sx: ${f}`,v!=null&&v!==1&&`sy: ${v}`].filter(D=>!!D).join(" ");let b=w,x=1;for(;s[b]!=null&&x<100;)b=`${w} (${x++})`;return s[b]=n,s},{})}}function W3(e){if(!e.dirty)return{dirtyTree:{},paths:[]};const t=Array.from(e.children(),n=>W3(n)).filter(n=>n.paths.length>0),i=Ne.is(e)?e.name??e.id:e.id,s=t.length?t.flatMap(n=>n.paths).map(n=>`${i}.${n}`):[i];return{dirtyTree:{name:i,node:e,dirty:e.dirty,...t.map(n=>n.dirtyTree).filter(n=>n.dirty!=null).reduce((n,r)=>(n[r.name??"<unknown>"]=r,n),{})},paths:s}}function B0(e,t){const i=e+t;return`${e} / ${i} (${Math.round(100*e/i)}%)`}function gP(e,t,i){const s=i!=null?i-t:t;return`${e}: ${Math.round(s*100)/100}ms`}function One(e,t){let i=0;for(const s of e)i+=t(s);return i}var YC=class{constructor(e){this.debug=ht.create(!0,"scene"),this.id=En(this),this.root=null,this.pendingSize=null,this.isDirty=!1,this.updateDebugFlags(),this.canvas=new XR(e),this.layersManager=new Rne(this.canvas)}get width(){var e;return((e=this.pendingSize)==null?void 0:e[0])??this.canvas.width}get height(){var e;return((e=this.pendingSize)==null?void 0:e[1])??this.canvas.height}get pixelRatio(){var e;return((e=this.pendingSize)==null?void 0:e[2])??this.canvas.pixelRatio}setContainer(e){var i;const{element:t}=this.canvas;return(i=t.parentElement)==null||i.removeChild(t),e.appendChild(t),this}setRoot(e){var t;return this.root===e?this:(this.isDirty=!0,(t=this.root)==null||t._setLayerManager(),this.root=e,e&&(e.visible=!0,e._setLayerManager(this.layersManager)),this)}updateDebugFlags(){ht.inDevelopmentMode(()=>da._debugEnabled=!0)}clear(){this.canvas.clear()}attachNode(e){return this.appendChild(e),()=>this.removeChild(e)}appendChild(e){var t;return(t=this.root)==null||t.appendChild(e),this}removeChild(e){var t;return(t=this.root)==null||t.removeChild(e),this}download(e,t){mte(this.canvas.toDataURL(t),(e==null?void 0:e.trim())??"image")}getDataURL(e){return this.canvas.toDataURL(e)}resize(e,t,i){return e=Math.round(e),t=Math.round(t),i??(i=this.pixelRatio),e>0&&t>0&&(e!==this.width||t!==this.height||i!==this.pixelRatio)?(this.pendingSize=[e,t,i],this.isDirty=!0,!0):!1}render(e){var S;const{debugSplitTimes:t={start:performance.now()},extraDebugStats:i,seriesRect:s}=e??{},{canvas:n,canvas:{context:r}={},root:o,pendingSize:a,width:l,height:d,pixelRatio:h}=this;if(!r)return;const p=performance.now();let f=!1;if(a&&(f=!0,this.layersManager.resize(...a),this.pendingSize=null),o&&!o.visible){this.isDirty=!1;return}if((o==null?void 0:o.dirty)===!1&&!this.isDirty){this.debug.check()&&this.debug("Scene.render() - no-op",{tree:Zv(o,"console")}),hP(this.layersManager,t,r,void 0,i,s);return}const v={ctx:r,width:l,height:d,devicePixelRatio:h,debugNodes:{}};ht.check("scene:stats:verbose")&&(v.stats={layersRendered:0,layersSkipped:0,nodesRendered:0,nodesSkipped:0,opsPerformed:0,opsSkipped:0}),Tne(v);let y=!1;if(((o==null?void 0:o.dirty)!==!1||f)&&(y=!0,n.clear()),o&&ht.check("scene:dirtyTree")){const{dirtyTree:w,paths:b}=W3(o);ht.create("scene:dirtyTree")("Scene.render() - dirtyTree",{dirtyTree:w,paths:b})}if(o&&y){if(o.visible&&o.preRender(v),this.debug.check()){const w=Zv(o,"console");this.debug("Scene.render() - before",{canvasCleared:y,tree:w})}o.visible&&(r.save(),o.render(v),r.restore())}t[""]=performance.now()-p,(S=r.verifyDepthZero)==null||S.call(r),this.isDirty=!1,hP(this.layersManager,t,r,v.stats,i,s),Ine(r,v.debugNodes),o&&this.debug.check()&&this.debug("Scene.render() - after",{tree:Zv(o,"console"),canvasCleared:y})}toSVG(){const{root:e,width:t,height:i}=this;if(e!=null)return da.toSVG(e,t,i)}strip(){const{context:e,pixelRatio:t}=this.canvas;e.setTransform(t,0,0,t,0,0),this.layersManager.clear(),this.setRoot(null),this.isDirty=!1}destroy(){this.strip(),this.canvas.destroy(),Object.assign(this,{canvas:void 0})}};YC.className="Scene";function Fne(e,t){return"context"in e}function QR(e,t,i){return Fne(e)&&i[0]!=null&&typeof i[0]=="object"&&(i[0].context=e.context),t(...i)}var Nne=class{constructor(){this.cache=new WeakMap}call(e,t,...i){let s,n=this.cache.get(t);try{s=JSON.stringify(i)}catch{return this.invoke(e,t,i,n)}return n==null&&(n=new Map,this.cache.set(t,n)),n.has(s)?n.get(s):this.invoke(e,t,i,n,s)}invoke(e,t,i,s,n){try{const r=QR(e,t,i);return s&&n!=null&&s.set(n,r),r}catch(r){me.warnOnce("User callback errored, ignoring",r);return}}invalidateCache(){this.cache=new WeakMap}},zne=class extends Fl{constructor(e,t){super(),this.annotationRoot=e,this.fireChartEvent=t,this.mementoOriginatorKey="annotations",this.annotations=[]}createMemento(){return this.annotations}guardMemento(e){return e==null||$e(e)}restoreMemento(e,t,i){this.annotations=this.cleanData(i??[]).map(s=>{const n=this.getAnnotationTypeStyles(s.type);return Je(s,n)}),this.listeners.dispatch("restore-annotations",{type:"restore-annotations",annotations:this.annotations})}updateData(e){this.annotations=this.cleanData(e??[])}fireChangedEvent(){this.fireChartEvent({type:"annotations",annotations:Vt([...this.annotations])})}attachNode(e){return this.annotationRoot.append(e),()=>{var t;return(t=this.annotationRoot)==null||t.removeChild(e),this}}setAnnotationStyles(e){this.styles=e}getAnnotationTypeStyles(e){var t;return(t=this.styles)==null?void 0:t[e]}cleanData(e){for(const t of e)"textAlign"in t&&delete t.textAlign;return e}},U3=(e=>(e[e.CHART_BACKGROUND=0]="CHART_BACKGROUND",e[e.AXIS_GRID=1]="AXIS_GRID",e[e.AXIS=2]="AXIS",e[e.ZOOM_SELECTION=3]="ZOOM_SELECTION",e[e.SERIES_CROSSLINE_RANGE=4]="SERIES_CROSSLINE_RANGE",e[e.SERIES_LAYER=5]="SERIES_LAYER",e[e.AXIS_FOREGROUND=6]="AXIS_FOREGROUND",e[e.SERIES_CROSSHAIR=7]="SERIES_CROSSHAIR",e[e.SERIES_CROSSLINE_LINE=8]="SERIES_CROSSLINE_LINE",e[e.SERIES_ANNOTATION=9]="SERIES_ANNOTATION",e[e.CHART_ANNOTATION=10]="CHART_ANNOTATION",e[e.CHART_ANNOTATION_FOCUSED=11]="CHART_ANNOTATION_FOCUSED",e[e.STATUS_BAR=12]="STATUS_BAR",e[e.SERIES_LABEL=13]="SERIES_LABEL",e[e.LEGEND=14]="LEGEND",e[e.NAVIGATOR=15]="NAVIGATOR",e[e.FOREGROUND=16]="FOREGROUND",e))(U3||{}),Bne=class{constructor(e){this.sceneRoot=e,this.axes=new Map,this.axisGridGroup=new Ne({name:"Axes-Grids",zIndex:1}),this.axisGroup=new Ne({name:"Axes",zIndex:2}),this.axisLabelGroup=new Ne({name:"Axes-Labels",zIndex:13}),this.axisCrosslineRangeGroup=new Ne({name:"Axes-Crosslines-Range",zIndex:4}),this.axisCrosslineLineGroup=new Ne({name:"Axes-Crosslines-Line",zIndex:8}),this.axisCrosslineLabelGroup=new Ne({name:"Axes-Crosslines-Label",zIndex:13}),this.sceneRoot.appendChild(this.axisGroup),this.sceneRoot.appendChild(this.axisGridGroup),this.sceneRoot.appendChild(this.axisLabelGroup),this.sceneRoot.appendChild(this.axisCrosslineRangeGroup),this.sceneRoot.appendChild(this.axisCrosslineLineGroup),this.sceneRoot.appendChild(this.axisCrosslineLabelGroup)}updateAxes(e,t){var s;const i={axisNode:this.axisGroup,gridNode:this.axisGridGroup,labelNode:this.axisLabelGroup,crossLineRangeNode:this.axisCrosslineRangeGroup,crossLineLineNode:this.axisCrosslineLineGroup,crossLineLabelNode:this.axisCrosslineLabelGroup};for(const n of e)t.includes(n)||(n.detachAxis(i),n.destroy());for(const n of t)e!=null&&e.includes(n)||n.attachAxis(i);this.axes.clear();for(const n of t){const r=n.createAxisContext();this.axes.has(r.direction)?(s=this.axes.get(r.direction))==null||s.push(r):this.axes.set(r.direction,[r])}}getAxisContext(e){return this.axes.get(e)??[]}destroy(){this.axes.clear(),this.sceneRoot.removeChild(this.axisGroup),this.sceneRoot.removeChild(this.axisGridGroup)}},KC=class extends ma{constructor(e){super(),this.animationManager=e,this.dispatchOnlyLatest=!0,this.dispatchThrottle=0,this.requestThrottle=300,this.isLoadingInitialData=!1,this.isLoadingData=!1,this.freshRequests=[],this.requestCounter=0,this.debug=ht.create(!0,"data-model","data-source"),this.throttledFetch=this.createThrottledFetch(this.requestThrottle),this.throttledDispatch=this.createThrottledDispatch(this.dispatchThrottle)}updateCallback(e){typeof e=="function"&&(this.debug("DataService - updated data source callback"),this.dataSourceCallback=e,this.isLoadingInitialData=!0,this.animationManager.skip(),this.dispatch("data-source-change"))}clearCallback(){this.dataSourceCallback=void 0}load(e){this.isLoadingData=!0,this.throttledFetch(e)}isLazy(){return this.dataSourceCallback!=null}isLoading(){return this.isLazy()&&(this.isLoadingInitialData||this.isLoadingData)}createThrottledFetch(e){return Yk(t=>this.fetch(t).catch(i=>me.error("callback failed",i)),e,{leading:!1,trailing:!0})}createThrottledDispatch(e){return Yk((t,i)=>{this.debug(`DataService - dispatching 'data-load' | ${t}`),this.dispatch("data-load",{type:"data-load",data:i})},e,{leading:!0,trailing:!0})}async fetch(e){if(!this.dataSourceCallback)throw new Error("DataService - [dataSource.getData] callback not initialised");const t=performance.now(),i=this.requestCounter++;this.debug(`DataService - requesting | ${i}`),this.freshRequests.push(i);let s;try{s=await this.dataSourceCallback(e),this.debug(`DataService - response | ${performance.now()-t}ms | ${i}`)}catch(r){this.debug(`DataService - request failed | ${i}`),me.errorOnce(`DataService - request failed | [${r}]`)}this.isLoadingInitialData=!1;const n=this.freshRequests.findIndex(r=>r===i);if(n===-1||this.dispatchOnlyLatest&&n!==this.freshRequests.length-1){this.debug(`DataService - discarding stale request | ${i}`);return}this.freshRequests=this.freshRequests.slice(n+1),this.freshRequests.length===0&&(this.isLoadingData=!1),Array.isArray(s)?this.throttledDispatch(i,s):this.dispatch("data-error")}};R([an({newValue(e){this.throttledDispatch=this.createThrottledDispatch(e)}})],KC.prototype,"dispatchThrottle",2);R([an({newValue(e){this.throttledFetch=this.createThrottledFetch(e)}})],KC.prototype,"requestThrottle",2);function Gne(e,t){return i=>Number(e)*(1-i)+Number(t)*i}function $3(e,t){if(typeof e=="string")try{e=yt.fromString(e)}catch{e=yt.fromArray([0,0,0])}if(typeof t=="string")try{t=yt.fromString(t)}catch{t=yt.fromArray([0,0,0])}return i=>yt.mix(e,t,i).toRgbaString()}var zM={};Gr(zM,{easeIn:()=>Hne,easeInOut:()=>jne,easeInOutQuad:()=>Wne,easeInQuad:()=>Vne,easeOut:()=>Hp,easeOutQuad:()=>_ne,inverseEaseOut:()=>K3,linear:()=>Y3});var Y3=e=>e,Hne=e=>1-Math.cos(e*Math.PI/2),Hp=e=>Math.sin(e*Math.PI/2),jne=e=>-(Math.cos(e*Math.PI)-1)/2,Vne=e=>e*e,_ne=e=>1-(1-e)**2,Wne=e=>e<.5?2*e*e:1-(-2*e+2)**2/2,K3=e=>2*Math.asin(e)/Math.PI,Wy=.2,fd=["initial","remove","update","add","trailing","end","none"],jp={initial:{animationDuration:1,animationDelay:0},add:{animationDuration:.25,animationDelay:.75},remove:{animationDuration:.25,animationDelay:0},update:{animationDuration:.5,animationDelay:.25},trailing:{animationDuration:Wy,animationDelay:1,skipIfNoEarlierAnimations:!0},end:{animationDelay:1+Wy,animationDuration:0,skipIfNoEarlierAnimations:!0},none:{animationDuration:0,animationDelay:0}},q3=(e=>(e.Loop="loop",e.Reverse="reverse",e))(q3||{});function Une(e){return e.every(t=>t instanceof da)}function qC(e){return Une(e)?{nodes:e,selections:[]}:{nodes:[],selections:e}}function BM(e,t){return e===t?!0:Array.isArray(e)&&Array.isArray(t)?e.length===t.length&&e.every((i,s)=>BM(i,t[s])):ky(e)&&ky(t)?e.equals(t):bi(e)&&bi(t)?DR(e,t,BM):!1}var Z3=class{constructor(e){var i,s,n;this.isComplete=!1,this.elapsed=0,this.iteration=0,this.isPlaying=!1,this.isReverse=!1,this.id=e.id,this.groupId=e.groupId,this.autoplay=e.autoplay??!0,this.ease=e.ease??Y3,this.phase=e.phase;const t=e.duration??jp[this.phase].animationDuration;this.duration=t*e.defaultDuration,this.delay=(e.delay??0)*e.defaultDuration,this.onComplete=e.onComplete,this.onPlay=e.onPlay,this.onStop=e.onStop,this.onUpdate=e.onUpdate,this.interpolate=this.createInterpolator(e.from,e.to),this.from=e.from,e.skip===!0&&((i=this.onUpdate)==null||i.call(this,e.to,!1,this),(s=this.onStop)==null||s.call(this,this),(n=this.onComplete)==null||n.call(this,this),this.isComplete=!0),e.collapsable!==!1&&(this.duration=this.checkCollapse(e,this.duration))}checkCollapse(e,t){return BM(e.from,e.to)?0:t}play(e=!1){var t,i;this.isPlaying||this.isComplete||(this.isPlaying=!0,(t=this.onPlay)==null||t.call(this,this),this.autoplay&&(this.autoplay=!1,e&&((i=this.onUpdate)==null||i.call(this,this.from,!0,this))))}stop(){var e;this.isPlaying=!1,this.isComplete||(this.isComplete=!0,(e=this.onStop)==null||e.call(this,this))}update(e){var n,r;if(this.isComplete)return e;!this.isPlaying&&this.autoplay&&this.play(!0);const t=this.elapsed;if(this.elapsed+=e,this.delay>this.elapsed)return 0;const i=this.interpolate(this.isReverse?1-this.delta:this.delta);(n=this.onUpdate)==null||n.call(this,i,!1,this);const s=this.delay+this.duration;return this.elapsed>=s?(this.stop(),this.isComplete=!0,(r=this.onComplete)==null||r.call(this,this),e-(s-t)):0}get delta(){return this.ease(Be(0,(this.elapsed-this.delay)/this.duration,1))}createInterpolator(e,t){if(typeof t!="object"||ky(t))return this.interpolateValue(e,t);const i=[];for(const s of Object.keys(t)){const n=this.interpolateValue(e[s],t[s]);n!=null&&i.push([s,n])}return s=>{const n={};for(const[r,o]of i)n[r]=o(s);return n}}interpolateValue(e,t){if(!(e==null||t==null)){if(ky(e))return i=>e[kC](t,i);try{switch(typeof e){case"number":return Gne(e,t);case"string":return $3(e,t);case"boolean":if(e===t)return()=>e;break;case"object":return()=>e}}catch{}throw new Error(`Unable to interpolate values: ${e}, ${t}`)}}},pP=class{constructor(e){this.maxAnimationTime=e,this.debug=ht.create(!0,"animation"),this.controllers=new Map,this.stoppedCbs=new Set,this.currentPhase=0,this.phases=new Map(fd.map(t=>[t,[]])),this.skipAnimations=!1,this.animationTimeConsumed=0,this.isReady=!1}get size(){return this.controllers.size}get consumedTimeMs(){return this.animationTimeConsumed}isActive(){return this.controllers.size>0}getActiveControllers(){return this.phases.get(fd[this.currentPhase])??[]}checkOverlappingId(e){e!=null&&this.controllers.has(e)&&(this.controllers.get(e).stop(),this.debug(`Skipping animation batch due to update of existing animation: ${e}`),this.skip())}addAnimation(e){var i;if(e.isComplete)return;if(fd.indexOf(e.phase)<this.currentPhase){this.debug("Skipping animation due to being for an earlier phase",e.id),e.stop();return}this.controllers.set(e.id,e),(i=this.phases.get(e.phase))==null||i.push(e)}removeAnimation(e){this.controllers.delete(e.id);const t=this.phases.get(e.phase),i=t==null?void 0:t.indexOf(e);i!=null&&i>=0&&(t==null||t.splice(i,1))}progress(e){if(!this.isReady)return;let t=e===0?.01:e;const i=()=>{const d=fd[this.currentPhase];return{phaseControllers:[...this.getActiveControllers()],phase:d,phaseMeta:jp[d]}};let{phase:s,phaseControllers:n,phaseMeta:r}=i();const o=()=>fd[this.currentPhase]==null,a=()=>{for({phase:s,phaseControllers:n,phaseMeta:r}=i();!o()&&n.length===0;)this.currentPhase++,{phase:s,phaseControllers:n,phaseMeta:r}=i(),this.debug(`AnimationBatch - phase changing to ${s}`,{unusedTime:t},n)},l=this.controllers.size;this.debug(`AnimationBatch - ${e}ms; phase ${s} with ${n==null?void 0:n.length} of ${l}`);do{const d=t,h=r.skipIfNoEarlierAnimations&&this.animationTimeConsumed===0;let p=0;for(const f of n)h?f.stop():t=Math.min(f.update(d),t),f.isComplete&&(p++,this.removeAnimation(f));this.animationTimeConsumed+=d-t,this.debug(`AnimationBatch - updated ${n.length} controllers; ${p} completed`),this.debug(`AnimationBatch - animationTimeConsumed: ${this.animationTimeConsumed}`),a()}while(t>0&&!o());this.animationTimeConsumed>this.maxAnimationTime&&(this.debug("Animation batch exceeded max animation time, skipping",[...this.controllers]),this.stop())}ready(){if(this.isReady)return;this.isReady=!0,this.debug(`AnimationBatch - ready; skipped: ${this.skipAnimations}`,[...this.controllers]);let e=!0;for(const[,t]of this.controllers)if(t.duration>0&&jp[t.phase].skipIfNoEarlierAnimations!==!0){e=!1;break}if(!e)for(const[,t]of this.controllers)t.autoplay&&t.play(!0)}skip(e=!0){if(this.skipAnimations===!1&&e===!0){for(const t of this.controllers.values())t.stop();this.controllers.clear()}this.skipAnimations=e}play(){for(const e of this.controllers.values())e.play()}stop(){for(const e of this.controllers.values())try{e.stop(),this.removeAnimation(e)}catch(t){me.error("Error during animation stop",t)}this.dispatchStopped()}stopByAnimationId(e){if(e!=null&&this.controllers.has(e)){const t=this.controllers.get(e);t&&(t.stop(),this.removeAnimation(t))}}stopByAnimationGroupId(e){for(const t of this.controllers.values())t.groupId===e&&this.stopByAnimationId(t.id)}dispatchStopped(){this.stoppedCbs.forEach(e=>e()),this.stoppedCbs.clear()}isSkipped(){return this.skipAnimations}destroy(){this.stop(),this.controllers.clear()}},X3=(e=>(e[e.Default=32]="Default",e[e.ZoomDrag=16]="ZoomDrag",e[e.Annotations=8]="Annotations",e[e.ContextMenu=4]="ContextMenu",e[e.Animation=2]="Animation",e[e.AnnotationsSelected=1]="AnnotationsSelected",e[e.Clickable=41]="Clickable",e[e.Focusable=34]="Focusable",e[e.Keyable=43]="Keyable",e[e.ContextMenuable=36]="ContextMenuable",e[e.AnnotationsMoveable=9]="AnnotationsMoveable",e[e.AnnotationsDraggable=57]="AnnotationsDraggable",e[e.ZoomDraggable=50]="ZoomDraggable",e[e.ZoomClickable=34]="ZoomClickable",e[e.ZoomWheelable=59]="ZoomWheelable",e[e.All=63]="All",e))(X3||{}),Q3=class{constructor(){this.stateQueue=34}pushState(e){this.stateQueue|=e}popState(e){this.stateQueue&=~e}isState(e){return!!(this.stateQueue&-this.stateQueue&e)}};function fP(e){return e==null?!0:!isNaN(e)&&e>=0&&e<=2}var J3=class{constructor(e,t){this.interactionManager=e,this.chartUpdateMutex=t,this.defaultDuration=1e3,this.batch=new pP(this.defaultDuration*1.5),this.debug=ht.create(!0,"animation"),this.events=new fR,this.rafAvailable=typeof requestAnimationFrame<"u",this.isPlaying=!0,this.requestId=null,this.skipAnimations=!0,this.currentAnonymousAnimationId=0}addListener(e,t){return this.events.on(e,t)}animate(e){const t=this.batch;try{t.checkOverlappingId(e.id)}catch(a){this.failsafeOnError(a);return}let{id:i}=e;i==null&&(i=`__${this.currentAnonymousAnimationId}`,this.currentAnonymousAnimationId+=1);const s=this.isSkipped()||e.phase==="none";s&&this.debug("AnimationManager - skipping animation");const{delay:n,duration:r}=e;if(!fP(n))throw new Error(`Animation delay of ${n} is unsupported (${i})`);if(!fP(r))throw new Error(`Animation duration of ${r} is unsupported (${i})`);const o=new Z3({...e,id:i,skip:s,autoplay:this.isPlaying?e.autoplay:!1,phase:e.phase,defaultDuration:this.defaultDuration});if(!this.forceTimeJump(o,this.defaultDuration))return this.batch.addAnimation(o),o}play(){if(!this.isPlaying){this.isPlaying=!0,this.debug("AnimationManager.play()");try{this.batch.play()}catch(e){this.failsafeOnError(e)}this.requestAnimation()}}stop(){this.isPlaying=!1,this.cancelAnimation(),this.debug("AnimationManager.stop()"),this.batch.stop()}stopByAnimationId(e){try{this.batch.stopByAnimationId(e)}catch(t){this.failsafeOnError(t)}}stopByAnimationGroupId(e){try{this.batch.stopByAnimationGroupId(e)}catch(t){this.failsafeOnError(t)}}reset(){this.isPlaying?(this.stop(),this.play()):this.stop()}skip(e=!0){this.skipAnimations=e}isSkipped(){return!this.rafAvailable||this.skipAnimations||this.batch.isSkipped()}isActive(){return this.isPlaying&&this.batch.isActive()}skipCurrentBatch(){this.debug.check()&&this.debug("AnimationManager - skipCurrentBatch()",{stack:new Error().stack}),this.batch.skip()}isSkippingFrames(){return!0}scheduleAnimationFrame(e){this.requestId=Pt().requestAnimationFrame(t=>{e(t).catch(i=>me.error(i))})}forceTimeJump(e,t){return!1}requestAnimation(){if(!this.rafAvailable||!this.batch.isActive()||this.requestId!==null)return;let e;const t=async i=>{const s=()=>{const n=i-(e??i);e=i,this.debug("AnimationManager - onAnimationFrame()",{controllersCount:this.batch.size,deltaTime:n}),this.interactionManager.pushState(2);try{this.batch.progress(n)}catch(r){this.failsafeOnError(r)}this.events.emit("animation-frame",{type:"animation-frame",deltaMs:n})};this.isSkippingFrames()?await this.chartUpdateMutex.acquireImmediately(s):await this.chartUpdateMutex.acquire(s),this.batch.isActive()?this.scheduleAnimationFrame(t):(this.batch.stop(),this.events.emit("animation-stop",{type:"animation-stop",deltaMs:this.batch.consumedTimeMs}))};this.events.emit("animation-start",{type:"animation-start",deltaMs:0}),this.scheduleAnimationFrame(t)}cancelAnimation(){this.requestId!==null&&(cancelAnimationFrame(this.requestId),this.requestId=null,this.startBatch())}failsafeOnError(e,t=!0){me.error("Error during animation, skipping animations",e),t&&this.cancelAnimation()}startBatch(e){this.debug(`AnimationManager - startBatch() with skipAnimations=${e}.`),this.reset(),this.batch.destroy(),this.batch=new pP(this.defaultDuration*1.5),e===!0&&this.batch.skip()}endBatch(){this.batch.isActive()?(this.batch.ready(),this.requestAnimation()):(this.interactionManager.popState(2),this.batch.isSkipped()&&this.batch.skip(!1))}onBatchStop(e){this.batch.stoppedCbs.add(e)}destroy(){this.stop(),this.events.clear()}},ez=class extends Fl{seriesEvent(e){this.listeners.dispatch(e,{type:e})}seriesKeyNavZoom(e,t){const i={type:"series-keynav-zoom",delta:e,widgetEvent:t};this.listeners.dispatch("series-keynav-zoom",i)}legendItemClick(e,t,i,s,n){const r={type:"legend-item-click",legendType:e,series:t,itemId:i,enabled:s,legendItemName:n};this.listeners.dispatch("legend-item-click",r)}legendItemDoubleClick(e,t,i,s,n,r){const o={type:"legend-item-double-click",legendType:e,series:t,itemId:i,enabled:s,legendItemName:r,numVisibleItems:n};this.listeners.dispatch("legend-item-double-click",o)}},tz=class{constructor(){this.defaultActions=[],this.disabledActions=new Set,this.hiddenActions=new Set,this.listeners=new ma}static check(e,t){return t.type===e}static checkCallback(e,t,i){return e===t}dispatchContext(e,t,i,s){const{sourceEvent:n}=t;if(n.defaultPrevented)return;const r=(s==null?void 0:s.x)??t.canvasX,o=(s==null?void 0:s.y)??t.canvasY,a={type:e,x:r,y:o,context:i,sourceEvent:n};this.listeners.dispatch("",a)}addListener(e){return this.listeners.addListener("",e)}filterActions(e){return this.defaultActions.filter(t=>t.id!=null&&!this.hiddenActions.has(t.id)&&["all",e].includes(t.type))}registerDefaultAction(e){const t=e.id!=null&&!this.defaultActions.some(({id:i})=>i===e.id);return t&&this.defaultActions.push(e),()=>{const i=t?this.defaultActions.findIndex(({id:s})=>s===e.id):-1;i!==-1&&this.defaultActions.splice(i,1)}}enableAction(e){this.disabledActions.delete(e)}disableAction(e){this.disabledActions.add(e)}showAction(e){this.hiddenActions.add(e)}hideAction(e){this.hiddenActions.delete(e)}isDisabled(e){return this.disabledActions.has(e)}},iz=class extends Fl{constructor(){super(...arguments),this.highlightStates=new Kd}updateHighlight(e,t){const{activeHighlight:i}=this;this.highlightStates.set(e,t),this.activeHighlight=this.highlightStates.stateValue(),this.isEqual(this.activeHighlight,i)||this.listeners.dispatch("highlight-change",{type:"highlight-change",currentHighlight:this.activeHighlight,previousHighlight:i,callerId:e})}getActiveHighlight(){return this.activeHighlight}isEqual(e,t){return e===t||e!=null&&t!=null&&(e==null?void 0:e.series)===(t==null?void 0:t.series)&&(e==null?void 0:e.itemId)===(t==null?void 0:t.itemId)&&(e==null?void 0:e.datum)===(t==null?void 0:t.datum)}};function mP(e,t){if(e==null||t.length===0)return[!1,!1];const i=e.valueOf(),s=t[0],n=t[t.length-1];if(typeof s=="string")return[i===s,i===n];let r=s.valueOf(),o=n.valueOf();return r>o&&([r,o]=[o,r]),[i===r,i===o]}function ml(e,t,i,s,n){const{xValue:r,yValue:o}=e,[a,l]=mP(o,n),[d,h]=mP(r,s);return{xKey:t,yKey:i,xValue:r,yValue:o,first:d,last:h,min:a,max:l}}function sz(e,[t,i],s){const n=G2(0,e-1,o=>{var l;const a=((l=s(o))==null?void 0:l[1])??NaN;return!Number.isFinite(a)||a>t})??0;let r=B2(0,e-1,o=>{var l;const a=((l=s(o))==null?void 0:l[0])??NaN;return!Number.isFinite(a)||a<i})??e-1;return r=Math.min(r+1,e),[n,r]}function JR(e,t,i){var n,r;if(i){const{x:o,y:a,width:l,height:d}=i;return{canvasX:o+l/2,canvasY:a+d/2}}const s=((n=t.yBar)==null?void 0:n.upperPoint)??t.midPoint??((r=e.datumMidPoint)==null?void 0:r.call(e,t));if(s){const{x:o,y:a}=hi.toCanvasPoint(e.contentGroup,s.x,s.y);return{canvasX:Math.round(o),canvasY:Math.round(a)}}}function nz(e,t,i,s,n){let r=-1,o=0,a=0,l=!1;for(;o<s&&r<=t-e;){r+=1;const d=i+a;if(l||(a*=-1),a>=0&&(a+=1),l&&a<0&&(a-=1),d<e||d>t){l=!0;continue}n(d)&&(o+=1)}return o}var Uy=class{constructor(e,t,i){this.domManager=t,this.tooltip=i,this.stateTracker=new Kd,this.suppressState=new Kd(!1),this.appliedState=null,this.destroyFns=[],this.destroyFns.push(i.setup(e,t),t.addListener("hidden",()=>this.tooltip.hide()))}destroy(){this.destroyFns.forEach(e=>e())}updateTooltip(e,t,i,s){var n;i??(i=(n=this.stateTracker.get(e))==null?void 0:n.content),this.stateTracker.set(e,{meta:t,content:i,pagination:s}),this.applyStates()}removeTooltip(e){this.stateTracker.delete(e),this.applyStates()}suppressTooltip(e){this.suppressState.set(e,!0)}unsuppressTooltip(e){this.suppressState.delete(e)}applyStates(){var n;const e=this.stateTracker.stateId(),t=e?this.stateTracker.get(e):void 0;if(this.suppressState.stateValue()||(t==null?void 0:t.meta)==null||(t==null?void 0:t.content)==null){this.appliedState=null,this.tooltip.hide();return}const i=this.domManager.getBoundingClientRect(),s=this.tooltip.bounds==="extended"?this.domManager.getOverlayClientRect():i;if(((n=this.appliedState)==null?void 0:n.content)===(t==null?void 0:t.content)){const r=this.tooltip.isVisible();this.tooltip.show(s,i,t==null?void 0:t.meta,null,void 0,r)}else this.tooltip.show(s,i,t==null?void 0:t.meta,t==null?void 0:t.content,t==null?void 0:t.pagination);this.appliedState=t}static makeTooltipMeta(e,t,i,s){var S;const{canvasX:n,canvasY:r}=e,o=t.properties.tooltip,{placement:a,defaultPlacement:l,anchorTo:d,defaultAnchorTo:h,xOffset:p,yOffset:f}=o.position,v=JR(t,i,s);return{canvasX:n,canvasY:r,nodeCanvasX:(v==null?void 0:v.canvasX)??n,nodeCanvasY:(v==null?void 0:v.canvasY)??r,enableInteraction:((S=o.interaction)==null?void 0:S.enabled)??!1,showArrow:o.showArrow,position:{placement:a,defaultPlacement:l,anchorTo:d,defaultAnchorTo:h,xOffset:p,yOffset:f}}}isEnteringInteractiveTooltip(e){const{tooltip:t}=this,i=e.relatedTarget;return t.interactive&&t.enabled&&t.isVisible()&&t.contains(i)}},vP=3,$ne=505,yP=30;function G0(e,t,i){const{offsetX:s,offsetY:n,clientX:r,clientY:o,currentX:a,currentY:l,sourceEvent:d}=i;return{type:t,device:e,offsetX:s,offsetY:n,clientX:r,clientY:o,currentX:a,currentY:l,sourceEvent:d}}function CP(e,t){const i=e*e+t*t,s=vP*vP;return i>=s}function Yne(e,t){const i=e.clientX-t.clientX,s=e.clientY-t.clientY,n=i*i+s*s,r=yP*yP;return n<r}var rz=class{constructor(e){this.destroyFns=[],this.listeners=new ma,this.isDragging=!1,this.touch={distanceTravelledX:0,distanceTravelledY:0,clientX:0,clientY:0},this.destroyFns.push(e.addListener("touchstart",this.onTouchStart.bind(this)),e.addListener("touchmove",this.onTouchMove.bind(this)),e.addListener("touchend",this.onTouchEnd.bind(this)),e.addListener("mousemove",this.onMouseMove.bind(this)),e.addListener("dblclick",this.onDblClick.bind(this)),e.addListener("drag-start",this.onDragStart.bind(this)),e.addListener("drag-move",this.onDragMove.bind(this)),e.addListener("drag-end",this.onDragEnd.bind(this)))}destroy(){this.destroyFns.forEach(e=>e()),this.listeners.destroy()}addListener(e,t){return this.listeners.addListener(e,t)}dispatch(e){this.listeners.dispatch(e.type,e)}onTouchStart(e){const{clientX:t,clientY:i}=e.sourceEvent.targetTouches[0]??{clientX:1/0,clientY:1/0};this.touch.distanceTravelledX=0,this.touch.distanceTravelledY=0,this.touch.clientX=t,this.touch.clientY=i}onTouchMove(e){const{clientX:t,clientY:i}=e.sourceEvent.targetTouches[0]??{clientX:1/0,clientY:1/0};this.touch.distanceTravelledX+=Math.abs(this.touch.clientX-t),this.touch.distanceTravelledY+=Math.abs(this.touch.clientY-i),this.touch.clientX=t,this.touch.clientY=i}onTouchEnd(e){e.sourceEvent.preventDefault()}onMouseMove(e){this.dispatch(e)}onDblClick(e){this.dispatch({device:"mouse",...e})}onDragStart(e){this.dragStartEvent=e}onDragMove(e){this.dragStartEvent!=null&&CP(e.originDeltaX,e.originDeltaY)&&(this.dispatch(this.dragStartEvent),this.dispatch({...this.dragStartEvent,type:"drag-move"}),this.dragStartEvent=void 0,this.isDragging=!0),this.isDragging&&this.dispatch(e)}onDragEnd(e){if(this.isDragging){this.dispatch(e),this.isDragging=!1;return}if(e.device==="mouse"){const t=G0("mouse","click",e);this.dispatch(t)}else if(e.sourceEvent.type==="touchend"){if(CP(this.touch.distanceTravelledX,this.touch.distanceTravelledY))return;const t=G0("touch","click",e);this.dispatch(t);const i=Date.now();if(this.lastClick!==void 0&&i-this.lastClick.time<=$ne&&Yne(this.lastClick,e)){const s=G0(e.device,"dblclick",e);this.dispatch(s),this.lastClick=void 0}else this.lastClick={time:i,clientX:e.clientX,clientY:e.clientY}}}},H0=class extends qd{constructor(e){super(e)}addChildToDOM(){}removeChildFromDOM(){}},Kne=class{constructor(e){this.seriesWidget=new H0(e.getParent("series-area")),this.chartWidget=new H0(e.getParent("canvas-proxy")),this.containerWidget=new H0(e.getParent("canvas-container")),this.containerWidget.addChild(this.chartWidget),this.chartWidget.addChild(this.seriesWidget),this.seriesDragInterpreter=new rz(this.seriesWidget)}destroy(){this.seriesDragInterpreter.destroy(),this.seriesWidget.destroy(),this.chartWidget.destroy(),this.containerWidget.destroy()}};function GM(e,t){const[i,s]=Ti(t);return Be(i,e,s)}function Ti(e){if(e.length===0)return[];const t=[1/0,-1/0];for(const i of e)i<t[0]&&(t[0]=i),i>t[1]&&(t[1]=i);return t}function Zd(e){const[t,i]=Ti(e);return i-t}var oz=class az extends NC{constructor(t=[],i=[]){super(),this.domain=t,this.range=i,this.defaultClamp=!1}static is(t){return t instanceof az}normalizeDomains(...t){let i,s=1/0,n,r=-1/0;for(const o of t)for(const a of o){const l=a.valueOf();l<s&&(s=l,i=a),l>r&&(r=l,n=a)}return i!=null&&n!=null?{domain:[i,n],animatable:!0}:{domain:[],animatable:!1}}transform(t){return t}transformInvert(t){return t}calcBandwidth(t=1){const{domain:i}=this,s=this.getPixelRange();if(i.length===0)return s;const n=Math.abs(i[1].valueOf()-i[0].valueOf())/t+1,r=Math.floor(s),o=Math.min(n,r);return s/Math.max(1,o)}convert(t,i=this.defaultClamp){const{domain:s}=this;if(!s||s.length<2)return NaN;const n=Number(this.transform(s[0])),r=Number(this.transform(s[1])),o=Number(this.transform(t)),{range:a}=this,[l,d]=a;if(i){const[h,p]=Ti([n,r]);if(o<h)return l;if(o>p)return d}return n===r?(l+d)/2:o===n?l:o===r?d:l+(o-n)/(r-n)*(d-l)}invert(t,i){const s=this.domain.map(h=>this.transform(h)),[n,r]=s,{range:o}=this,[a,l]=o;let d;return a===l?d=this.toDomain((Number(n)+Number(r))/2):d=this.toDomain(Number(n)+(t-a)/(l-a)*(Number(r)-Number(n))),this.transformInvert(d)}getPixelRange(){const[t,i]=this.range;return Math.abs(i-t)}};oz.defaultTickCount=5;var wt=oz;function lz(e,t){return e.valueOf()-t.valueOf()}function qne(e){let t=NaN;const i=[];for(const s of e){const n=s.valueOf();t!==n&&i.push(s),t=n}return i}function HM(e){const t=e.slice().sort(lz);return eE(t)==null?qne(t):t}function eE(e){if(e.length===0)return 1;const t=Number(e[e.length-1])>Number(e[0])?1:-1;let i=-1/0*t;for(const s of e){const n=s.valueOf();if(Math.sign(n-i)!==t)return;i=n}return t}var Mv={days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]};function tE(e,t=new Date(e.getFullYear(),0,1)){const i=e.getTimezoneOffset()-t.getTimezoneOffset(),s=e.getTime()-t.getTime()+i*6e4,n=36e5*24;return Math.floor(s/n)}function bP(e,t){const s=new Date(e.getFullYear(),0,1).getDay(),n=(t-s+7)%7,r=new Date(e.getFullYear(),0,n+1);return r<=e?Math.floor(tE(e,r)/7)+1:0}var Zne=0,cz=1,SP=4;function uz(e,t=e.getFullYear()){const s=new Date(t,0,1).getDay(),n=(SP-s+7)%7,r=new Date(t,0,n-(SP-cz)+1);return r<=e?Math.floor(tE(e,r)/7)+1:uz(e,t-1)}function Xne(e){const t=e.getTimezoneOffset(),i=Math.abs(t);return`${t>0?"-":"+"}${fs(Math.floor(i/60),2,"0")}${fs(Math.floor(i%60),2,"0")}`}var Qne={a:e=>Mv.shortDays[e.getDay()],A:e=>Mv.days[e.getDay()],b:e=>Mv.shortMonths[e.getMonth()],B:e=>Mv.months[e.getMonth()],c:"%x, %X",d:(e,t)=>fs(e.getDate(),2,t??"0"),e:"%_d",f:(e,t)=>fs(e.getMilliseconds()*1e3,6,t??"0"),H:(e,t)=>fs(e.getHours(),2,t??"0"),I:(e,t)=>{const i=e.getHours()%12;return i===0?"12":fs(i,2,t??"0")},j:(e,t)=>fs(tE(e)+1,3,t??"0"),m:(e,t)=>fs(e.getMonth()+1,2,t??"0"),M:(e,t)=>fs(e.getMinutes(),2,t??"0"),L:(e,t)=>fs(e.getMilliseconds(),3,t??"0"),p:e=>e.getHours()<12?"AM":"PM",Q:e=>String(e.getTime()),s:e=>String(Math.floor(e.getTime()/1e3)),S:(e,t)=>fs(e.getSeconds(),2,t??"0"),u:e=>{let t=e.getDay();return t<1&&(t+=7),String(t%7)},U:(e,t)=>fs(bP(e,Zne),2,t??"0"),V:(e,t)=>fs(uz(e),2,t??"0"),w:(e,t)=>fs(e.getDay(),2,t??"0"),W:(e,t)=>fs(bP(e,cz),2,t??"0"),x:"%-m/%-d/%Y",X:"%-I:%M:%S %p",y:(e,t)=>fs(e.getFullYear()%100,2,t??"0"),Y:(e,t)=>fs(e.getFullYear(),4,t??"0"),Z:e=>Xne(e),"%":()=>"%"},Jne={_:" ",0:"0","-":""};function fs(e,t,i){const s=String(Math.floor(e));return s.length>=t?s:`${i.repeat(t-s.length)}${s}`}function wf(e){const t=[];for(;e.length>0;){let i=e.indexOf("%");if(i!==0){const a=i>0?e.substring(0,i):e;t.push(a)}if(i<0)break;const s=e[i+1],n=Jne[s];n!=null&&i++;const r=e[i+1],o=Qne[r];if(typeof o=="function")t.push([o,n]);else if(typeof o=="string"){const a=wf(o);t.push([a,n])}else t.push(`${n??""}${r}`);e=e.substring(i+2)}return i=>{const s=typeof i=="number"?new Date(i):i;return t.map(n=>typeof n=="string"?n:n[0](s,n[1])).join("")}}var ere={};Gr(ere,{TimeInterval:()=>eu,day:()=>$y,friday:()=>fre,hour:()=>Dd,millisecond:()=>dz,minute:()=>Md,monday:()=>dre,month:()=>Ac,saturday:()=>mre,second:()=>xd,sunday:()=>fp,thursday:()=>pre,tuesday:()=>hre,utcDay:()=>Tre,utcHour:()=>Rre,utcMinute:()=>xre,utcMonth:()=>kre,utcYear:()=>Fre,wednesday:()=>gre,year:()=>ZC});var eu=class{constructor(e,t,i){this._encode=e,this._decode=t,this._rangeCallback=i}floor(e){const t=new Date(e),i=this._encode(t);return this._decode(i)}ceil(e){const t=new Date(Number(e)-1),i=this._encode(t);return this._decode(i+1)}range(e,t,{extend:i=!1,visibleRange:s=[0,1]}={}){var f;let n=!1;e.getTime()>t.getTime()&&([e,t]=[t,e],n=!0);const r=(f=this._rangeCallback)==null?void 0:f.call(this,e,t),o=this._encode(i?this.floor(e):this.ceil(e)),a=this._encode(i?this.ceil(t):this.floor(t));if(a<o)return[];const l=a-o;let d,h;n?(d=Math.ceil(o+(1-s[1])*l),h=Math.floor(o+(1-s[0])*l)):(d=Math.floor(o+s[0]*l),h=Math.ceil(o+s[1]*l));const p=[];for(let v=d;v<=h;v+=1){const y=this._decode(v);p.push(y)}return r==null||r(),p}},Ln=class extends eu{getOffset(e,t){return Math.floor(this._encode(new Date(e)))%t}every(e,t){let i=0,s;const n=e;e=Math.max(1,Math.round(e)),n!==e&&me.warnOnce(`interval step of [${n}] rounded to [${e}].`);const{snapTo:r="start"}=t??{};if(typeof r=="string"){const l=i;s=(d,h)=>{const p=r==="start"?d:h;return i=this.getOffset(p,e),()=>i=l}}else typeof r=="number"?i=this.getOffset(new Date(r),e):r instanceof Date&&(i=this.getOffset(r,e));const o=l=>Math.floor((this._encode(l)-i)/e),a=l=>this._decode(l*e+i);return new eu(o,a,s)}};function tre(e){return e.getTime()}function ire(e){return new Date(e)}var dz=new Ln(tre,ire),cl=1e3,vs=cl*60,Gs=vs*60,or=Gs*24,Xo=or*7,Ug=or*30,Xd=or*365,hz=new Date().getTimezoneOffset()*vs;function sre(e){return Math.floor((e.getTime()-hz)/cl)}function nre(e){return new Date(hz+e*cl)}var xd=new Ln(sre,nre),gz=new Date().getTimezoneOffset()*vs;function rre(e){return Math.floor((e.getTime()-gz)/vs)}function ore(e){return new Date(gz+e*vs)}var Md=new Ln(rre,ore),pz=new Date().getTimezoneOffset()*vs;function are(e){return Math.floor((e.getTime()-pz)/Gs)}function lre(e){return new Date(pz+e*Gs)}var Dd=new Ln(are,lre);function cre(e){const t=e.getTimezoneOffset()*vs;return Math.floor((e.getTime()-t)/or)}function ure(e){const t=new Date(1970,0,1);return t.setDate(t.getDate()+e),t}var $y=new Ln(cre,ure);function lu(e){const i=(7+e-4)%7;function s(r){const o=r.getTimezoneOffset()*vs;return Math.floor((r.getTime()-o)/Xo-i/7)}function n(r){const o=new Date(1970,0,1);return o.setDate(o.getDate()+r*7+i),o}return new Ln(s,n)}var fp=lu(0),dre=lu(1),hre=lu(2),gre=lu(3),pre=lu(4),fre=lu(5),mre=lu(6);function vre(e){return e.getFullYear()*12+e.getMonth()}function yre(e){const t=Math.floor(e/12),i=e-t*12;return new Date(t,i,1)}var Ac=new Ln(vre,yre);function Cre(e){return e.getFullYear()}function bre(e){const t=new Date;return t.setFullYear(e),t.setMonth(0,1),t.setHours(0,0,0,0),t}var ZC=new Ln(Cre,bre);function Sre(e){return Math.floor(e.getTime()/vs)}function wre(e){return new Date(e*vs)}var xre=new Ln(Sre,wre);function Mre(e){return Math.floor(e.getTime()/Gs)}function Dre(e){return new Date(e*Gs)}var Rre=new Ln(Mre,Dre);function Ere(e){return Math.floor(e.getTime()/or)}function Are(e){const t=new Date(0);return t.setUTCDate(t.getUTCDate()+e),t.setUTCHours(0,0,0,0),t}var Tre=new Ln(Ere,Are);function Ire(e){return e.getUTCFullYear()*12+e.getUTCMonth()}function Lre(e){const t=Math.floor(e/12),i=e-t*12;return new Date(Date.UTC(t,i,1))}var kre=new Ln(Ire,Lre);function Pre(e){return e.getUTCFullYear()}function Ore(e){const t=new Date;return t.setUTCFullYear(e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0),t}var Fre=new Ln(Pre,Ore);function Ds(e){return e instanceof Date?e.getTime():e}function iE(e,t,i){const s=fz(e,t,i),n=wf(s);return r=>n(r)}function fz(e,t,i=0){let s=1/0;for(let h=1;h<e.length;h++)s=Math.min(s,Math.abs(e[h].valueOf()-e[h-1].valueOf()));const[n,r]=t.length===0?[0,0]:Ti([t[0].valueOf(),t[t.length-1].valueOf()]),o=new Date(n).getFullYear(),l=new Date(r).getFullYear()-o>0,d=isFinite(s)?Nre(s,e):zre(e[0]);return Gre(Math.max(d-i,0),l,e)}function Nre(e,t){return e<cl?0:e<vs?1:e<Gs?2:e<or?3:e<Xo?4:e<or*28||e<or*31&&Bre(t)?5:e<Xd?6:7}function zre(e){return xd.floor(e)<e?0:Md.floor(e)<e?1:Dd.floor(e)<e?2:$y.floor(e)<e?3:Ac.floor(e)<e?fp.floor(e)<e?4:5:ZC.floor(e)<e?6:7}function Bre(e){let t=new Date(e[0]).getMonth();for(let i=1;i<e.length;i++){const s=new Date(e[i]).getMonth();if(t===s)return!0;t=s}return!1}function Gre(e,t,i){const s=Ds(i[0]),n=Ds(i.at(-1)),r=Math.abs(n-s),o=t||e===7,a=r===0,d=[["hour",6*Gs,14*or,3,"%I %p"],["hour",vs,6*Gs,3,"%I:%M"],["second",1e3,6*Gs,1,":%S"],["ms",0,6*Gs,0,".%L"],["am/pm",vs,6*Gs,3,"%p"]," ",["day",or,Xo,4,"%a"],["month",a?0:Xo,52*Xo,5,"%b %d"],["month",5*Xo,10*Xd,6,"%B"]," ",["year",o?0:Xd,1/0,7,"%Y"]].filter(f=>{if(typeof f=="string")return!0;const[v,y,S,w]=f;return w>=e&&y<=r&&r<S}).reduce((f,v)=>(typeof v=="string"?f.result.push(v):f.used.has(v[0])||(f.result.push(v),f.used.add(v[0])),f),{result:[],used:new Set}).result,h=d.findIndex(f=>typeof f!="string"),p=d.findLastIndex(f=>typeof f!="string");return d.slice(h,p+1).map(f=>typeof f=="string"?f:f[4]).join("").replaceAll(/\s+/g," ").trim()}function mz(e,t,i){if(i==null||i[0]===0&&i[1]===1)return e;const s=Be(0,Math.floor(i[0]*e.length),e.length),n=Be(0,Math.ceil(i[1]*e.length),e.length),r=t?e.length-n:s,o=t?e.length-s:n;return e.slice(r,o)}var XC=class vz extends NC{constructor(){super(...arguments),this.invalid=!0,this.range=[0,1],this.round=!1,this.interval=void 0,this._bandwidth=1,this._step=1,this._inset=1,this._rawBandwidth=1,this._paddingInner=0,this._paddingOuter=0}static is(t){return t instanceof vz}get bandwidth(){return this.refresh(),this._bandwidth}get step(){return this.refresh(),this._step}get inset(){return this.refresh(),this._inset}get rawBandwidth(){return this.refresh(),this._rawBandwidth}set padding(t){t=Be(0,t,1),this._paddingInner=t,this._paddingOuter=t}get padding(){return this._paddingInner}set paddingInner(t){this.invalid=!0,this._paddingInner=Be(0,t,1)}get paddingInner(){return this._paddingInner}set paddingOuter(t){this.invalid=!0,this._paddingOuter=Be(0,t,1)}get paddingOuter(){return this._paddingOuter}refresh(){this.invalid&&(this.invalid=!1,this.update(),this.invalid&&me.warnOnce("Expected update to not invalidate scale"))}ticks(t,i=this.domain,s){return mz(i,!1,s)}convert(t,i){this.refresh();const s=this.getIndex(t);return s==null||s<0||s>=this.domain.length?NaN:this.ordinalRange(s)}invertNearestIndex(t){this.refresh();const{domain:i}=this;if(i.length===0)return-1;let s=0,n=i.length-1,r=1/0,o=0;for(;s<=n;){const a=(n+s)/2|0,l=this.ordinalRange(a),d=Math.abs(l-t);if(d===0)return a;d<r&&(r=d,o=a),l<t?s=a+1:n=a-1}return o}update(){const t=this.domain.length;if(t===0)return;const[i,s]=this.range;let{_paddingInner:n}=this;const{_paddingOuter:r,round:o}=this,a=s-i;let l;t===1?(n=0,l=a*(1-r*2)):l=a/Math.max(1,t-n+r*2);const d=o?Math.floor(l):l;let h=i+(a-d*(t-n))/2,p=d*(1-n);o&&(h=Math.round(h),p=Math.round(p)),this._step=d,this._inset=h,this._bandwidth=p,this._rawBandwidth=l*(1-n)}ordinalRange(t){const{_inset:i,_step:s,range:n}=this,r=Math.min(n[0],n[1]),o=Math.max(n[0],n[1]);return Be(r,i+s*t,o)}};R([ph],XC.prototype,"range",2);R([ph],XC.prototype,"round",2);R([ph],XC.prototype,"interval",2);var xf=XC,si=(e,t,i)=>({duration:t*i,timeInterval:e,step:i}),Jg=[si(xd,cl,1),si(xd,cl,5),si(xd,cl,15),si(xd,cl,30),si(Md,vs,1),si(Md,vs,5),si(Md,vs,15),si(Md,vs,30),si(Dd,Gs,1),si(Dd,Gs,3),si(Dd,Gs,6),si(Dd,Gs,12),si($y,or,1),si($y,or,2),si(fp,Xo,1),si(fp,Xo,2),si(fp,Xo,3),si(Ac,Ug,1),si(Ac,Ug,2),si(Ac,Ug,3),si(Ac,Ug,4),si(Ac,Ug,6),si(ZC,Xd,1)],yz=[1,2,5,10];function wP(e,t){return Math.abs(Math.round(e)-e)<t}function sE(e,t,i,s,n,r){if(i<2)return[e,t];const o=Vp(e,t,i,s,n);if(!Number.isFinite(o))return[];if(wP(e/o,1e-12)||(e=Math.ceil(e/o)*o),wP(t/o,1e-12)||(t=Math.floor(t/o)*o),r!=null&&r[0]!==0&&r[1]!==1){const a=t-e,l=e+a*r[0],d=t-a*(1-r[1]);return _p(l-l%o,d+d%o,o)}return _p(e,t,o)}function Cz(e,t,i,s,n,r){const o=r??Math.abs(t-e)/Math.max(i,1);let a=0;for(const f of Jg){if(o<=f.duration)break;a++}if(a===0){const f=Math.max(Vp(e,t,i,s,n),1);return dz.every(f)}else if(a===Jg.length){const f=Vp(e/Xd,t/Xd,i,s,n);return ZC.every(f)}const l=Jg[a-1],d=Jg[a],{timeInterval:h,step:p}=o-l.duration<d.duration-o?l:d;return h.every(p)}function Vp(e,t,i,s=0,n=1/0){if(e===t)return Be(1,s,n);if(i<1)return NaN;const r=Math.abs(t-e),o=10**Math.floor(Math.log10(r/i));let a=NaN,l=1/0,d=!1;for(const h of yz){const p=Math.ceil(r/(h*o)),f=p>=s&&p<=n;if(d&&!f)continue;const v=Math.abs(p-i);(l>v||d!==f)&&(d||(d=f),l=v,a=h)}return a*o}function xP(e){for(let t=e.length-1;t>=0;t-=1)if(e[t]!=="0")return t+1;return 0}function MP(e,t){const i=_2(t??",f");(i.precision==null||isNaN(i.precision))&&(!i.type||"eEFgGnprs".includes(i.type)?i.precision=Math.max(...e.map(n=>{if(!Number.isFinite(n))return 0;const[r,o]=n.toExponential((i.type?6:12)-1).split(/[.e]/g);return(r!=="1"&&r!=="-1"?1:0)+xP(o)+1})):"f%".includes(i.type)&&(i.precision=Math.max(...e.map(n=>{if(!Number.isFinite(n)||n===0)return 0;const r=Math.floor(Math.log10(Math.abs(n))),o=i.type?6:12,a=n.toExponential(o-1).split(/[.e]/g)[1],l=xP(a);return Math.max(0,l-r)}))));const s=W2(i);return n=>s(Number(n))}function _p(e,t,i){if(!Number.isFinite(i)||i<=0)return[];const s=10**wR(i),n=Math.min(e,t),r=Math.max(e,t),o=[];for(let a=0;;a+=1){const l=Math.round((n+i*a)*s)/s;if(l>r)break;o.push(l)}return o}function Qd(e,t){return e>=t?(me.warnOnce("the configured interval results in more than 1 item per pixel, ignoring. Supply a larger interval or omit this configuration"),!0):!1}function Hre(e,t){const i=Math.abs(t-e),s=10**Math.floor(Math.log10(i));let n=1/0,r=[e,t];for(const o of yz){const a=o*s,l=Math.floor(e/a)*a,d=Math.ceil(t/a)*a,h=1-i/Math.abs(d-l);n>h&&(n=h,r=[l,d])}return r}function bz(e,t,i,s,n,r){if(e<=0)return{minTickCount:0,maxTickCount:0,tickCount:0};r=Math.max(r,e/(n+1)),i??(i=r),s??(s=e),i>s&&(i===r?i=s:s=i);const o=Math.max(1,Math.floor(e/(t*i))),a=Math.min(o,Math.ceil(e/(t*s))),l=Be(a,Math.floor(n/t),o);return{minTickCount:a,maxTickCount:o,tickCount:l}}var Sz=class extends wt{constructor(){super([],[0,1]),this.type="time"}toDomain(e){return new Date(e)}convert(e,t){return e instanceof Date||(e=new Date(e)),super.convert(e,t)}invert(e){return new Date(super.invert(e))}niceDomain(e,t=this.domain){if(t.length<2)return[];let[i,s]=t;const n=4,r=this.getPixelRange();for(let o=0;o<n;o++){const[a,l]=jre(i,s,e,r);if(Ds(i)===Ds(a)&&Ds(s)===Ds(l))break;i=a,s=l}return[i,s]}ticks(e,t=this.domain,i=[0,1]){const{nice:s,interval:n,tickCount:r=wt.defaultTickCount,minTickCount:o,maxTickCount:a}=e;if(t.length<2)return[];const l=t.map(Ds),d=l[0],h=l[l.length-1];if(n!=null){const p=this.getPixelRange();return nE({start:d,stop:h,interval:n,availableRange:p,visibleRange:i})??DP({start:d,stop:h,tickCount:r,minTickCount:o,maxTickCount:a,visibleRange:i})}else{if(s&&r===2)return t;if(s&&r===1)return t.slice(0,1)}return DP({start:d,stop:h,tickCount:r,minTickCount:o,maxTickCount:a,visibleRange:i})}_tickFormatter({domain:e,ticks:t,specifier:i},s){return i!=null?wf(i):iE(t,e,s)}tickFormatter(e){return this._tickFormatter(e)}datumFormatter(e){return this._tickFormatter(e,1)}};function DP({start:e,stop:t,tickCount:i,minTickCount:s,maxTickCount:n,visibleRange:r}){const o=Cz(e,t,i,s,n);return o?o.range(new Date(e),new Date(t),{visibleRange:r}):[]}function nE({start:e,stop:t,interval:i,availableRange:s,visibleRange:n}){if(!i)return[];if(i instanceof eu){const h=i.range(new Date(e),new Date(t),{visibleRange:n});return Qd(h.length,s)?void 0:h}const r=Math.abs(i);if(Qd(Math.abs(t-e)/r,s))return;const o=Jg.findLast(h=>r%h.duration===0);if(o)return o.timeInterval.every(r/(o.duration/o.step)).range(new Date(e),new Date(t),{visibleRange:n});let a=new Date(Math.min(e,t));const l=new Date(Math.max(e,t)),d=[];for(;a<=l;)d.push(a),a=new Date(a),a.setMilliseconds(a.getMilliseconds()+r);return d}function jre(e,t,i,s){const{interval:n}=i,r=Math.min(Ds(e),Ds(t)),o=Math.max(Ds(e),Ds(t));let a;if(n instanceof eu)a=n;else{let l;typeof n=="number"&&(l=(o-r)/Math.max(n,1),Qd(l,s)&&(l=null)),l??(l=i.tickCount??wt.defaultTickCount),a=Cz(r,o,l,i.minTickCount,i.maxTickCount)}if(a){const l=a.range(new Date(r),new Date(o),{extend:!0});return e>t&&l.reverse(),[l[0],l.at(-1)]}else return[e,t]}var sa=class wz extends xf{constructor(){super(...arguments),this.type="ordinal-time",this._domain=[],this.isReversed=!1}static is(t){return t instanceof wz}set domain(t){t!==this._domain&&(this.invalid=!0,this._domain=t,this.isReversed=t.length>0&&t[0]>t[t.length-1],this.sortedTimestamps=void 0,this.precomputedSteps=void 0)}get domain(){return this._domain}toDomain(t){return new Date(t)}normalizeDomains(...t){const i=t.filter(s=>s.length>0);if(i.length===0)return{domain:[],animatable:!1};if(i.length===1){let s=i[0];const n=eE(s);return n===-1?s=s.slice().reverse():n==null&&(s=HM(s.slice())),{domain:s,animatable:!0}}return{domain:HM(i.flat()),animatable:!0}}ticks({interval:t,maxTickCount:i},s=this.domain,n=[0,1]){if(!s.length)return[];this.refresh();const{isReversed:r}=this;if(t==null)return RP(s,i,r,n);const[o,a]=[s[0].valueOf(),s.at(-1).valueOf()],l=Math.min(o,a),d=Math.max(o,a),[h,p]=this.range,f=Math.abs(p-h),v=nE({start:l,stop:d,interval:t,availableRange:f,visibleRange:n})??RP(s,i,r,n);let y=-1;return v.filter(S=>{const w=this.findInterval(S.valueOf()),b=w===y;return y=w,!b})}getSortedTimestamps(){let{sortedTimestamps:t}=this;return t==null&&(t=this.domain.map(Ds),this.isReversed&&t.reverse(),this.sortedTimestamps=t),t}getPrecomputedSteps(){const{domain:t}=this;let{precomputedSteps:i}=this;const s=t.length<1e4?t.length:Math.ceil(t.length/16);if(i!=null||s<=1)return i;const n=this.getSortedTimestamps();i=new Int32Array(s);const r=n[0],a=n[n.length-1]-r,l=0,d=n.length-1;for(let h=0;h<i.length;h+=1)i[h]=this.findIntervalInRange(r+h/s*a,l,d);this.precomputedSteps=i}findIntervalInRange(t,i,s){const n=this.getSortedTimestamps();for(;i<=s;){const r=(i+s)/2|0;if(n[r]===t)return r;n[r]<t?i=r+1:s=r-1}return i}findInterval(t){const i=this.getPrecomputedSteps();let s,n;if(i==null)s=0,n=this.domain.length-1;else{const r=this.getSortedTimestamps(),o=r[0],a=r[r.length-1],l=Math.min((t-o)/(a-o)*i.length|0,i.length-1|0);s=i[l],n=l<i.length-2?i[l+1]:r.length-1}return this.findIntervalInRange(t,s,n)}tickFormatter({domain:t,ticks:i,specifier:s}){return s!=null?wf(s):iE(i,t)}datumFormatter(t){return this.tickFormatter(t)}invert(t,i=!1){this.refresh();const{domain:s}=this;if(i){const r=this.invertNearestIndex(t-this.bandwidth/2);return r!=null?s[r]:void 0}return Nte(0,s.length-1,r=>this.ordinalRange(r)>=t?s[r]:void 0)??s[0]}getIndex(t){const i=this.getSortedTimestamps(),s=Number(t);if(s<i[0])return;let n=this.findInterval(s);return this.isReversed&&(n=this.domain.length-n-1),n}};function RP(e,t,i,s){const n=[],r=Math.ceil(e.length/t),o=Math.floor(r/2),a=Math.floor(s[0]*e.length),l=Math.ceil(s[1]*e.length);for(let d=a;d<l;d+=1){const h=i?e.length-1-d:d;(r<=0||(h+o)%r===0)&&n.push(e[d])}return i&&n.reverse(),n}var Wp={bottomCenter:$re,center:Ure,clone:Zre,collides:Xre,end:_re,from:Qre,height:Kre,round:qre,start:Vre,topCenter:Wre,origin:Jre,width:Yre};function Vre(e){return{x:e.x1,y:e.y1}}function _re(e){return{x:e.x2,y:e.y2}}function Wre(e){return{x:(e.x1+e.x2)/2,y:Math.min(e.y1,e.y2)}}function Ure(e){return{x:(e.x1+e.x2)/2,y:(e.y1+e.y2)/2}}function $re(e){return{x:(e.x1+e.x2)/2,y:Math.max(e.y1,e.y2)}}function Yre(e){return Math.abs(e.x2-e.x1)}function Kre(e){return Math.abs(e.y2-e.y1)}function qre(e){return{x1:Math.round(e.x1),y1:Math.round(e.y1),x2:Math.round(e.x2),y2:Math.round(e.y2)}}function Zre(e){return{x1:e.x1,y1:e.y1,x2:e.x2,y2:e.y2}}function Xre(e,t){const i=jM(e),s=jM(t);return i.x1<=s.x2&&i.x2>=s.x1&&i.y1<=s.y2&&i.y2>=s.y1}function jM(e){return{x1:Math.min(e.x1,e.x2),x2:Math.max(e.x1,e.x2),y1:Math.min(e.y1,e.y2),y2:Math.max(e.y1,e.y2)}}function Qre(e,t,i,s){if(typeof e=="number")return{x1:e,y1:t,x2:i,y2:s};if("width"in e)return jM({x1:e.x,y1:e.y,x2:e.x+e.width,y2:e.y+e.height});throw new Error(`Values can not be converted into a vector4: [${JSON.stringify(e)}] [${t}] [${i}] [${s}]`)}function Jre(){return{x1:0,y1:0,x2:0,y2:0}}function Dv(e,t,i,s,n){return t+(s-t)*((n-e)/(i-e))}function EP(e,t,i,s,n){return e+(n-t)*((i-e)/(s-t))}function AP(e,t,i){return[EP(e,i.min,t,i.max,0),EP(e,i.min,t,i.max,1)]}function eoe(e,t,i){const[s,n]=AP(e.x1,e.x2,t),[r,o]=AP(e.y1,e.y2,i);return{x1:s,x2:n,y1:r,y2:o}}function TP(e,t,i,s,n,r){if(i<=n&&r<=s)return i;const o=n-i,a=r-s,l=Math.abs(o)<Math.abs(a)?o:a;return Be(e,i+l,t)}function toe(e,t,i){const{x:s={min:0,max:1},y:n={min:0,max:1}}=t,r=Wp.from(i),o=Wp.from(e),a=eoe(o,s,n),l=TP(a.x1,a.x2,o.x1,o.x2,r.x1,r.x2),d=TP(a.y1,a.y2,o.y1,o.y2,r.y1,r.y2),h={x:{min:Dv(o.x1,s.min,o.x2,s.max,l),max:Dv(o.x1,s.min,o.x2,s.max,l+e.width)},y:{min:Dv(o.y1,n.min,o.y2,n.max,d),max:Dv(o.y1,n.min,o.y2,n.max,d+e.height)}},p=h.x.max-h.x.min,f=h.y.max-h.y.min;return h.x.min=Be(0,h.x.min,1-p),h.x.max=h.x.min+p,h.y.min=Be(0,h.y.min,1-f),h.y.max=h.y.min+f,h}var ioe=["rangeX","rangeY","ratioX","ratioY","autoScaledAxes"],soe=class{constructor(){this.enabled=!1,this.padding=0,this.manuallyAdjusted=!1}},IP=e=>Ct((t,{options:i})=>!wt.is(e==null?void 0:e.scale)&&!sa.is(e==null?void 0:e.scale)||t==null||i.end==null?!0:t<=i.end,"to be less than end"),xz=class extends Fl{constructor(e,t){super(),this.fireChartEvent=e,this.mementoOriginatorKey="zoom",this.axisZoomManagers=new Map,this.state=new Kd(void 0,"initial"),this.axes=[],this.didLayoutAxes=!1,this.autoScaleYAxis=new soe,this.lastRestoredState=void 0,this.independentAxes=!1,this.navigatorModule=!1,this.zoomModule=!1,this.pendingMemento=void 0,this.destroyFns.push(t.addListener("layout:complete",()=>{const{pendingMemento:i}=this,s=!this.didLayoutAxes;this.didLayoutAxes=!0,i?this.restoreMemento(i.version,i.mementoVersion,i.memento):s&&this.autoScaleYZoom("zoom-manager")}))}createMemento(){return this.getMementoRanges()}guardMemento(e,t){if(e==null)return!0;if(!Ci(e))return!1;for(const o of Object.keys(e))if(!ioe.includes(o))return!1;const i=this.getPrimaryAxis("x"),s=this.getPrimaryAxis("y"),n={rangeX:{start:ms(ai(ke,bd),IP(i)),end:ai(ke,bd)},rangeY:{start:ms(ai(ke,bd),IP(s)),end:ai(ke,bd)},ratioX:{start:ms($t,Fp("end")),end:$t},ratioY:{start:ms($t,Fp("end")),end:$t},autoScaledAxes:Jt(Ue("y"))},r=Mr(e,n);return r.errors.length>0?(t.push(...r.errors.map(o=>o.message)),!1):!0}restoreMemento(e,t,i){var a;const{independentAxes:s}=this;if(!this.axes||!this.didLayoutAxes){this.pendingMemento={version:e,mementoVersion:t,memento:i};return}this.pendingMemento=void 0;const n=this.getDefinedZoom();if(i!=null&&i.rangeX?n.x=this.rangeToRatio(i.rangeX,"x")??{min:0,max:1}:i!=null&&i.ratioX?n.x={min:i.ratioX.start??0,max:i.ratioX.end??1}:n.x={min:0,max:1},!this.navigatorModule||this.zoomModule){let l=(a=i==null?void 0:i.autoScaledAxes)==null?void 0:a.includes("y");i!=null&&i.rangeY?(n.y=this.rangeToRatio(i.rangeY,"y")??{min:0,max:1},l??(l=!1)):i!=null&&i.ratioY?(n.y={min:i.ratioY.start??0,max:i.ratioY.end??1},l??(l=!1)):(n.y={min:0,max:1},l??(l=!0)),n.autoScaleYAxis=l}if(this.lastRestoredState=n,s!==!0){this.updateZoom("zoom-manager",n);return}const r=this.getPrimaryAxis("x"),o=this.getPrimaryAxis("y");for(const l of[r,o])l&&this.updateAxisZoom("zoom-manager",l.id,n[l.direction])}updateAxes(e){this.axes=e;const t=new Map(e.map(i=>[i.id,this.axisZoomManagers.get(i.id)]));this.axisZoomManagers.clear();for(const i of e)this.axisZoomManagers.set(i.id,t.get(i.id)??new noe(i));this.state.size>0&&e.length>0&&this.updateZoom(this.state.stateId(),this.state.stateValue())}setIndependentAxes(e=!0){this.independentAxes=e}setAutoScaleYAxis(e,t){this.autoScaleYAxis.enabled=e,this.autoScaleYAxis.padding=t}setNavigatorEnabled(e=!0){this.navigatorModule=e}setZoomModuleEnabled(e=!0){this.zoomModule=e}isNavigatorEnabled(){return this.navigatorModule}isZoomEnabled(){return this.zoomModule}updateZoom(e,t){if(t!=null&&t.x&&(t.x.min<0||t.x.max>1)&&(me.warnOnce(`Attempted to update x-axis zoom to an invalid ratio of [{ min: ${t.x.min}, max: ${t.x.max} }], expecting a ratio of 0 to 1, ignoring.`),t.x=void 0),t!=null&&t.y&&(t.y.min<0||t.y.max>1)&&(me.warnOnce(`Attempted to update y-axis zoom to an invalid ratio of [{ min: ${t.y.min}, max: ${t.y.max} }], expecting a ratio of 0 to 1, ignoring.`),t.y=void 0),this.axisZoomManagers.size===0){const s=this.state.stateId();(s==="initial"||s===e)&&this.state.set(e,t);return}this.state.set(e,t);const i=t==null?void 0:t.autoScaleYAxis;i!=null&&(this.autoScaleYAxis.manuallyAdjusted=!i),this.axisZoomManagers.forEach(s=>{s.updateZoom(e,t==null?void 0:t[s.getDirection()])}),this.applyChanges(e)}updateAxisZoom(e,t,i){var s;(s=this.axisZoomManagers.get(t))==null||s.updateZoom(e,i),this.applyChanges(e)}resetZoom(e){var i,s,n,r;this.autoScaleYAxis.manuallyAdjusted=!1;const t=this.getRestoredZoom();this.updateZoom(e,{x:{min:((i=t==null?void 0:t.x)==null?void 0:i.min)??0,max:((s=t==null?void 0:t.x)==null?void 0:s.max)??1},y:{min:((n=t==null?void 0:t.y)==null?void 0:n.min)??0,max:((r=t==null?void 0:t.y)==null?void 0:r.max)??1},autoScaleYAxis:(t==null?void 0:t.autoScaleYAxis)??!0})}resetAxisZoom(e,t){const i=this.axisZoomManagers.get(t),s=i==null?void 0:i.getDirection();if(s==null)return;const n=this.getRestoredZoom();if(s==="y"){const r=(n==null?void 0:n.autoScaleYAxis)??!0;this.autoScaleYAxis.manuallyAdjusted=!r}this.updateAxisZoom(e,t,(n==null?void 0:n[s])??{min:0,max:1})}setAxisManuallyAdjusted(e,t){var s;((s=this.axisZoomManagers.get(t))==null?void 0:s.getDirection())==="y"&&(this.autoScaleYAxis.manuallyAdjusted=!0)}updatePrimaryAxisZoom(e,t,i){const s=this.getPrimaryAxis(t);s&&this.updateAxisZoom(e,s.id,i)}panToBBox(e,t,i){if(!this.isZoomEnabled()&&!this.isNavigatorEnabled())return!1;const s=this.getZoom();if(s===void 0||!s.x&&!s.y)return!1;if(!(t.width>0&&t.height>0&&Math.abs(i.width)<=Math.abs(t.width)&&Math.abs(i.height)<=Math.abs(t.height)))return me.warnOnce("cannot pan to target BBox - chart too small?"),!1;const r=toe(t,s,i);return this.independentAxes?(this.updatePrimaryAxisZoom(e,"x",r.x),this.updatePrimaryAxisZoom(e,"y",r.y)):this.updateZoom(e,r),!0}fireZoomPanStartEvent(e){this.listeners.dispatch("zoom-pan-start",{type:"zoom-pan-start",callerId:e})}extendToEnd(e,t,i){return this.extendWith(e,t,s=>Number(s)-i)}extendWith(e,t,i){const s=this.getPrimaryAxis(t);if(!s)return;const n=this.getDomainExtents(s);if(!n)return;const[,r]=n,o=i(r),a=this.rangeToRatio({start:o,end:r},t);a&&this.updateZoom(e,{[t]:a})}updateWith(e,t,i){const s=this.getPrimaryAxis(t);if(!s)return;const n=this.getDomainExtents(s);if(!n)return;let[r,o]=n;[r,o]=i(r,o);const a=this.rangeToRatio({start:r,end:o},t);a&&this.updateZoom(e,{[t]:a})}getZoom(){let e,t;if(this.axisZoomManagers.forEach(i=>{i.getDirection()==="x"?e??(e=i.getZoom()):i.getDirection()==="y"&&(t??(t=i.getZoom()))}),e||t)return{x:e,y:t}}getAxisZoom(e){var t;return((t=this.axisZoomManagers.get(e))==null?void 0:t.getZoom())??{min:0,max:1}}getAxisZooms(){const e={};for(const[t,i]of this.axisZoomManagers.entries())e[t]={direction:i.getDirection(),zoom:i.getZoom()};return e}getRestoredZoom(){return this.lastRestoredState}getPrimaryAxisId(e){var t;return(t=this.getPrimaryAxis(e))==null?void 0:t.id}isVisibleItemsCountAtLeast(e,t){const i=this.getPrimaryAxis("x"),s=this.getPrimaryAxis("y"),n=new Set;let r=0;const o=[e.x.min,e.x.max],a=[e.y.min,e.y.max];for(const l of(i==null?void 0:i.boundSeries)??[]){n.add(l.id);const d=t-(r??0),h=l.getVisibleItems(o,a,d);if(r+=h,r>=t)return!0}for(const l of(s==null?void 0:s.boundSeries)??[]){if(n.has(l.id))continue;const d=t-(r??0),h=l.getVisibleItems(o,a,d);if(r+=h,r>=t)return!0}return n.size===0}getMementoRanges(){const e=this.getDefinedZoom();let t;return this.autoScaleYAxis.enabled&&(t=this.autoScaleYAxis.manuallyAdjusted?[]:["y"]),{rangeX:this.getRangeDirection(e.x,"x"),rangeY:this.getRangeDirection(e.y,"y"),ratioX:{start:e.x.min,end:e.x.max},ratioY:{start:e.y.min,end:e.y.max},autoScaledAxes:t}}autoScaleYZoom(e,t=!0){var a,l;if(!this.isZoomEnabled())return;const{independentAxes:i,autoScaleYAxis:s}=this,n=this.getZoom();if((n==null?void 0:n.x)==null||!s.enabled||s.manuallyAdjusted)return;const{padding:r}=s;let o;if(((a=n.x)==null?void 0:a.min)===0&&((l=n.x)==null?void 0:l.max)===1?o={min:0,max:1}:i?o=this.primaryAxisZoom("y",n.x,{padding:r}):o=this.combinedAxisZoom("y",n.x,{padding:r}),o!=null){if(i){const d=this.getPrimaryAxis("y"),h=d==null?void 0:this.axisZoomManagers.get(d.id);h==null||h.updateZoom("zoom-manager",o)}else for(const d of this.axisZoomManagers.values())d.getDirection()==="y"&&d.updateZoom("zoom-manager",o);t&&this.applyChanges(e)}}applyChanges(e){if(this.autoScaleYZoom(e,!1),!Array.from(this.axisZoomManagers.values(),s=>s.applyChanges()).includes(!0))return;const i={};for(const[s,n]of this.axisZoomManagers.entries())i[s]=n.getZoom();this.listeners.dispatch("zoom-change",{type:"zoom-change",...this.getZoom(),axes:i,callerId:e}),this.fireChartEvent({type:"zoom",...this.getMementoRanges()})}getRangeDirection(e,t){const i=this.getPrimaryAxis(t);if(!i||!wt.is(i.scale)&&!sa.is(i.scale))return;const s=this.getDomainPixelExtents(i);if(!s)return;const[n,r]=s;let o,a;return n<=r?(o=i.scale.invert(0),a=i.scale.invert(n+(r-n)*e.max)):(o=i.scale.invert(n-(n-r)*e.min),a=i.scale.invert(0)),{start:o,end:a}}rangeToRatio(e,t){var v,y,S,w,b,x,D,E,T,k,P,O;const i=this.getPrimaryAxis(t);if(!i)return;const s=this.getDomainPixelExtents(i);if(!s)return;const[n,r]=s;let o=e.start==null?n:(y=(v=i.scale).convert)==null?void 0:y.call(v,e.start),a=e.end==null?r:(w=(S=i.scale).convert)==null?void 0:w.call(S,e.end);if(!lt(o)||!lt(a))return;const[l,d]=[Math.min(n,r),Math.max(n,r)];if(o<l||o>d){me.warnOnce(`Invalid range start [${e.start}], expecting a value between [${(x=(b=i.scale).invert)==null?void 0:x.call(b,n)}] and [${(E=(D=i.scale).invert)==null?void 0:E.call(D,r)}], ignoring.`);return}if(a<l||a>d){me.warnOnce(`Invalid range end [${e.end}], expecting a value between [${(k=(T=i.scale).invert)==null?void 0:k.call(T,n)}] and [${(O=(P=i.scale).invert)==null?void 0:O.call(P,r)}], ignoring.`);return}o=Math.min(d,Math.max(l,o)),a=Math.min(d,Math.max(l,a));const h=r-n,p=Math.abs((o-n)/h),f=Math.abs((a-n)/h);return{min:p,max:f}}getPrimaryAxis(e){var t;return(t=this.axes)==null?void 0:t.find(i=>i.direction===e)}getDomainExtents(e){const{domain:t}=e.scale,i=t.at(0),s=t.at(-1);if(!(i==null||s==null))return[i,s]}getDomainPixelExtents(e){var n,r,o,a;const{domain:t}=e.scale,i=(r=(n=e.scale).convert)==null?void 0:r.call(n,t.at(0)),s=(a=(o=e.scale).convert)==null?void 0:a.call(o,t.at(-1));if(!(!lt(i)||!lt(s)))return[i,s]}getDefinedZoom(){var t,i,s,n;const e=this.getZoom();return{x:{min:((t=e==null?void 0:e.x)==null?void 0:t.min)??0,max:((i=e==null?void 0:e.x)==null?void 0:i.max)??1},y:{min:((s=e==null?void 0:e.y)==null?void 0:s.min)??0,max:((n=e==null?void 0:e.y)==null?void 0:n.max)??1}}}zoomBounds(e,t,i,s){const n=e.scale,r=n.range;n.range=[0,1];const o=t.scale,a=o.range;o.range=[0,1];let l=1,d=!1,h=0,p=!1;for(const y of t.boundSeries){const{connectsToYAxis:S}=y,w=y.getRange("y",[i.min,i.max]);for(const b of w){const x=o.convert(b);Number.isFinite(x)&&(x<l&&(l=x,d=!S||b<0),x>h&&(h=x,p=!S||b>0))}}if(lt(t.min)&&(l=0),lt(t.max)&&(h=1),n.range=r,o.range=a,l>=h)return;const f=(d?s:0)+(p?s:0),v=Math.min((h-l)*(1+f),1);if(!(v<=0)){if(d&&p){const y=(h+l)/2;l=y-v/2,h=y+v/2}else!d&&p?h=l+v:d&&!p&&(l=h-v);return l<0?(h+=-l,l=0):h>1&&(l-=h-1,h=1),{min:l,max:h}}}primaryAxisZoom(e,t,{padding:i=0}={}){const s=e==="x"?"y":"x",n=this.getPrimaryAxis(s),r=this.getPrimaryAxis(e);if(!(n==null||r==null))return this.zoomBounds(n,r,t,i)}combinedAxisZoom(e,t,{padding:i=0}={}){const s=e==="x"?"y":"x",n=new Map;for(const l of this.axes)if(l.direction===s)for(const d of l.boundSeries)n.set(d,l);let r=1,o=0;for(const l of this.axes)if(l.direction===e)for(const d of l.boundSeries){const h=n.get(d);if(h==null)continue;const p=this.zoomBounds(h,l,t,i);if(p==null)return;r=Math.min(r,p.min),o=Math.max(o,p.max)}const a=1e-6;if(r<a&&(r=0),o>1-a&&(o=1),!(r>o))return{min:r,max:o}}},noe=class{constructor(e){this.axis=e;const[t=0,i=1]=e.visibleRange;this.state=new Kd({min:t,max:i}),this.currentZoom=this.state.stateValue()}getDirection(){return this.axis.direction}updateZoom(e,t){this.state.set(e,t)}getZoom(){return Vt(this.state.stateValue())}hasChanges(){const e=this.currentZoom,t=this.state.stateValue();return e.min!==t.min||e.max!==t.max}applyChanges(){const e=this.hasChanges();return this.currentZoom=this.state.stateValue(),e}};function roe(e,t,i,s,n,r){if(e.size===0)return!1;let o=e.x,a=e.y;t!=null&&(o-=(t.x-.5)*e.size,a-=(t.y-.5)*e.size);let l=o;o<i?l=i:o>i+n&&(l=i+n);let d=a;a<s?d=s:a>s+r&&(d=s+r);const h=o-l,p=a-d;return Math.sqrt(h*h+p*p)<=e.size*.5}function Mz(e,t,i,s,n){const r=e.x+e.width>t&&e.x<t+s,o=e.y+e.height>i&&e.y<i+n;return r&&o}function ooe(e,t,i,s,n){return t+s<e.x+e.width&&t>e.x&&i>e.y&&i+n<e.y+e.height}function aoe(e){return e!=null&&typeof e.point=="object"&&typeof e.label=="object"}var loe={top:{x:0,y:-1},bottom:{x:0,y:1},left:{x:-1,y:0},right:{x:1,y:0},"top-left":{x:-1,y:-1},"top-right":{x:1,y:-1},"bottom-left":{x:-1,y:1},"bottom-right":{x:1,y:1}};function coe(e,t,i=5){var a;const s=new Map,n=[],r=new Map([...e.entries()].map(([l,d])=>[l,d.toSorted((h,p)=>p.point.size-h.point.size)])),o=[...r.values()].flat();for(const[l,d]of r.entries()){const h=[];if((a=d[0])!=null&&a.label){for(let p=0,f=d.length;p<f;p++){const v=d[p],{point:y,label:S,anchor:w}=v,{text:b,width:x,height:D}=S,E=y.size*.5;let T=0,k=0;if(E>0&&v.placement!=null){const J=loe[v.placement];T=(x*.5+E+i)*J.x,k=(D*.5+E+i)*J.y}const P=y.x-x*.5+T-(((w==null?void 0:w.x)??.5)-.5)*y.size,O=y.y-D*.5+k-(((w==null?void 0:w.y)??.5)-.5)*y.size;if(!(!t||ooe(t,P,O,x,D))||o.some(J=>roe(J.point,J.anchor,P,O,x,D))||n.some(J=>Mz(J,P,O,x,D)))continue;const U={index:p,text:b,x:P,y:O,width:x,height:D,datum:v};h.push(U),n.push(U)}s.set(l,h)}}return s}function uoe(e,t=0){const i=[];for(let s=0;s<e.length;s++){const n=e[s],{point:{x:r,y:o},label:{text:a}}=n;let{width:l,height:d}=n.label;if(l+=t,d+=t,i.some(h=>Mz(h,r,o,l,d)))return!0;i.push({index:s,text:a,x:r,y:o,width:l,height:d,datum:n})}return!1}var doe=class{constructor(){this.labelData=new Map}updateLabels(e,t,i=De.zero){var o;const s={x:-t.left,y:-t.top,width:i.width+t.left+t.right,height:i.height+t.top+t.bottom},n=new Set(e.map(a=>a.id));for(const a of this.labelData.keys())n.has(a)||this.labelData.delete(a);for(const a of e){const l=a.getLabelData();l.every(aoe)&&this.labelData.set(a.id,l)}const r=coe(this.labelData,s,5);for(const a of e)(o=a.updatePlacedLabelData)==null||o.call(a,r.get(a.id)??[])}},hoe=class extends Fl{constructor(){super(...arguments),this.mementoOriginatorKey="legend",this.legendDataMap=new Map}createMemento(){return this.getData().filter(({hideInLegend:e,isFixed:t})=>!e&&!t).map(({enabled:e,seriesId:t,itemId:i,legendItemName:s})=>({visible:e,seriesId:t,itemId:i,legendItemName:s}))}guardMemento(e){return e==null||$e(e)}restoreMemento(e,t,i){i==null||i.forEach(s=>{const{seriesId:n,data:r}=this.getRestoredData(s)??{};!n||!r||this.updateData(n,r)}),this.update()}getRestoredData(e){const{seriesId:t,itemId:i,legendItemName:s,visible:n}=e;if(t){const o=(this.legendDataMap.get(t)??[]).map(a=>{const l=a.seriesId===t&&(!i||a.itemId===i);return l&&a.isFixed&&this.warnFixed(a.seriesId,a.itemId),!a.isFixed&&l?{...a,enabled:n}:a});return{seriesId:t,data:o}}if(!(i==null&&s==null))for(const r of this.getData()){if(i!=null&&r.itemId!==i||s!=null&&r.legendItemName!==s)continue;if(r.isFixed){this.warnFixed(r.seriesId,i);return}const o=(this.legendDataMap.get(r.seriesId)??[]).map(a=>a.itemId===i||a.legendItemName===s?{...a,enabled:n}:a);return{seriesId:r.seriesId,data:o}}}warnFixed(e,t){me.warnOnce(`The legend item with seriesId [${e}] and itemId [${t}] is not configurable, this series item cannot be toggled through the legend.`)}update(e){this.listeners.dispatch("legend-change",{type:"legend-change",legendData:e??this.getData()})}updateData(e,t=[]){this.legendDataMap.set(e,t)}clearData(){this.legendDataMap.clear()}toggleItem(e,t,i,s){if(s){this.getData().forEach(a=>{const l=(this.legendDataMap.get(a.seriesId)??[]).map(d=>d.legendItemName===s?{...d,enabled:e}:d);this.updateData(a.seriesId,l)});return}const n=this.getData(t),r=n.length===1,o=n.map(a=>i==null&&r||a.itemId===i?{...a,enabled:e}:a);this.updateData(t,o)}getData(e){return e?this.legendDataMap.get(e)??[]:[...this.legendDataMap].reduce((t,[i,s])=>t.concat(s),[])}getDatum({seriesId:e,itemId:t}={}){return this.getData(e).find(i=>i.itemId===t)}getSeriesEnabled(e){const t=this.getData(e);if(t.length>0)return t.some(i=>i.enabled)}getItemEnabled({seriesId:e,itemId:t}={}){var i;return((i=this.getDatum({seriesId:e,itemId:t}))==null?void 0:i.enabled)??!0}},goe=class{constructor(){this.groups={}}registerSeries({internalId:e,seriesGrouping:t,visible:i,type:s}){var n;t&&((n=this.groups)[s]??(n[s]={}),this.groups[s][e]={grouping:t,visible:i})}updateSeries({internalId:e,seriesGrouping:t,visible:i,type:s}){var r;if(!t)return;const n=(r=this.groups[s])==null?void 0:r[e];n&&(n.grouping=t,n.visible=i)}deregisterSeries({internalId:e,type:t}){this.groups[t]&&delete this.groups[t][e],this.groups[t]&&Object.keys(this.groups[t]).length===0&&delete this.groups[t]}getVisiblePeerGroupIndex({type:e,seriesGrouping:t,visible:i}){if(!t)return{visibleGroupCount:i?1:0,visibleSameStackCount:i?1:0,index:0};const s=new Set,n=new Set;for(const o of Object.values(this.groups[e]??{}))o.visible&&(s.add(o.grouping.groupIndex),o.grouping.groupIndex===t.groupIndex&&n.add(o.grouping.stackIndex));const r=Array.from(s);return r.sort((o,a)=>o-a),{visibleGroupCount:r.length,visibleSameStackCount:n.size,index:r.indexOf(t.groupIndex)}}},mp=(e=>(e[e.FULL=0]="FULL",e[e.UPDATE_DATA=1]="UPDATE_DATA",e[e.PROCESS_DATA=2]="PROCESS_DATA",e[e.PERFORM_LAYOUT=3]="PERFORM_LAYOUT",e[e.SERIES_UPDATE=4]="SERIES_UPDATE",e[e.PRE_SCENE_RENDER=5]="PRE_SCENE_RENDER",e[e.SCENE_RENDER=6]="SCENE_RENDER",e[e.NONE=7]="NONE",e))(mp||{}),Dz=class{constructor(e){this.updateCallback=e,this.events=new fR}addListener(e,t){return this.events.on(e,t)}removeListener(e,t){return this.events.on(e,t)}destroy(){this.events.clear()}update(e=0,t){this.updateCallback(e,t)}dispatchUpdateComplete(){this.events.emit("update-complete",{type:"update-complete"})}dispatchPreDomUpdate(){this.events.emit("pre-dom-update",{type:"pre-dom-update"})}dispatchPreSceneRender(){this.events.emit("pre-scene-render",{type:"pre-scene-render"})}dispatchProcessData({series:e}){this.events.emit("process-data",{type:"process-data",series:e})}},poe=class{constructor(e,t){this.callbackCache=new Nne,this.chartEventManager=new ez,this.highlightManager=new iz,this.layoutManager=new T3,this.localeManager=new Dne,this.seriesStateManager=new goe,this.stateManager=new sne,this.seriesLabelLayoutManager=new doe,this.contextModules=[];const{scene:i,root:s,syncManager:n,container:r,fireEvent:o,updateCallback:a,updateMutex:l,styleContainer:d,chartType:h,domMode:p}=t;this.chartService=e,this.syncManager=n,this.domManager=new G3(r,d,p),this.widgets=new Kne(this.domManager);const f=this.domManager.addChild("canvas","scene-canvas",i==null?void 0:i.canvas.element);this.scene=i??new YC({canvasElement:f}),this.scene.setRoot(s),this.axisManager=new Bne(s),this.legendManager=new hoe,this.annotationManager=new zne(e.annotationRoot,o),this.chartTypeOriginator=new tne(e),this.interactionManager=new Q3,this.contextMenuRegistry=new tz,this.updateService=new Dz(a),this.proxyInteractionService=new _3(this.localeManager,this.domManager),this.historyManager=new ine(this.chartEventManager),this.animationManager=new J3(this.interactionManager,l),this.dataService=new KC(this.animationManager),this.tooltipManager=new Uy(this.localeManager,this.domManager,e.tooltip),this.zoomManager=new xz(o,this.layoutManager);for(const v of oo.byType("context")){if(!v.chartTypes.includes(h))continue;const y=v.moduleFactory(this);this.contextModules.push(y),this[v.contextKey]=y}}destroy(){this.animationManager.destroy(),this.highlightManager.destroy(),this.axisManager.destroy(),this.callbackCache.invalidateCache(),this.chartEventManager.destroy(),this.domManager.destroy(),this.highlightManager.destroy(),this.proxyInteractionService.destroy(),this.syncManager.destroy(),this.tooltipManager.destroy(),this.zoomManager.destroy(),this.widgets.destroy(),this.contextModules.forEach(e=>e.destroy())}},Rz=class extends Ge{constructor(){super(...arguments),this.range="tooltip"}};R([A(Mt(["tooltip","node"],"a range"))],Rz.prototype,"range",2);function foe(e,t){if(e.size!==t.size)return!1;for(const i of e)if(!t.has(i))return!1;return!0}function moe(e,t){if(e==null||t==null)return e===t;if(e.size!==t.size)return!1;for(const[i,s]of e){const n=t.get(i);if(n==null||!foe(s,n))return!1}return!0}function voe(e,t){if(e.length!==t.length)return!1;for(let i=0;i<e.length;i+=1){const{type:s,idsMap:n,scopes:r,data:o,...a}=e[i],{type:l,idsMap:d,scopes:h,data:p,...f}=t[i];if(s!==l||r&&h&&!ro(r,h)||o&&p&&o!==p||!mo(a,f)||!moe(n,d))return!1}return!0}function yoe(e,t){const{props:i,...s}=e,{props:n,...r}=t;return mo(s,r)&&voe(i,n)}function Coe(e,t,i,s){return t===e.data&&ro(i,e.ids)&&yoe(s,e.opts)}var LP=class Ez{constructor(){this.domain=new Set}static is(t){return t instanceof Ez}extend(t){this.domain.add(t)}getDomain(){return Array.from(this.domain)}},nl=class Az{constructor(){this.domain=[1/0,-1/0]}static is(t){return t instanceof Az}static extendDomain(t,i=[1/0,-1/0]){for(const s of t)typeof s=="number"&&(i[0]>s&&(i[0]=s),i[1]<s&&(i[1]=s));return i}extend(t){this.domain[0]>t&&(this.domain[0]=t),this.domain[1]<t&&(this.domain[1]=t)}getDomain(){return[...this.domain]}},ld=0,cd=1,Zr=2,boe=class{constructor(e){const t=e.reduce((r,o)=>Math.max(r,o.length),0);let s=1<<32-Math.clz32(t);t===s/2&&(s=s>>>1),this.maxLevelSize=s;const n=new Float64Array((s*2-1)*2).fill(NaN);for(const r of e)for(let o=0;o<r.length;o+=1){const a=Number(r[o]),l=s+o-1,d=(l*Zr|0)+ld,h=(l*Zr|0)+cd,p=n[d],f=n[h];(!Number.isFinite(p)||a<p)&&(n[d]=a),(!Number.isFinite(f)||a>f)&&(n[h]=a)}for(let r=s/2|0;r>=1;r=r/2|0){const o=r-1|0,a=o+r|0;for(let l=0;l<r;l+=1){const d=o+l,h=a+l*2,p=h+1,f=n[(h*Zr|0)+ld],v=n[(p*Zr|0)+ld];n[(d*Zr|0)+ld]=!Number.isFinite(v)||f<v?f:v;const y=n[(h*Zr|0)+cd],S=n[(p*Zr|0)+cd];n[(d*Zr|0)+cd]=!Number.isFinite(S)||y>S?y:S}}this.buffer=n}computeRangeInto(e,t,i,s,n,r,o){const a=n+r-1;if(a<t||n>=i)return o;if(n>=t&&a<i){const l=e[(s*Zr|0)+ld],d=e[(s*Zr|0)+cd];Number.isFinite(l)&&(o[0]=Math.min(o[0],l)),Number.isFinite(d)&&(o[1]=Math.max(o[1],d))}else r>1&&(s=s*2|0,r=r/2|0,this.computeRangeInto(e,t,i,s+1|0,n,r,o),this.computeRangeInto(e,t,i,s+2|0,n+r,r,o));return o}rangeBetween(e,t){if(e>t)return[NaN,NaN];const{maxLevelSize:i,buffer:s}=this,n=[1/0,-1/0];return this.computeRangeInto(s,e,t,0,0,i,n),n}get range(){const{buffer:e}=this;return[e[ld],e[cd]]}},kP=Symbol("domain-ranges");function Soe(e){return e.map(t=>Ci(t)?JSON.stringify(t):t).join("-")}function on(e){const t=e==null?void 0:e.map(Number);return t!=null&&t.every(Number.isFinite)?t:[]}function rE(e,t){return(t==null?void 0:t.get(e.id))??0}function woe(e){return"scopes"in e&&Array.isArray(e.scopes)}function j0(e,t){const i=[];for(let s=0;s<e;s+=1)i[s]=t;return i}function Yy(e,t,i){var n;const s=[];for(const r of e){const o=(n=r.get(t))==null?void 0:n[i];if(o==null)return;s.push(o)}return s}function Tz(e){const t=[];let i=0,s;const n=new RegExp(`((?:(?:^|\\.)\\s*\\w+|\\[\\s*(?:'(?:[^']|(?<!\\\\)\\\\')*'|"(?:[^"]|(?<!\\\\)\\\\")*"|-?\\d+)\\s*\\])\\s*)`,"g");for(;s=n.exec(e);){if(s.index!==i)return;i=s.index+s[0].length;const r=s[1].trim();if(r.startsWith("."))t.push(r.slice(1).trim());else if(r.startsWith("[")){const o=r.slice(1,-1).trim();o.startsWith("'")?t.push(o.slice(1,-1).replace(new RegExp("(?<!\\\\)\\\\'","g"),"'")):o.startsWith('"')?t.push(o.slice(1,-1).replace(new RegExp('(?<!\\\\)\\\\"',"g"),'"')):t.push(o)}else t.push(r)}if(i===e.length)return t}function xoe(e){return t=>{let i=t;for(const s of e)i=i[s];return i}}var Iz=class{constructor(e,t="standalone",i=!1){var a;this.opts=e,this.mode=t,this.suppressFieldDotNotation=i,this.debug=ht.create(!0,"data-model"),this.scopeCache=new Map,this.keys=[],this.values=[],this.aggregates=[],this.groupProcessors=[],this.propertyProcessors=[],this.reducers=[],this.processors=[],this.markScopeDatumInvalid=function(l,d,h,p){for(const f of l)p.has(f)||p.set(f,j0(d.length,!1)),p.get(f)[h]=!0};let s=!0;for(const l of e.props){if(l.type==="key"&&!s)throw new Error("AG Charts - internal config error: keys must come before values.");l.type==="value"&&s&&(s=!1)}const n=({matchGroupIds:l=[]})=>{for(const d of l)if(this.values.every(h=>h.groupId!==d))throw new Error(`AG Charts - internal config error: matchGroupIds properties must match defined groups (${d}).`)},r=new Set,o=new Set;for(const l of e.props){const d=l.type==="key"?r:o;switch(woe(l)&&((a=l.scopes)==null||a.forEach(h=>d.add(h))),l.type){case"key":this.keys.push({...l,index:this.keys.length,missing:new Map});break;case"value":if(l.property==null)throw new Error(`AG Charts - internal config error: no properties specified for value definitions: ${JSON.stringify(l)}`);this.values.push({...l,index:this.values.length,missing:new Map});break;case"aggregate":n(l),this.aggregates.push({...l,index:this.aggregates.length});break;case"group-value-processor":n(l),this.groupProcessors.push({...l,index:this.groupProcessors.length});break;case"property-value-processor":this.propertyProcessors.push({...l,index:this.propertyProcessors.length});break;case"reducer":this.reducers.push({...l,index:this.reducers.length});break;case"processor":this.processors.push({...l,index:this.processors.length});break}}if(this.opts.groupByKeys||this.opts.groupByFn!=null){const l=new Set(o.values());if(r.forEach(d=>l.delete(d)),l.size>0)throw new Error(`AG Charts - scopes missing key for grouping, illegal configuration: ${[...l.values()]}`)}}resolveProcessedDataDefById(e,t){var s;const i=(s=this.scopeCache.get(e.id))==null?void 0:s.get(t);if(!i)throw new Error(`AG Charts - didn't find property definition for [${t}, ${e.id}]`);return{index:i.index,def:i}}resolveProcessedDataIndexById(e,t){return this.resolveProcessedDataDefById(e,t).index}resolveKeysById(e,t,i){const s=this.resolveProcessedDataIndexById(e,t),n=i.keys[s];if(n==null)throw new Error(`AG Charts - didn't find keys for [${t}, ${e.id}]`);return n.get(e.id)}hasColumnById(e,t){var i;return((i=this.scopeCache.get(e.id))==null?void 0:i.get(t))!=null}resolveColumnById(e,t,i){var r;const s=this.resolveProcessedDataIndexById(e,t),n=(r=i.columns)==null?void 0:r[s];if(n==null)throw new Error(`AG Charts - didn't find column for [${t}, ${e.id}]`);return n}*forEachDatum(e,t,i){const s=t.columnScopes.findIndex(n=>n.has(e.id));for(const n of i.datumIndices[s]??[])yield t.columns[s][n]}*forEachGroupDatum(e,t){const i=t.columnScopes.findIndex(r=>r.has(e.id)),s={groupIndex:0,columnIndex:i},n=[];for(const r of t.groups){s.group=r;let o=0;for(const a of r.datumIndices[i]??n)s.datumIndex=a,s.valueIndex=o++,yield s;s.groupIndex++}}*forEachGroupDatumTuple(e,t){const s={columnIndex:t.columnScopes.findIndex(n=>n.has(e.id)),datumIndexes:[void 0,void 0,void 0]};for(const n of this.forEachGroupDatum(e,t))s.group=s.nextGroup,s.groupIndex=s.nextGroupIndex,s.nextGroup=n.group,s.nextGroupIndex=n.groupIndex,s.datumIndexes[0]=s.datumIndexes[1],s.datumIndexes[1]=s.datumIndexes[2],s.datumIndexes[2]=n.datumIndex,s.group!=null&&s.datumIndexes[1]!=null&&(yield s);s.group=s.nextGroup,s.groupIndex=s.nextGroupIndex,s.nextGroup=void 0,s.nextGroupIndex=void 0,s.datumIndexes[0]=s.datumIndexes[1],s.datumIndexes[1]=s.datumIndexes[2],s.datumIndexes[2]=void 0,s.group!=null&&s.datumIndexes[1]!=null&&(yield s)}getDomain(e,t,i,s){const n=this.getDomainsByType(i??"value",s);return(n==null?void 0:n[this.resolveProcessedDataIndexById(e,t)])??[]}getDomainBetweenRange(e,t,[i,s],n){const r=t.map(d=>this.resolveProcessedDataIndexById(e,d)),o=r.join(":"),a=n[kP];let l=a.get(o);if(l==null){const d=r.map(h=>n.columns[h]);l=new boe(d),a.set(o,l)}return l.rangeBetween(i,s)}getDomainsByType(e,t){switch(e){case"key":return t.domain.keys;case"value":return t.domain.values;case"aggregate":return t.domain.aggValues;case"group-value-processor":return t.domain.groups;default:return null}}processData(e){const{opts:{groupByKeys:t,groupByFn:i},aggregates:s,groupProcessors:n,reducers:r,processors:o,propertyProcessors:a}=this,l=performance.now();if(t&&this.keys.length===0)return;let d=this.extractData(e);t?d=this.groupData(d):i&&(d=this.groupData(d,i(d))),n.length>0&&d.type==="grouped"&&this.postProcessGroups(d),s.length>0&&d.type==="ungrouped"?this.aggregateUngroupedData(d):s.length>0&&d.type==="grouped"&&this.aggregateGroupedData(d),a.length>0&&this.postProcessProperties(d),r.length>0&&this.reduceData(d),o.length>0&&this.postProcessData(d),this.warnDataMissingProperties(e);const h=performance.now();return d.time=h-l,this.debug.check()&&Moe(d),this.processScopeCache(),d}warnDataMissingProperties(e){var t;if(e.size!==0)for(const i of Lc(this.keys,this.values))for(const[s,n]of i.missing){if(n<(((t=e.get(s))==null?void 0:t.length)??1/0))continue;const r=s==null?"":` for ${s}`;me.warnOnce(`the key '${i.property}' was not found in any data element${r}.`)}}processScopeCache(){var e;this.scopeCache.clear();for(const t of Lc(this.keys,this.values,this.aggregates))if(t.idsMap)for(const[i,s]of t.idsMap)for(const n of s)if(!this.scopeCache.has(i))this.scopeCache.set(i,new Map([[n,t]]));else{if((e=this.scopeCache.get(i))!=null&&e.has(n))throw new Error("duplicate definition ids on the same scope are not allowed.");this.scopeCache.get(i).set(n,t)}}valueGroupIdxLookup({matchGroupIds:e}){const t=[];for(const[i,s]of this.values.entries())(!e||s.groupId&&e.includes(s.groupId))&&t.push(i);return t}valueIdxLookup(e,t){const i=e==null||e.length===0,s=typeof t=="string"?t:t.id,n=o=>{if(o.idsMap){for(const[a,l]of o.idsMap)if(e!=null&&e.includes(a)&&l.has(s))return!0}return!1},r=this.values.reduce((o,a,l)=>((a.scopes==null||i&&!a.scopes.length||a.scopes.some(h=>e==null?void 0:e.includes(h)))&&(a.property===s||a.id===s||n(a))&&o.push(l),o),[]);if(r.length===0)throw new Error(`AG Charts - configuration error, unknown property ${JSON.stringify(t)} in scope(s) ${JSON.stringify(e)}`);return r}extractData(e){const{dataDomain:t,processValue:i,allScopesHaveSameDefs:s}=this.initDataDomainProcessor(),{keys:n,values:r}=this,{invalidData:o,invalidKeys:a,allKeyMappings:l}=this.extractKeys(n,e,i),{columns:d,columnScopes:h,partialValidDataCount:p,maxDataLength:f}=this.extractValues(o,r,e,a,i),v=y=>{const S=t.get(y),w=S.getDomain();return nl.is(S)&&w[0]>w[1]?[]:w};return{type:"ungrouped",input:{count:f},scopes:new Set(e.keys()),dataSources:e,aggregation:void 0,keys:[...l.values()],columns:d,columnScopes:h,invalidKeys:a,invalidData:o,domain:{keys:n.map(v),values:r.map(v)},defs:{allScopesHaveSameDefs:s,keys:n,values:r},partialValidDataCount:p,time:0,[kP]:new Map}}extractKeys(e,t,i){const s=new Map,n=new Map,r=new Map;let o,a;const l=(d,h)=>{const p=a.get(d);o.set(h,o.get(p)),s.has(p)&&(s.set(h,s.get(p)),n.set(h,n.get(p)))};for(const d of e){const{invalidValue:h,scopes:p}=d;o=new Map,a=new Map,r.set(d,o);for(const f of p??[]){const v=t.get(f)??[];if(a.has(v)){l(v,f);continue}const y=[];o.set(f,y),a.set(v,f);let S,w;for(let b=0;b<v.length;b++){if(v[b]==null||typeof v[b]!="object")continue;const x=i(d,v[b],b,f);if(x.valid){y.push(x.value);continue}y.push(h),S??(S=j0(v.length,!1)),w??(w=j0(v.length,!1)),S[b]=!0,w[b]=!0}S&&w&&(s.set(f,S),n.set(f,w))}}return{invalidData:n,invalidKeys:s,allKeyMappings:r}}extractValues(e,t,i,s,n){var d;let r=0;const o=[],a=[];let l=0;for(const h of t){const{invalidValue:p}=h;if(new Set(h.scopes.map(b=>i.get(b))).size>1)throw new Error(`AG Charts - more than one data source for: ${JSON.stringify(h)}`);const v=new Set(h.scopes),y=jg(h.scopes),S=i.get(y),w=new Array;for(let b=0;b<S.length;b++){if(S[b]==null||typeof S[b]!="object")continue;const x=S[b],D=(d=s.get(y))==null?void 0:d[b],E=n(h,x,b,h.scopes);let T=E.value;(D||!E.valid)&&this.markScopeDatumInvalid(h.scopes,S,b,e),D?T=p:E.valid||(r+=1,T=p),w[b]=T}o.push(w),a.push(v),l=Math.max(l,w.length)}return{columns:o,columnScopes:a,partialValidDataCount:r,maxDataLength:l}}groupData(e,t){var i;const s=new Map,{keys:n,columns:r,columnScopes:o,invalidKeys:a,invalidData:l}=e,d=e.scopes,h=new Set;for(const v of d){const y=r.map((E,T)=>T).filter(E=>!h.has(E)&&o[E].has(v));if(y.length===0)continue;for(const E of y)h.add(E);const S=new Set;for(const E of y)for(const T of o[E])S.add(T);const w=n.map(E=>E.get(v)).filter(E=>E!=null),b=r[jg(y)],x=l==null?void 0:l.get(v),D=a==null?void 0:a.get(v);for(let E=0;E<b.length;E++){if((D==null?void 0:D[E])===!0)continue;const T=w.map(F=>F[E]);if(T==null||T.length===0)throw new Error("AG Charts - no keys found for scope: "+v);const k=(t==null?void 0:t(T))??T,P=Soe(k),O=s.get(P)??{keys:k,datumIndices:[],validScopes:d};if(s.has(P)||s.set(P,O),(x==null?void 0:x[E])===!0){O.validScopes===d&&(O.validScopes=new Set(d.values()));for(const F of S)O.validScopes.delete(F)}for(const F of y)(i=O.datumIndices)[F]??(i[F]=[]),O.datumIndices[F].push(E)}}const p=[],f=[];for(const{keys:v,datumIndices:y,validScopes:S}of s.values())p.push(v),f.push({datumIndices:y,keys:v,aggregation:[],validScopes:S});return{...e,type:"grouped",domain:{...e.domain,groups:p},groups:f}}aggregateUngroupedData(e){const t=this.aggregates.map(()=>[1/0,-1/0]);e.domain.aggValues=t;const{keys:i,columns:s,dataSources:n}=e,r=jg(n.keys()),o=n.get(r);e.aggregation=o==null?void 0:o.map((a,l)=>{var h,p,f;const d=[];for(const[v,y]of this.aggregates.entries()){const S=this.valueGroupIdxLookup(y);let w=((h=y.groupAggregateFunction)==null?void 0:h.call(y))??[1/0,-1/0];const b=S.map(T=>s[T][l]),x=Yy(i,r,l),D=x!=null?y.aggregateFunction(b,x):void 0;D&&(w=((p=y.groupAggregateFunction)==null?void 0:p.call(y,D,w))??nl.extendDomain(D,w));const E=((f=y.finalFunction)==null?void 0:f.call(y,w))??w;d[v]=E,nl.extendDomain(E,t[v])}return d})}aggregateGroupedData(e){var s,n,r;const t=this.aggregates.map(()=>[1/0,-1/0]);e.domain.aggValues=t;const{columns:i}=e;for(const[o,a]of this.aggregates.entries()){const l=this.valueGroupIdxLookup(a);for(const d of e.groups){d.aggregation??(d.aggregation=[]);const h=d.keys;let p=((s=a.groupAggregateFunction)==null?void 0:s.call(a))??[1/0,-1/0];const f=Math.max(...l.map(y=>{var S;return((S=d.datumIndices[y])==null?void 0:S.length)??0}));for(let y=0;y<f;y++){const S=l.map(b=>{var x;return i[b][(x=d.datumIndices[b])==null?void 0:x[y]]}),w=a.aggregateFunction(S,h);w&&(p=((n=a.groupAggregateFunction)==null?void 0:n.call(a,w,p))??nl.extendDomain(w,p))}const v=((r=a.finalFunction)==null?void 0:r.call(a,p))??p;d.aggregation[o]=v,nl.extendDomain(v,t[o])}}}postProcessGroups(e){const{groupProcessors:t}=this,{columnScopes:i,columns:s,invalidData:n}=e;for(const r of t){const o=this.valueGroupIdxLookup(r),a=r.adjust()();for(const l of e.groups)a(s,o,l);for(const l of o){const h=this.values[l].valueType==="category",p=s[l],f=jg(i[l]),v=n==null?void 0:n.get(f),y=h?new LP:new nl;for(let S=0;S<p.length;S+=1)(v==null?void 0:v[S])!==!0&&y.extend(p[S]);e.domain.values[l]=y.getDomain()}}}postProcessProperties(e){for(const{adjust:t,property:i,scopes:s}of this.propertyProcessors)for(const n of this.valueIdxLookup(s,i))t()(e,n)}reduceData(e){var s;e.reduced??(e.reduced={});const{dataSources:t,keys:i}=e;for(const n of this.reducers){const r=n.reducer();let o=n.initialValue;if(e.type==="grouped")for(const a of e.groups)o=r(o,a.keys);else{const a=jg(t.keys()),l=i.map(p=>p.get(a)).filter(p=>p!=null),d=l.map(()=>{}),h=t.get(a);for(let p=0;p<h.length;p+=1){for(let f=0;f<d.length;f++)d[f]=(s=l[f])==null?void 0:s[p];o=r(o,d)}}e.reduced[n.property]=o}}postProcessData(e){e.reduced??(e.reduced={});for(const t of this.processors)e.reduced[t.property]=t.calculate(e,e.reduced[t.property])}initDataDomainProcessor(){const{keys:e,values:t}=this,i=new Set;for(const h of t)if(h.scopes)for(const p of h.scopes)i.add(p);const s=new Map,n=new Map;let r=!0;const o=()=>{for(const h of Lc(e,t))h.valueType==="category"?s.set(h,new LP):(s.set(h,new nl),r&&(r=(h.scopes??[]).length===i.size))};o();const a=this.buildAccessors(Lc(e,t)),l={value:void 0,missing:!1,valid:!1};return{dataDomain:s,processValue:(h,p,f,v)=>{var b,x;let y,S;if(a.has(h.property)){try{S=a.get(h.property)(p)}catch{}y=S!=null}else y=h.property in p,S=y?p[h.property]:h.missingValue;h.forceValue!=null&&(S=y&&SR(S)?-1*h.forceValue:h.forceValue,y=!0),l.missing=!y;const w="missingValue"in h;if(!y&&!w)if(typeof v=="string"){const D=h.missing.get(v)??0;h.missing.set(v,D+1)}else for(const D of v){const E=h.missing.get(D)??0;h.missing.set(D,E+1)}if(s.has(h)||o(),y&&((b=h.validation)==null?void 0:b.call(h,S,p,f))===!1)if(l.valid=!1,"invalidValue"in h)S=h.invalidValue;else return this.mode!=="integrated"&&me.warnOnce(`invalid value of type [${typeof S}] for [${h.scopes} / ${h.id}] ignored:`,`[${S}]`),l.value=void 0,l;else l.valid=!0;if(h.processor){let D=n.get(h);D==null&&(D=h.processor(),n.set(h,D)),S=D(S,f)}return(x=s.get(h))==null||x.extend(S),l.value=S,l},initDataDomain:o,scopes:i,allScopesHaveSameDefs:r}}buildAccessors(e){const t=new Map;if(this.suppressFieldDotNotation)return t;for(const i of e){if(!(i.property.includes(".")||i.property.includes("[")))continue;const n=Tz(i.property);if(n==null){me.warnOnce("Invalid property path [%s]",i.property);continue}const r=xoe(n);t.set(i.property,r)}return t}};function Moe(e){const t=(i,s)=>{s.length>0&&(me.log(`DataModel.processData() - ${i}`),me.table(s))};me.log("DataModel.processData() - processedData",e),t("Key Domains",e.domain.keys),t("Group Domains",e.domain.groups??[]),t("Value Domains",e.domain.values),t("Aggregate Domains",e.domain.aggValues??[])}var Lz=class $o{constructor(t,i){this.mode=t,this.suppressFieldDotNotation=i,this.debug=ht.create(!0,"data-model"),this.requested=[],this.status="setup"}async request(t,i,s){if(this.status!=="setup")throw new Error("AG Charts - data request after data setup phase.");return new Promise((n,r)=>{this.requested.push({id:t,opts:s,data:i,resolve:n,reject:r})})}execute(t){if(this.status!=="setup")throw new Error("AG Charts - data request after data setup phase.");this.status="executed",this.debug("DataController.execute() - requested",this.requested);const i=this.validateRequests(this.requested);this.debug("DataController.execute() - validated",i);const s=this.mergeRequested(i);this.debug("DataController.execute() - merged",s),this.debug.check()&&(Pt().processedData=[]);const n=[];for(const{data:r,ids:o,opts:a,resolves:l,rejects:d}of s){const h=t==null?void 0:t.find(v=>Coe(v,r,o,a));let p,f;if(h==null)try{p=new Iz(a,this.mode,this.suppressFieldDotNotation);const v=new Map(i.map(y=>[y.id,y.data]));f=p.processData(v)}catch(v){d.forEach(y=>y(v));continue}else({dataModel:p,processedData:f}=h);n.push({opts:a,data:r,ids:o,dataModel:p,processedData:f}),this.debug.check()&&Pt("processedData").push(f),(f==null?void 0:f.partialValidDataCount)===0?l.forEach(v=>v({dataModel:p,processedData:f})):f?this.splitResult(p,f,o,l):d.forEach(v=>v(new Error("AG Charts - no processed data generated")))}return n}validateRequests(t){const i=[];for(const[s,n]of t.entries())s>0&&n.data.length!==t[0].data.length&&n.opts.groupByData===!1&&n.opts.groupByKeys===!1?n.reject(new Error("all series[].data arrays must be of the same length and have matching keys.")):i.push(n);return i}mergeRequested(t){const i=[];for(const s of t){const n=i.find($o.groupMatch(s));n?n.push(s):i.push([s])}return i.map($o.mergeRequests)}splitResult(t,i,s,n){for(let r=0;r<s.length;r++){const o=n[r];o({dataModel:t,processedData:i})}}static groupMatch({data:t,opts:i}){function s(d){return d.filter(h=>h.type==="key").map(h=>h.property).join(";")}const{groupByData:n,groupByKeys:r=!1,groupByFn:o,props:a}=i,l=s(a);return([d])=>(n===!1||d.data===t)&&(d.opts.groupByKeys??!1)===r&&d.opts.groupByFn===o&&s(d.opts.props)===l}static mergeRequests(t){const i=new Set(["key","group-value-processor"]);return t.reduce((s,{id:n,data:r,resolve:o,reject:a,opts:{props:l,...d}})=>{var h;s.ids.push(n),s.rejects.push(a),s.resolves.push(o),s.data??(s.data=r),s.opts??(s.opts={...d,props:[]});for(const p of l){const f={...p,scopes:[n],data:r};$o.createIdsMap(n,f);const v=s.opts.props.find(y=>y.type===f.type&&(i.has(y.type)||y.data===f.data)&&$o.deepEqual(y,f));if(!v){s.opts.props.push(f);continue}v.scopes??(v.scopes=[]),v.scopes.push(...f.scopes??[]),(v.type==="key"||v.type==="value")&&((h=f.idsMap)!=null&&h.size)&&$o.mergeIdsMap(f.idsMap,v.idsMap)}return s},{ids:[],rejects:[],resolves:[],data:null,opts:null})}static mergeIdsMap(t,i){for(const[s,n]of t){const r=i.get(s);if(r==null)i.set(s,new Set(n));else for(const o of n)r.add(o)}}static createIdsMap(t,i){i.id!=null&&(i.idsMap??(i.idsMap=new Map),i.idsMap.has(t)?i.idsMap.get(t).add(i.id):i.idsMap.set(t,new Set([i.id])))}static deepEqual(t,i){if(t===i)return!0;if(t&&i&&typeof t=="object"&&typeof i=="object"){if(t.constructor!==i.constructor)return!1;let s,n;if(Array.isArray(t)){if(n=t.length,n!==i.length)return!1;for(s=n-1;s>=0;s--)if(!$o.deepEqual(t[s],i[s]))return!1;return!0}const r=Object.keys(t);if(n=r.length,n!==Object.keys(i).length)return!1;for(s=n-1;s>=0;s--){const o=r[s];if(!$o.skipKeys.has(o)&&(!Object.hasOwn(i,o)||!$o.deepEqual(t[o],i[o])))return!1}return!0}return!1}};Lz.skipKeys=new Set(["id","idsMap","type","scopes","data"]);var kz=Lz,Doe=class{constructor(){this.axesMap=new Map,this.themeTemplates=new Map}register(e,t){this.axesMap.set(e,t.moduleFactory),t.themeTemplate&&this.setThemeTemplate(e,t.themeTemplate)}create(e,t){const i=this.axesMap.get(e);if(i)return i(t);throw new Error(`AG Charts - unknown axis type: ${e}`)}has(e){return this.axesMap.has(e)}keys(){return this.axesMap.keys()}setThemeTemplate(e,t){return this.themeTemplates.set(e,t),this}getThemeTemplate(e){return this.themeTemplates.get(e)}},Vc=new Doe,Mf=[{type:"root",optionsKey:"animation",chartTypes:["cartesian","polar","hierarchy","topology","flow-proportion","standalone","gauge"]},{type:"root",optionsKey:"annotations",chartTypes:["cartesian"]},{type:"root",optionsKey:"background",chartTypes:["cartesian","polar","hierarchy","topology","flow-proportion","standalone","gauge"],optionsInnerKey:"image"},{type:"root",optionsKey:"foreground",chartTypes:["cartesian","polar","hierarchy","topology","flow-proportion","standalone","gauge"],optionsInnerKey:"image"},{type:"root",optionsKey:"chartToolbar",chartTypes:["cartesian"]},{type:"root",optionsKey:"contextMenu",chartTypes:["cartesian","polar","hierarchy","topology","flow-proportion","standalone","gauge"]},{type:"root",optionsKey:"statusBar",chartTypes:["cartesian"],identifier:"status-bar"},{type:"root",optionsKey:"dataSource",chartTypes:["cartesian","polar","hierarchy","topology","flow-proportion","standalone","gauge"]},{type:"root",optionsKey:"sync",chartTypes:["cartesian"]},{type:"root",optionsKey:"zoom",chartTypes:["cartesian","topology"]},{type:"root",optionsKey:"ranges",chartTypes:["cartesian"]},{type:"legend",optionsKey:"gradientLegend",chartTypes:["cartesian","polar","hierarchy","topology","flow-proportion","standalone","gauge"],identifier:"gradient"},{type:"root",optionsKey:"navigator",chartTypes:["cartesian"]},{type:"axis",optionsKey:"axes[]",chartTypes:["polar"],identifier:"angle-category"},{type:"axis",optionsKey:"axes[]",chartTypes:["polar"],identifier:"angle-number"},{type:"axis",optionsKey:"axes[]",chartTypes:["polar"],identifier:"radius-category"},{type:"axis",optionsKey:"axes[]",chartTypes:["polar"],identifier:"radius-number"},{type:"series",optionsKey:"series[]",chartTypes:["cartesian"],identifier:"bar",community:!0},{type:"series",optionsKey:"series[]",chartTypes:["cartesian"],identifier:"line",community:!0},{type:"axis",optionsKey:"axes[]",chartTypes:["cartesian"],identifier:"ordinal-time"},{type:"axis-option",optionsKey:"crosshair",chartTypes:["cartesian"]},{type:"series",optionsKey:"series[]",chartTypes:["cartesian"],identifier:"box-plot"},{type:"series",optionsKey:"series[]",chartTypes:["cartesian"],identifier:"candlestick"},{type:"series",optionsKey:"series[]",chartTypes:["cartesian"],identifier:"cone-funnel"},{type:"series",optionsKey:"series[]",chartTypes:["cartesian"],identifier:"funnel"},{type:"series",optionsKey:"series[]",chartTypes:["cartesian"],identifier:"ohlc"},{type:"series",optionsKey:"series[]",chartTypes:["cartesian"],identifier:"heatmap"},{type:"series",optionsKey:"series[]",chartTypes:["cartesian"],identifier:"range-area"},{type:"series",optionsKey:"series[]",chartTypes:["cartesian"],identifier:"range-bar"},{type:"series",optionsKey:"series[]",chartTypes:["cartesian"],identifier:"waterfall"},{type:"series",optionsKey:"series[]",chartTypes:["polar"],identifier:"nightingale"},{type:"series",optionsKey:"series[]",chartTypes:["polar"],identifier:"radar-area"},{type:"series",optionsKey:"series[]",chartTypes:["polar"],identifier:"radar-line"},{type:"series",optionsKey:"series[]",chartTypes:["polar"],identifier:"radial-bar"},{type:"series",optionsKey:"series[]",chartTypes:["polar"],identifier:"radial-column"},{type:"series",optionsKey:"series[]",chartTypes:["hierarchy"],identifier:"sunburst"},{type:"series",optionsKey:"series[]",chartTypes:["hierarchy"],identifier:"treemap"},{type:"series",optionsKey:"series[]",chartTypes:["topology"],identifier:"map-shape"},{type:"series",optionsKey:"series[]",chartTypes:["topology"],identifier:"map-line"},{type:"series",optionsKey:"series[]",chartTypes:["topology"],identifier:"map-marker"},{type:"series",optionsKey:"series[]",chartTypes:["topology"],identifier:"map-shape-background"},{type:"series",optionsKey:"series[]",chartTypes:["topology"],identifier:"map-line-background"},{type:"series",optionsKey:"series[]",chartTypes:["flow-proportion"],identifier:"chord"},{type:"series",optionsKey:"series[]",chartTypes:["flow-proportion"],identifier:"sankey"},{type:"series",optionsKey:"series[]",chartTypes:["standalone"],identifier:"pyramid"},{type:"series",optionsKey:"series[]",chartTypes:["gauge"],identifier:"linear-gauge"},{type:"series",optionsKey:"series[]",chartTypes:["gauge"],identifier:"radial-gauge"},{type:"series-option",optionsKey:"errorBar",chartTypes:["cartesian"],identifier:"error-bars"},{type:"context",contextKey:"sharedToolbar",chartTypes:["cartesian"]}];function cu(e){var t;return(t=Mf.find(i=>i.type==="series"&&i.identifier===e))==null?void 0:t.chartTypes}function Roe(e){var i;return((i=cu(e))==null?void 0:i.find(s=>s==="cartesian"))==="cartesian"}function Eoe(e){var i;return((i=cu(e))==null?void 0:i.find(s=>s==="polar"))==="polar"}function Aoe(e){var i;return((i=cu(e))==null?void 0:i.find(s=>s==="hierarchy"))==="hierarchy"}function Toe(e){var i;return((i=cu(e))==null?void 0:i.find(s=>s==="topology"))==="topology"}function Ioe(e){var i;return((i=cu(e))==null?void 0:i.find(s=>s==="flow-proportion"))==="flow-proportion"}function Loe(e){var i;return((i=cu(e))==null?void 0:i.find(s=>s==="standalone"))==="standalone"}function koe(e){var i;return((i=cu(e))==null?void 0:i.find(s=>s==="gauge"))==="gauge"}function Poe(e){return e.packageType==="enterprise"}function Ooe(e){if(!Poe(e))throw new Error("AG Charts - internal configuration error, only enterprise modules need verification.");const t=Mf.find(i=>i.type===e.type&&("optionsKey"in i&&"optionsKey"in e?i.optionsKey===e.optionsKey:!0)&&("contextKey"in i&&"contextKey"in e?i.contextKey===e.contextKey:!0)&&i.identifier===e.identifier&&e.chartTypes.every(s=>i.chartTypes.includes(s)));return t&&(t.useCount??(t.useCount=0),t.useCount++),t!=null}function Foe(){return Mf.filter(({useCount:e})=>e==null||e===0)}var Noe=class{constructor(){this.legendMap=new Map,this.themeTemplates=new Map}register(e,{optionsKey:t,moduleFactory:i,themeTemplate:s}){this.legendMap.set(e,{optionsKey:t,moduleFactory:i}),this.themeTemplates.set(t,s)}create(e,t){var s;const i=(s=this.legendMap.get(e))==null?void 0:s.moduleFactory;if(i)return i(t);throw new Error(`AG Charts - unknown legend type: ${e}`)}getThemeTemplates(){return Object.fromEntries(this.themeTemplates)}getKeys(){return Array.from(this.legendMap.entries()).reduce((e,[t,i])=>(e[t]=i.optionsKey,e),{})}},oE=new Noe,Pz=class extends Map{get(e){return super.get(e)??"unknown"}isCartesian(e){return this.get(e)==="cartesian"}isPolar(e){return this.get(e)==="polar"}isHierarchy(e){return this.get(e)==="hierarchy"}isTopology(e){return this.get(e)==="topology"}isFlowProportion(e){return this.get(e)==="flow-proportion"}isStandalone(e){return this.get(e)==="standalone"}isGauge(e){return this.get(e)==="gauge"}get seriesTypes(){return Array.from(this.keys())}get cartesianTypes(){return this.seriesTypes.filter(e=>this.isCartesian(e))}get polarTypes(){return this.seriesTypes.filter(e=>this.isPolar(e))}get hierarchyTypes(){return this.seriesTypes.filter(e=>this.isHierarchy(e))}get topologyTypes(){return this.seriesTypes.filter(e=>this.isTopology(e))}get flowProportionTypes(){return this.seriesTypes.filter(e=>this.isFlowProportion(e))}get standaloneTypes(){return this.seriesTypes.filter(e=>this.isStandalone(e))}get gaugeTypes(){return this.seriesTypes.filter(e=>this.isGauge(e))}},zoe=class extends Map{set(e,t){return super.set(e,Je(t,this.get(e)))}},Xt=new Pz,Boe=new Pz,VM=new zoe,Goe=class{constructor(){this.seriesMap=new Map,this.themeTemplates=new Map}register(e,{chartTypes:[t],moduleFactory:i,tooltipDefaults:s,defaultAxes:n,themeTemplate:r,solo:o,stackable:a,groupable:l,stackedByDefault:d,hidden:h}){this.setThemeTemplate(e,r),this.seriesMap.set(e,{moduleFactory:i,tooltipDefaults:s,defaultAxes:n,solo:o,stackable:a,groupable:l,stackedByDefault:d}),Xt.set(e,t),h||Boe.set(e,t)}create(e,t){var s;const i=(s=this.seriesMap.get(e))==null?void 0:s.moduleFactory;if(i)return i(t);throw new Error(`AG Charts - unknown series type: ${e}`)}cloneDefaultAxes(e){var i;const t=(i=this.seriesMap.get(e))==null?void 0:i.defaultAxes;return t==null?null:{axes:Vt(t)}}setThemeTemplate(e,t){const i=this.themeTemplates.get(e);this.themeTemplates.set(e,Je(t,i))}getThemeTemplate(e){return this.themeTemplates.get(e)}getTooltipDefauls(e){var t;return(t=this.seriesMap.get(e))==null?void 0:t.tooltipDefaults}isSolo(e){var t;return((t=this.seriesMap.get(e))==null?void 0:t.solo)??!1}isGroupable(e){var t;return((t=this.seriesMap.get(e))==null?void 0:t.groupable)??!1}isStackable(e){var t;return((t=this.seriesMap.get(e))==null?void 0:t.stackable)??!1}isStackedByDefault(e){var t;return((t=this.seriesMap.get(e))==null?void 0:t.stackedByDefault)??!1}},qn=new Goe,aE=class xc extends Fl{constructor(t){super(),this.chart=t}subscribe(t=xc.DEFAULT_GROUP){let i=this.get(t);return i||(i=new Set,xc.chartsGroups.set(t,i)),i.add(this.chart),this}unsubscribe(t=xc.DEFAULT_GROUP){var i;return(i=this.get(t))==null||i.delete(this.chart),this}getChart(){return this.chart}getGroup(t=xc.DEFAULT_GROUP){const i=this.get(t);return i?Array.from(i):[]}getGroupSiblings(t=xc.DEFAULT_GROUP){return this.getGroup(t).filter(i=>i!==this.chart)}get(t){return xc.chartsGroups.get(t)}};aE.chartsGroups=new Map;aE.DEFAULT_GROUP=Symbol("sync-group-default");var Hoe=aE,lE=class extends Ge{constructor(){super(...arguments),this.enabled=!1}};R([A()],lE.prototype,"enabled",2);R([A()],lE.prototype,"tabIndex",2);var Oz={};Gr(Oz,{NODE_UPDATE_STATE_TO_PHASE_MAPPING:()=>Er,fromToMotion:()=>li,staticFromToMotion:()=>va});var Er={added:"add",updated:"update",removed:"remove",unknown:"initial","no-op":"none"};function li(e,t,i,s,n,r,o){const{fromFn:a,toFn:l,applyFn:d=(y,S)=>y.setProperties(S)}=n,{nodes:h,selections:p}=qC(s),f=(y,S)=>{let w,b=0,x=0;for(const D of S){const E=y[b]===D,T={last:x>=S.length-1,lastLive:b>=y.length-1,prev:S[x-1],prevFromProps:w,prevLive:y[b-1],next:S[x+1],nextLive:y[b+(E?1:0)]},k=`${e}_${t}_${D.id}`;i.stopByAnimationId(k);let P="unknown";E?r&&o&&(P=joe(D,D.datum,r,o)):P="removed",D.transitionOut=P==="removed";const{phase:O,start:F,finish:z,delay:V,duration:U,...J}=a(D,D.datum,P,T),{phase:ye,start:Ce,finish:G,delay:K,duration:ne,...ge}=l(D,D.datum,P,T),B=z==null;i.animate({id:k,groupId:e,phase:O??ye??"update",duration:U??ne,delay:V??K,from:J,to:ge,ease:Hp,collapsable:B,onPlay:()=>{const _={...F,...Ce,...J};d(D,_,"start")},onUpdate(_){d(D,_,"update")},onStop:()=>{const _={...F,...Ce,...J,...ge,...z,...G};d(D,_,"end")}}),E&&b++,x++,w=J}};let v=0;for(const y of p){const S=y.nodes(),w=S.filter(b=>!y.isGarbage(b));f(w,S),i.animate({id:`${e}_${t}_selection_${v}`,groupId:e,phase:"end",from:0,to:1,ease:Hp,onStop(){y.cleanup()}}),v++}f(h,h)}function va(e,t,i,s,n,r,o){const{nodes:a,selections:l}=qC(s),{start:d,finish:h,phase:p}=o;i.animate({id:`${e}_${t}`,groupId:e,phase:p??"update",from:n,to:r,ease:Hp,onPlay:()=>{if(d){for(const f of a)f.setProperties(d);for(const f of l)for(const v of f.nodes())v.setProperties(d)}},onUpdate(f){for(const v of a)v.setProperties(f);for(const v of l)for(const y of v.nodes())y.setProperties(f)},onStop:()=>{for(const f of a)f.setProperties({...r,...h});for(const f of l){for(const v of f.nodes())v.setProperties({...r,...h});f.cleanup()}}})}function joe(e,t,i,s){const n=i(e,t);return s.added.has(n)?"added":s.removed.has(n)?"removed":"updated"}var Fz={};Gr(Fz,{resetMotion:()=>Xi});function Xi(e,t){const{nodes:i,selections:s}=qC(e);for(const n of s){for(const r of n.nodes()){const o=t(r,r.datum);r.setProperties(o)}n.cleanup()}for(const n of i){const r=t(n,n.datum);n.setProperties(r)}}var V0="color: green",_0="color: grey";function Voe(){return Q2(()=>{})}function _M(e,t){const i=fl(t);if(i.length===0)return;const s=J2(e);for(const n of i)n in s&&(t[n]=s[n])}var Nz=class{transitionRoot(e,t){this.parent?this.parent.transitionRoot(e,t):this.transition(e,t)}},cE=class en extends Nz{constructor(t,i,s){super(),this.defaultState=t,this.states=i,this.enterEach=s,this.debug=ht.create(!0,"animation"),this.state=t,this.debug(`%c${this.constructor.name} | init -> ${t}`,V0)}transition(t,i){var h,p,f,v;if(!this.transitionChild(t,i)||this.state===en.child||this.state===en.parent)return;const n=this.state,r=this.states[this.state];let o=r[t];const a=`%c${this.constructor.name} | ${this.state} -> ${t} ->`;if(Array.isArray(o))o=o.find(y=>{if(!y.guard)return!0;const S=y.guard(i);return S||this.debug(`${a} (guarded)`,y.target,_0),S});else if(typeof o=="object"&&!(o instanceof en)&&o.guard&&!o.guard(i)){this.debug(`${a} (guarded)`,o.target,_0);return}if(!o){this.debug(`${a} ${this.state}`,_0);return}const l=this.getDestinationState(o),d=l===this.state?void 0:r.onExit;this.debug(`${a} ${l}`,V0),this.state=l,typeof o=="function"?o(i):typeof o=="object"&&!(o instanceof en)&&((h=o.action)==null||h.call(o,i)),d==null||d(),(p=this.enterEach)==null||p.call(this,n,l),l!==n&&l!==en.child&&l!==en.parent&&((v=(f=this.states[l]).onEnter)==null||v.call(f,n,i))}transitionAsync(t,i){setTimeout(()=>{this.transition(t,i)},0)}is(t){return this.state===en.child&&this.childState?this.childState.is(t):this.state===t}resetHierarchy(){this.debug(`%c${this.constructor.name} | ${this.state} -> [resetHierarchy] -> ${this.defaultState}`,"color: green"),this.state=this.defaultState}transitionChild(t,i){var s,n;return this.state!==en.child||!this.childState||(_M(this,this.childState),this.childState.transition(t,i),!this.childState.is(en.parent))?!0:(this.debug(`%c${this.constructor.name} | ${this.state} -> ${t} -> ${this.defaultState}`,V0),this.state=this.defaultState,(n=(s=this.states[this.state]).onEnter)==null||n.call(s),this.childState.resetHierarchy(),!1)}getDestinationState(t){let i=this.state;return typeof t=="string"?i=t:t instanceof en?(this.childState=t,this.childState.parent=this,i=en.child):typeof t=="object"&&(t.target instanceof en?(this.childState=t.target,this.childState.parent=this,i=en.child):t.target!=null&&(i=t.target)),i}};cE.child="__child";cE.parent="__parent";var Df=cE,_oe=class extends Nz{constructor(...e){super(),this.stateMachines=e;for(const t of e)t.parent=this}transition(e,t){for(const i of this.stateMachines)_M(this,i),i.transition(e,t)}transitionAsync(e,t){for(const i of this.stateMachines)_M(this,i),i.transitionAsync(e,t)}},uE=class{constructor(){this.moduleMap=new Map}*modules(){for(const e of this.moduleMap.values())yield e.moduleInstance}addModule(e,t){if(this.moduleMap.has(e.optionsKey))throw new Error(`AG Charts - module already initialised: ${e.optionsKey}`);this.moduleMap.set(e.optionsKey,{module:e,moduleInstance:t(e)})}removeModule(e){var i;const t=es(e)?e:e.optionsKey;(i=this.moduleMap.get(t))==null||i.moduleInstance.destroy(),this.moduleMap.delete(t)}getModule(e){var t;return(t=this.moduleMap.get(es(e)?e:e.optionsKey))==null?void 0:t.moduleInstance}isEnabled(e){return this.moduleMap.has(es(e)?e:e.optionsKey)}mapModules(e){return Array.from(this.moduleMap.values(),(t,i)=>e(t.moduleInstance,i))}destroy(){var e;for(const t of this.moduleMap.keys())(e=this.moduleMap.get(t))==null||e.moduleInstance.destroy();this.moduleMap.clear()}},Ai=class Mc{constructor(t,i,s=!0){this.parentNode=t,this.autoCleanup=s,this.garbageBin=new Set,this._nodesMap=new Map,this._nodes=[],this.data=[],this.debug=ht.create(!0,"scene","scene:selections"),this.nodeFactory=Object.prototype.isPrototypeOf.call(da,i)?()=>new i:i}static select(t,i,s=!0){return new Mc(t,i,s)}static selectAll(t,i){const s=[],n=r=>{i(r)&&s.push(r);for(const o of r.children())n(o)};return n(t),s}static selectByClass(t,...i){return Mc.selectAll(t,s=>i.some(n=>s instanceof n))}static selectByTag(t,i){return Mc.selectAll(t,s=>s.tag===i)}createNode(t,i,s){const n=this.nodeFactory(t);return n.datum=t,i==null||i(n),s==null?this._nodes.push(n):this._nodes.splice(s,0,n),this.parentNode.appendChild(n),n}update(t,i,s){if(this.garbageBin.size>0&&this.debug("Selection - update() called with pending garbage",t),s){const n=new Map(t.map((r,o)=>[s(r),[r,o]]));for(const[r,o]of this._nodesMap.entries())if(n.has(o)){const[a]=n.get(o);r.datum=a,this.garbageBin.delete(r),n.delete(o)}else this.garbageBin.add(r);for(const[r,[o,a]]of n.entries())this._nodesMap.set(this.createNode(o,i,a),r)}else{const n=Math.max(t.length,this.data.length);for(let r=0;r<n;r++)r>=t.length?this.garbageBin.add(this._nodes[r]):r>=this._nodes.length?this.createNode(t[r],i):(this._nodes[r].datum=t[r],this.garbageBin.delete(this._nodes[r]))}return this.data=t.slice(),this.autoCleanup&&this.cleanup(),this}cleanup(){return this.garbageBin.size===0?this:(this._nodes=this._nodes.filter(t=>this.garbageBin.has(t)?(this._nodesMap.delete(t),this.garbageBin.delete(t),t.destroy(),!1):!0),this)}clear(){return this.update([]),this}isGarbage(t){return this.garbageBin.has(t)}each(t){for(const i of this._nodes.entries())t(i[1],i[1].datum,i[0]);return this}*[Symbol.iterator](){for(let t=0;t<this._nodes.length;t++){const i=this._nodes[t];yield{node:i,datum:i.datum,index:t}}}select(t){return Mc.selectAll(this.parentNode,t)}selectByClass(t){return Mc.selectByClass(this.parentNode,t)}selectByTag(t){return Mc.selectByTag(this.parentNode,t)}nodes(){return this._nodes}at(t){return this._nodes.at(t)}get length(){return this._nodes.length}},kn=class extends cr{constructor(e={}){super(e),this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.restoreOwnStyles()}set x(e){this.x1=e,this.x2=e}set y(e){this.y1=e,this.y2=e}get midPoint(){return{x:(this.x1+this.x2)/2,y:(this.y1+this.y2)/2}}computeBBox(){return new De(Math.min(this.x1,this.x2),Math.min(this.y1,this.y2),Math.abs(this.x2-this.x1),Math.abs(this.y2-this.y1))}isPointInPath(e,t){return this.x1===this.x2||this.y1===this.y2?this.getBBox().clone().grow(this.strokeWidth/2).containsPoint(e,t):!1}distanceSquared(e,t){const{x1:i,y1:s,x2:n,y2:r}=this;return gp(e,t,i,s,n,r,1/0)}render(e){var a;const{ctx:t,devicePixelRatio:i}=e;let{x1:s,y1:n,x2:r,y2:o}=this;if(s===r){const{strokeWidth:l}=this,d=Math.round(s*i)/i+Math.trunc(l*i)%2/(i*2);s=d,r=d}else if(n===o){const{strokeWidth:l}=this,d=Math.round(n*i)/i+Math.trunc(l*i)%2/(i*2);n=d,o=d}t.beginPath(),t.moveTo(s,n),t.lineTo(r,o),this.fillStroke(t),(a=this.fillShadow)==null||a.markClean(),super.render(e)}toSVG(){if(!this.visible)return;const e=Ji("line");return e.setAttribute("x1",String(this.x1)),e.setAttribute("y1",String(this.y1)),e.setAttribute("x2",String(this.x2)),e.setAttribute("y2",String(this.y2)),this.applySvgStrokeAttributes(e),{elements:[e]}}};kn.className="Line";kn.defaultStyles={...cr.defaultStyles,fill:void 0,strokeWidth:1};R([Re()],kn.prototype,"x1",2);R([Re()],kn.prototype,"y1",2);R([Re()],kn.prototype,"x2",2);R([Re()],kn.prototype,"y2",2);var Hr=class extends cr{constructor(e={}){super(e),this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.startLine=!1,this.endLine=!1,this.isRange=!1,this.restoreOwnStyles()}computeBBox(){return new De(this.x1,this.y1,this.x2-this.x1,this.y2-this.y1)}isPointInPath(e,t){return!1}render(e){var S;const{ctx:t}=e;let{x1:i,y1:s,x2:n,y2:r}=this;i=this.align(i),s=this.align(s),n=this.align(n),r=this.align(r);const{fill:o,opacity:a,isRange:l}=this;if(!!(l&&o)){const{fillOpacity:w}=this;this.applyFill(t),t.globalAlpha=a*w,t.beginPath(),t.moveTo(i,s),t.lineTo(n,s),t.lineTo(n,r),t.lineTo(i,r),t.closePath(),t.fill()}const{stroke:h,strokeWidth:p,startLine:f,endLine:v}=this;if(!!((f||v)&&h&&p)){const{strokeOpacity:w,lineDash:b,lineDashOffset:x,lineCap:D,lineJoin:E}=this;this.applyStroke(t),t.globalAlpha=a*w,t.lineWidth=p,b&&t.setLineDash(b),x&&(t.lineDashOffset=x),D&&(t.lineCap=D),E&&(t.lineJoin=E),t.beginPath(),f&&(t.moveTo(i,s),t.lineTo(n,s)),v&&(t.moveTo(n,r),t.lineTo(i,r)),t.stroke()}(S=this.fillShadow)==null||S.markClean(),super.render(e)}};Hr.className="Range";Hr.defaultStyles={...cr.defaultStyles,strokeWidth:1};R([Re()],Hr.prototype,"x1",2);R([Re()],Hr.prototype,"y1",2);R([Re()],Hr.prototype,"x2",2);R([Re()],Hr.prototype,"y2",2);R([Re()],Hr.prototype,"startLine",2);R([Re()],Hr.prototype,"endLine",2);R([Re()],Hr.prototype,"isRange",2);var Ui=class extends Ge{constructor(){super(...arguments),this.enabled=!0}getFont(){return Wt.toFontString(this)}};R([A()],Ui.prototype,"enabled",2);R([A()],Ui.prototype,"color",2);R([A()],Ui.prototype,"fontStyle",2);R([A()],Ui.prototype,"fontWeight",2);R([A()],Ui.prototype,"fontSize",2);R([A()],Ui.prototype,"fontFamily",2);R([A()],Ui.prototype,"formatter",2);function Ky(e){const{parallelFlipRotation:t=0,regularFlipRotation:i=0}=e,s=e.rotation?Bt(Yt(e.rotation)):0,n=!s&&t>=0&&t<=Math.PI?-1:1,r=!s&&i>=0&&i<=Math.PI?-1:1;let o=0;return e.parallel?o=n*Math.PI/2:r===-1&&(o=Math.PI),{configuredRotation:s,defaultRotation:o,parallelFlipFlag:n,regularFlipFlag:r}}function Woe(e,t){return e??(t?0:10)}function Uoe(e,t,i,s){return e&&!t?i*s===-1?"hanging":"bottom":"middle"}function PP(e,t,i,s,n){const r=t>0&&t<=Math.PI,o=i>0&&i<=Math.PI,a=r||o?-1:1;if(e)if(t||i){if(s*a===-1)return"end"}else return"center";else if(s*n===-1)return"end";return"start"}function $oe(e,t,i,s){const n=[];for(const{tickLabel:r,translationY:o}of e){if(!r)continue;const{width:a,height:l}=s.measureLines(r),d=new De(t,o,a,l),h=new De(t,o,0,0);i.transformBBox(h,d);const{x:p,y:f}=d;n.push({point:{x:p,y:f},label:{text:r,width:a,height:l}})}return n}function Yoe(e){return e!=null&&Object.hasOwn(e,"toString")&&es(e.toString())}function Koe(e){return e!=null&&Object.hasOwn(e,"valueOf")&&lt(e.valueOf())}function QC(e){return lt(e)||ff(e)||Koe(e)}function qoe(e,t){return e!=null&&(!t||QC(e))}function WM(e){return Yoe(e)&&Object.hasOwn(e,"id")?e.id:e}var dE=e=>e==="value"?xt((t,i)=>i.target.type==="line",t=>t.target.type==="range"?"crossLine type 'range' to have a 'range' property instead of 'value'":"crossLine property 'type' to be 'line'"):xt((t,i)=>i.target.type==="range",t=>t.target.type==="line"?"crossLine type 'line' to have a 'value' property instead of 'range'":"crossLine property 'type' to be 'range'");function zz(e){switch(e.type){case"line":return e.value;case"range":return e.range}}function Bz(e,t){if(e==null)return!1;const i=wt.is(t)||sa.is(t),s=n=>qoe(n,i)&&!isNaN(t.convert(n));if($e(e)){const[n,r]=e;return s(n)&&s(r)}else return s(e)}var Zoe={top:{xTranslationDirection:0,yTranslationDirection:-1},bottom:{xTranslationDirection:0,yTranslationDirection:1},left:{xTranslationDirection:-1,yTranslationDirection:0},right:{xTranslationDirection:1,yTranslationDirection:0},"top-left":{xTranslationDirection:1,yTranslationDirection:-1},"top-right":{xTranslationDirection:-1,yTranslationDirection:-1},"bottom-left":{xTranslationDirection:1,yTranslationDirection:1},"bottom-right":{xTranslationDirection:-1,yTranslationDirection:1},inside:{xTranslationDirection:0,yTranslationDirection:0},"inside-left":{xTranslationDirection:1,yTranslationDirection:0},"inside-right":{xTranslationDirection:-1,yTranslationDirection:0},"inside-top":{xTranslationDirection:0,yTranslationDirection:1},"inside-bottom":{xTranslationDirection:0,yTranslationDirection:-1},"inside-top-left":{xTranslationDirection:1,yTranslationDirection:1},"inside-bottom-left":{xTranslationDirection:1,yTranslationDirection:-1},"inside-top-right":{xTranslationDirection:-1,yTranslationDirection:1},"inside-bottom-right":{xTranslationDirection:-1,yTranslationDirection:-1}},Xoe={top:{xTranslationDirection:1,yTranslationDirection:0},bottom:{xTranslationDirection:-1,yTranslationDirection:0},left:{xTranslationDirection:0,yTranslationDirection:-1},right:{xTranslationDirection:0,yTranslationDirection:1},"top-left":{xTranslationDirection:-1,yTranslationDirection:-1},"top-right":{xTranslationDirection:-1,yTranslationDirection:1},"bottom-left":{xTranslationDirection:1,yTranslationDirection:-1},"bottom-right":{xTranslationDirection:1,yTranslationDirection:1},inside:{xTranslationDirection:0,yTranslationDirection:0},"inside-left":{xTranslationDirection:0,yTranslationDirection:1},"inside-right":{xTranslationDirection:0,yTranslationDirection:-1},"inside-top":{xTranslationDirection:-1,yTranslationDirection:0},"inside-bottom":{xTranslationDirection:1,yTranslationDirection:0},"inside-top-left":{xTranslationDirection:-1,yTranslationDirection:1},"inside-bottom-left":{xTranslationDirection:1,yTranslationDirection:1},"inside-top-right":{xTranslationDirection:-1,yTranslationDirection:-1},"inside-bottom-right":{xTranslationDirection:1,yTranslationDirection:-1}};function UM({yDirection:e,padding:t=0,position:i="top",bbox:s}){const n=e?Zoe:Xoe,{xTranslationDirection:r,yTranslationDirection:o}=n[i],a=r*(t+s.width/2),l=o*(t+s.height/2);return{xTranslation:a,yTranslation:l}}function Gz({yDirection:e,bbox:t,padding:i=0,position:s="top"}){const n={};return s.startsWith("inside")||(s==="top"&&!e?n.top=i+t.height:s==="bottom"&&!e?n.bottom=i+t.height:s==="left"&&e?n.left=i+t.width:s==="right"&&e&&(n.right=i+t.width)),n}var qy=({direction:e,xEnd:t,yStart:i,yEnd:s})=>e==="y"?{x:t/2,y:i}:{x:t,y:isNaN(s)?i:(i+s)/2},OP=({direction:e,xStart:t,xEnd:i,yStart:s,yEnd:n})=>e==="y"?{x:t,y:isNaN(n)?s:(s+n)/2}:{x:i/2,y:s},FP=({direction:e,xEnd:t,yStart:i,yEnd:s})=>e==="y"?{x:t,y:isNaN(s)?i:(i+s)/2}:{x:t/2,y:isNaN(s)?i:s},NP=({direction:e,xStart:t,xEnd:i,yStart:s,yEnd:n})=>e==="y"?{x:i/2,y:isNaN(n)?s:n}:{x:t,y:isNaN(n)?s:(s+n)/2},Qoe=({xEnd:e,yStart:t,yEnd:i})=>({x:e/2,y:isNaN(i)?t:(t+i)/2}),zP=({direction:e,xStart:t,xEnd:i,yStart:s})=>e==="y"?{x:t/2,y:s}:{x:i,y:s},BP=({direction:e,xStart:t,yStart:i,yEnd:s})=>e==="y"?{x:t,y:isNaN(s)?i:s}:{x:t,y:i},GP=({direction:e,xEnd:t,yStart:i,yEnd:s})=>e==="y"?{x:t,y:i}:{x:t,y:isNaN(s)?i:s},HP=({direction:e,xStart:t,xEnd:i,yStart:s,yEnd:n})=>e==="y"?{x:i,y:isNaN(n)?s:n}:{x:t,y:isNaN(n)?s:n},Hz={top:{c:qy},bottom:{c:NP},left:{c:OP},right:{c:FP},"top-left":{c:zP},"top-right":{c:GP},"bottom-left":{c:BP},"bottom-right":{c:HP},inside:{c:Qoe},"inside-left":{c:OP},"inside-right":{c:FP},"inside-top":{c:qy},"inside-bottom":{c:NP},"inside-top-left":{c:zP},"inside-bottom-left":{c:BP},"inside-top-right":{c:GP},"inside-bottom-right":{c:HP}};Mt(["top","left","right","bottom","top-left","top-right","bottom-left","bottom-right","inside","inside-left","inside-right","inside-top","inside-bottom","inside-top-left","inside-bottom-left","inside-top-right","inside-bottom-right"],"crossLine label position");var ur=class extends Ge{constructor(){super(...arguments),this.fontSize=14,this.fontFamily="Verdana, sans-serif",this.padding=5,this.color="rgba(87, 87, 87, 1)"}};R([A()],ur.prototype,"enabled",2);R([A()],ur.prototype,"text",2);R([A()],ur.prototype,"fontStyle",2);R([A()],ur.prototype,"fontWeight",2);R([A()],ur.prototype,"fontSize",2);R([A()],ur.prototype,"fontFamily",2);R([A()],ur.prototype,"padding",2);R([A()],ur.prototype,"color",2);R([A()],ur.prototype,"position",2);R([A()],ur.prototype,"rotation",2);R([A()],ur.prototype,"parallel",2);var _s=class extends Ge{constructor(){super(),this.id=En(this),this.defaultColorRange=[],this.fill="#c16068",this.label=new ur,this.scale=void 0,this.clippedRange=[-1/0,1/0],this.gridLength=0,this.sideFlag=-1,this.parallelFlipRotation=0,this.regularFlipRotation=0,this.direction="x",this.rangeGroup=new Ne({name:this.id}),this.lineGroup=new Ne({name:this.id}),this.labelGroup=new Ne({name:this.id}),this.crossLineRange=new Hr,this.crossLineLabel=new Yd,this.labelPoint=void 0,this.data=void 0,this.startLine=!1,this.endLine=!1,this._isRange=void 0,this.lineGroup.append(this.crossLineRange),this.labelGroup.append(this.crossLineLabel),this.crossLineRange.pointerEvents=1}update(e){const{enabled:t,type:i,data:s,scale:n}=this;if(!n||!t||!e||!this.isValid()||!Bz(zz(this),n)||s==null){this.rangeGroup.visible=!1,this.lineGroup.visible=!1,this.labelGroup.visible=!1;return}this.rangeGroup.visible=e,this.lineGroup.visible=e,this.labelGroup.visible=e,this.updateNodes();const r=i==="range";r!==this._isRange&&(r?this.rangeGroup.appendChild(this.crossLineRange):this.lineGroup.appendChild(this.crossLineRange)),this._isRange=r}calculateLayout(e,t){if(!e)return;const{type:i,range:s,value:n,scale:r,gridLength:o,sideFlag:a,direction:l,label:{position:d="top"},clippedRange:h,strokeWidth:p=0}=this;if(this.data=void 0,!r)return;const f=r.bandwidth??0,v=r.step??0,y=(t?-1:1)*(r instanceof xf?(v-f)/2:0),[S,w]=[0,a*o];let b,x,D,E;if(i==="line"){const F=f/2;b=r.convert(n)+F,x=NaN,D=r.convert(n,!0)+F,E=NaN}else if(s){const[F,z]=s,V=(F==null?void 0:F.valueOf())===(z==null?void 0:z.valueOf())&&sa.is(r)?f/2+y:0;b=r.convert(F)+V,x=r.convert(z)+f,D=r.convert(F,!0)+V-y,E=r.convert(z,!0)+f+y}else return;D=GM(D,h),E=GM(E,h);const T=(b===D||x===E||D!==E)&&Math.abs(E-D)>0;if(T&&D>E&&([D,E]=[E,D],[b,x]=[x,b]),b-y>=D&&(b-=y),x+y<=E&&(x+=y),this.startLine=p>0&&b>=D&&b<=D+y,this.endLine=p>0&&x>=E-f-y&&x<=E,i==="range"&&!T&&!this.startLine&&!this.endLine||(this.data=[D,E],this.label.enabled===!1||!this.label.text))return;const{c:k=qy}=Hz[d]??{},{x:P,y:O}=k({direction:l,xStart:S,xEnd:w,yStart:D,yEnd:E});this.labelPoint={x:P,y:O}}updateNodes(){this.updateRangeNode();const{label:e}=this;e.enabled!==!1&&e.text&&(this.updateLabel(),this.positionLabel())}updateRangeNode(){const{type:e,crossLineRange:t,sideFlag:i,gridLength:s,data:n,startLine:r,endLine:o,fill:a,fillOpacity:l,stroke:d,strokeWidth:h,lineDash:p}=this;t.x1=0,t.x2=i*s,t.y1=(n==null?void 0:n[0])??0,t.y2=(n==null?void 0:n[1])??0,t.startLine=r,t.endLine=o,t.isRange=e==="range",t.fill=a,t.fillOpacity=l??1,t.stroke=d,t.strokeWidth=h??1,t.strokeOpacity=this.strokeOpacity??1,t.lineDash=p}updateLabel(){const{crossLineLabel:e,label:t}=this;t.text&&(e.fontStyle=t.fontStyle,e.fontWeight=t.fontWeight,e.fontSize=t.fontSize,e.fontFamily=t.fontFamily,e.fill=t.color,e.text=t.text)}positionLabel(){const{crossLineLabel:e,labelPoint:{x:t=void 0,y:i=void 0}={},label:{parallel:s,rotation:n,position:r="top",padding:o=0},direction:a,parallelFlipRotation:l,regularFlipRotation:d}=this;if(t===void 0||i===void 0)return;const{defaultRotation:h,configuredRotation:p}=Ky({rotation:n,parallel:s,regularFlipRotation:d,parallelFlipRotation:l});e.rotation=h+p,e.textBaseline="middle",e.textAlign="center";const f=e.getBBox();if(!f)return;const v=a==="y",{xTranslation:y,yTranslation:S}=UM({yDirection:v,padding:o,position:r,bbox:f});e.translationX=t+y,e.translationY=i+S}computeLabelBBox(){const{label:e}=this;if(e.enabled===!1||!e.text)return;const t=new Yd;t.fontFamily=e.fontFamily,t.fontSize=e.fontSize,t.fontStyle=e.fontStyle,t.fontWeight=e.fontWeight,t.text=e.text;const{labelPoint:{x:i=void 0,y:s=void 0}={},label:{parallel:n,rotation:r,position:o="top",padding:a=0},direction:l,parallelFlipRotation:d,regularFlipRotation:h}=this;if(i===void 0||s===void 0)return;const{configuredRotation:p}=Ky({rotation:r,parallel:n,regularFlipRotation:h,parallelFlipRotation:d});t.rotation=p,t.textBaseline="middle",t.textAlign="center";const f=t.getBBox();if(!f)return;const v=l==="y",{xTranslation:y,yTranslation:S}=UM({yDirection:v,padding:a,position:o,bbox:f});return t.x=i+y,t.y=s+S,t.getBBox()}calculatePadding(e){const{data:t,direction:i,label:{padding:s=0,position:n="top"}}=this;if(t==null)return;const r=this.computeLabelBBox();if((r==null?void 0:r.x)==null||(r==null?void 0:r.y)==null)return;const o=Gz({yDirection:i==="y",padding:s,position:n,bbox:r});e.left=Math.max(e.left??0,o.left??0),e.right=Math.max(e.right??0,o.right??0),e.top=Math.max(e.top??0,o.top??0),e.bottom=Math.max(e.bottom??0,o.bottom??0)}};_s.className="CrossLine";R([A()],_s.prototype,"enabled",2);R([A(Mt(["range","line"],"a crossLine type"))],_s.prototype,"type",2);R([A(kl(dE("range"),IR.restrict({length:2})))],_s.prototype,"range",2);R([A(dE("value"))],_s.prototype,"value",2);R([A()],_s.prototype,"defaultColorRange",2);R([A()],_s.prototype,"fill",2);R([A()],_s.prototype,"fillOpacity",2);R([A()],_s.prototype,"stroke",2);R([A()],_s.prototype,"strokeWidth",2);R([A()],_s.prototype,"strokeOpacity",2);R([A()],_s.prototype,"lineDash",2);R([A()],_s.prototype,"label",2);var Joe=["stroke","lineDash"];Wi(e=>Ci(e)&&Object.keys(e).every(t=>Joe.includes(t)),"objects with gridline style properties such as 'stroke' or 'lineDash'");var JC=class{constructor(){this.enabled=!0,this.width=1,this.style=[{stroke:void 0,lineDash:[]}]}};R([A()],JC.prototype,"enabled",2);R([A()],JC.prototype,"width",2);R([A()],JC.prototype,"style",2);var eae=xt(e=>lt(e)&&e>0||e instanceof eu,"a non-zero positive Number value or, for a time axis, a Time Interval such as 'agCharts.time.month'"),uu=class extends Ge{};R([A()],uu.prototype,"step",2);R([A()],uu.prototype,"values",2);R([A()],uu.prototype,"minSpacing",2);R([A()],uu.prototype,"maxSpacing",2);var $i=class extends Ge{constructor(){super(...arguments),this.enabled=!0,this.spacing=5,this.color="#575757",this.avoidCollisions=!0,this.mirrored=!1,this.parallel=!1}getSideFlag(){return this.mirrored?1:-1}getFont(){return Wt.toFontString(this)}};R([A()],$i.prototype,"enabled",2);R([A()],$i.prototype,"fontStyle",2);R([A()],$i.prototype,"fontWeight",2);R([A(An.restrict({min:1}))],$i.prototype,"fontSize",2);R([A()],$i.prototype,"fontFamily",2);R([A()],$i.prototype,"spacing",2);R([A()],$i.prototype,"minSpacing",2);R([A()],$i.prototype,"color",2);R([A()],$i.prototype,"rotation",2);R([A()],$i.prototype,"avoidCollisions",2);R([A()],$i.prototype,"mirrored",2);R([A()],$i.prototype,"parallel",2);R([A()],$i.prototype,"itemStyler",2);R([A()],$i.prototype,"formatter",2);R([A()],$i.prototype,"format",2);var eb=class{constructor(){this.enabled=!0,this.width=1,this.stroke=void 0}};R([A()],eb.prototype,"enabled",2);R([A()],eb.prototype,"width",2);R([A()],eb.prototype,"stroke",2);var vh=class extends Ge{constructor(){super(...arguments),this.enabled=!0,this.width=1,this.size=6}};R([A()],vh.prototype,"enabled",2);R([A()],vh.prototype,"width",2);R([A()],vh.prototype,"size",2);R([A()],vh.prototype,"stroke",2);var jr=class extends Ge{constructor(){super(...arguments),this.caption=new Kt,this.enabled=!1,this.spacing=Kt.SMALL_PADDING,this.fontSize=10,this.fontFamily="sans-serif",this.wrapping="always"}};R([A()],jr.prototype,"enabled",2);R([A()],jr.prototype,"text",2);R([A()],jr.prototype,"spacing",2);R([A()],jr.prototype,"fontStyle",2);R([A()],jr.prototype,"fontWeight",2);R([A()],jr.prototype,"fontSize",2);R([A()],jr.prototype,"fontFamily",2);R([A()],jr.prototype,"color",2);R([A()],jr.prototype,"wrapping",2);R([A()],jr.prototype,"formatter",2);var jz=(e=>(e[e.TickAndDomain=0]="TickAndDomain",e[e.TicksOnly=1]="TicksOnly",e[e.Off=2]="Off",e))(jz||{});function Zy(e){const[t,i]=Ti(e.range),s=Math.floor(t),n=Math.ceil(i);return{min:s,max:n,visible:s!==n}}var $M=Math.PI*2,tae=$M/2;function iae(e,t){return Math.abs(t-e)<tae?t:e>t?t+$M:t-$M}function Vz(e){const t=(o,a)=>{const[l=e.min,d=e.max]=Ti(a??[]);return o<l||o>d};return{tick:{fromFn(o,a,l){let d=o.y1+o.translationY,h=o.opacity;return(l==="added"||t(o.datum.translationY,o.datum.range))&&(d=a.translationY,h=0),{y:0,translationY:d,opacity:h,phase:Er[l]}},toFn(o,a,l){const d=a.translationY;let h=1;return l==="removed"&&(h=0),{y:0,translationY:d,opacity:h,finish:{y:d,translationY:0}}},applyFn(o,a){o.setProperties(a),o.visible=!t(o.y)}},line:{fromFn(o,a){return{...o.previousDatum??a,phase:Er.updated}},toFn(o,a){return{...a}}},label:{fromFn(o,a,l){const d=o.previousDatum??a,h=d.x,p=d.y,f=d.rotationCenterX;let v=Math.round(o.translationY),y=d.rotation,S=o.opacity;return l==="removed"||t(d.y,d.range)?y=a.rotation:(l==="added"||t(o.datum.y,o.datum.range))&&(v=Math.round(d.translationY),S=0,y=a.rotation),{x:h,y:p,rotationCenterX:f,translationY:v,rotation:y,opacity:S,phase:Er[l]}},toFn(o,a,l){var S;const d=a.x,h=a.y,p=a.rotationCenterX,f=Math.round(a.translationY);let v=0,y=1;return l==="added"?v=a.rotation:l==="removed"?(y=0,v=a.rotation):v=iae(((S=o.previousDatum)==null?void 0:S.rotation)??a.rotation,a.rotation),{x:d,y:h,rotationCenterX:p,translationY:f,rotation:v,opacity:y,finish:{rotation:a.rotation}}}},group:{fromFn(o,a){const{rotation:l,translationX:d,translationY:h}=o;return{rotation:l,translationX:d,translationY:h,phase:Er.updated}},toFn(o,a){const{rotation:l,translationX:d,translationY:h}=a;return{rotation:l,translationX:d,translationY:h}}}}}function _z(){return(e,t)=>({rotation:t.rotation,rotationCenterX:t.rotationCenterX,rotationCenterY:t.rotationCenterY,translationX:t.translationX,translationY:t.translationY})}function hE(e){const{visible:t,min:i,max:s}=e;return(n,r)=>{const o=r.translationY,a=t&&o>=i&&o<=s;return{y:o,translationY:0,opacity:1,visible:a}}}function gE(){return(e,t)=>({x:t.x,y:t.y,translationY:t.translationY,rotation:t.rotation,rotationCenterX:t.rotationCenterX})}function Wz(){return(e,t)=>({...t})}var Xy=class extends au(kn){},Uz=(e=>(e[e.TickLines=0]="TickLines",e[e.AxisLine=1]="AxisLine",e[e.TickLabels=2]="TickLabels",e))(Uz||{}),ya=class $z{constructor(t,i){this.moduleCtx=t,this.scale=i,this.id=En(this),this.nice=!0,this.reverse=!1,this.keys=[],this.interval=new uu,this.dataDomain={domain:[],clipped:!1},this.layoutConstraints={stacked:!0,align:"start",width:100,unit:"percent"},this.boundSeries=[],this.includeInvisibleDomains=!1,this.interactionEnabled=!0,this.axisGroup=new Wg({name:`${this.id}-axis`}),this.tickLineGroup=this.axisGroup.appendChild(new Ne({name:`${this.id}-Axis-tick-lines`,zIndex:0})),this.tickLabelGroup=this.axisGroup.appendChild(new Ne({name:`${this.id}-Axis-tick-labels`,zIndex:2})),this.labelGroup=new Ne({name:`${this.id}-Labels`,zIndex:9}),this.gridGroup=new Wg({name:`${this.id}-Axis-grid`,zIndex:1}),this.gridLineGroup=this.gridGroup.appendChild(new Ne({name:`${this.id}-gridLines`})),this.crossLineRangeGroup=new Wg({name:`${this.id}-CrossLines-Range`,zIndex:4}),this.crossLineLineGroup=new Wg({name:`${this.id}-CrossLines-Line`,zIndex:8}),this.crossLineLabelGroup=new Wg({name:`${this.id}-CrossLines-Label`,zIndex:13}),this.tickLineGroupSelection=Ai.select(this.tickLineGroup,Xy,!1),this.tickLabelGroupSelection=Ai.select(this.tickLabelGroup,Yd,!1),this.gridLineGroupSelection=Ai.select(this.gridLineGroup,Xy,!1),this._crossLines=[],this.line=new eb,this.tick=new vh,this.gridLine=new JC,this.label=this.createLabel(),this.defaultTickMinSpacing=$z.defaultTickMinSpacing,this.translation={x:0,y:0},this.rotation=0,this.layout={label:{fractionDigits:0,spacing:this.label.spacing,format:this.label.format}},this.axisContext=void 0,this.labelFormatter=void 0,this.datumFormatter=void 0,this.scaleFormatterParams=void 0,this.destroyFns=[],this.range=[0,1],this.visibleRange=[0,1],this.title=new jr,this.gridLength=0,this.gridPadding=0,this.seriesAreaPadding=0,this.animatable=!0,this._scaleNiceDomainInputDomain=void 0,this._scaleNiceDomainRangeExtent=NaN,this.moduleMap=new uE,this.range=this.scale.range.slice(),this.crossLines.forEach(s=>this.initCrossLine(s))}get type(){return this.constructor.type??""}get labelNodes(){return this.tickLabelGroupSelection.nodes()}set crossLines(t){const{CrossLineConstructor:i}=this.constructor;this._crossLines.forEach(s=>this.detachCrossLine(s)),this._crossLines=t.map(s=>{const n=new i;return n.set(s),n}),this._crossLines.forEach(s=>{this.attachCrossLine(s),this.initCrossLine(s)})}get crossLines(){return this._crossLines}resetAnimation(t){}attachCrossLine(t){this.crossLineRangeGroup.appendChild(t.rangeGroup),this.crossLineLineGroup.appendChild(t.lineGroup),this.crossLineLabelGroup.appendChild(t.labelGroup)}detachCrossLine(t){this.crossLineRangeGroup.removeChild(t.rangeGroup),this.crossLineLineGroup.removeChild(t.lineGroup),this.crossLineLabelGroup.removeChild(t.labelGroup)}destroy(){this.moduleMap.destroy(),this.destroyFns.forEach(t=>t())}updateScale(){const{range:t,visibleRange:i,scale:s}=this,n=(t[1]-t[0])/(i[1]-i[0]),r=n*i[0],o=t[0]-r;s.range=[o,o+n],this.crossLines.forEach(a=>{a.clippedRange=[t[0],t[1]]})}setCrossLinesVisible(t){this.crossLineRangeGroup.visible=t,this.crossLineLineGroup.visible=t,this.crossLineLabelGroup.visible=t}attachAxis(t){t.gridNode.appendChild(this.gridGroup),t.axisNode.appendChild(this.axisGroup),t.labelNode.appendChild(this.labelGroup),t.crossLineRangeNode.appendChild(this.crossLineRangeGroup),t.crossLineLineNode.appendChild(this.crossLineLineGroup),t.crossLineLabelNode.appendChild(this.crossLineLabelGroup)}detachAxis(t){t.gridNode.removeChild(this.gridGroup),t.axisNode.removeChild(this.axisGroup),t.labelNode.removeChild(this.labelGroup),t.crossLineRangeNode.removeChild(this.crossLineRangeGroup),t.crossLineLineNode.removeChild(this.crossLineLineGroup),t.crossLineLabelNode.removeChild(this.crossLineLabelGroup)}attachLabel(t){this.labelGroup.append(t)}inRange(t,i=0){const[s,n]=Ti(this.range);return t>=s-i&&t<=n+i}getRangeOverflow(t){const{range:i,visibleRange:s}=this,n=(i[1]-i[0])/(s[1]-s[0]),[r,o]=Ti([i[0]-n*s[0],i[0]-n*s[0]+n]);return t<r?t-r:t>o?t-o:0}defaultDatumFormatter(t,i){return ha(t,i+1)}defaultLabelFormatter(t,i){return ha(t,i)}onGridLengthChange(t,i){i^t&&this.onGridVisibilityChange(),this.crossLines.forEach(s=>this.initCrossLine(s))}onGridVisibilityChange(){this.gridLineGroupSelection.clear()}createLabel(){return new $i}update(){this.updatePosition(),this.updateSelections(),this.tickLineGroup.visible=this.tick.enabled,this.gridLineGroup.visible=this.gridLine.enabled,this.tickLabelGroup.visible=this.label.enabled,this.updateLabels(),this.updateGridLines(),this.updateTickLines(),this.updateCrossLines()}getAxisLineCoordinates(){const[t,i]=Ti(this.range);return{x:0,y1:t,y2:i}}getLabelStyles(t,i){const{label:s}=this,n={color:s.color,spacing:s.spacing,fontFamily:s.fontFamily,fontSize:s.fontSize,fontStyle:s.fontStyle,fontWeight:s.fontWeight};let r;s.itemStyler&&(r=this.moduleCtx.callbackCache.call(this,s.itemStyler,{...t,...n}));const{color:o,fontFamily:a,fontSize:l,fontStyle:d,fontWeight:h,spacing:p}=Je(r,i,n);return{fill:o,fontFamily:a,fontSize:l,fontStyle:d,fontWeight:h,spacing:p}}getTickSize(){return this.tick.enabled?this.tick.size:0}processData(){const{includeInvisibleDomains:t,boundSeries:i,direction:s}=this,r=(t?i:i.filter(o=>o.isEnabled())).map(o=>o.getDomain(s));this.setDomains(...r)}setDomains(...t){let i,s;t.length>0?{domain:i,animatable:s}=this.scale.normalizeDomains(...t):(i=[],s=!0),this.dataDomain=this.normaliseDataDomain(i),this.reverse&&this.dataDomain.domain.reverse(),this.animatable=s}calculateLayout(t){const{scale:i,label:s,visibleRange:n,nice:r}=this;this.updateScale();const o=Zd(this.range),a=this.dataDomain.domain;let l;n[0]===0&&n[1]===1?l=void 0:r?this._scaleNiceDomainInputDomain===a&&this._scaleNiceDomainRangeExtent===o?l=this.scale.domain:l=this.calculateTickLayout(a,0,[0,1]).niceDomain:l=a;let d;r?l==null?d=0:d=1:d=2;const{niceDomain:h,primaryTickCount:p,ticks:f,tickDomain:v,fractionDigits:y,bbox:S}=this.calculateTickLayout(l??a,d,n,t);this.scale.domain=h,this._scaleNiceDomainInputDomain=r?a:void 0,this._scaleNiceDomainRangeExtent=r?o:NaN;const w=s.format;this.labelFormatter=i.tickFormatter({domain:v,specifier:w,ticks:f,fractionDigits:y})??(k=>this.defaultLabelFormatter(k,y)),this.datumFormatter=i.datumFormatter({domain:v,specifier:w,ticks:f,fractionDigits:y})??(k=>this.defaultDatumFormatter(k,y)),this.scaleFormatterParams={domain:v,ticks:f,fractionDigits:y},this.layout.label={fractionDigits:y,spacing:this.label.spacing,format:this.label.format};const b=s.getSideFlag(),x=this.isAnySeriesActive(),{rotation:D,parallelFlipRotation:E,regularFlipRotation:T}=this.calculateRotations();return this.crossLines.forEach(k=>{var O;var P;k.sideFlag=-b,k.direction=D===-Math.PI/2?"x":"y",k instanceof _s&&((P=k.label).parallel??(P.parallel=s.parallel)),k.parallelFlipRotation=E,k.regularFlipRotation=T,(O=k.calculateLayout)==null||O.call(k,x,this.reverse)}),{primaryTickCount:p,bbox:S}}getTransformBox(t){const i=new Nr,{rotation:s,translationX:n,translationY:r}=this.getAxisTransform();return Nr.updateTransformMatrix(i,1,1,s,n,r),i.transformBBox(t)}calculateRotations(){const t=Yt(this.rotation),i=Bt(t),s=Bt(t-Math.PI/2);return{rotation:t,parallelFlipRotation:i,regularFlipRotation:s}}updateCrossLines(){const t=this.isAnySeriesActive();this.crossLines.forEach(i=>{i.update(t)})}updateTickLines(){const{tick:t,label:i}=this,s=i.getSideFlag();this.tickLineGroupSelection.each((n,r)=>{n.strokeWidth=r.tickWidth??t.width,n.stroke=r.tickStroke??t.stroke,n.x1=s*(r.tickSize??this.getTickSize()),n.x2=0})}getAxisTransform(){return{rotation:Yt(this.rotation),translationX:Math.floor(this.translation.x),translationY:Math.floor(this.translation.y)}}updatePosition(){const{crossLineRangeGroup:t,crossLineLineGroup:i,crossLineLabelGroup:s,gridGroup:n,translation:r}=this,{rotation:o}=this.calculateRotations(),a=Math.floor(r.x),l=Math.floor(r.y);t.setProperties({rotation:o,translationX:a,translationY:l}),i.setProperties({rotation:o,translationX:a,translationY:l}),s.setProperties({rotation:o,translationX:a,translationY:l}),n.setProperties({rotation:o,translationX:a,translationY:l})}updateGridLines(){const t=this.label.getSideFlag(),{gridLine:{style:i,width:s},gridPadding:n,gridLength:r}=this;r===0||i.length===0||this.gridLineGroupSelection.each((o,a,l)=>{const{stroke:d,lineDash:h}=i[l%i.length];o.setProperties({x1:n,x2:-t*r+n,stroke:d,strokeWidth:s,lineDash:h})})}formatTick(t,i,s,n,r){const{labelFormatter:o,label:{formatter:a},moduleCtx:{callbackCache:l}}=this;let d;if(a){const h=this.getFormatterBoundSeries();d=l.call(this,a,{value:t,index:i,domain:s,fractionDigits:n,boundSeries:h})}else r?d=r(t):o&&(d=o(t));return String(d??t)}formatDatum(t){const{label:{formatter:i},moduleCtx:{callbackCache:s},datumFormatter:n=this.labelFormatter}=this;let r;if(i){const{domain:o}=this.scale,a=this.getFormatterBoundSeries();r=s.call(this,i,{value:t,index:NaN,domain:o,boundSeries:a})}else n?r=s.call(this,n,t):$e(t)&&(r=t.filter(Boolean).join(" - "));return String(r??t)}getScaleValueFormatter(t){const{scaleFormatterParams:i}=this;let s;try{t!=null&&i!=null&&(s=this.scale.tickFormatter({...i,specifier:t}))}catch{me.warnOnce(`the format string ${t} is invalid, ignoring.`)}return s??(s=n=>this.formatDatum(n)),s}getBBox(){return this.axisGroup.getBBox()}initCrossLine(t){t.scale=this.scale,t.gridLength=this.gridLength}isAnySeriesActive(){return this.boundSeries.some(t=>this.includeInvisibleDomains||t.isEnabled())}clipTickLines(t,i,s,n){this.tickLineGroup.setClipRect(new De(t,i,s,n))}clipGrid(t,i,s,n){this.gridGroup.setClipRect(new De(t,i,s,n))}getFormatterBoundSeries(){const{direction:t}=this,i=[];for(const s of this.boundSeries){const n=s.getKeys(t),r=s.getNames(t);for(let o=0;o<n.length;o++)i.push({key:n[o],name:r[o]})}return i}getTitleFormatterParams(t){var n;const{direction:i}=this,s=this.getFormatterBoundSeries();return{domain:t,direction:i,boundSeries:s,defaultValue:(n=this.title)==null?void 0:n.text}}normaliseDataDomain(t){return{domain:[...t],clipped:!1}}getLayoutState(){return{id:this.id,rect:this.getBBox(),gridPadding:this.gridPadding,seriesAreaPadding:this.seriesAreaPadding,tickSize:this.getTickSize(),direction:this.direction,domain:this.dataDomain.domain,scale:this.scale,...this.layout}}getModuleMap(){return this.moduleMap}createModuleContext(){return this.axisContext??(this.axisContext=this.createAxisContext()),{...this.moduleCtx,parent:this.axisContext}}createAxisContext(){const{scale:t}=this;return{axisId:this.id,scale:this.scale,direction:this.direction,continuous:wt.is(t)||sa.is(t),getCanvasBounds:()=>hi.toCanvas(this.axisGroup),seriesKeyProperties:()=>this.boundSeries.reduce((i,s)=>(s.getKeyProperties(this.direction).forEach(r=>i.add(r)),i),new Set),seriesIds:()=>this.boundSeries.map(i=>i.id),scaleValueFormatter:i=>this.getScaleValueFormatter(i),scaleInvert:i=>t.invert(i,!0),scaleInvertNearest:i=>t.invert(i,!0),attachLabel:i=>this.attachLabel(i),inRange:(i,s)=>this.inRange(i,s),getRangeOverflow:i=>this.getRangeOverflow(i)}}isReversed(){return this.reverse}};ya.defaultTickMinSpacing=50;ya.CrossLineConstructor=_s;R([A()],ya.prototype,"nice",2);R([A()],ya.prototype,"reverse",2);R([A()],ya.prototype,"keys",2);R([A()],ya.prototype,"interval",2);R([A()],ya.prototype,"title",2);R([Ol((e,t,i)=>e.onGridLengthChange(t,i))],ya.prototype,"gridLength",2);var pE=ya;function sae(e,t,i){let[s,n]=Ti(e);s=nae(Math.floor(s),n,t);const r=oae(s,n,t),o=t-1;n=s+o*r;const a=i?[n,s]:[s,n],l=rae(s,r,t);return{domain:a,ticks:l}}function nae(e,t,i){const s=Math.abs(t-e)/(i-1),n=Math.floor(Math.log10(s)),r=Math.pow(10,n);return Math.floor(e/r)*r}function rae(e,t,i){const s=Math.floor(Math.log10(t)),n=t>0&&t<1?Math.abs(s):0,r=Math.pow(10,n),o=[];for(let a=0;a<i;a++){const l=e+t*a;o[a]=Math.round(l*r)/r}return o}function oae(e,t,i){const s=i-1,n=(t-e)/s;return aae(n)}function aae(e){const t=Math.floor(Math.log10(e)),i=Math.pow(10,t),s=e/i*10;return s>0&&s<=1?i/10:s>1&&s<=2?2*i/10:s>1&&s<=5?5*i/10:s>5&&s<=10?10*i/10:s>10&&s<=20?20*i/10:s>20&&s<=40?40*i/10:s>40&&s<=50?50*i/10:s>50&&s<=100?100*i/10:s}function fE(){const e=new Map;return t=>{const i=e.get(t);return i?(e.set(t,i+1),`${t}_${i}`):(e.set(t,1),t)}}var Yz=class{constructor(e){this.axis=e}estimateTickCount(e,t,i){return bz(Zd(this.axis.range),Zd(e),t,i,wt.defaultTickCount,this.axis.defaultTickMinSpacing)}filterTicks(e,t){const{minSpacing:i,maxSpacing:s}=this.axis.interval,r=i!=null||s!=null?Math.ceil(e.length/t):2,o=e.length%r?-1:0;return e.filter((a,l)=>(l+o)%r===0)}generateTicks({domain:e,primaryTickCount:t,visibleRange:i,niceMode:s,parallelFlipRotation:n,regularFlipRotation:r,labelX:o,sideFlag:a}){const{scale:l,label:d,interval:{minSpacing:h,maxSpacing:p}}=this.axis,{parallel:f,rotation:v,fontFamily:y,fontSize:S,fontStyle:w,fontWeight:b}=d,x=t!==void 0,{defaultRotation:D,configuredRotation:E,parallelFlipFlag:T,regularFlipFlag:k}=Ky({rotation:v,parallel:f,regularFlipRotation:r,parallelFlipRotation:n}),P=E+D,O=new Nr,{maxTickCount:F}=this.estimateTickCount(i,h,p),V=!(wt.is(l)||sa.is(l))||isNaN(F)?10:F;let U=PP(f,E,0,a,k);const J=Uoe(f,E,a,T),ye=Wt.toFontString({fontFamily:y,fontSize:S,fontStyle:w,fontWeight:b}),Ce=fa.getMeasurer({font:ye}),G={fontFamily:y,fontSize:S,fontStyle:w,fontWeight:b,textBaseline:J,textAlign:U},K=d.enabled&&d.avoidCollisions,ne=({ticks:fe},ce)=>{if(!K)return!1;const we=E!==0||ce!==0,de=P+ce,ue=Woe(d.minSpacing,we);Nr.updateTransformMatrix(O,1,1,de,0,0);const xe=$oe(fe,o,O,Ce);return uoe(xe,ue)};let ge={tickDomain:[],ticks:[],rawTicks:[],fractionDigits:0,niceDomain:void 0},B=0,_=0,Y=!0,Z=!1;for(;!Z&&Y&&B<=V;){_=0;for(const fe of this.getTickStrategies({domain:e,niceMode:s,secondaryAxis:x,index:B}))({tickData:ge,index:B,autoRotation:_,terminate:Z}=fe({index:B,tickData:ge,textProps:G,terminate:Z,primaryTickCount:t,visibleRange:i,get labelOverlap(){return ne(ge,_)}}));Y=ne(ge,_)}U=PP(f,E,_,a,k);const ee=D+E+_;return!x&&ge.rawTicks.length>0&&(t=ge.rawTicks.length),{tickData:ge,primaryTickCount:t,combinedRotation:ee,textBaseline:J,textAlign:U}}getTickStrategies({domain:e,niceMode:t,index:i,secondaryAxis:s}){const{scale:n,label:r,interval:o}=this.axis,{minSpacing:a}=o,l=wt.is(n)||sa.is(n),d=r.enabled&&r.avoidCollisions,h=!l&&i!==0&&d,p=r.autoRotate===!0&&r.rotation===void 0,f=[];let v;o.values?v=3:s?v=1:h?v=2:v=0;const y=({index:S,tickData:w,primaryTickCount:b,visibleRange:x,terminate:D})=>this.createTickData(e,t,x,b,v,S,w,D);if(f.push(y),!l&&a!=null){const S=({index:w,tickData:b,primaryTickCount:x,visibleRange:D,terminate:E})=>this.createTickData(e,t,D,x,2,w,b,E);f.push(S)}if(d&&p){const S=({index:w,tickData:b,labelOverlap:x,terminate:D})=>({index:w,tickData:b,autoRotation:x?Bt(Yt(r.autoRotateAngle??0)):0,terminate:D});f.push(S)}return f}createTickData(e,t,i,s,n,r,o,a){const{scale:l,interval:d}=this.axis,{step:h,values:p,minSpacing:f,maxSpacing:v}=d,{maxTickCount:y,minTickCount:S,tickCount:w}=this.estimateTickCount(i,f,v),b=wt.is(l)||sa.is(l),x=!b||isNaN(y)?10:y,D=T=>b?Math.max(w-T,S):y,E=h==null&&p==null&&D(r)>S&&(b||n===2);for(;r<=x;){const T=o.rawTicks;if(o=this.getTicks({domain:e,niceMode:t,visibleRange:i,tickGenerationType:n,previousTicks:T,minTickCount:S,maxTickCount:y,primaryTickCount:s,tickCount:D(r)}),r++,!E||!ro(o.rawTicks,T))break}return a||(a=h!=null||p!=null),{tickData:o,index:r,autoRotation:0,terminate:a}}getTicks({domain:e,niceMode:t,visibleRange:i,tickGenerationType:s,previousTicks:n,tickCount:r,minTickCount:o,maxTickCount:a,primaryTickCount:l}){const{axis:d}=this,{label:h,range:p,scale:f,interval:v}=d,y=fE(),S={nice:t===0,interval:v.step,tickCount:r,minTickCount:o,maxTickCount:a},w={...S,nice:t===0||t===1};let b=t===0?f.niceDomain(S,e):e,x=b,D;switch(s){case 3:if(x=v.values,D=v.values,wt.is(f)){const[z,V]=Ti(b.map(Number));D=D.filter(U=>Number(U)>=z&&Number(U)<=V).sort((U,J)=>Number(U)-Number(J))}break;case 1:if(wt.is(f)){const z=sae(e.map(Number),l??0,d.reverse);D=z.ticks,b=z.domain.map(V=>f.toDomain(V))}else D=f.ticks(w,b,i)??[];break;case 2:D=this.filterTicks(n,r);break;default:D=f.ticks(w,b,i)??[]}const E=D.reduce((z,V)=>Math.max(z,typeof V=="number"?wR(V):0),0),T={domain:x,ticks:D,fractionDigits:E,specifier:h.format},k=f.tickFormatter(T),P=f.domain;f.domain=b;const O=(f.bandwidth??0)/2,F=[];for(let z=0;z<D.length;z++){const V=D[z],U=f.convert(V)+O;if(p.length>0&&!d.inRange(U,.001))continue;const J=h.enabled?d.formatTick(V,z,b,E,k):"";F.push({tick:V,tickId:y(J),tickLabel:J,translationY:Math.floor(U)})}return f.domain=P,{tickDomain:x,rawTicks:D,fractionDigits:E,ticks:F,niceDomain:b}}},mE=class extends $i{constructor(){super(...arguments),this.autoRotateAngle=335}};R([A()],mE.prototype,"autoRotate",2);R([A()],mE.prototype,"autoRotateAngle",2);var vE=class Kz extends pE{constructor(t,i){super(t,i),this.lineNode=this.axisGroup.appendChild(new Xy({name:`${this.id}-Axis-line`,zIndex:1})),this.tempText=new Yd({debugDirty:!1}),this.tempCaption=new Kt,this.tickGenerator=new Yz(this),this.generatedTicks=void 0,this.animationManager=t.animationManager,this.animationState=new Df("empty",{empty:{update:{target:"ready",action:()=>this.resetSelectionNodes()},reset:"empty"},ready:{update:n=>this.animateReadyUpdate(n),resize:()=>this.resetSelectionNodes(),reset:"empty"}}),this.axisGroup.appendChild(this.title.caption.node);let s;this.destroyFns.push(t.layoutManager.addListener("layout:complete",n=>{const r=[n.chart.width,n.chart.height];s!=null&&!ro(r,s)&&this.animationState.transition("resize"),s=r}),this.title.caption.registerInteraction(this.moduleCtx,"afterend"))}static is(t){return t instanceof Kz}resetAnimation(t){t==="initial"&&this.animationState.transition("reset")}get direction(){return this.position==="top"||this.position==="bottom"?"x":"y"}createAxisContext(){return{...super.createAxisContext(),position:this.position}}createLabel(){return new mE}updateDirection(){switch(this.position){case"top":this.rotation=-90,this.label.mirrored=!0,this.label.parallel=!0;break;case"right":this.rotation=0,this.label.mirrored=!0,this.label.parallel=!1;break;case"bottom":this.rotation=-90,this.label.mirrored=!1,this.label.parallel=!0;break;case"left":this.rotation=0,this.label.mirrored=!1,this.label.parallel=!1;break}this.axisContext&&(this.axisContext.position=this.position,this.axisContext.direction=this.direction)}calculateLayout(t){return this.updateDirection(),super.calculateLayout(t)}calculateTickLayout(t,i,s,n){const r=this.label.getSideFlag(),{parallelFlipRotation:o,regularFlipRotation:a}=this.calculateRotations(),l=r*(this.getTickSize()+this.label.spacing+this.seriesAreaPadding);if(i===2&&this.label.enabled===!1&&this.tick.enabled===!1&&this.gridLine.enabled===!1)return this.generatedTicks={ticks:[],labels:[]},{ticks:[],tickDomain:t,niceDomain:t,primaryTickCount:n,fractionDigits:0,bbox:this.tickBBox(t,[],[])};const d=this.tickGenerator.generateTicks({domain:t,niceMode:i,visibleRange:s,primaryTickCount:n,parallelFlipRotation:o,regularFlipRotation:a,labelX:l,sideFlag:r}),{tickData:h,primaryTickCount:p=n}=d,{ticks:f,tickDomain:v,rawTicks:y,fractionDigits:S,niceDomain:w=t}=h,b=f.map(D=>this.getTickLabelProps(D,d)),x=this.tickBBox(v,f,b);return this.generatedTicks={ticks:f,labels:b},{ticks:y,tickDomain:v,niceDomain:w,primaryTickCount:p,fractionDigits:S,bbox:x}}update(){var r;this.updateDirection();const t=Array.from(this.tickLabelGroupSelection.nodes(),o=>o.datum.tickId);if(super.update(),this.animatable||this.moduleCtx.animationManager.skipCurrentBatch(),this.generatedTicks){const{ticks:o}=this.generatedTicks;if(this.animationManager.isSkipped())this.resetSelectionNodes();else{const a=o.map(d=>d.tickId),l=zte(t,a);this.animationState.transition("update",l)}}const{enabled:i,stroke:s,width:n}=this.line;this.lineNode.setProperties({stroke:s,strokeWidth:i?n:0}),this.updateTitle(this.scale.domain,!((r=this.generatedTicks)!=null&&r.ticks.length))}updatePosition(){super.updatePosition(),this.axisGroup.datum=this.getAxisTransform()}tickBBox(t,i,s){var f;const n=this.label.getSideFlag(),r=[],{x:o,y1:a,y2:l}=this.getAxisLineCoordinates(),d=new De(o+Math.min(n*this.seriesAreaPadding,0),a,this.seriesAreaPadding,l-a);if(r.push(d),this.tick.enabled)for(const v of i){const{x1:y,x2:S,y:w}=this.getTickLineCoordinates(v),b=new De(y,w,S-y,0);r.push(b)}const{tempText:h}=this;if(this.label.enabled)for(const v of s){if(!v.visible)continue;h.setProperties({...v,translationY:Math.round(v.translationY)});const y=h.getBBox();y&&r.push(y)}if((f=this.title)!=null&&f.enabled){const v=De.merge(r).width;this.setTitleProps(this.tempCaption,{domain:t,spacing:v});const y=this.tempCaption.node.getBBox();y&&r.push(y)}const p=De.merge(r);return this.getTransformBox(p)}setTitleProps(t,i){const{title:s}=this;if(!s.enabled){t.enabled=!1,t.node.visible=!1;return}t.enabled=!0,t.color=s.color,t.fontFamily=s.fontFamily,t.fontSize=s.fontSize,t.fontStyle=s.fontStyle,t.fontWeight=s.fontWeight,t.wrapping=s.wrapping;const n=t.node,r=(s.spacing??0)+i.spacing,o=this.label.getSideFlag(),a=Bt(this.rotation),l=o===-1&&a>Math.PI&&a<Math.PI*2?-1:1,d=l*o*Math.PI/2,h=l===1?"bottom":"top",{range:p}=this,f=Math.floor(l*o*(p[0]+p[1])/2),v=Math.floor(o===-1?l*-r:-r),{callbackCache:y}=this.moduleCtx,{formatter:S=b=>b.defaultValue}=s,w=y.call(this,S,this.getTitleFormatterParams(i.domain));t.text=w,n.setProperties({visible:!0,text:w,textBaseline:h,x:f,y:v,rotation:d})}getTickLabelProps(t,i){const{combinedRotation:s,textBaseline:n,textAlign:r}=i,{range:o}=this.scale,a=t.tickLabel,d=this.label.getSideFlag()*(this.getTickSize()+this.label.spacing+this.seriesAreaPadding),h=a!==""&&a!=null;return{...this.getLabelStyles({value:t.tickLabel}),tickId:t.tickId,rotation:s,rotationCenterX:d,translationY:t.translationY,text:a,textAlign:r,textBaseline:n,visible:h,x:d,y:0,range:o}}getTickLineCoordinates(t){const s=this.label.getSideFlag()*this.getTickSize(),n=Math.min(0,s),r=n+Math.abs(s),o=t.translationY;return{x1:n,x2:r,y:o}}updateSelections(){if(!this.generatedTicks)return;const t=this.getAxisLineCoordinates(),{ticks:i,labels:s}=this.generatedTicks,n=r=>r.tickId;this.lineNode.datum=t,this.gridLineGroupSelection.update(this.gridLength?i:[],void 0,n),this.tickLineGroupSelection.update(i,void 0,n),this.tickLabelGroupSelection.update(s,void 0,n)}updateTitle(t,i,s){const{title:n,tickLineGroup:r,tickLabelGroup:o,lineNode:a}=this;n.enabled&&!i&&s==null&&(s=Ne.computeChildrenBBox([r,o,a]).width+(o.visible?0:this.seriesAreaPadding)),s??(s=0),this.setTitleProps(n.caption,{domain:t,spacing:s})}updateLabels(){this.label.enabled&&this.tickLabelGroupSelection.each((t,i)=>{t.fill=i.fill,t.fontFamily=i.fontFamily,t.fontSize=i.fontSize,t.fontStyle=i.fontStyle,t.fontWeight=i.fontWeight,t.text=i.text,t.textBaseline=i.textBaseline,t.textAlign=i.textAlign??"center"})}animateReadyUpdate(t){const{animationManager:i}=this.moduleCtx,s=Zy(this),n=Vz(s);li(this.id,"axis-group",i,[this.axisGroup],n.group),li(this.id,"line",i,[this.lineNode],n.line),li(this.id,"line-paths",i,[this.gridLineGroupSelection,this.tickLineGroupSelection],n.tick,(r,o)=>o.tickId,t),li(this.id,"tick-labels",i,[this.tickLabelGroupSelection],n.label,(r,o)=>o.tickId,t)}resetSelectionNodes(){const t=Zy(this);Xi([this.axisGroup],_z()),Xi([this.gridLineGroupSelection,this.tickLineGroupSelection],hE(t)),Xi([this.tickLabelGroupSelection],gE()),Xi([this.lineNode],Wz())}};R([A()],vE.prototype,"thickness",2);R([A()],vE.prototype,"position",2);var Rf=vE,qz=["top","right","bottom","left"];function lae(e){return typeof e=="string"&&qz.includes(e)}function cae(e){const t=[],i=[],s=[...qz];for(const n of e)n instanceof Rf&&(lae(n.position)?i.push(n.position):t.push(n));for(const n of t){let r;do r=s.pop();while(r&&i.includes(r));if(r==null)break;n.position=r}}var uae=["direction","xKey","yKey","sizeKey","angleKey","radiusKey","normalizedTo"];function dae(e,t,i){var d,h;const s=(p,f,v)=>{const y=[p];for(const S of uae)S in f&&f[S]!=null&&y.push(`${S}=${f[S]}`);return v!=null&&v.seriesGrouping&&y.push(`seriesGrouping.groupId=${v==null?void 0:v.seriesGrouping.groupId}`),y.join(";")},n=new Map;let r=0;for(const p of e){const f=s(p.type,p.properties,i==null?void 0:i[r]);n.has(f)||n.set(f,[]),(d=n.get(f))==null||d.push([p,r++])}const o=new Map;r=0;for(const p of t){const f=s(p.type,p,p);o.has(f)||o.set(f,[]),(h=o.get(f))==null||h.push([p,r++])}if(![...n.keys()].some(p=>o.has(p)))return{status:"no-overlap",oldKeys:n.keys(),newKeys:o.keys()};const l=[];for(const[p,f]of o.entries())for(const[v,y]of f){const S=n.get(p);if(S==null||S.length<1){l.push({opts:v,targetIdx:y,idx:y,status:"add"}),n.delete(p);continue}const[w,b]=S.shift(),x=(i==null?void 0:i[b])??{},D=yo(x,v??{}),{groupIndex:E,stackIndex:T}=(D==null?void 0:D.seriesGrouping)??{};E!=null||T!=null?l.push({opts:v,series:w,diff:D,targetIdx:y,idx:b,status:"series-grouping"}):D?l.push({opts:v,series:w,diff:D,targetIdx:y,idx:b,status:"update"}):l.push({opts:v,series:w,targetIdx:y,idx:b,status:"no-op"}),S.length===0&&n.delete(p)}for(const p of n.values())for(const[f,v]of p)l.push({series:f,idx:v,targetIdx:-1,status:"remove"});return{status:"overlap",changes:l}}function Ca(e){var i;const{series:t}=e;return((i=t==null?void 0:t[0])==null?void 0:i.type)??"line"}function yE(e){const t=Ca(e);return Xt.isCartesian(t)||Roe(t)}function Zz(e){const t=Ca(e);return Xt.isPolar(t)||Eoe(t)}function Xz(e){const t=Ca(e);return Xt.isHierarchy(t)||Aoe(t)}function Qz(e){const t=Ca(e);return Xt.isTopology(t)||Toe(t)}function Jz(e){const t=Ca(e);return Xt.isFlowProportion(t)||Ioe(t)}function CE(e){const t=Ca(e);return Xt.isStandalone(t)||Loe(t)}function bE(e){const t=Ca(e);return Xt.isGauge(t)||koe(t)}function hae(e){const t=Ca(e);return Zz(e)&&t!=="pie"&&t!=="donut"}var gae=class extends uE{applyOptions(e){for(const t of this.moduleMap.values())t.module.optionsKey in e&&vo(t.moduleInstance)&&t.moduleInstance.set(e[t.module.optionsKey])}*legends(){for(const{module:e,moduleInstance:t}of this.moduleMap.values())e.type==="legend"&&(yield{legendType:e.identifier,legend:t})}},YM="ag-charts-overlay",jP="ag-charts-dark-overlay",kc=class extends Ge{constructor(e,t){super(),this.className=e,this.defaultMessageId=t,this.enabled=!0}getText(e){return e.t(this.text??this.defaultMessageId)}getElement(e,t,i){var s;if((s=this.content)==null||s.remove(),this.focusBox=i,this.renderer){const n=this.renderer();if(n instanceof HTMLElement)this.content=n;else{const r=qe("div");r.innerHTML=n,this.content=r.firstElementChild}}else{const n=qe("div",{display:"flex",alignItems:"center",justifyContent:"center",boxSizing:"border-box",height:"100%",margin:"8px",fontFamily:"var(--ag-charts-font-family)",fontSize:"var(--ag-charts-font-size)",fontWeight:"var(--ag-charts-font-weight)"});n.innerText=this.getText(t),this.content=n,e==null||e.animate({from:0,to:1,id:"overlay",phase:"add",groupId:"opacity",onUpdate(r){n.style.opacity=String(r)},onStop(){n.style.opacity="1"}})}return this.content}removeElement(e=()=>{var i;return(i=this.content)==null?void 0:i.remove()},t){if(this.content){if(t){const{content:i}=this;t.animate({from:1,to:0,phase:"remove",id:"overlay",groupId:"opacity",onUpdate(s){i.style.opacity=String(s)},onStop(){e==null||e()}})}else e==null||e();this.content=void 0,this.focusBox=void 0}}};R([A()],kc.prototype,"enabled",2);R([A()],kc.prototype,"text",2);R([A()],kc.prototype,"renderer",2);var yh=class extends Ge{constructor(){super(...arguments),this.darkTheme=!1,this.loading=new kc("ag-charts-loading-overlay","overlayLoadingData"),this.noData=new kc("ag-charts-no-data-overlay","overlayNoData"),this.noVisibleSeries=new kc("ag-charts-no-visible-series","overlayNoVisibleSeries"),this.unsupportedBrowser=new kc("ag-charts-unsupported-browser","overlayUnsupportedBrowser")}getFocusInfo(e){for(const t of[this.loading,this.noData,this.noVisibleSeries,this.unsupportedBrowser])if(t.focusBox!==void 0)return{text:t.getText(e),rect:t.focusBox}}destroy(){this.loading.removeElement(),this.noData.removeElement(),this.noVisibleSeries.removeElement(),this.unsupportedBrowser.removeElement()}};R([A()],yh.prototype,"darkTheme",2);R([A()],yh.prototype,"loading",2);R([A()],yh.prototype,"noData",2);R([A()],yh.prototype,"noVisibleSeries",2);R([A()],yh.prototype,"unsupportedBrowser",2);function pae(e,t){const{animationDuration:i}=jp.add,s=i*t,n=qe("div",`${YM}--loading`,{display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column",height:"100%",boxSizing:"border-box",font:"13px Verdana, sans-serif",userSelect:"none",animation:`ag-charts-loading ${s}ms linear 50ms both`}),r=qe("span",{width:"45px",height:"40px",backgroundImage:["linear-gradient(#0000 calc(1 * 100% / 6), #ccc 0 calc(3 * 100% / 6), #0000 0), ","linear-gradient(#0000 calc(2 * 100% / 6), #ccc 0 calc(4 * 100% / 6), #0000 0), ","linear-gradient(#0000 calc(3 * 100% / 6), #ccc 0 calc(5 * 100% / 6), #0000 0)"].join(""),backgroundSize:"10px 400%",backgroundRepeat:"no-repeat",animation:"ag-charts-loading-matrix 1s infinite linear"}),o=qe("p",{marginTop:"1em"});o.innerText=e;const a=qe("div",`${YM}__loading-background`,{position:"absolute",inset:"0",opacity:"0.5",zIndex:"-1"}),l=qe("style");return l.innerText=["@keyframes ag-charts-loading { from { opacity: 0 } to { opacity: 1 } }","@keyframes ag-charts-loading-matrix {","0% { background-position: 0% 0%, 50% 0%, 100% 0%; }","100% { background-position: 0% 100%, 50% 100%, 100% 100%; }","}"].join(" "),n.replaceChildren(l,r,o,a),n}var eB=(e=>(e[e.BACKGROUND=0]="BACKGROUND",e[e.ANY_CONTENT=1]="ANY_CONTENT",e))(eB||{}),tB=(e=>(e[e.FOREGROUND=0]="FOREGROUND",e[e.HIGHLIGHT=1]="HIGHLIGHT",e[e.LABEL=2]="LABEL",e))(tB||{});function _c(e,t,i){if(Fr(e))return{type:"gradient",gradient:e.gradient??t.gradient,colorStops:e.colorStops??t.colorStops,bounds:e.bounds??t.bounds,rotation:e.rotation??t.rotation,reverse:e.reverse??t.reverse};if(Qc(e)&&i){const s=e.pattern??i.pattern;let n=e.strokeWidth;s==="backward-slanted-lines"||s==="forward-slanted-lines"||s==="horizontal-lines"||s==="vertical-lines"?n??(n=i.strokeWidth):n??(n=0);const r=e.width??e.height??i.width,o=e.height??e.width??i.height;return{type:"pattern",pattern:s,width:r,height:o,padding:e.padding??i.padding,fill:e.fill??i.fill,fillOpacity:e.fillOpacity??i.fillOpacity,backgroundFill:e.backgroundFill??i.backgroundFill,backgroundFillOpacity:e.backgroundFillOpacity??i.backgroundFillOpacity,stroke:e.stroke??i.stroke,strokeOpacity:e.strokeOpacity??i.strokeOpacity,strokeWidth:n,rotation:e.rotation??i.rotation}}return e}function ao(e,t,i){return!Fr(e==null?void 0:e.fill)&&!Qc(e==null?void 0:e.fill)?e:{...e,fill:_c(e.fill,t,i)}}function tb(e,t,i,s){i==null||!Fr(t)||t.bounds==null||t.bounds==="item"?e.fillBBox=void 0:e.fillBBox=i[t.bounds],e.fillParams=s}function tu(e,t,i,s,n){const r=(i==null?void 0:i.fill)??t.fill;e.fill=r,tb(e,(i==null?void 0:i.fill)??t.fill,s,n),e.fillOpacity=(i==null?void 0:i.fillOpacity)??t.fillOpacity??1,e.stroke=(i==null?void 0:i.stroke)??t.stroke,e.strokeOpacity=(i==null?void 0:i.strokeOpacity)??t.strokeOpacity??1,e.strokeWidth=(i==null?void 0:i.strokeWidth)??t.strokeWidth??0,e.lineDash=(i==null?void 0:i.lineDash)??t.lineDash,e.lineDashOffset=(i==null?void 0:i.lineDashOffset)??t.lineDashOffset??0}var iB=(e=>(e[e.EXACT_SHAPE_MATCH=0]="EXACT_SHAPE_MATCH",e[e.NEAREST_NODE=1]="NEAREST_NODE",e[e.AXIS_ALIGNED=2]="AXIS_ALIGNED",e))(iB||{}),fae=.25,mae=.125,Ef=class{constructor(e,t,i,s){this.type=e,this.event=t,this.defaultPrevented=!1,this.datum=i.datum,this.seriesId=s.id}preventDefault(){this.defaultPrevented=!0}},SE=class{constructor(e,t,i){this.series=e,this.seriesGrouping=t,this.oldGrouping=i,this.type="groupingChanged"}},ib=class extends D3{constructor(e){super(),this.destroyFns=[],this.usesPlacedLabels=!1,this.seriesGrouping=void 0,this.NodeEvent=Ef,this.internalId=En(this),this.contentGroup=new Bs({name:`${this.internalId}-content`,zIndex:1}),this.highlightGroup=new Bs({name:`${this.internalId}-highlight`,zIndex:1}),this.annotationGroup=new Bs({name:`${this.internalId}-annotation`}),this.labelGroup=new Bs({name:`${this.internalId}-series-labels`}),this.axes={x:void 0,y:void 0},this.directions=["x","y"],this.nodeDataRefresh=!0,this.moduleMap=new uE,this.datumCallbackCache=new Map,this.connectsToYAxis=!1,this._declarationOrder=-1,this.seriesListeners=new ma,this._pickNodeCache=new HR;const{moduleCtx:t,pickModes:i,directionKeys:s={},directionNames:n={},canHaveAxes:r=!1,usesPlacedLabels:o=!1}=e;this.ctx=t,this.directionKeys=s,this.directionNames=n,this.canHaveAxes=r,this.usesPlacedLabels=o,this.highlightGroup=new Bs({name:`${this.internalId}-highlight`}),this.highlightNode=this.highlightGroup.appendChild(new Ne({name:"highlightNode",zIndex:0})),this.highlightLabel=this.highlightGroup.appendChild(new Ne({name:"highlightLabel",zIndex:10})),this.pickModes=i}get pickModeAxis(){return"main"}get id(){var e;return((e=this.properties)==null?void 0:e.id)??this.internalId}get type(){return this.constructor.type??""}get focusable(){return!0}get data(){return this._data??this._chartData}set visible(e){this.properties.visible=e,this.ctx.legendManager.toggleItem(e,this.id),this.ctx.legendManager.update(),this.visibleMaybeChanged()}get visible(){return this.ctx.legendManager.getSeriesEnabled(this.id)??this.properties.visible}get hasData(){return this.data!=null&&this.data.length>0}get tooltipEnabled(){var e;return(e=this.properties.tooltip)==null?void 0:e.enabled}onDataChange(){this.nodeDataRefresh=!0,this._pickNodeCache.clear()}setOptionsData(e){this._data=e,this.onDataChange()}setChartData(e){this._chartData=e,this.data===e&&this.onDataChange()}onSeriesGroupingChange(e,t){const{internalId:i,type:s,visible:n}=this;e&&this.ctx.seriesStateManager.deregisterSeries(this),t&&this.ctx.seriesStateManager.registerSeries({internalId:i,type:s,visible:n,seriesGrouping:t}),this.fireEvent(new SE(this,t,e))}getBandScalePadding(){return{inner:1,outer:0}}attachSeries(e,t,i){e.appendChild(this.contentGroup),t.appendChild(this.highlightGroup),t.appendChild(this.labelGroup),i==null||i.appendChild(this.annotationGroup)}detachSeries(e,t,i){e==null||e.removeChild(this.contentGroup),t.removeChild(this.highlightGroup),t.removeChild(this.labelGroup),i==null||i.removeChild(this.annotationGroup)}setSeriesIndex(e){return e===this._declarationOrder?!1:(this._declarationOrder=e,this.contentGroup.zIndex=[1,e,0],this.highlightGroup.zIndex=[1,e,1],this.labelGroup.zIndex=[1,e,2],this.annotationGroup.zIndex=e,!0)}renderToOffscreenCanvas(){return!1}addEventListener(e,t){return super.addEventListener(e,t)}removeEventListener(e,t){return super.removeEventListener(e,t)}hasEventListener(e){return super.hasEventListener(e)}addListener(e,t){return this.seriesListeners.addListener(e,t)}dispatch(e,t){this.seriesListeners.dispatch(e,t)}addChartEventListeners(){}destroy(){this.destroyFns.forEach(e=>e()),this.destroyFns=[],this.resetDatumCallbackCache(),this.ctx.seriesStateManager.deregisterSeries(this)}getDirectionValues(e,t){const i=this.resolveKeyDirection(e),s=t==null?void 0:t[i],n=[];if(!s)return n;const r=(...o)=>{for(const a of o)Array.isArray(a)?r(...a):typeof a=="object"?r(...Object.values(a)):n.push(a)};return r(...s.map(o=>this.properties[o])),n}getKeys(e){return this.getDirectionValues(e,this.directionKeys)}getKeyProperties(e){return this.directionKeys[this.resolveKeyDirection(e)]??[]}getNames(e){return this.getDirectionValues(e,this.directionNames)}resolveKeyDirection(e){return e}getDomain(e){const t=this.getSeriesDomain(e),i=this.moduleMap.mapModules(s=>s.getDomain(e)).flat();return i.length!==0?t.concat(i):t}getRange(e,t){return this.getSeriesRange(e,t)}getVisibleItems(e,t,i){return 1/0}markNodeDataDirty(){this.nodeDataRefresh=!0,this._pickNodeCache.clear(),this.visibleMaybeChanged()}visibleMaybeChanged(){this.ctx.seriesStateManager.updateSeries(this)}getOpacity(){const{dimOpacity:t=1,enabled:i=!0}=this.properties.highlightStyle.series;if(!i||t===1)return 1;switch(this.isItemIdHighlighted()){case 0:case 1:return 1;case 2:default:return t}}getStrokeWidth(e){const{strokeWidth:t,enabled:i=!0}=this.properties.highlightStyle.series;if(!i||t===void 0)return e;switch(this.isItemIdHighlighted()){case 1:return t;case 0:case 2:return e}}isItemIdHighlighted(){var t,i;const e=(i=(t=this.ctx.highlightManager)==null?void 0:t.getActiveHighlight())==null?void 0:i.series;return e==null?0:e!==this?2:1}getModuleTooltipParams(){return this.moduleMap.mapModules(e=>e.getTooltipParams()).reduce((e,t)=>Object.assign(e,t),{})}pickNodes(e,t,i=!1){const{pickModes:s,pickModeAxis:n,visible:r,contentGroup:o}=this;if(!r||!o.visible||t==="highlight"&&!this.properties.highlight.enabled||t==="highlight-tooltip"&&!this.properties.highlight.enabled)return;let a=1/0;if(t==="tooltip"||t==="highlight-tooltip"){const{tooltip:f}=this.properties;a=typeof f.range=="number"?f.range:1/0,i||(i=f.range==="exact")}else if(t==="event"||t==="context-menu"){const{nodeClickRange:f}=this.properties;a=typeof f=="number"?f:1/0,i||(i=f==="exact")}const l=s.filter(f=>!i||f===0),{x:d,y:h}=e,p=JSON.stringify({x:d,y:h,maxDistance:a,selectedPickModes:l});if(this._pickNodeCache.has(p))return this._pickNodeCache.get(p);for(const f of l){let v;switch(f){case 0:{const y=this.pickNodesExactShape(e);v=y.length===0?void 0:{datums:y,distance:0};break}case 1:{const y=this.pickNodeClosestDatum(e),S=(y==null?void 0:y.distance)===0?this.pickNodesExactShape(e):void 0;S!=null&&S.length!==0?v={datums:S,distance:0}:y?v={datums:[y.datum],distance:y.distance}:v=void 0;break}case 2:{const y=n!=null?this.pickNodeMainAxisFirst(e,n==="main-category"):void 0;v=y!=null?{datums:[y.datum],distance:y.distance}:void 0;break}}if(v&&v.distance<=a)return this._pickNodeCache.set(p,{pickMode:f,datums:v.datums,distance:v.distance})}return this._pickNodeCache.set(p,void 0)}pickNodesExactShape(e){const t=[];for(const i of this.contentGroup.pickNodes(e.x,e.y)){const s=i.closestDatum();s!=null&&s.missing!==!0&&t.push(s)}return t}pickNodeClosestDatum(e){throw new Error("AG Charts - Series.pickNodeClosestDatum() not implemented")}pickNodeNearestDistantObject(e,t){var n;const i=PC(e.x,e.y,t),s=(n=i.nearest)==null?void 0:n.closestDatum();if(s!=null&&s.missing!==!0)return{datum:s,distance:Math.sqrt(i.distanceSquared)}}pickNodeMainAxisFirst(e,t){throw new Error("AG Charts - Series.pickNodeMainAxisFirst() not implemented")}getLabelData(){return[]}updatePlacedLabelData(e){}fireNodeClickEvent(e,t){const i=new this.NodeEvent("seriesNodeClick",e,t,this);return this.fireEvent(i),!i.defaultPrevented}fireNodeDoubleClickEvent(e,t){const i=new this.NodeEvent("seriesNodeDoubleClick",e,t,this);return this.fireEvent(i),!i.defaultPrevented}createNodeContextMenuActionEvent(e,t){return new this.NodeEvent("nodeContextMenuAction",e,t,this)}onLegendInitialState(e,t){const{visible:i=!0,itemId:s,legendItemName:n}=t??{};this.toggleSeriesItem(i,e,s,n)}onLegendItemClick(e){const{enabled:t,itemId:i,series:s,legendType:n}=e,r="legendItemName"in this.properties?this.properties.legendItemName:void 0,o="legendItemKey"in this.properties?this.properties.legendItemKey:void 0,a=r!=null&&r===e.legendItemName;(s.id===this.id||a||o!=null)&&this.toggleSeriesItem(t,n,i,r,e)}onLegendItemDoubleClick(e){const{enabled:t,itemId:i,series:s,numVisibleItems:n,legendType:r}=e,o="legendItemName"in this.properties?this.properties.legendItemName:void 0,a="legendItemKey"in this.properties?this.properties.legendItemKey:void 0,l=o!=null&&o===e.legendItemName;s.id===this.id||l||a!=null?this.toggleSeriesItem(!0,r,i,o,e):t&&n===1?this.toggleSeriesItem(!0,r,void 0,o):this.toggleSeriesItem(!1,r,void 0,o)}toggleSeriesItem(e,t,i,s,n){const r=this.id;(e||t!=="category")&&(this.visible=e),this.nodeDataRefresh=!0,this._pickNodeCache.clear();const o={type:"seriesVisibilityChange",seriesId:r,itemId:i,legendItemName:(n==null?void 0:n.legendItemName)??s,visible:e};this.fireEvent(o),this.ctx.legendManager.toggleItem(e,r,i,s)}isEnabled(){return this.visible}getModuleMap(){return this.moduleMap}createModuleContext(){return{...this.ctx,series:this}}getLabelText(e,t,i=ha){return e.formatter?this.ctx.callbackCache.call(this.properties,e.formatter,{seriesId:this.id,...t})??this.callWithContext(i,t.value):this.callWithContext(i,t.value)}getMarkerStyle(e,t,i,s=!1,n=e.size??0,r){const{itemStyler:o,fillGradientDefaults:a,fillPatternDefaults:l}=e;let h=ao(Je({size:n},r,e.getStyle()),a,l);if(o&&i){const p=this.ctx.callbackCache.call(this.properties,o,{seriesId:this.id,...h,...i,highlighted:s,datum:t});h=ao(Je(p,h),a,l)}return h}updateMarkerStyle(e,t,i,s,n,r,o,a,{applyTranslation:l=!0,selected:d=!0}={}){const h=this.getMarkerStyle(e,i,n,r,s==null?void 0:s.size,o),{shape:p,size:f}=h,v=this.visible&&f>0&&s&&!isNaN(s.x)&&!isNaN(s.y);if(tu(t,h,void 0,a),l?t.setProperties({visible:v,shape:p,size:f,x:s==null?void 0:s.x,y:s==null?void 0:s.y,scalingCenterX:s==null?void 0:s.x,scalingCenterY:s==null?void 0:s.y}):t.setProperties({visible:v,shape:p,size:f}),d||(t.fillOpacity*=fae,t.strokeOpacity*=mae),typeof e.shape=="function"&&!t.dirtyPath){t.path.clear(!0),t.updatePath(),t.checkPathDirty();const y=t.getBBox();if(s!==void 0&&y.isFinite()){const S=y.computeCenter(),[w,b]=["x","y"].map(x=>(h.strokeWidth??0)+Math.abs(S[x]-s[x]));s.focusSize=Math.max(y.width+w,y.height+b)}}}get nodeDataDependencies(){return this._nodeDataDependencies??{seriesRectWidth:NaN,seriesRectHeight:NaN}}checkResize(e){const{width:t,height:i}=e??{width:NaN,height:NaN},s=e?{seriesRectWidth:t,seriesRectHeight:i}:void 0,n=yo(this.nodeDataDependencies,s)!=null;return n&&(this._nodeDataDependencies=s,this.markNodeDataDirty()),n}pickFocus(e){}resetDatumCallbackCache(){this.datumCallbackCache.clear()}cachedDatumCallback(e,t){const{datumCallbackCache:i}=this,s=i.get(e);if(s!=null)return s;try{const n=t();return i.set(e,n),n}catch(n){me.error(String(n))}}callWithContext(e,...t){return QR(this.properties,e,t)}};R([an({changeValue:function(e,t){this.onSeriesGroupingChange(t,e)}})],ib.prototype,"seriesGrouping",2);function Ve(e){const{changeCb:t,convertor:i}=e??{};return Re({type:"path",convertor:i,changeCb:t})}var Ws=class extends cr{constructor(){super(...arguments),this.path=new $d,this._clipX=NaN,this._clipY=NaN,this.clip=!1,this._dirtyPath=!0,this.lastPixelRatio=NaN}set clipX(e){this._clipX=e,this.dirtyPath=!0}set clipY(e){this._clipY=e,this.dirtyPath=!0}set dirtyPath(e){this._dirtyPath!==e&&(this._dirtyPath=e,e&&this.markDirty("path"))}get dirtyPath(){return this._dirtyPath}checkPathDirty(){var e,t;this._dirtyPath||(this.dirtyPath=this.path.isDirty()||(((e=this.fillShadow)==null?void 0:e.isDirty())??!1)||(((t=this._clipPath)==null?void 0:t.isDirty())??!1))}computeBBox(){return this.updatePathIfDirty(),this.path.computeBBox()}isPointInPath(e,t){return this.updatePathIfDirty(),this.path.closedPath&&this.path.isPointInPath(e,t)}distanceSquared(e,t){return this.distanceSquaredTransformedPoint(e,t)}svgPathData(e){return this.updatePathIfDirty(),this.path.toSVG(e)}distanceSquaredTransformedPoint(e,t){return this.updatePathIfDirty(),this.path.closedPath&&this.path.isPointInPath(e,t)?0:this.path.distanceSquared(e,t)}isDirtyPath(){return!1}updatePath(){}updatePathIfDirty(){(this.dirtyPath||this.isDirtyPath())&&(this.updatePath(),this.dirtyPath=!1)}preRender(e){return e.devicePixelRatio!==this.lastPixelRatio&&(this.dirtyPath=!0),this.lastPixelRatio=e.devicePixelRatio,this.updatePathIfDirty(),super.preRender(e,this.path.commands.length)}render(e){var i,s;const{ctx:t}=e;if(this.clip&&!isNaN(this._clipX)&&!isNaN(this._clipY)){t.save();const n=this.strokeWidth/2;this._clipPath??(this._clipPath=new $d),this._clipPath.clear(),this._clipPath.rect(-n,-n,this._clipX+n,this._clipY+n+n),t.clip((i=this._clipPath)==null?void 0:i.getPath2D()),this._clipX>0&&this._clipY>0&&this.drawPath(t),t.restore()}else this._clipPath=void 0,this.drawPath(t);(s=this.fillShadow)==null||s.markClean(),super.render(e)}drawPath(e){this.fillStroke(e,this.path.getPath2D())}toSVG(){if(!this.visible)return;const e=Ji("path");e.setAttribute("d",this.svgPathData());const t=this.applySvgFillAttributes(e,[]);return this.applySvgStrokeAttributes(e),{elements:[e],defs:t}}};Ws.className="Path";R([Ve()],Ws.prototype,"clip",2);R([Ve()],Ws.prototype,"clipX",1);R([Ve()],Ws.prototype,"clipY",1);var vae=class{constructor(e){this.swapChain=e,this.hasBeenActivated=!1,this.div=qe("div"),this.svg=Ji("svg"),this.outerPath=Ji("path"),this.innerPath=Ji("path"),this.svg.append(this.outerPath),this.svg.append(this.innerPath),this.outerPath.classList.add("ag-charts-focus-svg-outer-path"),this.innerPath.classList.add("ag-charts-focus-svg-inner-path"),this.element=qe("div","ag-charts-focus-indicator"),this.element.ariaHidden="true",this.element.append(this.svg),this.swapChain.addListener("swap",t=>this.onSwap(t))}clear(){}update(e,t,i){if(t!=null)if(e instanceof Ws){const s=(r,o)=>{let{x:a,y:l}=hi.toCanvasPoint(e,r,o);return a-=t.x??0,l-=t.y??0,{x:a,y:l}},n=e.svgPathData(s);this.outerPath.setAttribute("d",n),this.innerPath.setAttribute("d",n),this.show(this.svg)}else{let s;if(i){const n=Math.max(e.x-t.x,0),r=Math.max(e.y-t.y,0),o=Math.min(e.x+e.width-t.x,t.width),a=Math.min(e.y+e.height-t.y,t.height);s=new De(n,r,o-n,a-r)}else s=new De(e.x-t.x,e.y-t.y,e.width,e.height);Gy(this.div,s),this.show(this.div)}}onSwap(e){e!==this.element.parentElement&&(this.element.remove(),e.appendChild(this.element),this.overrideFocusVisible(this.focusVisible))}show(e){this.hasBeenActivated=!0,this.element.innerHTML="",this.element.append(e)}overrideFocusVisible(e){this.focusVisible=e;const t={true:"1",false:"0",undefined:""},i=this.element.parentElement;i==null||i.style.setProperty("opacity",t[`${e}`])}isFocusVisible(e=!1){if(!e&&!this.hasBeenActivated)return!1;const t=this.element.parentElement;return t!=null&&Pt().getComputedStyle(t).opacity==="1"}},yae=class{constructor(e,t,i,s){this.label1=e,this.label2=t,this.hasFocus=!1,this.skipDispatch=!1,this.listeners={blur:[],focus:[],swap:[]},this.onBlur=n=>(Rr(n.target,"pointer-events",void 0),!this.skipDispatch&&this.dispatch("blur",n)),this.onFocus=n=>(Rr(n.target,"pointer-events","auto"),!this.skipDispatch&&this.dispatch("focus",n)),kt(this.label1,"id",`${i}-label1`),kt(this.label2,"id",`${i}-label2`),Rr(this.label1,"display","none"),Rr(this.label2,"display","none"),this.activeAnnouncer=this.createAnnouncer(s),this.inactiveAnnouncer=this.createAnnouncer(s),kt(this.activeAnnouncer,"tabindex",0),this.label2.insertAdjacentElement("afterend",this.activeAnnouncer),this.label2.insertAdjacentElement("afterend",this.inactiveAnnouncer),this.swap("")}createAnnouncer(e){const t=qe("div");return t.role=e,t.className="ag-charts-swapchain",t.addEventListener("blur",this.onBlur),t.addEventListener("focus",this.onFocus),t}destroy(){for(const e of[this.activeAnnouncer,this.inactiveAnnouncer])e.removeEventListener("blur",this.onBlur),e.removeEventListener("focus",this.onFocus),e.remove()}focus(e){this.focusOptions=e,this.activeAnnouncer.focus(e),this.focusOptions=void 0}update(e){this.skipDispatch=!0,this.swap(e),this.hasFocus&&this.activeAnnouncer.focus(this.focusOptions),this.skipDispatch=!1}addListener(e,t){this.listeners[e].push(t),e==="swap"&&t(this.activeAnnouncer)}dispatch(e,t){e==="focus"?this.hasFocus=!0:e==="blur"&&(this.hasFocus=!1),this.listeners[e].forEach(i=>i(t))}swap(e){const t=this.activeAnnouncer.tabIndex;this.label2.textContent=e,[this.inactiveAnnouncer,this.activeAnnouncer]=[this.activeAnnouncer,this.inactiveAnnouncer],[this.label1,this.label2]=[this.label2,this.label1],Jc(this.inactiveAnnouncer,{"aria-labelledby":this.label1.id,"aria-hidden":!0,tabindex:void 0}),Jc(this.activeAnnouncer,{"aria-labelledby":this.label1.id,"aria-hidden":!1,tabindex:t}),this.dispatch("swap",this.activeAnnouncer)}},Cae={arrowdown:{bindings:[{code:"ArrowDown"}]},arrowleft:{bindings:[{code:"ArrowLeft"}]},arrowright:{bindings:[{code:"ArrowRight"}]},arrowup:{bindings:[{code:"ArrowUp"}]},delete:{bindings:[{key:"Backspace"},{key:"Delete"}],activatesFocusIndicator:!1},redo:{bindings:[{key:"y",ctrlOrMeta:!0},{key:"z",ctrlOrMeta:!0,shift:!0}],activatesFocusIndicator:!1},undo:{bindings:[{key:"z",ctrlOrMeta:!0}],activatesFocusIndicator:!1},submit:{bindings:[{key:"Enter"},{code:"Enter"},{code:"Space"}]},zoomin:{bindings:[{key:"+"},{code:"ZoomIn"},{code:"Add"}],activatesFocusIndicator:!1},zoomout:{bindings:[{key:"-"},{code:"ZoomOut"},{code:"Substract"}],activatesFocusIndicator:!1}};function bae(e,t){for(const i of t)if("code"in i){if(i.code===e.code)return!0}else if(i.key===e.key&&(i.shift===void 0||i.shift===e.shiftKey)&&(i.ctrlOrMeta===void 0||i.ctrlOrMeta===e.ctrlKey||i.ctrlOrMeta===e.metaKey))return!0;return!1}function Sae(e){for(const[t,{activatesFocusIndicator:i=!0,bindings:s}]of Tr(Cae))if(bae(e,s))return{name:t,activatesFocusIndicator:i}}function wae(e,t,i){const s=JR(e,i.datum,i.movedBounds);if(s!=null)return{x:s.canvasX,y:s.canvasY};const n=i.bounds;if(n!=null){if(n instanceof De){const{x:r,y:o}=n.computeCenter();return{x:t.x+r,y:t.y+o}}return hi.toCanvas(n).computeCenter()}}function xae({bounds:e}){return e instanceof De?e:e!=null?hi.toCanvas(e):De.NaN}function Mae(e,t,i){const{x:s,y:n}=wae(e,t,i)??{};if(s!==void 0&&n!==void 0)return{type:"keyboard",canvasX:s,canvasY:n}}function wE(){return(e,t)=>{const i=[`Property [${e}] is deprecated.`,t].filter(Boolean).join(" ");me.warnOnce(i)}}function sB(e,t){const i=wE(),s=t==null?void 0:t.default;return xl((n,r,o)=>(o!==s&&i(r.toString(),e),o))}function Dae(e,t){const i=wE();return xl((s,n,r)=>(r!==s[e]&&(i(n.toString(),`Use [${e}] instead.`),ER(s,e,t?t(r):r)),Py),(s,n)=>(i(n.toString(),`Use [${e}] instead.`),Ud(s,e)))}function nB(e,t,i,s){let{top:n,right:r,bottom:o,left:a,width:l,height:d}=s;return a!=null?l!=null?r=i.width-a+l:r!=null&&(l=i.width-a-r):r!=null&&l!=null&&(a=i.width-r-l),n!=null?d!=null?o=i.height-n-d:o!=null&&(d=i.height-o-n):o!=null&&d!=null&&(n=i.height-o-d),l==null?d==null?(l=e,d=t):l=Math.ceil(e*d/t):d==null&&(d=Math.ceil(t*l/e)),a==null&&(r==null?a=Math.floor((i.width-l)/2):a=i.width-r-l),n==null&&(o==null?n=Math.floor((i.height-d)/2):n=i.height-d-o),{x:a,y:n,width:l,height:d}}var VP=.1,_P=200,WP=12,Rae=.5,Eae=class extends ma{constructor(){super(...arguments),this.x1=NaN,this.y1=NaN,this.x=NaN,this.y=NaN,this.vx=0,this.vy=0,this.t0=NaN,this.animationFrameHandle=void 0}reset(){this.x=NaN,this.y=NaN,this.animationFrameHandle!=null&&(cancelAnimationFrame(this.animationFrameHandle),this.animationFrameHandle=void 0)}update(e,t){if(Number.isNaN(this.x)||Number.isNaN(this.y)){this.x=e,this.y=t,this.vx=0,this.vy=0,this.emitUpdate(),this.animationFrameHandle!=null&&(cancelAnimationFrame(this.animationFrameHandle),this.animationFrameHandle=void 0);return}this.x1=e,this.y1=t,this.t0=Date.now(),this.animationFrameHandle==null&&(this.animationFrameHandle=requestAnimationFrame(this.onFrame.bind(this)))}onFrame(){this.animationFrameHandle=void 0;const{x1:e,y1:t,t0:i}=this,s=Date.now(),n=s-i;this.t0=s;const r=.001,o=Math.ceil(n/(r*1e3))|0;let{x:a,y:l,vx:d,vy:h}=this;for(let p=0;p<o;p+=1){const f=a-e,v=l-t,y=-(_P*f+WP*d)/VP,S=-(_P*v+WP*h)/VP;d+=y*r,h+=S*r,a+=d*r,l+=h*r}Math.hypot(a-e,l-t)<Rae?(this.x=this.x1,this.y=this.y1,this.vx=0,this.vy=0):(this.x=a,this.y=l,this.vx=d,this.vy=h,this.animationFrameHandle=requestAnimationFrame(this.onFrame.bind(this))),this.emitUpdate()}emitUpdate(){this.dispatch("update",{type:"update",x:this.x,y:this.y})}},Rv=null;function vp(e){return e===""?"":(Rv??(Rv=qe("div")),Rv.textContent=String(e),Rv.innerHTML.replace(/\n/g,"<br>"))}function ep(e,t){const{path:i,size:s}=e,{x:n,y:r}=e;i.clear();let o=!1;for(const[a,l]of t){const d=n+(a-.5)*s,h=r+(l-.5)*s;o?i.lineTo(d,h):i.moveTo(d,h),o=!0}i.closePath()}var Aae={circle({path:e,x:t,y:i,size:s}){const n=s/2;e.clear(),e.arc(t,i,n,0,Math.PI*2),e.closePath()},cross(e){ep(e,[[.25,0],[.5,.25],[.75,0],[1,.25],[.75,.5],[1,.75],[.75,1],[.5,.75],[.25,1],[0,.75],[.25,.5],[0,.25]])},diamond(e){ep(e,[[.5,0],[1,.5],[.5,1],[0,.5]])},heart({path:e,x:t,y:i,size:s}){const n=s/4;i=i+n/2,e.clear(),e.arc(t-n,i-n,n,Yt(130),Yt(330)),e.arc(t+n,i-n,n,Yt(220),Yt(50)),e.lineTo(t,i+n),e.closePath()},pin({path:e,x:t,y:i,size:s}){e.moveTo(t+(.15625-.5)*s,i+(.34375-.5)*s),e.cubicCurveTo(t+(.15625-.5)*s,i+(.151491-.5)*s,t+(.307741-.5)*s,i+(0-.5)*s,t+(.5-.5)*s,i+(0-.5)*s),e.cubicCurveTo(t+(.692259-.5)*s,i+(0-.5)*s,t+(.84375-.5)*s,i+(.151491-.5)*s,t+(.84375-.5)*s,i+(.34375-.5)*s),e.cubicCurveTo(t+(.84375-.5)*s,i+(.493824-.5)*s,t+(.784625-.5)*s,i+(.600181-.5)*s,t+(.716461-.5)*s,i+(.695393-.5)*s),e.cubicCurveTo(t+(.699009-.5)*s,i+(.719769-.5)*s,t+(.681271-.5)*s,i+(.743104-.5)*s,t+(.663785-.5)*s,i+(.766105-.5)*s),e.cubicCurveTo(t+(.611893-.5)*s,i+(.834367-.5)*s,t+(.562228-.5)*s,i+(.899699-.5)*s,t+(.528896-.5)*s,i+(.980648-.5)*s),e.cubicCurveTo(t+(.524075-.5)*s,i+(.992358-.5)*s,t+(.512663-.5)*s,i+(1-.5)*s,t+(.5-.5)*s,i+(1-.5)*s),e.cubicCurveTo(t+(.487337-.5)*s,i+(1-.5)*s,t+(.475925-.5)*s,i+(.992358-.5)*s,t+(.471104-.5)*s,i+(.980648-.5)*s),e.cubicCurveTo(t+(.487337-.5)*s,i+(1-.5)*s,t+(.475925-.5)*s,i+(.992358-.5)*s,t+(.471104-.5)*s,i+(.980648-.5)*s),e.cubicCurveTo(t+(.437772-.5)*s,i+(.899699-.5)*s,t+(.388107-.5)*s,i+(.834367-.5)*s,t+(.336215-.5)*s,i+(.766105-.5)*s),e.cubicCurveTo(t+(.318729-.5)*s,i+(.743104-.5)*s,t+(.300991-.5)*s,i+(.719769-.5)*s,t+(.283539-.5)*s,i+(.695393-.5)*s),e.cubicCurveTo(t+(.215375-.5)*s,i+(.600181-.5)*s,t+(.15625-.5)*s,i+(.493824-.5)*s,t+(.15625-.5)*s,i+(.34375-.5)*s),e.closePath()},plus(e){ep(e,[[1/3,0],[2/3,0],[2/3,1/3],[1,1/3],[1,2/3],[2/3,2/3],[2/3,1],[1/3,1],[1/3,2/3],[0,2/3],[0,1/3],[1/3,1/3]])},square({path:e,x:t,y:i,size:s,pixelRatio:n}){const r=s/2;e.clear(),e.moveTo(ji(n,t-r),ji(n,i-r)),e.lineTo(ji(n,t+r),ji(n,i-r)),e.lineTo(ji(n,t+r),ji(n,i+r)),e.lineTo(ji(n,t-r),ji(n,i+r)),e.closePath()},star({path:e,x:t,y:i,size:s}){const r=s/2,o=r/2,a=Math.PI/2;for(let l=0;l<5*2;l++){const d=l%2===0?r:o,h=l*Math.PI/5-a,p=t+Math.cos(h)*d,f=i+Math.sin(h)*d;e.lineTo(p,f)}e.closePath()},triangle(e){ep(e,[[.5,0],[1,.87],[0,.87]])}},Af=class extends Ws{constructor(){super(...arguments),this.shape="square",this.x=0,this.y=0,this.size=12}updatePath(){var l,d;const{path:e,shape:t,x:i,y:s,size:n}=this,r=((d=(l=this.layerManager)==null?void 0:l.canvas)==null?void 0:d.pixelRatio)??1,o=_i.anchor(t),a={path:e,x:i-(o.x-.5)*n,y:s-(o.y-.5)*n,size:n,pixelRatio:r};e.clear(),typeof t=="string"?Aae[t](a):typeof t=="function"&&t(a)}computeBBox(){const{x:e,y:t,size:i}=this,s=_i.anchor(this.shape);return new De(e-i*s.x,t-i*s.y,i,i)}executeFill(e,t){if(t)return super.executeFill(e,t)}executeStroke(e,t){if(t)return super.executeStroke(e,t)}};R([Ve()],Af.prototype,"shape",2);R([Ve()],Af.prototype,"x",2);R([Ve()],Af.prototype,"y",2);R([Ve({convertor:Math.abs})],Af.prototype,"size",2);var _i=class extends mh(NR(au(Af))){static anchor(e){return e==="pin"?{x:.5,y:1}:typeof e=="function"&&"anchor"in e?e.anchor:{x:.5,y:.5}}constructor(e){super(e),(e==null?void 0:e.shape)!=null&&(this.shape=e.shape)}};function rB(e,t,i=t*(5/3)){var l;const s=new Ne,n=Math.min(e.marker.strokeWidth??1,2),r=Math.min(((l=e.line)==null?void 0:l.strokeWidth)??0,2),o=Math.max(e.marker.enabled===!1?0:t,e.line==null?0:i),a=Math.max(e.marker.enabled===!1?0:t,r);if(e.line!=null){const{stroke:d,strokeOpacity:h,lineDash:p}=e.line,f=new kn;f.x1=0,f.y1=a/2,f.x2=o,f.y2=a/2,f.stroke=d,f.strokeOpacity=h,f.strokeWidth=r,f.lineDash=p,s.append(f)}if(e.marker.enabled!==!1){const{shape:d,fill:h,fillOpacity:p,stroke:f,strokeOpacity:v,lineDash:y,lineDashOffset:S}=e.marker,w=new _i;w.shape=d??"square",w.size=t,w.fill=h,w.fillOpacity=p??1,w.stroke=f,w.strokeOpacity=v??1,w.strokeWidth=n,w.lineDash=y,w.lineDashOffset=S??0;const b=_i.anchor(d),x=o/2+(b.x-.5)*t,D=a/2+(b.y-.5)*t,E=t/(t+n);w.x=x,w.y=D,w.scalingCenterX=x,w.scalingCenterY=D,w.scalingX=E,w.scalingY=E,s.append(w)}return Ne.toSVG(s,o,a)}var Qi="ag-charts-tooltip",oB="ag-charts-tooltip--dark";function aB(e){const t=[],i=new Map;for(const s of e)if(s.type==="structured"){const{heading:n}=s,r=n!=null?i.get(n):void 0,o={type:"structured",heading:n,items:[s]};r==null?(i.set(n,o),t.push(o)):r.items.push(s)}else t.push(s);return t}function lB(e){const t=aB(e),i=[];return t.forEach(s=>{if(s.type==="raw")return"";s.heading!=null&&i.push(s.heading),s.items.forEach(n=>{var r;n.title!=null&&i.push(n.title),(r=n.data)==null||r.forEach(o=>{i.push(o.label??o.fallbackLabel,o.value)})})}),i.join("; ")}function KM(e,t,i){let s="";e==null?s+=`<span class="${Qi}-label">${vp(t)}</span>`:(s+=`<span class="${Qi}-label">${vp(e)}</span>`,s+=" ",s+=`<span class="${Qi}-value">${vp(t)}</span>`);const n=[`${Qi}-row`];return i&&n.push(`${Qi}-row--inline`),s=`<div class="${n.join(" ")}">${s}</div>`,s}function Tae(e){var n,r,o;let t="";const i=e.title==null&&((n=e.data)==null?void 0:n.length)===1,s=e.symbol==null?void 0:rB(e.symbol,12);return s!=null&&(e.title!=null||(r=e.data)!=null&&r.length)&&(t+=`<span class="${Qi}-symbol">${s}</span>`),e.title!=null&&(t+=`<span class="${Qi}-title">${vp(e.title)}</span>`,t+=" "),(o=e.data)==null||o.forEach(a=>{t+=KM(a.label??a.fallbackLabel,a.value,i),t+=" "}),t}function cB(e,t){if(e==null||t.length===1)return;const i=e==null?void 0:e.t("tooltipPaginationStatus",{index:t.index+1,count:t.length});return`<div class="${Qi}-footer">${i}</div>`}function UP(e,t,i,s){var h,p;const n=t.items.length===1?t.items[0]:void 0;let r,o,a;switch(i){case"compact":r=!0,o=n==null?void 0:n.title;break;case"single":r=n!=null&&(t.heading==null||n.title==null)&&((h=n.data)==null?void 0:h.length)===1&&n.data[0].label==null&&n.data[0].value!=null,a=t.heading??(n==null?void 0:n.title);break;case"shared":r=!1}let l="";if(r&&n!=null?(o!=null&&(l+=KM(void 0,o,!1)),(p=n.data)==null||p.forEach(f=>{l+=KM(f.label??a,f.value,!1),l+=" "})):(t.heading!=null&&(l+=`<span class="${Qi}-heading">${vp(t.heading)}</span>`,l+=" "),t.items.forEach(f=>{l+=Tae(f)})),l.length===0)return;const d=i!=="compact"&&s!=null?cB(e,s):void 0;return d+null&&(l+=d),l=`<div class="${Qi}-content">${l.trimEnd()}</div>`,l}function Iae(e,t){const i=t==null?void 0:cB(e,t);return i==null?"":`<div class="${Qi}-content">${i}</div>`}function uB(e,t,i,s){const n=aB(t);if(n.length!==0){if(n.length===1&&n[0].type==="structured")return UP(e,n[0],i,s);{const r=n.map(o=>o.type==="structured"?UP(e,o,i):o.rawHtmlString);return s!=null&&r.push(Iae(e,s)??""),r.join("")}}}var Lae={left:-1,"top-left":-1,"bottom-left":-1,top:0,center:0,bottom:0,right:1,"top-right":1,"bottom-right":1},kae={"top-left":-1,top:-1,"top-right":-1,left:0,center:0,right:0,"bottom-left":1,bottom:1,"bottom-right":1},Pae={left:3,"top-left":void 0,"bottom-left":void 0,top:2,center:void 0,bottom:1,right:0,"top-right":void 0,"bottom-right":void 0},$P={top:2,bottom:2,left:1,right:1,"top-right":3,"top-left":3,"bottom-right":3,"bottom-left":3,center:0};Mt(["single","shared","compact"]);Mt(["pointer","node","top","right","bottom","left","top-left","top-right","bottom-right","bottom-left"],"a position type");Mt(["pointer","node","chart"],"an anchorTo");var YP=Mt(["top","right","bottom","left","top-right","bottom-right","bottom-left","top-left","center"],"a placement");Cs(YP,Wi(YP));var ba=class extends Ge{constructor(){super(...arguments),this.xOffset=0,this.yOffset=0}get defaultAnchorTo(){const{type:e,_seriesOverrideType:t}=this,i=e??t??"pointer";return i==="node"||i==="pointer"?i:"chart"}get defaultPlacement(){const{type:e,_seriesOverrideType:t}=this,i=e??t??"pointer";return i==="node"||i==="pointer"?"top":i}};R([A(),sB("Use `anchorTo` and/or `placement` options instead.")],ba.prototype,"type",2);R([A()],ba.prototype,"_seriesOverrideType",2);R([A()],ba.prototype,"xOffset",2);R([A()],ba.prototype,"yOffset",2);R([A()],ba.prototype,"anchorTo",2);R([A()],ba.prototype,"placement",2);var dr=class extends Ge{constructor(){super(),this.enabled=!0,this.mode="single",this.delay=0,this.range=void 0,this.wrapping="hyphenate",this.position=new ba,this.pagination=!1,this.darkTheme=!1,this.bounds="extended",this.destroyFns=[],this.springAnimation=new Eae,this.enableInteraction=!1,this.wrapTypes=["always","hyphenate","on-space","never"],this.sizeMonitor=new z3,this._elementSize=void 0,this._showTimeout=void 0,this.arrowPosition=void 0,this._visible=!1,this.positionParams=void 0,this.localeManager=void 0,this.destroyFns.push(this.springAnimation.addListener("update",this.updateTooltipPosition.bind(this)))}get interactive(){return this.enableInteraction}setup(e,t){return"togglePopover"in Pt().HTMLElement.prototype&&(this.element=t.addChild("tooltip-container",Qi),this.element.setAttribute("popover","manual"),this.element.className=Qi,this.element.style.positionAnchor=t.anchorName,this.sizeMonitor.observe(this.element,i=>{this._elementSize=i,this.updateTooltipPosition()})),this.localeManager=e,()=>{t.removeChild("tooltip-container",Qi),this.destroyFns.forEach(i=>i()),this.element&&this.sizeMonitor.unobserve(this.element)}}isVisible(){return this._visible}contains(e){var t;return((t=this.element)==null?void 0:t.contains(e))??!1}updateTooltipPosition(){var O,F,z,V,U,J;const{element:e,_elementSize:t,positionParams:i}=this;if(e==null||t==null||i==null)return;const{canvasRect:s,relativeRect:n,meta:r}=i,{x:o,y:a}=this.springAnimation;let l=((O=r.position)==null?void 0:O.placement)??this.position.placement??((F=r.position)==null?void 0:F.defaultPlacement)??this.position.defaultPlacement;Array.isArray(l)||(l=[l]);const d=((z=r.position)==null?void 0:z.anchorTo)??this.position.anchorTo??((V=r.position)==null?void 0:V.defaultAnchorTo)??this.position.defaultAnchorTo,h=((U=r.position)==null?void 0:U.xOffset)??0,p=((J=r.position)==null?void 0:J.yOffset)??0,f=n.x,v=n.y,y=n.width-t.width-1+f,S=n.height-t.height+v;let w=0,b,x,D=!1;do{b=l[w],w+=1;const ye=this.getTooltipBounds({elementSize:t,placement:b,anchorTo:d,canvasX:o,canvasY:a,yOffset:p,xOffset:h,canvasRect:s});x=nB(t.width,t.height,n,ye),D=!1,$P[b]&1&&(D||(D=x.x<f||x.x>y)),$P[b]&2&&(D||(D=x.y<v||x.y>S))}while(w<l.length&&D);const E=Be(f,x.x,y),T=Be(v,x.y,S);D||(D=E!==x.x||T!==x.y);const k=d!=="chart"&&!D&&!h&&!p,P=r.showArrow??this.showArrow??k;this.arrowPosition=P?Pae[b]:void 0,this.updateClassModifiers(),e.style.translate=`${E}px ${T}px`}show(e,t,i,s,n,r=!1){var d,h;const{element:o}=this;if(o!=null&&s!=null&&s.length!==0){const p=uB(this.localeManager,s,this.mode,this.pagination?n:void 0);if(p==null){this.toggle(!1);return}o.innerHTML=p}else if(o==null||o.innerHTML===""){this.toggle(!1);return}const a={x:e.x-t.x,y:e.y-t.y,width:e.width,height:e.height};switch(this.positionParams={canvasRect:t,relativeRect:a,meta:i},((d=i.position)==null?void 0:d.anchorTo)??this.position.anchorTo??((h=i.position)==null?void 0:h.defaultAnchorTo)??this.position.defaultAnchorTo){case"node":this.springAnimation.update(i.nodeCanvasX??i.canvasX,i.nodeCanvasY??i.canvasY);break;case"pointer":this.springAnimation.update(i.canvasX,i.canvasY);break;case"chart":this.springAnimation.reset()}i.enableInteraction?(this.enableInteraction=!0,o.style.pointerEvents="auto",o.removeAttribute("aria-hidden"),o.tabIndex=-1):(this.enableInteraction=!1,o.style.pointerEvents="none",o.setAttribute("aria-hidden","true"),o.removeAttribute("tabindex")),o.style.setProperty("--top",`${t.top}px`),o.style.setProperty("--left",`${t.left}px`),this.updateClassModifiers(),this.toggle(!0,r)}hide(){this.toggle(!1)}toggle(e,t=!1){const{delay:i}=this;e&&i>0&&!t?this._showTimeout??(this._showTimeout=setTimeout(()=>{this._showTimeout=void 0,this.toggleCallback(!0)},i)):(clearTimeout(this._showTimeout),this._showTimeout=void 0,this.toggleCallback(e))}toggleCallback(e){var t;(t=this.element)!=null&&t.isConnected&&this._visible!==e&&(this._visible=e,this.element.togglePopover(e),e?this.updateTooltipPosition():this.springAnimation.reset())}updateClassModifiers(){var i;if(!((i=this.element)!=null&&i.isConnected))return;const{classList:e}=this.element,t=(s,n)=>e.toggle(`${Qi}--${s}`,n);t("no-interaction",!this.enableInteraction),t("arrow-top",this.arrowPosition===1),t("arrow-right",this.arrowPosition===3),t("arrow-bottom",this.arrowPosition===2),t("arrow-left",this.arrowPosition===0),t("compact",this.mode==="compact"),e.toggle(oB,this.darkTheme);for(const s of this.wrapTypes)e.toggle(`${Qi}--wrap-${s}`,s===this.wrapping)}getTooltipBounds(e){const{elementSize:t,anchorTo:i,placement:s,canvasX:n,canvasY:r,yOffset:o,xOffset:a,canvasRect:l}=e,{width:d,height:h}=t,p={width:d,height:h};if(i==="node"||i==="pointer"){const f=Lae[s],v=kae[s];return p.top=r+o+h*(v-1)/2+8*v,p.left=n+a+d*(f-1)/2+8*f,p}switch(s){case"top":return p.top=o,p.left=l.width/2-d/2+a,p;case"right":return p.top=l.height/2-h/2+o,p.left=l.width-d/2+a,p;case"left":return p.top=l.height/2-h/2+o,p.left=a,p;case"bottom":return p.top=l.height-h+o,p.left=l.width/2-d/2+a,p;case"top-left":return p.top=o,p.left=a,p;case"top-right":return p.top=o,p.left=l.width-d+a,p;case"bottom-right":return p.top=l.height-h+o,p.left=l.width-d+a,p;case"bottom-left":return p.top=l.height-h+o,p.left=a,p}return p}};R([A()],dr.prototype,"enabled",2);R([A()],dr.prototype,"mode",2);R([A()],dr.prototype,"showArrow",2);R([A()],dr.prototype,"delay",2);R([A()],dr.prototype,"range",2);R([A()],dr.prototype,"wrapping",2);R([A()],dr.prototype,"position",2);R([A()],dr.prototype,"pagination",2);R([A()],dr.prototype,"darkTheme",2);R([A(Mt(["extended","canvas"]))],dr.prototype,"bounds",2);function qM(e,t){return e.series===t.series&&mo(e.datumIndex,t.datumIndex)}var Oae=class{constructor(){this.candidates=[]}get current(){return this.active}reset(){this.candidates.length=0,this.active=void 0}update(e,t){this.candidates=e;let i=t!=null?e.findIndex(s=>qM(s,t)):-1;return i===-1&&(i=0),this.active=e[i],{current:this.active,index:i,length:e.length}}next(){const{candidates:e,active:t}=this,i=t==null?-1:e.findIndex(n=>qM(n,t));if(i===-1)return;let s=i+1;return s>=e.length&&(s=0),this.active=e[s],{current:this.active,index:s,length:this.candidates.length}}},Fae=class extends Fl{constructor(e){super(),this.chart=e,this.id=En(this),this.series=[],this.highlight={pendingHoverEvent:void 0,appliedHoverEvent:void 0,stashedHoverEvent:void 0},this.tooltip={lastHover:void 0},this.hoverDevice="pointer",this.previousInputDevice="keyboard",this.focus={sortedSeries:[],series:void 0,seriesIndex:0,datumIndex:0,datum:void 0},this.hoverScheduler=zse(()=>{if(!(!this.tooltip.lastHover&&!this.highlight.pendingHoverEvent)){if(this.chart.getUpdateType()<=4){this.hoverScheduler.schedule();return}this.highlight.pendingHoverEvent&&this.handleHoverHighlight(!1),this.tooltip.lastHover&&this.handleHoverTooltip(this.tooltip.lastHover,!1)}}),this.tooltipCandidates=new Oae;const t=e.ctx.domManager.addChild("series-area","series-area-aria-label1"),i=e.ctx.domManager.addChild("series-area","series-area-aria-label2");this.swapChain=new yae(t,i,this.id,"img"),this.swapChain.addListener("blur",o=>this.onBlur(o)),this.swapChain.addListener("focus",()=>this.onFocus()),e.ctx.domManager.mode==="normal"&&(this.focusIndicator=new vae(this.swapChain),this.focusIndicator.overrideFocusVisible(e.mode==="integrated"?!1:void 0));const{seriesDragInterpreter:s,seriesWidget:n,containerWidget:r}=e.ctx.widgets;n.setTabIndex(-1),this.destroyFns.push(()=>e.ctx.domManager.removeChild("series-area","series-area-aria-label1"),()=>e.ctx.domManager.removeChild("series-area","series-area-aria-label2"),n.addListener("focus",()=>this.swapChain.focus()),n.addListener("mousemove",o=>this.onHover(o)),n.addListener("wheel",o=>this.onWheel(o)),n.addListener("mouseleave",o=>this.onLeave(o)),n.addListener("keydown",o=>this.onKeyDown(o)),n.addListener("contextmenu",(o,a)=>this.onContextMenu(o,a)),s.addListener("drag-move",o=>this.onDragMove(o)),s.addListener("click",o=>this.onClick(o,n)),s.addListener("dblclick",o=>this.onClick(o,n)),r.addListener("contextmenu",(o,a)=>this.onContextMenu(o,a)),r.addListener("click",(o,a)=>this.onClick(o,a)),r.addListener("dblclick",(o,a)=>this.onClick(o,a)),e.ctx.animationManager.addListener("animation-start",()=>this.clearAll()),e.ctx.domManager.addListener("resize",()=>this.clearAll()),e.ctx.highlightManager.addListener("highlight-change",o=>this.changeHighlightDatum(o)),e.ctx.layoutManager.addListener("layout:complete",o=>this.layoutComplete(o)),e.ctx.updateService.addListener("pre-scene-render",()=>this.preSceneRender()),e.ctx.updateService.addListener("update-complete",()=>this.updateComplete()),e.ctx.zoomManager.addListener("zoom-change",()=>this.clearAll()),e.ctx.zoomManager.addListener("zoom-pan-start",()=>this.clearAll()))}isState(e){return this.chart.ctx.interactionManager.isState(e)}isIgnoredTouch(e){return!(e.device!=="touch"||e.type==="click"||this.chart.ctx.chartService.touch.dragAction==="hover"||this.chart.ctx.chartService.touch.dragAction==="drag"&&this.isState(9))}dataChanged(){var t;var e;(e=this.highlight).stashedHoverEvent??(e.stashedHoverEvent=this.highlight.appliedHoverEvent),this.chart.ctx.tooltipManager.removeTooltip(this.id),(t=this.focusIndicator)==null||t.clear(),this.clearHighlight()}preSceneRender(){this.highlight.stashedHoverEvent!=null&&(this.highlight.pendingHoverEvent=this.highlight.stashedHoverEvent,this.highlight.stashedHoverEvent=void 0,this.handleHoverHighlight(!0)),this.tooltip.lastHover!=null&&this.handleHoverTooltip(this.tooltip.lastHover,!0)}updateComplete(){var e;this.isState(34)&&((e=this.focusIndicator)!=null&&e.isFocusVisible())&&this.handleSeriesFocus(0,0,!0)}update(e,t){this.chart.ctx.updateService.update(e,t)}seriesChanged(e){this.focus.sortedSeries=[...e].sort((t,i)=>{let s=t.properties.focusPriority??1/0,n=i.properties.focusPriority??1/0;return s===n&&([s,n]=[t._declarationOrder,i._declarationOrder]),s<n?-1:s>n?1:0}),this.series=e}layoutComplete(e){this.seriesRect=e.series.rect,this.hoverRect=e.series.paddedRect,this.chart.ctx.widgets.seriesWidget.setBounds(e.series.paddedRect),this.chart.ctx.domManager.mode==="normal"&&this.chart.ctx.widgets.chartWidget.setBounds(e.chart)}onContextMenu(e,t){var l;const{sourceEvent:i}=e;if(i.currentTarget!=t.getElement())return;if(i.target==this.chart.ctx.widgets.containerWidget.getElement()){if(this.isState(36)){const{currentX:d,currentY:h}=e;this.chart.ctx.contextMenuRegistry.dispatchContext("all",{sourceEvent:i,canvasX:d,canvasY:h},{})}return}let s,n;if((l=this.focusIndicator)!=null&&l.isFocusVisible())s=this.chart.ctx.highlightManager.getActiveHighlight(),s&&this.seriesRect&&s.midPoint&&(n=hi.toCanvasPoint(s.series.contentGroup,s.midPoint.x,s.midPoint.y));else if(this.isState(36)){const d=this.pickNodes({x:e.currentX,y:e.currentY},"context-menu");d&&(this.chart.ctx.highlightManager.updateHighlight(this.id),s=d.matches[0].datum)}const r=s==null?void 0:s.series;this.clearAll();const o=e.currentX+t.cssLeft(),a=e.currentY+t.cssTop();this.chart.ctx.contextMenuRegistry.dispatchContext("series-area",{sourceEvent:i,canvasX:o,canvasY:a},{pickedSeries:r,pickedNode:s},n)}onLeave(e){if(!this.isState(41))return;const t=e.sourceEvent.relatedTarget;(t==null?void 0:t.className)!=="ag-charts-text-input__textarea"&&(this.chart.ctx.tooltipManager.isEnteringInteractiveTooltip(e.sourceEvent)||(this.chart.ctx.domManager.updateCursor(this.id),this.hoverDevice!=="keyboard"&&this.clearAll()))}onWheel(e){var t;this.isState(41)&&((t=this.focusIndicator)==null||t.overrideFocusVisible(!1),this.previousInputDevice="pointer")}onDragMove(e){var t;this.isState(41)&&((t=this.focusIndicator)==null||t.overrideFocusVisible(!1),this.onHoverLikeEvent(e))}onHover(e){this.isState(41)&&this.onHoverLikeEvent(e)}onHoverLikeEvent(e){var t;if(!this.isIgnoredTouch(e)&&((e.device==="touch"||Nae(e,"drag-move"))&&(this.tooltip.lastHover=e),e.device==="touch"&&this.chart.ctx.chartService.touch.dragAction==="hover"&&e.sourceEvent.preventDefault(),this.hoverDevice="pointer",this.previousInputDevice="pointer",this.highlight.pendingHoverEvent=e,this.hoverScheduler.schedule(),this.isState(32))){const{currentX:i,currentY:s}=e,n=(t=this.pickNodes({x:i,y:s},"event"))==null?void 0:t.matches,r=n==null?void 0:n[0];r!=null&&r.series.hasEventListener("seriesNodeClick")||r!=null&&r.series.hasEventListener("seriesNodeDoubleClick")||n!=null&&n.length>1&&this.chart.tooltip.pagination?this.chart.ctx.domManager.updateCursor(this.id,"pointer"):this.chart.ctx.domManager.updateCursor(this.id)}}onClick(e,t){var s;if(e.device==="touch"&&t===this.chart.ctx.widgets.seriesWidget&&this.swapChain.focus({preventScroll:!0}),!this.isState(41))return;if(t===this.chart.ctx.widgets.seriesWidget){if(!t.getElement().contains(e.sourceEvent.target))return}else if(e.sourceEvent.target!=t.getElement())return;if((s=this.focusIndicator)==null||s.overrideFocusVisible(!1),this.onHoverLikeEvent(e),!this.isState(32))return;if(t==this.chart.ctx.widgets.seriesWidget&&this.checkSeriesNodeClick(e)){this.update(4),e.sourceEvent.preventDefault();return}const i={type:e.type==="click"?"click":"doubleClick",event:e.sourceEvent};this.chart.fireEvent(i)}onFocus(){var e;this.isState(34)&&(this.hoverDevice=(e=this.focusIndicator)!=null&&e.isFocusVisible(!0)?"keyboard":"pointer",this.handleFocus(0,0))}onBlur(e){var t;this.isState(34)&&(this.hoverDevice="pointer",this.chart.ctx.tooltipManager.isEnteringInteractiveTooltip(e)||this.clearAll(),(t=this.focusIndicator)==null||t.overrideFocusVisible(void 0))}onKeyDown(e){var i;if(!this.isState(43))return;const t=Sae(e.sourceEvent);switch((t==null?void 0:t.activatesFocusIndicator)===!1&&((i=this.focusIndicator)==null||i.overrideFocusVisible(this.previousInputDevice==="keyboard")),t==null?void 0:t.name){case"redo":return this.chart.ctx.chartEventManager.seriesEvent("series-redo");case"undo":return this.chart.ctx.chartEventManager.seriesEvent("series-undo");case"zoomin":return this.chart.ctx.chartEventManager.seriesKeyNavZoom(1,e);case"zoomout":return this.chart.ctx.chartEventManager.seriesKeyNavZoom(-1,e);case"arrowup":return this.onArrow(-1,0,e);case"arrowdown":return this.onArrow(1,0,e);case"arrowleft":return this.onArrow(0,-1,e);case"arrowright":return this.onArrow(0,1,e);case"submit":return this.onSubmit(e)}}onArrow(e,t,i){var s;this.isState(34)&&(this.hoverDevice="keyboard",this.previousInputDevice="keyboard",(s=this.focusIndicator)==null||s.overrideFocusVisible(!0),this.focus.seriesIndex+=e,this.focus.datumIndex+=t,this.handleFocus(e,t),i.sourceEvent.preventDefault(),this.chart.ctx.chartEventManager.seriesEvent("series-focus-change"))}onSubmit(e){if(!this.isState(34))return;const{series:t,datum:i}=this.focus,s=e.sourceEvent;t!==void 0&&i!==void 0?t.fireNodeClickEvent(s,i):this.chart.fireEvent({type:"click",event:s}),s.preventDefault()}checkSeriesNodeClick(e){var a,l,d;var t;const i=this.pickNodes({x:e.currentX,y:e.currentY},"event");if(i==null||i.matches.length===0)return;const s=this.chart.tooltip.pagination?(a=this.tooltipCandidates.update(i.matches,this.tooltipCandidates.current))==null?void 0:a.current:void 0,{series:n,datum:r}=s??i.matches[0],o=s==null?i.distance:0;if(e.type==="click"){const p=n.fireNodeClickEvent(e.sourceEvent,r)&&this.chart.tooltip.pagination?this.tooltipCandidates.next():void 0;if(p!=null){e.sourceEvent.preventDefault();const{currentX:f,currentY:v}=e,y=f+(((l=this.hoverRect)==null?void 0:l.x)??0),S=v+(((d=this.hoverRect)==null?void 0:d.y)??0);(t=this.highlight).pendingHoverEvent??(t.pendingHoverEvent=this.highlight.appliedHoverEvent),this.handleHoverHighlight(!1),this.showTooltip(p.current,y,S,{index:p.index,length:p.length})}return!0}return e.type==="dblclick"?(e.preventZoomDblClick=o===0,n.fireNodeDoubleClickEvent(e.sourceEvent,r),!0):!1}handleFocus(e,t){var s;const i=this.chart.overlays.getFocusInfo(this.chart.ctx.localeManager);i==null?this.handleSeriesFocus(e,t):(s=this.focusIndicator)==null||s.update(i.rect,this.seriesRect,!1)}handleSeriesFocus(e,t,i=!1){if(this.chart.chartType==="hierarchy"||this.chart.chartType==="gauge"){this.handleSoloSeriesFocus(e,t,i);return}const{focus:s}=this,n=s.sortedSeries.filter(d=>d.visible&&d.focusable);if(n.length===0)return;const r=s.datumIndex-t,o=s.seriesIndex-e;s.seriesIndex=Be(0,s.seriesIndex,n.length-1),s.series=n[s.seriesIndex];const a=this.focus.datumIndex,l=this.focus.seriesIndex;this.updatePickedFocus(a,t,r,l,e,o,i)}handleSoloSeriesFocus(e,t,i){this.focus.series=this.focus.sortedSeries[0];const s=this.focus.datumIndex,n=this.focus.seriesIndex,r=this.focus.datumIndex-t,o=this.focus.seriesIndex-e;this.updatePickedFocus(s,t,r,n,e,o,i)}updatePickedFocus(e,t,i,s,n,r,o){var v,y,S,w;const{focus:a,hoverRect:l,seriesRect:d}=this;if(a.series===void 0||l===void 0)return;const h=(v=a==null?void 0:a.series)==null?void 0:v.pickFocus({datumIndex:e,datumIndexDelta:t,otherIndex:s,otherIndexDelta:n,seriesRect:d});if(!h)return;const{datum:p}=h;if(h.otherIndex!==void 0&&(a.seriesIndex=h.otherIndex),a.datumIndex=h.datumIndex,a.datum=p,(y=this.focusIndicator)!=null&&y.isFocusVisible()&&this.chart.ctx.animationManager.reset(),(S=this.focusIndicator)!=null&&S.isFocusVisible()){const b=xae(h),{x,y:D}=b.computeCenter();if(!l.containsPoint(x,D)&&this.chart.ctx.zoomManager.panToBBox(this.id,l,b))return;const{x1:E,x2:T,y1:k,y2:P}=Wp.from(b),O=l.containsPoint(E,k),F=l.containsPoint(T,k),z=l.containsPoint(E,P),V=l.containsPoint(T,P);if(!(O||F||z||V)){const U=Wp.from(l);h.movedBounds=b.clone(),E<U.x1&&T<U.x1?(h.movedBounds.x=U.x1-2,h.movedBounds.width=4):E>U.x2&&T>U.x2&&(h.movedBounds.x=U.x2-2,h.movedBounds.width=4),k<U.y1&&P<U.y1?(h.movedBounds.y=U.y1-2,h.movedBounds.height=4):k>U.y2&&P>U.y2&&(h.movedBounds.y=U.y2-2,h.movedBounds.height=4)}}(w=this.focusIndicator)==null||w.update(h.movedBounds??h.bounds,this.seriesRect,h.clipFocusBox);const f=Mae(a.series,l,h);if(f!==void 0&&this.hoverDevice==="keyboard"){this.tooltip.lastHover=void 0,this.highlight.appliedHoverEvent=void 0,this.highlight.pendingHoverEvent=void 0,this.highlight.stashedHoverEvent=void 0;const b=this.chart.getTooltipContent(a.series,p.datumIndex,p),x=Uy.makeTooltipMeta(f,a.series,p,h.movedBounds);this.chart.ctx.highlightManager.updateHighlight(this.id,p),a.series.tooltipEnabled??this.chart.tooltip.enabled?this.chart.ctx.tooltipManager.updateTooltip(this.id,x,b):this.chart.ctx.tooltipManager.removeTooltip(this.id),o||(t===0&&n===0||i!==h.datumIndex||r!==(h.otherIndex??a.seriesIndex))&&this.swapChain.update(this.getDatumAriaText(p,b))}}getDatumAriaText(e,t){var s,n;const i=t==null?"":lB(t);return this.chart.ctx.localeManager.t("ariaAnnounceHoverDatum",{datum:((n=(s=e.series).getDatumAriaText)==null?void 0:n.call(s,e,i))??i})}clearHighlight(){this.highlight.pendingHoverEvent=void 0,this.highlight.appliedHoverEvent=void 0,this.chart.ctx.highlightManager.updateHighlight(this.id)}clearTooltip(){this.chart.ctx.tooltipManager.removeTooltip(this.id),this.tooltip.lastHover=void 0}clearAll(){var e;this.clearHighlight(),this.clearTooltip(),(e=this.focusIndicator)==null||e.clear()}handleHoverHighlight(e){var f,v,y;this.highlight.appliedHoverEvent=this.highlight.pendingHoverEvent,this.highlight.pendingHoverEvent=void 0;const t=this.highlight.appliedHoverEvent;if(!t||!this.isState(41))return;const{currentX:i,currentY:s}=t,n=t.currentX+(((f=this.hoverRect)==null?void 0:f.x)??0),r=t.currentY+(((v=this.hoverRect)==null?void 0:v.y)??0);if(e?this.chart.ctx.animationManager.isActive():!((y=this.hoverRect)!=null&&y.containsPoint(n,r))){this.clearHighlight();return}const{range:o}=this.chart.highlight,a=o==="tooltip"?"highlight-tooltip":"highlight",l=this.pickNodes({x:i,y:s},a);if(!l||l.matches.length===0){this.chart.ctx.highlightManager.updateHighlight(this.id);return}const{current:d}=this.tooltipCandidates,h=d==null?void 0:l.matches.find(S=>qM(S,d)),p=(h==null?void 0:h.datum)??l.matches[0].datum;this.chart.ctx.highlightManager.updateHighlight(this.id,p),this.hoverDevice="pointer"}handleHoverTooltip(e,t){var d,h,p;const{current:i}=this.tooltipCandidates;if(this.tooltipCandidates.reset(),!this.isState(41))return;const{currentX:s,currentY:n}=e,r=s+(((d=this.hoverRect)==null?void 0:d.x)??0),o=n+(((h=this.hoverRect)==null?void 0:h.y)??0),a=e.sourceEvent.target;if(t?this.chart.ctx.animationManager.isActive():!((p=this.hoverRect)!=null&&p.containsPoint(r,o))){this.hoverDevice=="pointer"&&this.clearTooltip();return}if(a&&this.chart.tooltip.interactive&&this.chart.ctx.domManager.isManagedChildDOMElement(a,"canvas-overlay",Qi))return;const l=this.pickNodes({x:e.currentX,y:e.currentY},"tooltip");if(!l||l.matches.length===0){this.hoverDevice=="pointer"&&this.clearTooltip();return}if(this.hoverDevice="pointer",l.distance===0){const{current:f,index:v,length:y}=this.tooltipCandidates.update(l.matches,this.chart.tooltip.pagination?i:void 0);this.showTooltip(f,r,o,{index:v,length:y})}else this.showTooltip(l.matches[0],r,o)}showTooltip({series:e,datum:t,datumIndex:i},s,n,r){const o=this.chart.getTooltipContent(e,i,t);if((e.tooltipEnabled??this.chart.tooltip.enabled)&&o!=null){const d=Uy.makeTooltipMeta({type:"pointermove",canvasX:s,canvasY:n},e,t,void 0);this.chart.ctx.tooltipManager.updateTooltip(this.id,d,o,r)}else this.chart.ctx.tooltipManager.removeTooltip(this.id)}changeHighlightDatum(e){const t=new Set,{series:i=void 0,datum:s}=e.currentHighlight??{},{series:n=void 0,datum:r}=e.previousHighlight??{};n&&t.add(n),i&&t.add(i),n!=null&&n.properties.cursor&&r&&this.chart.ctx.domManager.updateCursor(n.id),i!=null&&i.properties.cursor&&(i==null?void 0:i.properties.cursor)!=="default"&&s&&this.chart.ctx.domManager.updateCursor(i.id,i.properties.cursor),i==null||n==null?this.update(4):this.update(4,{seriesToUpdate:t})}pickNodes(e,t,i){const s=[...this.series].reverse();let n;for(const r of s){if(!r.visible||!r.contentGroup.visible)continue;const o=r.pickNodes(e,t,i);if(o==null||o.datums.length===0)continue;const{datums:a,distance:l}=o;if(o.datums.length!==0){if(l===0){(n==null?void 0:n.distance)!==0&&(n={matches:[],distance:0});for(const d of a){const{datumIndex:h}=d;n.matches.push({series:r,datum:d,datumIndex:h})}}else if(n==null||n.distance>l){const[d]=a,{datumIndex:h}=d;n={matches:[{series:r,datum:d,datumIndex:h}],distance:l}}}}return n}};function Nae(e,t){return e.type!==t}var KP=30,zae=class{constructor(e){this.seriesRoot=e,this.groups=new Map,this.series=new Map,this.expectedSeriesCount=1,this.mode="normal"}setSeriesCount(e){this.expectedSeriesCount=e}requestGroup(e){const{internalId:t,type:i,contentGroup:s,seriesGrouping:n}=e,{groupIndex:r=t}=n??{},o=this.series.get(t);if(o!=null)throw new Error(`AG Charts - series already has an allocated layer: ${JSON.stringify(o)}`);this.series.size===0&&(this.mode=this.expectedSeriesCount>=KP?"aggressive-grouping":"normal");let a=this.groups.get(i);a==null&&(a=new Map,this.groups.set(i,a));const l=this.lookupIdx(r);let d=a.get(l);return d==null&&(d={type:i,id:l,seriesIds:[],group:this.seriesRoot.appendChild(new Ne({name:`${e.contentGroup.name??i}-managed-layer`,zIndex:e.contentGroup.zIndex,renderToOffscreenCanvas:!1}))},a.set(l,d)),this.series.set(t,{layerState:d,seriesConfig:e}),d.seriesIds.push(t),d.group.appendChild(s),d.group}changeGroup(e){var a,l;const{internalId:t,seriesGrouping:i,type:s,contentGroup:n,oldGrouping:r}=e,{groupIndex:o=t}=i??{};(l=(a=this.groups.get(s))==null?void 0:a.get(o))!=null&&l.seriesIds.includes(t)||(this.series.has(t)&&this.releaseGroup({internalId:t,seriesGrouping:r,type:s,contentGroup:n}),this.requestGroup(e))}releaseGroup(e){var r,o,a;const{internalId:t,contentGroup:i,type:s}=e;if(!this.series.has(t))throw new Error(`AG Charts - series doesn't have an allocated layer: ${t}`);const n=(r=this.series.get(t))==null?void 0:r.layerState;n&&(n.seriesIds=n.seriesIds.filter(l=>l!==t),n.group.removeChild(i)),(n==null?void 0:n.seriesIds.length)===0?(this.seriesRoot.removeChild(n.group),(o=this.groups.get(n.type))==null||o.delete(n.id),(a=this.groups.get(s))==null||a.delete(t)):n!=null&&n.seriesIds.length>0&&(n.group.zIndex=this.getLowestSeriesZIndex(n.seriesIds)),this.series.delete(t)}updateLayerCompositing(){this.groups.forEach(e=>{e.forEach(t=>{const{group:i,seriesIds:s}=t;let n;if(s.length===0)n=!1;else if(s.length>1)n=!0;else{const r=this.series.get(s[0]);n=(r==null?void 0:r.seriesConfig.renderToOffscreenCanvas())===!0}i.renderToOffscreenCanvas=n,i.zIndex=this.getLowestSeriesZIndex(s)})})}lookupIdx(e){return this.mode==="normal"?e:typeof e=="string"&&(e=Number(e.split("-").at(-1)),!e)?0:Math.floor(Be(0,e/this.expectedSeriesCount,1)*KP)}destroy(){this.groups.forEach(e=>{e.forEach(t=>{this.seriesRoot.removeChild(t.group)})}),this.groups.clear(),this.series.clear()}getLowestSeriesZIndex(e){return e.reduce((i,s)=>{const n=this.series.get(s),r=n==null?void 0:n.seriesConfig.contentGroup.zIndex;return i==null||r==null?r:y3(i,r)<=0?i:r},void 0)??1}},dB=class extends Ge{constructor(){super(...arguments),this.dragAction="drag"}};R([A(Mt(["none","drag","hover"]))],dB.prototype,"dragAction",2);var Bae=class{constructor(e,t,i,s,n){this.chart=e,this.dataService=t,this.updateService=i,this.zoomManager=s,this.animationManager=n,this.dirtyZoom=!1,this.dirtyDataSource=!1,this.lastAxisZooms=new Map,this.destroyFns=[],this.destroyFns.push(this.dataService.addListener("data-source-change",()=>this.onDataSourceChange()),this.dataService.addListener("data-load",()=>this.onDataLoad()),this.dataService.addListener("data-error",()=>this.onDataError()),this.updateService.addListener("update-complete",()=>this.onUpdateComplete()),this.zoomManager.addListener("zoom-change",()=>this.onZoomChange()))}destroy(){this.destroyFns.forEach(e=>e())}onDataLoad(){this.animationManager.skip(),this.updateService.update(1)}onDataError(){this.updateService.update(3)}onDataSourceChange(){this.dirtyDataSource=!0}onUpdateComplete(){!this.dirtyZoom&&!this.dirtyDataSource||this.updateWindow()}onZoomChange(){this.dirtyZoom=!0}updateWindow(){if(!this.dataService.isLazy())return;const e=this.getValidAxis();let t,i=!0;if(e){const s=this.zoomManager.getAxisZoom(e.id);t=this.getAxisWindow(e,s),i=this.shouldRefresh(e,s)}this.dirtyZoom=!1,this.dirtyDataSource=!1,i&&this.dataService.load({windowStart:t==null?void 0:t.min,windowEnd:t==null?void 0:t.max})}getValidAxis(){return this.chart.axes.find(e=>e.type==="time")}shouldRefresh(e,t){if(this.dirtyDataSource)return!0;if(!this.dirtyZoom)return!1;const i=this.lastAxisZooms.get(e.id);return i&&t.min===i.min&&t.max===i.max?!1:(this.lastAxisZooms.set(e.id,t),!0)}getAxisWindow(e,t){const{domain:i}=e.scale;if(!t||i.length===0||isNaN(Number(i[0])))return;const s=Number(i[1])-Number(i[0]),n=new Date(Number(i[0])+s*t.min),r=new Date(Number(i[0])+s*t.max);return{min:n,max:r}}},Gae=/^((?!chrome|android).)*safari/i,Hae=/Version\/(\d+(\.\d+)?)/,jae=/Chrome/,Vae=/Chrome\/(\d+)/,_ae=/Edg/,Wae=/OPR/;function Uae(){const{userAgent:e}=Pt("navigator");if(Gae.test(e)){const t=Hae.exec(e);if(t==null)return!1;const i=parseFloat(t[1]),s=Math.floor(i)>16;return s||me.warnOnce(`Unsupported Safari version: ${i}; ${e}`),!s}else if(jae.test(e)&&!_ae.test(e)&&!Wae.test(e)){const t=Vae.exec(e);if(t==null)return!1;const i=parseInt(t[1],10),s=i>126;return s||me.warnOnce(`Unsupported Chrome version: ${i}; ${e}`),!s}return!1}var $ae=new Set(["map-shape-background","map-line-background"]),Yae=class{constructor(e,t,i,s,n,r,o){this.chartLike=e,this.overlays=t,this.dataService=i,this.layoutManager=s,this.localeManager=n,this.animationManager=r,this.domManager=o,this.destroyFns=[],this.overlayElem=this.domManager.addChild("canvas-overlay","overlay"),this.overlayElem.role="status",this.overlayElem.ariaAtomic="false",this.overlayElem.ariaLive="polite",this.overlayElem.classList.toggle(YM),this.destroyFns.push(this.layoutManager.addListener("layout:complete",a=>this.onLayoutComplete(a)))}destroy(){this.destroyFns.forEach(e=>e()),this.domManager.removeChild("canvas-overlay","overlay")}onLayoutComplete({series:{rect:e}}){const t=this.dataService.isLoading(),i=this.chartLike.series.some(d=>d.hasData),s=this.chartLike.series.some(d=>d.visible&&!$ae.has(d.type));this.overlays.darkTheme?this.overlayElem.classList.add(jP):this.overlayElem.classList.remove(jP),this.overlayElem.style.left=`${e.x}px`,this.overlayElem.style.top=`${e.y}px`,this.overlayElem.style.width=`${e.width}px`,this.overlayElem.style.height=`${e.height}px`;const n=t,r=!t&&!i,o=i&&!s,a=this.overlays.unsupportedBrowser.enabled&&Uae();n?this.showOverlay(this.overlays.loading,e):this.hideOverlay(this.overlays.loading),r?this.showOverlay(this.overlays.noData,e):this.hideOverlay(this.overlays.noData),o?this.showOverlay(this.overlays.noVisibleSeries,e):this.hideOverlay(this.overlays.noVisibleSeries),a?this.showOverlay(this.overlays.unsupportedBrowser,e):this.hideOverlay(this.overlays.unsupportedBrowser);const l=n||r||o||a;kt(this.overlayElem,"aria-hidden",!l)}showOverlay(e,t){if(!e.enabled)return;const i=e.getElement(this.animationManager,this.localeManager,t);this.overlayElem.appendChild(i)}hideOverlay(e){e.removeElement(()=>{this.overlayElem.innerText=""},this.animationManager)}},br=ht.create(!0,"opts"),xE=class extends Ge{constructor(){super(...arguments),this.padding=new Pl(0)}};R([A()],xE.prototype,"clip",2);R([A()],xE.prototype,"padding",2);var Ii=class hB extends D3{constructor(t,i){var s;super(),this.id=En(this),this.seriesRoot=new Bs({name:`${this.id}-series-root`,zIndex:5}),this.annotationRoot=new Bs({name:`${this.id}-annotation-root`,zIndex:9}),this.titleGroup=new Ne({name:"titles",zIndex:13}),this.debug=ht.create(),this.extraDebugStats={},this.data=[],this._firstAutoSize=!0,this._autoSizeNotify=new tP,this.padding=new Pl(20),this.seriesArea=new xE,this.keyboard=new lE,this.touch=new dB,this.mode="standalone",this.chartCaptions=new WC,this.suppressFieldDotNotation=!1,this.destroyed=!1,this._destroyFns=[],this.skipSync=!1,this.chartAnimationPhase="initial",this.modulesManager=new gae,this.processors=[],this.queuedUserOptions=[],this.queuedChartOptions=[],this.firstApply=!0,this._pendingFactoryUpdatesCount=0,this._performUpdateSkipAnimations=!1,this._performUpdateNotify=new tP,this.performUpdateType=7,this.runningUpdateType=7,this.updateShortcutCount=0,this.seriesToUpdate=new Set,this.updateMutex=new Fse,this.updateRequestors={},this.performUpdateTrigger=Bse(({count:h})=>{this.destroyed||this.updateMutex.acquire(async()=>{try{await this.performUpdate(h)}catch(p){me.error("update error",p)}}).catch(p=>me.errorOnce(p))}),this._performUpdateSplits={},this.axes=[],this.series=[],this._cachedData=void 0,this.onSeriesNodeClick=h=>{this.fireEvent(h)},this.onSeriesNodeDoubleClick=h=>{this.fireEvent(h)},this.onSeriesVisibilityChange=h=>{this.fireEvent(h)},this.seriesGroupingChanged=h=>{if(!(h instanceof SE))return;const{series:p,seriesGrouping:f,oldGrouping:v}=h;p.contentGroup.isRoot()||this.seriesLayerManager.changeGroup({internalId:p.internalId,type:p.type,contentGroup:p.contentGroup,renderToOffscreenCanvas:()=>p.renderToOffscreenCanvas(),seriesGrouping:f,oldGrouping:v})},this.chartOptions=t;const n=i==null?void 0:i.scene,r=(i==null?void 0:i.container)??t.processedOptions.container??void 0,o=(i==null?void 0:i.styleContainer)??t.specialOverrides.styleContainer;n&&(this._firstAutoSize=!1,this._lastAutoSize=[n.width,n.height,n.pixelRatio]);const a=new Ne({name:"root"});a.visible=!1,a.append(this.seriesRoot),a.append(this.annotationRoot),a.append(this.titleGroup),this.titleGroup.append(this.title.node),this.titleGroup.append(this.subtitle.node),this.titleGroup.append(this.footnote.node),this.tooltip=new dr,this.seriesLayerManager=new zae(this.seriesRoot),this.mode=t.userOptions.mode??this.mode;const l=this.ctx=new poe(this,{chartType:this.getChartType(),scene:n,root:a,container:r,styleContainer:o,domMode:t.optionMetadata.domMode,syncManager:new Hoe(this),fireEvent:h=>this.fireEvent(h),updateCallback:(h,p)=>this.update(h,p),updateMutex:this.updateMutex});this._destroyFns.push(l.domManager.addListener("resize",()=>this.parentResize(l.domManager.containerSize))),this.overlays=new yh,(s=this.overlays.loading).renderer??(s.renderer=()=>pae(this.overlays.loading.getText(l.localeManager),l.animationManager.defaultDuration)),this.processors=[new Bae(this,l.dataService,l.updateService,l.zoomManager,l.animationManager),new Yae(this,this.overlays,l.dataService,l.layoutManager,l.localeManager,l.animationManager,l.domManager)],this.highlight=new Rz,this.container=r;const d=this.getModuleContext();l.domManager.setDataBoolean("animating",!1),this.seriesAreaManager=new Fae(this.initSeriesAreaDependencies()),this._destroyFns.push(l.layoutManager.registerElement(0,h=>{h.layoutBox.shrink(this.padding.toJson()),this.chartCaptions.positionCaptions(h)}),l.layoutManager.addListener("layout:complete",h=>this.chartCaptions.positionAbsoluteCaptions(h)),l.dataService.addListener("data-load",h=>{this.data=h.data}),this.title.registerInteraction(d,"beforebegin"),this.subtitle.registerInteraction(d,"beforebegin"),this.footnote.registerInteraction(d,"afterend"),Eo.addWindowEvent("page-left",()=>this.destroy()),l.animationManager.addListener("animation-frame",()=>{this.update(6)}),l.animationManager.addListener("animation-start",()=>l.domManager.setDataBoolean("animating",!0)),l.animationManager.addListener("animation-stop",()=>l.domManager.setDataBoolean("animating",!1)),l.zoomManager.addListener("zoom-change",()=>{this.series.forEach(p=>{var f;return(f=p.animationState)==null?void 0:f.transition("updateData")});const h=this.chartAnimationPhase!=="initial";this.update(3,{forceNodeDataRefresh:!0,skipAnimations:h})})),this.parentResize(l.domManager.containerSize)}static getInstance(t){return hB.chartsInstances.get(t)}get canvasElement(){return this.ctx.scene.canvas.element}download(t,i){this.ctx.scene.download(t,i)}getCanvasDataURL(t){return this.ctx.scene.getDataURL(t)}toSVG(){return this.ctx.scene.toSVG()}getOptions(){return this.queuedUserOptions.at(-1)??this.chartOptions.userOptions}getChartOptions(){return this.queuedChartOptions.at(-1)??this.chartOptions}overrideFocusVisible(t){var i;(i=this.seriesAreaManager.focusIndicator)==null||i.overrideFocusVisible(t)}initSeriesAreaDependencies(){const{ctx:t,tooltip:i,highlight:s,overlays:n,seriesRoot:r,mode:o}=this,a=this.getChartType();return{fireEvent:this.fireEvent.bind(this),getUpdateType:()=>this.performUpdateType,getTooltipContent:(p,f,v)=>this.getTooltipContent(p,f,v),chartType:a,ctx:t,tooltip:i,highlight:s,overlays:n,seriesRoot:r,mode:o}}getModuleContext(){return this.ctx}getTooltipContent(t,i,s){const n=t.properties.tooltip.enabled!==!1?t.getTooltipContent(i,s):void 0,r=n==null?[]:[n];if(this.tooltip.mode!=="shared"||this.series.length===1)return r;const o=t.getCategoryValue(i);return o==null?r:this.series.flatMap(a=>{if(a===t)return r;if(!a.isEnabled()||a.properties.tooltip.enabled===!1)return[];const l=a.datumIndexForCategoryValue(o),d=l==null?void 0:a.getTooltipContent(l,void 0);return d==null?[]:[d]})}getCaptionText(){return[this.title,this.subtitle,this.footnote].filter(t=>t.enabled&&t.text).map(t=>t.text).join(". ")}getAriaLabel(){return this.ctx.localeManager.t("ariaAnnounceChart",{seriesCount:this.series.length})}resetAnimations(){this.chartAnimationPhase="initial";for(const t of this.series)t.resetAnimation(this.chartAnimationPhase);for(const t of this.axes)t.resetAnimation(this.chartAnimationPhase);this.animationRect=void 0,this.ctx.animationManager.reset()}skipAnimations(){this.ctx.animationManager.skipCurrentBatch(),this._performUpdateSkipAnimations=!0}detachAndClear(){this.container=void 0,this.ctx.scene.clear()}destroy(t){if(this.destroyed)return;const i=t==null?void 0:t.keepTransferableResources;let s;return this.performUpdateType=7,this._destroyFns.forEach(n=>n()),this.processors.forEach(n=>n.destroy()),this.overlays.destroy(),this.modulesManager.destroy(),i?(this.ctx.scene.strip(),s={container:this.container,scene:this.ctx.scene}):(this.ctx.scene.destroy(),this.container=void 0),this.destroySeries(this.series),this.seriesLayerManager.destroy(),this.axes.forEach(n=>n.destroy()),this.axes=[],this.animationRect=void 0,this.ctx.destroy(),this.destroyed=!0,Object.freeze(this),s}requestFactoryUpdate(t){this.destroyed||(this._pendingFactoryUpdatesCount++,this.updateMutex.acquire(async()=>{if(!this.destroyed)try{await t(this)}finally{this.destroyed||this._pendingFactoryUpdatesCount--}}).catch(i=>me.errorOnce(i)))}clearCallbackCache(){this.ctx.callbackCache.invalidateCache();for(const t of this.series)t.resetDatumCallbackCache()}update(t=0,i){if(this.destroyed)return;const{forceNodeDataRefresh:s=!1,skipAnimations:n,seriesToUpdate:r=this.series,newAnimationBatch:o}=i??{};this.ctx.widgets.seriesWidget.setDragTouchEnabled(this.touch.dragAction!=="none"),s&&this.series.forEach(a=>a.markNodeDataDirty());for(const a of r)this.seriesToUpdate.add(a);if(n&&(this.ctx.animationManager.skipCurrentBatch(),this._performUpdateSkipAnimations=!0),o&&this.ctx.animationManager.isActive()&&(this._performUpdateSkipAnimations=!0),this.skipSync=(i==null?void 0:i.skipSync)??!1,this.debug.check()){let a=new Error().stack??"<unknown>";a=a.replace(/\([^)]*/g,""),this.updateRequestors[a]=t}t<this.performUpdateType&&(this.performUpdateType=t,this.ctx.domManager.setDataBoolean("updatePending",!0),this.performUpdateTrigger.schedule(i==null?void 0:i.backOffMs))}async performUpdate(t){const{performUpdateType:i,extraDebugStats:s,_performUpdateSplits:n,ctx:r}=this,o=[...this.seriesToUpdate];this.clearCallbackCache(),this.performUpdateType=7,this.seriesToUpdate.clear(),this.runningUpdateType=i,this.updateShortcutCount===0&&i<6&&(r.animationManager.startBatch(this._performUpdateSkipAnimations),r.animationManager.onBatchStop(()=>this.chartAnimationPhase="ready")),this.ctx.scene.updateDebugFlags(),this.debug("Chart.performUpdate() - start",mp[i]);let a=performance.now();n.start??(n.start=a);const l=h=>{n[h]??(n[h]=0),n[h]+=performance.now()-a,a=performance.now()};switch(i){case 0:if(this.checkUpdateShortcut(0))break;this.ctx.updateService.dispatchPreDomUpdate(),this.updateDOM();case 1:if(this.checkUpdateShortcut(1))break;await this.updateData(),l("");case 2:if(this.checkUpdateShortcut(2))break;await this.processData(),this.seriesAreaManager.dataChanged(),l("");case 3:if(await this.checkFirstAutoSize(),this.checkUpdateShortcut(3))break;await this.processLayout(),l("");case 4:{if(this.checkUpdateShortcut(4))break;await this.updateSeries(o),l(""),this.updateAriaLabels(),this.seriesLayerManager.updateLayerCompositing()}case 5:if(this.checkUpdateShortcut(5))break;r.updateService.dispatchPreSceneRender(),l("");case 6:if(this.checkUpdateShortcut(6))break;r.animationManager.endBatch(),s.updateShortcutCount=this.updateShortcutCount,r.scene.render({debugSplitTimes:n,extraDebugStats:s,seriesRect:this.seriesRect}),this.extraDebugStats={};for(const h of Object.keys(n))delete n[h];this.ctx.domManager.incrementDataCounter("sceneRenders"),this.ctx.domManager.postRenderUpdate();case 7:this.updateShortcutCount=0,this.updateRequestors={},this._performUpdateSkipAnimations=!1,r.animationManager.endBatch()}this.destroyed||(r.updateService.dispatchUpdateComplete(),this.ctx.domManager.setDataBoolean("updatePending",!1),this.runningUpdateType=7),this._performUpdateNotify.notify();const d=performance.now();this.debug("Chart.performUpdate() - end",{chart:this,durationMs:Math.round((d-n.start)*100)/100,count:t,performUpdateType:mp[i]})}updateThemeClassName(){const t="ag-charts-theme-",i=[`${t}default`,`${t}default-dark`];let s=i[0],n=!1,{theme:r}=this.chartOptions.processedOptions;for(;typeof r!="string"&&r!=null;)r=r.baseTheme;typeof r=="string"&&(s=r.replace("ag-",t),n=r.includes("-dark")),i.includes(s)||(s=n?i[1]:i[0]),this.ctx.domManager.setThemeClass(s)}updateDOM(){this.updateThemeClassName();const{enabled:t,tabIndex:i}=this.keyboard;this.ctx.domManager.setTabGuardIndex(t?i??0:-1),this.ctx.domManager.setThemeParameters(this.chartOptions.themeParameters)}updateAriaLabels(){this.ctx.domManager.updateCanvasLabel(this.getAriaLabel())}checkUpdateShortcut(t){return this.destroyed?!0:this.updateShortcutCount>3?(me.warn("exceeded the maximum number of simultaneous updates (4), discarding changes and rendering",this.updateRequestors),!1):this.performUpdateType<=t?(this.updateShortcutCount++,!0):!1}async checkFirstAutoSize(){this.width!=null&&this.height!=null||this._lastAutoSize||await this._autoSizeNotify.await(500)||this.debug("Chart.checkFirstAutoSize() - timeout for first size update.")}onAxisChange(t,i){i==null&&t.length===0||this.ctx.axisManager.updateAxes(i??[],t)}onSeriesChange(t,i){var n,r;const s=(i==null?void 0:i.filter(o=>!t.includes(o)))??[];this.destroySeries(s),(n=this.seriesLayerManager)==null||n.setSeriesCount(t.length);for(const o of t){if(i!=null&&i.includes(o))continue;const a=this.seriesLayerManager.requestGroup(o);o.attachSeries(a,this.seriesRoot,this.annotationRoot);const l=this;o.chart={get mode(){return l.mode},get isMiniChart(){return!1},get seriesRect(){return l.seriesRect}},o.resetAnimation(this.chartAnimationPhase),this.addSeriesListeners(o),o.addChartEventListeners()}(r=this.seriesAreaManager)==null||r.seriesChanged(t)}destroySeries(t){t==null||t.forEach(i=>{i.removeEventListener("seriesNodeClick",this.onSeriesNodeClick),i.removeEventListener("seriesNodeDoubleClick",this.onSeriesNodeDoubleClick),i.removeEventListener("groupingChanged",this.seriesGroupingChanged),i.destroy(),this.seriesLayerManager.releaseGroup(i),i.detachSeries(void 0,this.seriesRoot,this.annotationRoot),i.chart=void 0})}addSeriesListeners(t){this.hasEventListener("seriesNodeClick")&&t.addEventListener("seriesNodeClick",this.onSeriesNodeClick),this.hasEventListener("seriesNodeDoubleClick")&&t.addEventListener("seriesNodeDoubleClick",this.onSeriesNodeDoubleClick),this.hasEventListener("seriesVisibilityChange")&&t.addEventListener("seriesVisibilityChange",this.onSeriesVisibilityChange),t.addEventListener("groupingChanged",this.seriesGroupingChanged)}assignSeriesToAxes(){for(const t of this.axes)t.boundSeries=this.series.filter(i=>i.axes[t.direction]===t)}assignAxesToSeries(){const t=bR(this.axes,i=>i.direction);for(const i of this.series)for(const s of i.directions){const n=t[s];if(!n){me.warnOnce(`no available axis for direction [${s}]; check series and axes configuration.`);return}const r=i.getKeys(s),o=n.find(a=>!a.keys.length||r.some(l=>a.keys.includes(l)));if(!o){me.warnOnce(`no matching axis for direction [${s}] and keys [${r}]; check series and axes configuration.`);return}i.axes[s]=o}}parentResize(t){if(t==null||this.width!=null&&this.height!=null)return;let{width:i,height:s}=t;const{pixelRatio:n}=t;if(i=Math.floor(i),s=Math.floor(s),i===0&&s===0)return;const[r=0,o=0,a=1]=this._lastAutoSize??[];r===i&&o===s&&a===n||(this._lastAutoSize=[i,s,n],this.resize("SizeMonitor",{}))}resize(t,i){var v,y,S;const{scene:s,animationManager:n}=this.ctx,{inWidth:r,inHeight:o,inMinWidth:a,inMinHeight:l,inOverrideDevicePixelRatio:d}=i;this.ctx.domManager.setSizeOptions(a??this.minWidth,l??this.minHeight,r??this.width,o??this.height);const h=r??this.width??((v=this._lastAutoSize)==null?void 0:v[0]),p=o??this.height??((y=this._lastAutoSize)==null?void 0:y[1]),f=d??this.overrideDevicePixelRatio??((S=this._lastAutoSize)==null?void 0:S[2]);if(this.debug(`Chart.resize() from ${t}`,{width:h,height:p,pixelRatio:f,stack:new Error().stack}),!(h==null||p==null||!lt(h)||!lt(p))&&s.resize(h,p,f)){n.reset();let w=!0;(this.width==null||this.height==null)&&this._firstAutoSize&&(w=!1,this._firstAutoSize=!1),this.update(3,{forceNodeDataRefresh:!0,skipAnimations:w}),this._autoSizeNotify.notify()}}async updateData(){this.series.forEach(i=>i.setChartData(this.data));const t=this.modulesManager.mapModules(i=>{var s;return(s=i.updateData)==null?void 0:s.call(i,this.data)});await Promise.all(t)}async processData(){this.series.some(n=>n.canHaveAxes)&&(this.assignAxesToSeries(),this.assignSeriesToAxes());const t=new kz(this.mode,this.suppressFieldDotNotation),i=this.series.map(n=>n.processData(t)),s=this.modulesManager.mapModules(n=>{var r;return(r=n.processData)==null?void 0:r.call(n,t)});this._cachedData=t.execute(this._cachedData),await Promise.all([...i,...s]);for(const n of this.axes)n.processData();this.updateLegends()}updateLegends(t){for(const{legend:i,legendType:s}of this.modulesManager.legends())s==="category"?this.setCategoryLegendData(t):this.setLegendData(s,i)}setCategoryLegendData(t){var i;const{ctx:{legendManager:s,stateManager:n}}=this;t&&this.series.forEach(o=>{const a=t.find(l=>l.seriesId===o.id);o.onLegendInitialState("category",a)});const r=this.series.flatMap(o=>{const a=o.getLegendData("category");return s.updateData(o.id,a),a});if(t){n.setStateAndRestore(s,t);return}if(this.mode!=="integrated"){const o={},a=new Map(this.series.map(l=>[l.id,l.type]));for(const{seriesId:l,symbol:{marker:d},label:h}of r.filter(p=>!p.hideInLegend)){if(d.fill==null)continue;const p=a.get(l),f=o[p]??(o[p]={});f[i=h.text]??(f[i]=d.fill),f[h.text]!==d.fill&&me.warnOnce(`legend item '${h.text}' has multiple fill colors, this may cause unexpected behaviour.`)}}s.update()}setLegendData(t,i){i.data=this.series.filter(s=>s.properties.showInLegend).flatMap(s=>s.getLegendData(t))}async processLayout(){var r;const t=this.animationRect,{width:i,height:s}=this.ctx.scene,n=this.ctx.layoutManager.createContext(i,s);await this.performLayout(n),t&&!((r=this.animationRect)!=null&&r.equals(t))&&this.ctx.animationManager.skipCurrentBatch(),this.debug("Chart.performUpdate() - seriesRect",this.seriesRect)}async updateSeries(t){const{seriesRect:i}=this;await Promise.all(t.map(s=>s.update({seriesRect:i}))),this.ctx.seriesLabelLayoutManager.updateLabels(this.series.filter(s=>s.visible&&s.usesPlacedLabels),this.padding,this.seriesRect)}async waitForUpdate(t=1e4,i=!1){const s=performance.now();for(;(this._pendingFactoryUpdatesCount>0||this.performUpdateType!==7||this.runningUpdateType!==7)&&!this.destroyed;){if(this._pendingFactoryUpdatesCount>0&&await this.updateMutex.waitForClearAcquireQueue(),(this.performUpdateType!==7||this.runningUpdateType!==7)&&await this._performUpdateNotify.await(),performance.now()-s>t){const n=`Chart.waitForUpdate() timeout of ${t} reached - first chart update taking too long.`;if(i)throw new Error(n);me.warnOnce(n)}b3()&&await ase()}}filterMiniChartSeries(t){return t==null?void 0:t.filter(i=>i.showInMiniChart!==!1)}applyOptions(t){var S,w,b,x,D;const i=this.firstApply?t.processedOptions:t.diffOptions(this.chartOptions);if(i==null||Object.keys(i).length===0)return;const s=this.firstApply?{}:this.chartOptions.processedOptions,n=t.processedOptions;br("Chart.applyOptions() - applying delta",i);const r=this.applyModules(n),o=["type","data","series","listeners","preset","theme","legend.listeners","navigator.miniChart.series","navigator.miniChart.label","locale.localeText","axes","topology","nodes","initialState","styleContainer"];i.listeners&&this.registerListeners(this,i.listeners),pp(this,i,{skip:o});let a=!1,l="no-op";i.series!=null&&(l=this.applySeries(this,i.series,s==null?void 0:s.series),a=!0),l==="replaced"&&this.resetAnimations(),this.applyAxes(this,n,s,l,[])&&(a=!0),i.data&&(this.data=i.data),(S=i.legend)!=null&&S.listeners&&this.modulesManager.isEnabled("legend")&&Object.assign(this.legend.listeners,i.legend.listeners),(w=i.locale)!=null&&w.localeText&&(this.modulesManager.getModule("locale").localeText=(b=i.locale)==null?void 0:b.localeText),this.chartOptions=t;const d=this.modulesManager.getModule("navigator"),h=this.modulesManager.getModule("zoom");!(d!=null&&d.enabled)&&!(h!=null&&h.enabled)&&this.ctx.zoomManager.updateZoom("chart");const p=d==null?void 0:d.miniChart,f=((D=(x=n.navigator)==null?void 0:x.miniChart)==null?void 0:D.series)??n.series;(p==null?void 0:p.enabled)===!0&&f!=null?this.applyMiniChartOptions(p,f,n,s):(p==null?void 0:p.enabled)===!1&&(p.series=[],p.axes=[]),this.ctx.annotationManager.setAnnotationStyles(t.annotationThemes),a||(a=this.shouldForceNodeDataRefresh(i,l));const y=a||r?0:3;this.maybeResetAnimations(l),this.shouldClearLegendData(n,s,l)&&this.ctx.legendManager.clearData(),this.applyInitialState(n),br("Chart.applyOptions() - update type",mp[y],{seriesStatus:l,forceNodeDataRefresh:a}),this.update(y,{forceNodeDataRefresh:a,newAnimationBatch:!0}),this.firstApply=!1}applyInitialState(t){var l,d,h;const{annotationManager:i,chartTypeOriginator:s,historyManager:n,stateManager:r,zoomManager:o}=this.ctx,{initialState:a}=t;if("annotations"in t&&((l=t.annotations)!=null&&l.enabled)&&(a==null?void 0:a.annotations)!=null){const p=a.annotations.map(f=>{const v=i.getAnnotationTypeStyles(f.type);return Je(f,v)});r.setState(i,p)}(a==null?void 0:a.chartType)!=null&&r.setState(s,a.chartType),((d=t.navigator)!=null&&d.enabled||(h=t.zoom)!=null&&h.enabled)&&(a==null?void 0:a.zoom)!=null&&r.setState(o,a.zoom),(a==null?void 0:a.legend)!=null&&this.updateLegends(a.legend),a!=null&&n.clear()}maybeResetAnimations(t){if(this.mode==="standalone")switch(t){case"series-grouping-change":case"replaced":this.resetAnimations();break}}shouldForceNodeDataRefresh(t,i){const s=!!t.data||i==="data-change"||i==="replaced",n=oE.getKeys(),r=Object.values(n).some(a=>t[a]!=null),o=t.title!=null&&t.subtitle!=null;return s||r||o}shouldClearLegendData(t,i,s){const n=s==="replaced"||s==="series-grouping-change"||s==="updated",r=i.legend!=null&&t.legend==null;return n||r}applyMiniChartOptions(t,i,s,n){var h,p,f,v;const r=((p=(h=n==null?void 0:n.navigator)==null?void 0:h.miniChart)==null?void 0:p.series)??(n==null?void 0:n.series),o=this.applySeries(t,this.filterMiniChartSeries(i),this.filterMiniChartSeries(r));this.applyAxes(t,s,n,o,["axes[].tick","axes[].thickness","axes[].title","axes[].crosshair","axes[].gridLine","axes[].label"]);const a=t.series;for(const y of a)y.properties.id=void 0;const l=t.axes,d=l.find(y=>y.direction==="x");for(const y of l)y.nice=!1,y.gridLine.enabled=!1,y.label.enabled=y===d,y.tick.enabled=!1,y.interactionEnabled=!1;if(d!=null){const y=(f=s.navigator)==null?void 0:f.miniChart,S=y==null?void 0:y.label,w=(v=y==null?void 0:y.label)==null?void 0:v.interval;if(d.line.enabled=!1,d.label.set(Ml(S,["interval","rotation","minSpacing","autoRotate","autoRotateAngle"])),d.tick.set(Ml(w,["enabled","width","size","color","interval","step"])),d.type==="grouped-category"){d.label.enabled=!1,d.label.rotation=0;const{depthOptions:x}=d;if(x.length===0)x.set([{label:{enabled:!0}}]);else for(let D=1;D<x.length;D++)x[D].label.enabled=!1}const b=w==null?void 0:w.step;b!=null&&(d.interval.step=b)}}applyModules(t){var n;const{type:i}=this.constructor;let s=!1;for(const r of oo.byType("root","legend")){const a=t[r.optionsKey]!=null&&r.chartTypes.includes(i);a!==this.modulesManager.isEnabled(r)&&(a?(this.modulesManager.addModule(r,l=>l.moduleFactory(this.getModuleContext())),r.type==="legend"&&((n=this.modulesManager.getModule(r))==null||n.attachLegend(this.ctx.scene)),this[r.optionsKey]=this.modulesManager.getModule(r)):(this.modulesManager.removeModule(r),delete this[r.optionsKey]),s=!0)}return s}initSeriesDeclarationOrder(t){for(let i=0;i<t.length;i++)t[i].setSeriesIndex(i)}applySeries(t,i,s){var h;if(!i)return"no-change";const n=dae(t.series,i,s);if(n.status==="no-overlap"){br(`Chart.applySeries() - creating new series instances, status: ${n.status}`,n);const p=i.map(f=>this.createSeries(f));return this.initSeriesDeclarationOrder(p),t.series=p,"replaced"}br("Chart.applySeries() - matchResult",n);const r=[];let o=!1,a=!1,l=!1;const d=n.changes.toSorted((p,f)=>p.targetIdx-f.targetIdx);for(const p of d)switch(a||(a=p.status==="series-grouping"),o||(o=((h=p.diff)==null?void 0:h.data)!=null),l||(l=p.status!=="no-op"),p.status){case"add":{const f=this.createSeries(p.opts);r.push(f),br("Chart.applySeries() - created new series",f);break}case"remove":br(`Chart.applySeries() - removing series at previous idx ${p.idx}`,p.series);break;case"no-op":r.push(p.series),br(`Chart.applySeries() - no change to series at previous idx ${p.idx}`,p.series);break;case"series-grouping":case"update":default:{const{series:f,diff:v,idx:y}=p;br(`Chart.applySeries() - applying series diff previous idx ${y}`,v,f),this.applySeriesValues(f,v),f.markNodeDataDirty(),r.push(f)}}return this.initSeriesDeclarationOrder(r),br("Chart.applySeries() - final series instances",r),t.series=r,a?"series-grouping-change":o?"data-change":l?"updated":"no-op"}applyAxes(t,i,s,n,r=[]){if(!("axes"in i)||!i.axes)return!1;r=["axes[].type",...r];const{axes:o}=i;return!(n==="replaced")&&t.axes.length===o.length&&t.axes.every((d,h)=>d.type===o[h].type)&&yE(s)?(t.axes.forEach((d,h)=>{var y;const p=((y=s.axes)==null?void 0:y[h])??{},f=yo(p,o[h]);br(`Chart.applyAxes() - applying axis diff idx ${h}`,f);const v=`axes[${h}]`;pp(d,f,{path:v,skip:r})}),!0):(br(`Chart.applyAxes() - creating new axes instances; seriesStatus: ${n}`),t.axes=this.createAxis(o,r),!0)}createSeries(t){const i=qn.create(t.type,this.getModuleContext());return this.applySeriesOptionModules(i,t),this.applySeriesValues(i,t),i}applySeriesOptionModules(t,i){const s=t.createModuleContext(),n=t.getModuleMap();for(const r of oo.byType("series-option"))r.optionsKey in i&&r.seriesTypes.includes(t.type)&&n.addModule(r,o=>o.moduleFactory(s))}applySeriesValues(t,i){const s=t.getModuleMap(),{type:n,data:r,listeners:o,seriesGrouping:a,showInMiniChart:l,...d}=i;for(const h of Mf)if(h.type==="series-option"&&h.optionsKey in d){const p=s.getModule(h.optionsKey);if(p){const f=d[h.optionsKey];delete d[h.optionsKey],p.properties.set(f)}}t.properties.set(d),"data"in i&&t.setOptionsData(r),o&&this.registerListeners(t,o,{nodeClick:"seriesNodeClick",nodeDoubleClick:"seriesNodeDoubleClick"}),"seriesGrouping"in i&&(a==null?t.seriesGrouping=void 0:t.seriesGrouping={...t.seriesGrouping,...a})}createAxis(t,i){const s=[],n=this.getModuleContext();for(let r=0;r<t.length;r++){const o=t[r],a=Vc.create(o.type,n);this.applyAxisModules(a,o),pp(a,o,{path:`axes[${r}]`,skip:i}),s.push(a)}return cae(s),s}applyAxisModules(t,i){const s=t.createModuleContext(),n=t.getModuleMap();for(const r of oo.byType("axis-option")){const o=i[r.optionsKey]!=null;o!==n.isEnabled(r)&&(o?(n.addModule(r,a=>a.moduleFactory(s)),t[r.optionsKey]=n.getModule(r)):(n.removeModule(r),delete t[r.optionsKey]))}}registerListeners(t,i,s){t.clearEventListeners();for(const[n,r]of Tr(i))if(Ll(r)){const o=s==null?void 0:s[n];o==null?t.addEventListener(n,r):t.addEventListener(o,a=>{if((a==null?void 0:a.type)===o){const l=new Proxy(a,{get(d,h,p){return h==="type"?n:Reflect.get(d,h,p)}});r(l)}else r(a)})}}};Ii.chartsInstances=new WeakMap;R([an({newValue(e){this.destroyed||(this.ctx.domManager.setContainer(e),Ii.chartsInstances.set(e,this))},oldValue(e){Ii.chartsInstances.delete(e)}})],Ii.prototype,"container",2);R([an({newValue(e){this.resize("width option",{inWidth:e})}})],Ii.prototype,"width",2);R([an({newValue(e){this.resize("height option",{inHeight:e})}})],Ii.prototype,"height",2);R([an({newValue(e){this.resize("minWidth option",{inMinWidth:e})}})],Ii.prototype,"minWidth",2);R([an({newValue(e){this.resize("minHeight option",{inMinHeight:e})}})],Ii.prototype,"minHeight",2);R([an({newValue(e){this.resize("overrideDevicePixelRatio option",{inOverrideDevicePixelRatio:e})}})],Ii.prototype,"overrideDevicePixelRatio",2);R([A()],Ii.prototype,"padding",2);R([A()],Ii.prototype,"seriesArea",2);R([A()],Ii.prototype,"keyboard",2);R([A()],Ii.prototype,"touch",2);R([A(Mt(["standalone","integrated"],"a chart mode"))],Ii.prototype,"mode",2);R([Et("chartCaptions.title")],Ii.prototype,"title",2);R([Et("chartCaptions.subtitle")],Ii.prototype,"subtitle",2);R([Et("chartCaptions.footnote")],Ii.prototype,"footnote",2);R([A()],Ii.prototype,"suppressFieldDotNotation",2);R([an({changeValue(e,t){this.onAxisChange(e,t)}})],Ii.prototype,"axes",2);R([an({changeValue(e,t){this.onSeriesChange(e,t)}})],Ii.prototype,"series",2);var sb=Ii,qP=ht.create(!0,"opts"),lc="AG Charts - Chart was destroyed, cannot perform request.",yp=class{constructor(t,i,s){this.factoryApi=i,this.licenseManager=s,this.chart=t}async update(t){if(!this.chart)throw new Error(lc);return qP.group("AgChartInstance.update()",async()=>{var i;this.factoryApi.update(t,this),await((i=this.chart)==null?void 0:i.waitForUpdate())})}async updateDelta(t){if(!this.chart)throw new Error(lc);return qP.group("AgChartInstance.updateDelta()",async()=>{var i;this.factoryApi.updateUserDelta(this,t),await((i=this.chart)==null?void 0:i.waitForUpdate())})}getOptions(){if(!this.chart)throw new Error(lc);const t=Vt(this.chart.getOptions());for(const i of Object.keys(t))i.startsWith("_")&&delete t[i];return t}waitForUpdate(){if(!this.chart)throw new Error(lc);return this.chart.waitForUpdate()}async download(t){var s;if(!this.chart)throw new Error(lc);const i=await this.prepareResizedChart(this,this.chart,t);try{(s=i.chart)==null||s.download(t==null?void 0:t.fileName,t==null?void 0:t.fileFormat)}finally{i.destroy()}}async __toSVG(t){var s;if(!this.chart)throw new Error(lc);const i=await this.prepareResizedChart(this,this.chart,{width:600,height:300,...t});try{return(s=i==null?void 0:i.chart)==null?void 0:s.toSVG()}finally{i==null||i.destroy()}}async getImageDataURL(t){if(!this.chart)throw new Error(lc);const i=await this.prepareResizedChart(this,this.chart,t);try{return i.chart.getCanvasDataURL(t==null?void 0:t.fileFormat)}finally{i.destroy()}}getState(){return this.factoryApi.caretaker.save(...this.getEnabledOriginators())}async setState(t){const{chart:i}=this;if(!i)return;const s=this.getEnabledOriginators();if(!s.includes(i.ctx.legendManager)){await this.setStateOriginators(t,s);return}await this.setStateOriginators(t,s.filter(n=>n!==i.ctx.zoomManager)),await this.setStateOriginators(t,[i.ctx.zoomManager])}resetAnimations(){var t;(t=this.chart)==null||t.resetAnimations()}skipAnimations(){var t;(t=this.chart)==null||t.skipAnimations()}destroy(){this.releaseChart?(this.releaseChart(),this.releaseChart=void 0):this.chart&&(this.chart.publicApi=void 0,this.chart.destroy()),this.chart=void 0}async prepareResizedChart(t,i,s={}){var y,S,w,b,x,D;const n=s.width??i.width??i.ctx.scene.canvas.width,r=s.height??i.height??i.ctx.scene.canvas.height,o=t.getState(),a=oo.hasEnterpriseModules(),l={...i.chartOptions.processedOverrides,container:document.createElement("div"),width:n,height:r};s.width!=null&&s.height!=null&&(l.overrideDevicePixelRatio=1);const d=i.getOptions();a&&(l.animation={enabled:!1},(y=this.licenseManager)!=null&&y.isDisplayWatermark()&&(l.foreground={text:this.licenseManager.getWatermarkMessage(),image:{url:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjU4IiBoZWlnaHQ9IjQwIiB2aWV3Qm94PSIwIDAgMjU4IDQwIiBmaWxsPSJub25lIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPgo8cGF0aCBkPSJNMjUuNzc5IDI4LjY1N0gxMy4zNTlMMTEuMTczIDM0LjAxMkg1LjY3Mjk3TDE3LjE4MiA3LjA1OTk5SDIxLjk1M0wzMy40NjIgMzQuMDEySDI3Ljk2MkwyNS43NzYgMjguNjU3SDI1Ljc3OVpNMjQuMDY4IDI0LjM5N0wxOS41ODggMTMuNDM0TDE1LjEwNyAyNC4zOTdIMjQuMDY4Wk02Mi4wOTIgMTguODIzSDQ5LjgxN1YyMy4wODZINTYuNzc1QzU2LjU1NSAyNS4yMjIgNTUuNzU1IDI2LjkyNyA1NC4zNzIgMjguMjAyQzUyLjk4OSAyOS40NzYgNTEuMTY2IDMwLjExNSA0OC45MDkgMzAuMTE1QzQ3LjYyMiAzMC4xMTUgNDYuNDUgMjkuODg1IDQ1LjM5MyAyOS40MjNDNDQuMzU4MyAyOC45NzgxIDQzLjQzMjYgMjguMzEzOCA0Mi42OCAyNy40NzZDNDEuOTI3IDI2LjYzOSA0MS4zNDQgMjUuNjMxIDQwLjkzMSAyNC40NTNDNDAuNTE5IDIzLjI3NSA0MC4zMTEgMjEuOTcgNDAuMzExIDIwLjUzN0M0MC4zMTEgMTkuMTA1IDQwLjUxNiAxNy44IDQwLjkzMSAxNi42MjFDNDEuMzQ0IDE1LjQ0MyA0MS45MjcgMTQuNDM2IDQyLjY4IDEzLjU5OEM0My40Mzc2IDEyLjc1NzcgNDQuMzY5NiAxMi4wOTMyIDQ1LjQxMSAxMS42NTFDNDYuNDc4IDExLjE4OSA0Ny42NTYgMTAuOTYgNDguOTQ2IDEwLjk2QzUxLjYxMiAxMC45NiA1My42MzcgMTEuNjAyIDU1LjAyIDEyLjg4NUw1OC4zIDkuNjA0OTlDNTUuODE3IDcuNjY5OTkgNTIuNjc2IDYuNjk5OTkgNDguODcyIDYuNjk5OTlDNDYuNzYgNi42OTk5OSA0NC44NTMgNy4wMzQ5OSA0My4xNTQgNy43MDA5OUM0MS40NTUgOC4zNjc5OSAzOS45OTggOS4zMDM5OSAzOC43ODMgMTAuNTA0QzM3LjU2NyAxMS43MDcgMzYuNjM0IDEzLjE1OCAzNS45NzcgMTQuODU3QzM1LjMxOSAxNi41NTYgMzQuOTk0IDE4LjQ1MSAzNC45OTQgMjAuNTRDMzQuOTk0IDIyLjYzIDM1LjMyOSAyNC40OTQgMzUuOTk1IDI2LjIwNUMzNi42NjIgMjcuOTE2IDM3LjYwNSAyOS4zNzQgMzguODE3IDMwLjU3N0M0MC4wMzIgMzEuNzggNDEuNDg2IDMyLjcxMyA0My4xODggMzMuMzgzQzQ0Ljg4OCAzNC4wNDkgNDYuNzgyIDM0LjM4NCA0OC44NzIgMzQuMzg0QzUwLjk2MSAzNC4zODQgNTIuNzUgMzQuMDQ5IDU0LjM5IDMzLjM4M0M1Ni4wMzEgMzIuNzE2IDU3LjQyNiAzMS43OCA1OC41NzkgMzAuNTc3QzU5LjczMyAyOS4zNzQgNjAuNjE5IDI3LjkxNiA2MS4yMzkgMjYuMjA1QzYxLjg2IDI0LjQ5NCA2Mi4xNyAyMi42MDUgNjIuMTcgMjAuNTRDNjIuMTY5NiAxOS45Njg4IDYyLjE0NDUgMTkuMzk4IDYyLjA5NSAxOC44MjlMNjIuMDkyIDE4LjgyM1pNMTUxLjgxIDE2Ljk4MUMxNTMuNDEgMTQuNjA5IDE1Ny40MTkgMTQuMzU4IDE1OS4wMjIgMTQuMzU4VjE4LjkxQzE1Ni45NTcgMTguOTEgMTU0Ljk4NSAxOC45OTYgMTUzLjc1NyAxOS44OTJDMTUyLjUyOSAyMC43OTIgMTUxLjkxOSAyMS45ODIgMTUxLjkxOSAyMy40NjRWMzMuOTlIMTQ2Ljk2NFYxNC4zNThIMTUxLjczNkwxNTEuODEgMTYuOTgxWk0xNDMuMDExIDE0LjM2MVYzNC4wMzFIMTM4LjI0TDEzOC4xMzEgMzEuMDQ1QzEzNy40NjYgMzIuMDc2IDEzNi41NTEgMzIuOTIxOSAxMzUuNDcxIDMzLjUwNEMxMzQuMzc2IDM0LjA5OSAxMzMuMDY4IDM0LjM5NiAxMzEuNTM2IDM0LjM5NkMxMzAuMiAzNC4zOTYgMTI4Ljk2MyAzNC4xNTIgMTI3LjgyMiAzMy42NjhDMTI2LjcgMzMuMTk2NCAxMjUuNjg5IDMyLjQ5NSAxMjQuODU1IDMxLjYwOUMxMjQuMDE4IDMwLjcyMiAxMjMuMzU0IDI5LjY2MiAxMjIuODcxIDI4LjQyMkMxMjIuMzg0IDI3LjE4NSAxMjIuMTQyIDI1LjgxMSAxMjIuMTQyIDI0LjMwNEMxMjIuMTQyIDIyLjc5OCAxMjIuMzg0IDIxLjM3OCAxMjIuODcxIDIwLjExNkMxMjMuMzU3IDE4Ljg1NCAxMjQuMDE4IDE3Ljc3MiAxMjQuODU1IDE2Ljg3M0MxMjUuNjg4IDE1Ljk3NjQgMTI2LjY5OCAxNS4yNjM2IDEyNy44MjIgMTQuNzhDMTI4Ljk2MyAxNC4yODEgMTMwLjIwMyAxNC4wMzMgMTMxLjUzNiAxNC4wMzNDMTMzLjA0MyAxNC4wMzMgMTM0LjMzIDE0LjMxOCAxMzUuMzk3IDE0Ljg4OEMxMzYuNDYyIDE1LjQ1ODkgMTM3LjM3NSAxNi4yNzggMTM4LjA1NyAxNy4yNzZWMTQuMzYxSDE0My4wMTFaTTEzMi42MzEgMzAuMTMzQzEzNC4yNTYgMzAuMTMzIDEzNS41NjcgMjkuNTk0IDEzNi41NjUgMjguNTEyQzEzNy41NjEgMjcuNDMgMTM4LjA2IDI1Ljk5MSAxMzguMDYgMjQuMTk2QzEzOC4wNiAyMi40MDEgMTM3LjU2MSAyMC45OSAxMzYuNTY1IDE5Ljg5OUMxMzUuNTcgMTguODA3IDEzNC4yNTkgMTguMjU4IDEzMi42MzEgMTguMjU4QzEzMS4wMDMgMTguMjU4IDEyOS43MjkgMTguODA0IDEyOC43MzQgMTkuODk5QzEyNy43MzggMjAuOTkzIDEyNy4yMzkgMjIuNDM4IDEyNy4yMzkgMjQuMjMzQzEyNy4yMzkgMjYuMDI4IDEyNy43MzUgMjcuNDMzIDEyOC43MzQgMjguNTE1QzEyOS43MjkgMjkuNTk0IDEzMS4wMjggMzAuMTM2IDEzMi42MzEgMzAuMTM2VjMwLjEzM1pNOTMuNjk4IDI3Ljg3NkM5My41Nzk1IDI4LjAwMjUgOTMuNDU2NCAyOC4xMjQ2IDkzLjMyOSAyOC4yNDJDOTEuOTQ3IDI5LjUxNiA5MC4xMjMgMzAuMTU1IDg3Ljg2NiAzMC4xNTVDODYuNTggMzAuMTU1IDg1LjQwOCAyOS45MjYgODQuMzUgMjkuNDY0QzgzLjMxNTUgMjkuMDE4OSA4Mi4zODk4IDI4LjM1NDYgODEuNjM3IDI3LjUxN0M4MC44ODQgMjYuNjc5IDgwLjMwMSAyNS42NzIgNzkuODg5IDI0LjQ5NEM3OS40NzYgMjMuMzE1IDc5LjI2OSAyMi4wMSA3OS4yNjkgMjAuNTc4Qzc5LjI2OSAxOS4xNDUgNzkuNDczIDE3Ljg0IDc5Ljg4OSAxNi42NjJDODAuMzAxIDE1LjQ4NCA4MC44ODQgMTQuNDc2IDgxLjYzNyAxMy42MzlDODIuMzk0OSAxMi43OTg3IDgzLjMyNzMgMTIuMTM0MiA4NC4zNjkgMTEuNjkyQzg1LjQzNiAxMS4yMyA4Ni42MTQgMTEgODcuOTAzIDExQzkwLjU3IDExIDkyLjU5NSAxMS42NDIgOTMuOTc3IDEyLjkyNkw5Ny4yNTggOS42NDQ5OUM5NC43NzQgNy43MTA5OSA5MS42MzMgNi43Mzk5OSA4Ny44MjkgNi43Mzk5OUM4NS43MTggNi43Mzk5OSA4My44MTEgNy4wNzQ5OSA4Mi4xMTIgNy43NDE5OUM4MC40MTMgOC40MDc5OSA3OC45NTYgOS4zNDQ5OSA3Ny43NCAxMC41NDVDNzYuNTI1IDExLjc0NyA3NS41OTIgMTMuMTk5IDc0LjkzNCAxNC44OThDNzQuMjc3IDE2LjU5NyA3My45NTEgMTguNDkxIDczLjk1MSAyMC41ODFDNzMuOTUxIDIyLjY3IDc0LjI4NiAyNC41MzQgNzQuOTUzIDI2LjI0NUM3NS42MTkgMjcuOTU3IDc2LjU2MiAyOS40MTQgNzcuNzc0IDMwLjYxN0M3OC45OSAzMS44MiA4MC40NDQgMzIuNzUzIDgyLjE0NiAzMy40MjNDODMuODQ1IDM0LjA5IDg1LjczOSAzNC40MjQgODcuODI5IDM0LjQyNEM4OS45MTkgMzQuNDI0IDkxLjcwOCAzNC4wOSA5My4zNDggMzMuNDIzQzk0LjcxOCAzMi44NjUgOTUuOTE4IDMyLjEyMSA5Ni45NDggMzEuMTkxQzk3LjE0OSAzMS4wMDggOTcuMzQ4IDMwLjgxNSA5Ny41MzcgMzAuNjJMOTMuNzAxIDI3Ljg4NUw5My42OTggMjcuODc2Wk0xMTAuODAyIDE0LjAxNUMxMDkuMTk5IDE0LjAxNSAxMDYuODM2IDE0LjQ3MSAxMDUuNjExIDE2LjE1OEwxMDUuNTM3IDYuMDE1OTlIMTAwLjc2NVYzMy45MzlIMTA1LjcyVjIyLjY0MUMxMDUuNzcxIDIxLjQ2MDcgMTA2LjI4OCAyMC4zNDg4IDEwNy4xNTcgMTkuNTQ4OUMxMDguMDI3IDE4Ljc0OTEgMTA5LjE3OCAxOC4zMjY2IDExMC4zNTggMTguMzc0QzExMy4zOTcgMTguMzc0IDExNC4yNjggMjEuMTU5IDExNC4yNjggMjIuNjQxVjMzLjkzOUgxMTkuMjIzVjIxLjA1OUMxMTkuMjIzIDIxLjA1OSAxMTkuMTQyIDE0LjAxNSAxMTAuODAyIDE0LjAxNVpNMTczLjc2MyAxNC4zNThIMTY5Ljk5OVY4LjcxNDk5SDE2NS4wNDhWMTQuMzU4SDE2MS4yODRWMTguOTE2SDE2NS4wNDhWMzQuMDAzSDE2OS45OTlWMTguOTE2SDE3My43NjNWMTQuMzU4Wk0xOTAuNzg3IDI1LjI2MkMxOTAuMTI5IDI0LjUwMTQgMTg5LjMwNyAyMy44OTk0IDE4OC4zODQgMjMuNTAxQzE4Ny40ODggMjMuMTE3IDE4Ni4zMzEgMjIuNzMyIDE4NC45NDggMjIuMzY0QzE4NC4xNjUgMjIuMTQzOSAxODMuMzkgMjEuODk3OCAxODIuNjIzIDIxLjYyNkMxODIuMTYzIDIxLjQ2MjEgMTgxLjc0MSAyMS4yMDY2IDE4MS4zODMgMjAuODc1QzE4MS4yMzUgMjAuNzQyMSAxODEuMTE4IDIwLjU3ODkgMTgxLjAzOSAyMC4zOTY0QzE4MC45NjEgMjAuMjE0IDE4MC45MjIgMjAuMDE2NiAxODAuOTI3IDE5LjgxOEMxODAuOTI3IDE5LjI3MiAxODEuMTU2IDE4Ljg0NCAxODEuNjI1IDE4LjUxQzE4Mi4xMjEgMTguMTU2IDE4Mi44NjIgMTcuOTc2IDE4My44MjYgMTcuOTc2QzE4NC43OSAxNy45NzYgMTg1LjU4NyAxOC4yMDkgMTg2LjE0OCAxOC42NjhDMTg2LjcwNiAxOS4xMjQgMTg3LjAwNyAxOS43MjUgMTg3LjA3MiAyMC41TDE4Ny4wOTQgMjAuNzgySDE5MS42MzNMMTkxLjYxNyAyMC40NkMxOTEuNTIxIDE4LjQ4NSAxOTAuNzcxIDE2LjkgMTg5LjM4NSAxNS43NUMxODguMDEyIDE0LjYxMiAxODYuMTg1IDE0LjAzMyAxODMuOTYyIDE0LjAzM0MxODIuNDc3IDE0LjAzMyAxODEuMTQxIDE0LjI4NyAxNzkuOTk0IDE0Ljc4NkMxNzguODMxIDE1LjI5MSAxNzcuOTI2IDE1Ljk5NSAxNzcuMjk2IDE2Ljg4MkMxNzYuNjczIDE3Ljc0NTUgMTc2LjMzOCAxOC43ODQgMTc2LjM0MSAxOS44NDlDMTc2LjM0MSAyMS4xNjcgMTc2LjY5OCAyMi4yNDkgMTc3LjM5OSAyMy4wNjRDMTc4LjA2IDIzLjg0MzIgMTc4Ljg5OCAyNC40NTM0IDE3OS44NDIgMjQuODQ0QzE4MC43NDQgMjUuMjE2IDE4MS45MjggMjUuNjA3IDE4My4zNjEgMjZDMTg0LjgwNiAyNi40MSAxODUuODcyIDI2Ljc4NSAxODYuNTMgMjcuMTIzQzE4Ny4xIDI3LjQxNCAxODcuMzc5IDI3Ljg0NSAxODcuMzc5IDI4LjQ0NEMxODcuMzc5IDI5LjA0MiAxODcuMTIyIDI5LjQ2NyAxODYuNTk1IDI5LjgzOUMxODYuMDQzIDMwLjIyNiAxODUuMjM3IDMwLjQyNSAxODQuMjAxIDMwLjQyNUMxODMuMTY2IDMwLjQyNSAxODIuMzk0IDMwLjE3NCAxODEuNzQ5IDI5LjY3NEMxODEuMTEzIDI5LjE4MSAxODAuNzcyIDI4LjU4OSAxODAuNzEgMjcuODY0TDE4MC42ODUgMjcuNTgySDE3Ni4wMTNMMTc2LjAyNSAyNy45MDFDMTc2LjA2NyAyOS4wOTU1IDE3Ni40NzIgMzAuMjQ4NyAxNzcuMTg4IDMxLjIwNkMxNzcuOTA3IDMyLjE4IDE3OC44OTMgMzIuOTU4IDE4MC4xMTggMzMuNTE5QzE4MS4zMzYgMzQuMDc3IDE4Mi43MzIgMzQuMzYyIDE4NC4yNjYgMzQuMzYyQzE4NS44MDEgMzQuMzYyIDE4Ny4xMDkgMzQuMTA4IDE4OC4yMzggMzMuNjA5QzE4OS4zNzYgMzMuMTA0IDE5MC4yNzIgMzIuMzk0IDE5MC45MDEgMzEuNDk0QzE5MS41MzQgMzAuNTkyIDE5MS44NTMgMjkuNTU0IDE5MS44NTMgMjguNDAzQzE5MS44MjggMjcuMTEgMTkxLjQ2NiAyNi4wNTMgMTkwLjc3NyAyNS4yNjJIMTkwLjc4N1oiIGZpbGw9IiM5QjlCOUIiLz4KPHBhdGggZD0iTTI0MS45ODIgMjUuNjU4MlYxNy43MTE3SDIyOC40NDFMMjIwLjQ5NCAyNS42NTgySDI0MS45ODJaIiBmaWxsPSIjOUI5QjlCIi8+CjxwYXRoIGQ9Ik0yNTcuMjM5IDUuOTUwODFIMjQwLjI2NUwyMzIuMjU1IDEzLjg5NzNIMjU3LjIzOVY1Ljk1MDgxWiIgZmlsbD0iIzlCOUI5QiIvPgo8cGF0aCBkPSJNMjEyLjYxMSAzMy42MDQ4TDIxNi42OCAyOS41MzYxSDIzMC40MTJWMzcuNDgyN0gyMTIuNjExVjMzLjYwNDhaIiBmaWxsPSIjOUI5QjlCIi8+CjxwYXRoIGQ9Ik0yMTUuNTk5IDIxLjc4MDNIMjI0LjM3MkwyMzIuMzgyIDEzLjgzMzdIMjE1LjU5OVYyMS43ODAzWiIgZmlsbD0iIzlCOUI5QiIvPgo8cGF0aCBkPSJNMjA2IDMzLjYwNDdIMjEyLjYxMUwyMjAuNDk0IDI1LjY1ODJIMjA2VjMzLjYwNDdaIiBmaWxsPSIjOUI5QjlCIi8+CjxwYXRoIGQ9Ik0yNDAuMjY1IDUuOTUwODFMMjM2LjE5NyAxMC4wMTk0SDIxMC4yNTlWMi4wNzI4OEgyNDAuMjY1VjUuOTUwODFaIiBmaWxsPSIjOUI5QjlCIi8+Cjwvc3ZnPgo=",width:170,height:25,right:25,bottom:50,opacity:.7}}));const h={...i.chartOptions.specialOverrides},p={...i.chartOptions.optionMetadata},f=this.factoryApi.create(d,l,h,p);await f.setState(o),(S=f.chart)==null||S.ctx.zoomManager.updateZoom("chartProxy",i.ctx.zoomManager.getZoom()),(w=f.chart)==null||w.ctx.legendManager.clearData(),(b=f.chart)==null||b.ctx.legendManager.update(i.ctx.legendManager.getData()),i.series.forEach((E,T)=>{E.visible||(f.chart.series[T].visible=!1)});const v=[];for(const E of i.modulesManager.legends())v.push(((x=E.legend.pagination)==null?void 0:x.currentPage)??0);for(const E of f.chart.modulesManager.legends()){const T=v.shift()??0;E.legend.pagination&&E.legend.pagination.setPage(T)}return(D=f.chart)==null||D.update(0,{forceNodeDataRefresh:!0}),await f.waitForUpdate(),f}getEnabledOriginators(){var d,h,p;if(!this.chart)return[];const{chartOptions:{processedOptions:t,optionMetadata:i},ctx:{annotationManager:s,chartTypeOriginator:n,zoomManager:r,legendManager:o}}=this.chart,a=[];return"annotations"in t&&((d=t.annotations)!=null&&d.enabled)&&a.push(s),i.presetType==="price-volume"&&a.push(n),((h=t.navigator)!=null&&h.enabled||(p=t.zoom)!=null&&p.enabled)&&a.push(r),"legend"in this.chart&&a.push(o),a}async setStateOriginators(t,i){var s,n;this.factoryApi.caretaker.restore(t,...i),(s=this.chart)==null||s.ctx.updateService.update(2,{forceNodeDataRefresh:!0}),await((n=this.chart)==null?void 0:n.waitForUpdate())}};yp.chartInstances=new WeakMap;R([an({oldValue(e){e.destroyed||(e.publicApi=void 0),yp.chartInstances.delete(e)},newValue(e){e&&(e.publicApi=this,yp.chartInstances.set(e,this))}})],yp.prototype,"chart",2);var ZP=yp,ME=class extends IC{constructor(e){super(),this.ctx=e,this.localeText=void 0}};R([Ol(e=>{e.ctx.localeManager.setLocaleText(e.localeText)}),A()],ME.prototype,"localeText",2);R([Ol(e=>{e.ctx.localeManager.setLocaleTextFormatter(e.getLocaleText)}),A()],ME.prototype,"getLocaleText",2);var Kae={type:"root",optionsKey:"locale",packageType:"community",chartTypes:["cartesian","polar","hierarchy","topology","flow-proportion","standalone","gauge"],moduleFactory:e=>new ME(e)},Tf=class extends xf{constructor(){super(...arguments),this.type="band",this.index=void 0,this._domain=[]}set domain(e){this._domain!==e&&(this.invalid=!0,this._domain=e,this.index=void 0)}get domain(){return this._domain}normalizeDomains(...e){let t;const i=new Set;let s=!0;for(const n of e)i.has(n)||(i.add(n),t==null?t=XP(n):(s&&(s=qae(n,t)),t=XP([...t,...n])));return t??(t=[]),{domain:t,animatable:s}}toDomain(e){}invert(e,t=!1){this.refresh();const i=t?this.bandwidth/2:0,s=this.invertNearestIndex(Math.max(0,e-i));return t||e===this.ordinalRange(s)?this.domain[s]:void 0}getIndex(e){let{index:t}=this;if(t==null){const{domain:i}=this;t=new Map;for(let s=0;s<i.length;s++)t.set(Ds(i[s]),s);this.index=t}return t.get(Ds(e))}};function XP(e){let t;const i=new Set;for(const s of e){const n=Ds(s),r=i.size;i.add(n),i.size!==r?t==null||t.push(s):t??(t=e.slice(0,i.size))}return t??e}function qae(e,t){let i=-1;for(const s of e){const n=t.indexOf(s);if(n===-1)i=1/0;else{if(n<=i)return!1;i=n}}return!0}var Ch=class gB extends Rf{constructor(t,i=new Tf){super(t,i),this.groupPaddingInner=.1,this.includeInvisibleDomains=!0,this.nice=!1}static is(t){return t instanceof gB}normaliseDataDomain(t){return{domain:t,clipped:!1}}updateScale(){super.updateScale();let{paddingInner:t,paddingOuter:i}=this;if(!lt(t)||!lt(i)){const s=this.reduceBandScalePadding();t??(t=s.inner),i??(i=s.outer)}this.scale.paddingInner=t??0,this.scale.paddingOuter=i??0}reduceBandScalePadding(){return this.boundSeries.reduce((t,i)=>{var n;const s=(n=i.getBandScalePadding)==null?void 0:n.call(i);return s&&(t.inner>s.inner&&(t.inner=s.inner),t.outer<s.outer&&(t.outer=s.outer)),t},{inner:1/0,outer:-1/0})}};Ch.className="CategoryAxis";Ch.type="category";R([A()],Ch.prototype,"groupPaddingInner",2);R([A()],Ch.prototype,"paddingInner",2);R([A()],Ch.prototype,"paddingOuter",2);var du=Ch,QP=class extends Tf{normalizeDomains(...e){const{domain:t}=super.normalizeDomains(...e);return{domain:t,animatable:!1}}getIndex(e){return super.getIndex(e)??this.getMatchIndex(e)}getMatchIndex(e){const t=JSON.stringify(e),i=this._domain.find(s=>JSON.stringify(s)===t);if(i!=null)return super.getIndex(i)}};function Sa(e){if(e.length===0)return null;let t=1/0,i=-1/0;for(const n of e){const r=n instanceof Date?n.getTime():n;typeof r=="number"&&(r<t&&(t=r),r>i&&(i=r))}const s=[t,i];return s.every(isFinite)?s:null}function DE(e,t,i){let s=!1;return e.length>2&&(e=Sa(e)??[NaN,NaN]),t!=null&&(s||(s=t>e[0]),e=[t,e[1]]),i!=null&&(s||(s=i<e[1]),e=[e[0],i]),e[0]>e[1]&&(e=[]),{extent:e,clipped:s}}var $g=new WeakMap;function Qy(e,t){var s,n,r;const i=JSON.stringify(e,null,0);return $g.has(t)||$g.set(t,new Map),(s=$g.get(t))!=null&&s.has(i)||(n=$g.get(t))==null||n.set(i,t(e)),(r=$g.get(t))==null?void 0:r.get(i)}function Os(e,t){const i=new Map,s=(...o)=>o.map(a=>typeof a=="object"||typeof a=="symbol"?a:(i.has(a)||i.set(a,{v:a}),i.get(a))),n={},r=new WeakMap;return(...o)=>{const a=o.length===0?[n]:s(...o);let l=r;for(const p of a.slice(0,-1))l.has(p)||l.set(p,new WeakMap),l=l.get(p);const d=a.at(-1);let h=l.get(d);return h?t==null||t("hit",e,o):(h=e(...o),l.set(d,h),t==null||t("miss",e,o)),h}}function nb(e,t=[0,0]){for(const i of e)typeof i=="number"&&(i<0&&(t[0]+=i),i>0&&(t[1]+=i));return t}function Zae(e,t){return{id:e,matchGroupIds:[t],type:"aggregate",aggregateFunction:s=>nb(s)}}function pB(e,t){return{id:e,type:"aggregate",matchGroupIds:t?[t]:void 0,aggregateFunction:i=>nb(i),groupAggregateFunction:(i,s=[0,0])=>(s[0]+=(i==null?void 0:i[0])??0,s[1]+=(i==null?void 0:i[1])??0,s)}}function Xae(e,t){return{id:e,matchGroupIds:[t],type:"aggregate",aggregateFunction:s=>nl.extendDomain(s)}}function ZM(e){return{id:e,type:"aggregate",aggregateFunction:()=>[0,1],groupAggregateFunction:(t,i=[0,0])=>(i[0]+=(t==null?void 0:t[0])??0,i[1]+=(t==null?void 0:t[1])??0,i)}}function fB(e,t){return{id:e,matchGroupIds:t?[t]:void 0,type:"aggregate",aggregateFunction:s=>nb(s),groupAggregateFunction:(s,n=[0,0,-1])=>(n[0]+=(s==null?void 0:s[0])??0,n[1]+=(s==null?void 0:s[1])??0,n[2]++,n),finalFunction:(s=[0,0,0])=>{const n=s[0]+s[1];return n>=0?[0,n/s[2]]:[n/s[2],0]}}}function XM(e,t,i){const s={id:e,matchGroupIds:i?[i]:void 0,type:"aggregate",aggregateFunction:(n,r=[])=>{const o=r[1]-r[0];return t.aggregateFunction(n).map(a=>a/o)}};return t.groupAggregateFunction&&(s.groupAggregateFunction=t.groupAggregateFunction),s}function mB(e){return()=>{let t=0;return i=>lt(i)?(t+=e?Math.max(0,i):i,t):i}}function vB(){return()=>{let e=0;return t=>{if(!lt(t))return t;const i=e;return e+=t,i}}}function yB(e){return e!=null&&QC(e)}function Qae(e){return e!=null}function CB(e){switch(e){case"number":case"log":case"ordinal-time":case"time":case"color":return yB;default:return Qae}}function bB(e){switch(e){case"number":case"log":case"time":case"color":return"range";default:return"category"}}function kr(e,t,i={}){return{property:e,type:"key",valueType:bB(t),validation:CB(t),...i}}function et(e,t,i={}){return{property:e,type:"value",valueType:bB(t),validation:CB(t),...i}}function SB(e,t={}){return{property:e,type:"value",valueType:"range",missingValue:1,processor:()=>()=>1,...t}}var Jae=function(e){return e};function wB(...e){const t=e.filter(i=>i!=null);return t.length===0?()=>Jae:t.length===1?t[0]:()=>{const i=t.map(s=>s());return(s,n)=>i.reduce((r,o)=>o(r,n),s)}}function RE(e,t={}){const{min:i=-1/0,max:s=1/0,processor:n,...r}=t;return{type:"value",property:e,valueType:"range",validation:yB,processor:wB(n,()=>o=>lt(o)?Be(i,o,s):o),...r}}function Up(e,t,i={}){const{onlyPositive:s,processor:n,...r}=i;return{...et(e,t,r),processor:wB(n,mB(s))}}function ele(e,t,i={}){return{...et(e,t,i),processor:vB()}}function vl(e,t,i,s,n){return[et(e,n,s),EB(s.groupId,t,i,s.separateNegative),...s.rangeId!=null?[Xae(s.rangeId,s.groupId)]:[]]}function xB(e,t,i){return[et(e,t,i),AB(i.groupId)]}var MB={type:"reducer",property:"smallestKeyInterval",initialValue:1/0,reducer:()=>{let e=NaN;return(t=1/0,i)=>{const s=typeof i[0]=="number"?i[0]:Number(i[0]),n=Math.abs(s-e);return e=s,!isNaN(n)&&n>0&&n<t?n:t}}},DB={type:"reducer",property:"largestKeyInterval",initialValue:-1/0,reducer:()=>{let e=NaN;return(t=-1/0,i)=>{const s=typeof i[0]=="number"?i[0]:Number(i[0]),n=Math.abs(s-e);return e=s,!isNaN(n)&&n>0&&n>t?n:t}}},RB={type:"processor",property:"sortedGroupDomain",calculate:({domain:{groups:e}})=>e==null?void 0:e.slice().sort((t,i)=>{for(let s=0;s<t.length;s++){const n=t[s]-i[s];if(n!==0)return n}return 0})};function tle({normaliseTo:e}){const t=(i,s)=>{if(s===0)return null;const n=(i??0)*e/s;return n>=0?Math.min(e,n):Math.max(-e,n)};return()=>()=>(i,s,n)=>{const r=ile(i,s,n);for(const o of s)for(const a of n.datumIndices[o]??[]){const l=i[o],d=l[a];if(d==null){l[a]=void 0;continue}l[a]=typeof d=="number"?t(d,r):d.map(h=>t(h,r))}}}function ile(e,t,i){const s=[0,0];for(const n of t){const r=e[n];for(const o of i.datumIndices[n]??[]){const a=r[o];if(a==null)continue;const l=typeof a=="number"?a:Math.max(...a.map(h=>h??0)),d=l<0?0:1;d===0?s[d]=Math.min(s[d],l):s[d]=Math.max(s[d],l)}}return Math.max(Math.abs(s[0]),s[1])}function rb(e,t){return{type:"group-value-processor",matchGroupIds:e,adjust:Qy({normaliseTo:t},tle)}}function sle({normaliseTo:e,zeroDomain:t,rangeMin:i,rangeMax:s}){const n=e[1]-e[0],r=(o,a,l)=>{const d=e[0]+(o-a)/l*n;return l===0?t:d>=e[1]?e[1]:d<e[0]?e[0]:d};return()=>(o,a)=>{let[l,d]=o.domain.values[a];i!=null&&(l=i),s!=null&&(d=s);const h=d-l;o.domain.values[a]=[e[0],e[1]];const p=o.columns[a];for(let f=0;f<p.length;f+=1)p[f]=r(p[f],l,h)}}function Wc(e,t,i,s,n){return{type:"property-value-processor",property:e,adjust:Qy({normaliseTo:t,rangeMin:s,rangeMax:n,zeroDomain:i},sle)}}var QM=1,JM=2,JP=(e,t,i,s)=>{var o,a;let n=QM|JM;if(t.valueType==="category")return i.length!==e&&(n&=-2),n;let r=(o=s[0])==null?void 0:o.valueOf();for(let l=1;n!==0&&l<s.length;l++){const d=(a=s[l])==null?void 0:a.valueOf();(!Number.isFinite(d)||r>d)&&(n&=-3),Number.isFinite(d)&&r===d&&(n&=-2),r=d}return n};function bh(e){return{type:"processor",property:"animationValidation",calculate(t){const{keys:i,values:s}=t.defs,{input:{count:n},domain:{keys:r,values:o},keys:a,columns:l}=t;let d=QM|JM;if(n!==0){for(let h=0;d!==0&&h<i.length;h++)for(const p of i[h].scopes)d&=JP(n,i[h],r[h],a[h].get(p));for(let h=0;d!==0&&h<s.length;h++){const p=s[h];e!=null&&e.includes(p.id)&&(d&=JP(n,p,o[h],l[h]))}}return{uniqueKeys:(d&QM)!==0,orderedKeys:(d&JM)!==0}}}}function nle({mode:e,separateNegative:t}){return()=>()=>(i,s,n)=>{const r=[0,0];for(const o of s)for(const a of n.datumIndices[o]??[]){const l=i[o],d=l[a],h=SR(d)&&t?0:1;lt(d)&&(e==="normal"&&(r[h]+=d),l[a]=r[h],e==="trailing"&&(r[h]+=d))}}}function rle({mode:e,sum:t}){return()=>{const i=[];let s=!0;return()=>(n,r,o)=>{let a=0;for(const l of r){const d=n[l];for(const h of o.datumIndices[l]??[]){const p=d[h],f=s&&t==="current"?0:i[l];i[l]=p;const v=t==="current"?p:f;if(!lt(p)||!lt(f)){d[h]=a;continue}e==="normal"&&(a+=v),d[h]=a,e==="trailing"&&(a+=v)}}s=!1}}}function EB(e,t,i,s=!1){let n;if(t.startsWith("window")){const r=t.endsWith("-trailing")?"trailing":"normal";n=Qy({mode:r,sum:i},rle)}else n=Qy({mode:t,separateNegative:s},nle);return{type:"group-value-processor",matchGroupIds:[e],adjust:n}}function ole(){return()=>(e,t,i)=>{const s=new Float64Array(t.length);let n=0;for(const r of t){const o=e[r];for(const a of i.datumIndices[r]??[]){const l=o[a];s[n]=Number.isFinite(l)?l:NaN,n+=1,o[a]=s.subarray(0,n)}}}}function AB(e){return{type:"group-value-processor",matchGroupIds:[e],adjust:ole}}function eO(e){return e.id??e.property}function ale(e,t,i){var a,l;const s=new Map,n=t.defs.values;for(let d=0;d<n.length;d+=1){const h=n[d];if(((a=h.scopes)==null?void 0:a.includes(e))===!1)continue;const p=eO(h);if(s.has(p))return;s.set(p,d)}const r=[],o=i.defs.values;for(let d=0;d<o.length;d+=1){const h=o[d];if(((l=h.scopes)==null?void 0:l.includes(e))===!1)continue;const p=eO(h),f=s.get(p);if(f==null)return;s.delete(p),r.push({previousIndex:f,nextIndex:d})}if(s.size===0)return r}function W0(e,t,i,s,n){for(const{previousIndex:r,nextIndex:o}of i){const a=e[r],l=t[o],d=a[s],h=l[n];if(d!==h)return!1}return!0}function Sh(e,t,i=!0){return{type:"processor",property:"diff",calculate(s,n){const r=new Map,o=new Map,a=new Map,l=new Map,d=t.keys,h=s.keys,p=t.columns,f=s.columns,v=ale(e,t,s);if(v==null)return n;const y=Math.max(t.input.count,s.input.count);for(let b=0;b<y;b++){const x=b<t.input.count,D=b<s.input.count,E=x?Yy(d,e,b):void 0,T=E!=null?ts(E):"",k=D?Yy(h,e,b):void 0,P=k!=null?ts(k):"";if(D&&x&&T===P){W0(p,f,v,b,b)||a.set(P,b);continue}const O=l.get(P);O!=null?((i||!W0(p,f,v,O,b))&&(a.set(P,b),r.set(P,b)),l.delete(P)):D&&o.set(P,b);const F=o.get(T);F!=null?((i||!W0(p,f,v,F,b))&&(a.set(T,b),r.set(T,b)),o.delete(T)):x&&(a.delete(T),l.set(T,b))}const w={changed:o.size>0||a.size>0||l.size>0,added:new Set(o.keys()),updated:new Set(a.keys()),removed:new Set(l.keys()),moved:new Set(r.keys())};return{...n,[e]:w}}}}function ts(e,...t){let i;return $e(e)?i=e.map(n=>WM(n)).join("___"):i=WM(e),(typeof i=="string"||typeof i=="number"||typeof i=="boolean"||i instanceof Date)&&t.length>0&&(i+=`___${t.join("___")}`),i}var lle=class{constructor(){this.top=1/0,this.right=-1/0,this.bottom=-1/0,this.left=1/0}update(e,t){e>this.right&&(this.right=e),e<this.left&&(this.left=e),t>this.bottom&&(this.bottom=t),t<this.top&&(this.top=t)}},cle=class TB{constructor(t="",i,s){this.label=t,this.parent=i,this.refId=s,this.x=0,this.y=0,this.subtreeLeft=NaN,this.subtreeRight=NaN,this.children=[],this.leafCount=0,this.prelim=0,this.mod=0,this.ancestor=this,this.change=0,this.shift=0,this.index=0,this.screenX=0,this.depth=i?i.depth+1:0}insertTick(t,i){let s=this;for(let n=0;n<t.length;n++){const r=t[n],o=n!==t.length-1,{children:a}=s,l=a.find(d=>d.label===r);if(l&&o)s=l;else{const d=new TB(r,s,i);d.index=a.length,a.push(d),o&&(s=d)}}}getLeftSibling(){var t;return this.index>0?(t=this.parent)==null?void 0:t.children[this.index-1]:void 0}getLeftmostSibling(){var t;return this.index>0?(t=this.parent)==null?void 0:t.children[0]:void 0}nextLeft(){return this.children[0]}nextRight(){return this.children.at(-1)}getSiblings(){var t;return((t=this.parent)==null?void 0:t.children.filter((i,s)=>s!==this.index))??[]}};function ule(e){const t=e.reduce((s,n)=>s<n.length?n.length:s,0),i=new cle;for(let s=0;s<e.length;s++){const n=e[s];for(;n.length<t;)n.push("");i.insertTick(n,s)}return i}function dle(e,t,i){const s=t.index-e.index,n=i/s;t.change-=n,t.shift+=i,e.change+=n,t.prelim+=i,t.mod+=i}function hle(e,t,i){return t.getSiblings().indexOf(e.ancestor)>=0?e.ancestor:i}function gle({children:e}){let t=0,i=0;for(let s=e.length-1;s>=0;s--){const n=e[s];n.prelim+=t,n.mod+=t,i+=n.change,t+=n.shift+i}}function ple(e,t){const i=e.getLeftSibling();if(i){let s=e,n=e,r=i,o=n.getLeftmostSibling(),a=n.mod,l=s.mod,d=r.mod,h=o.mod;for(;r.nextRight()&&n.nextLeft();){r=r.nextRight(),n=n.nextLeft(),o=o.nextLeft(),s=s.nextRight(),s.ancestor=e;const p=r.prelim+d-(n.prelim+a)+1;p>0&&(dle(hle(r,e,t),e,p),a+=p,l+=p),d+=r.mod,a+=n.mod,h+=o.mod,l+=s.mod}r.nextRight()&&!s.nextRight()?s.mod+=d-l:(n.nextLeft()&&!o.nextLeft()&&(o.mod+=a-h),t=e)}return t}function IB(e){const{children:t}=e;if(t.length){let[i]=t;for(const r of t)IB(r),i=ple(r,i);gle(e);const s=(t[0].prelim+t.at(-1).prelim)/2,n=e.getLeftSibling();n?(e.prelim=n.prelim+1,e.mod=e.prelim-s):e.prelim=s}else{const i=e.getLeftSibling();e.prelim=i?i.prelim+1:0}}function LB(e,t,i){e.x=e.prelim+t,e.y=e.depth,i.insertNode(e);for(const s of e.children)LB(s,t+e.mod,i)}function kB(e){const{children:t}=e;let i=0;for(const s of t)kB(s),s.children.length?i+=s.leafCount:i++;e.leafCount=i,t.length?(e.subtreeLeft=t[0].subtreeLeft,e.subtreeRight=t[t.length-1].subtreeRight,e.x=(e.subtreeLeft+e.subtreeRight)/2):(e.subtreeLeft=e.x,e.subtreeRight=e.x)}function fle(e){const t=new mle,i=ule(e);return IB(i),LB(i,-i.prelim,t),kB(i),t}var mle=class{constructor(){this.dimensions=new lle,this.nodes=[],this.depth=0}insertNode(e){this.depth<e.depth&&(this.depth=e.depth),this.dimensions.update(e.x,e.y),this.nodes.push(e)}scalingX(e,t){let i=1;if(e>0){const{left:s,right:n}=this.dimensions;i=e/(n-s)}return t&&(i*=-1),i}},wa=class extends Ge{constructor(){super(...arguments),this.enabled=!0}};R([A()],wa.prototype,"enabled",2);R([A()],wa.prototype,"avoidCollisions",2);R([A()],wa.prototype,"color",2);R([A()],wa.prototype,"spacing",2);R([A()],wa.prototype,"fontStyle",2);R([A()],wa.prototype,"fontWeight",2);R([A(An.restrict({min:1}))],wa.prototype,"fontSize",2);R([A()],wa.prototype,"fontFamily",2);var ob=class extends Ge{constructor(){super(...arguments),this.enabled=!0}};R([A()],ob.prototype,"enabled",2);R([A()],ob.prototype,"width",2);R([A()],ob.prototype,"stroke",2);var EE=class extends Ge{constructor(){super(...arguments),this.label=new wa,this.tick=new ob}};R([A()],EE.prototype,"label",2);R([A()],EE.prototype,"tick",2);var hu=class extends du{constructor(e){super(e,new QP),this.tickScale=new QP,this.depthOptions=new Cf(EE),this.includeInvisibleDomains=!0,this.tickScale.paddingInner=1,this.tickScale.paddingOuter=0}resizeTickTree(){if(!this.tickTreeLayout)return;const{nodes:e}=this.tickTreeLayout,{range:t,step:i,inset:s,bandwidth:n}=this.scale,r=Math.abs(t[1]-t[0])-i,o=this.tickTreeLayout.scalingX(r,t[0]>t[1]),a=s+n/2;let l=0;for(const d of e){const h=d.x*o;l>h&&(l=h),d.screenX=h+a}for(const d of e)d.screenX-=l}getDepthOptionsMap(e){var n,r,o,a;const t=[],{depthOptions:i,label:s}=this;for(let l=0;l<e;l++)t.push(((n=i[l])==null?void 0:n.label.enabled)??s.enabled?{enabled:!0,spacing:((r=i[l])==null?void 0:r.label.spacing)??s.spacing,lineHeight:Wt.getLineHeight(((o=i[l])==null?void 0:o.label.fontSize)??s.fontSize??10),avoidCollisions:((a=i[l])==null?void 0:a.label.avoidCollisions)??s.avoidCollisions}:{enabled:!1,spacing:0,lineHeight:0,avoidCollisions:!1});return t}updateCategoryLabels(){this.computedLayout&&this.tickLabelGroupSelection.update(this.computedLayout.tickLabelLayout).each((e,t)=>e.setProperties(t))}updateAxisLine(){this.computedLayout&&(this.lineNode.visible=this.line.enabled,this.lineNode.stroke=this.line.stroke,this.lineNode.strokeWidth=this.line.width)}computeLayout(){var Ce;if(this.updateDirection(),this.updateScale(),this.resizeTickTree(),!((Ce=this.tickTreeLayout)!=null&&Ce.depth))return{bbox:De.zero,separatorLayout:[],tickLabelLayout:[]};const{step:e}=this.scale,{title:t,label:i,range:s,depthOptions:n}=this,{depth:r,nodes:o}=this.tickTreeLayout,a=Math.ceil(i.fontSize/e),l=Yt(this.rotation),d=this.position==="top"||this.position==="bottom",h=i.getSideFlag(),p=[],f=new Map,v=new Yd,{defaultRotation:y,configuredRotation:S}=Ky({rotation:i.rotation,parallel:i.parallel,regularFlipRotation:Bt(l-Math.PI/2),parallelFlipRotation:Bt(l)}),w=y+S,b=this.getDepthOptionsMap(r),x=(G,K)=>{var _,Y;const ne=r-G.depth;if(!((_=b[ne])!=null&&_.enabled)||K%a!==0||!Gte(G.screenX,s))return!1;const ge=this.formatTick(G.label,K-1,this.scale.domain),B=this.getLabelStyles({value:ge,depth:ne},(Y=n[ne])==null?void 0:Y.label);return v.setProperties({...B,text:ge,textAlign:"center",textBaseline:i.parallel?"hanging":"bottom",rotation:0,translationX:0,translationY:G.screenX}),!0};let D=0;const E={};o.forEach((G,K)=>{const ne=r-G.depth,ge=hte(G.label);if(E[ne]??(E[ne]=1),E[ne]<ge&&(E[ne]=ge),!(!x(G,K)||!v.getBBox())&&(f.set(K,v.getBBox()),!G.leafCount)){v.rotation=w;const{width:_}=v.getBBox();D<_&&(D=_)}});const T=fE(),k=h*b[0].spacing,P=new Map,O=G=>{let K=D;for(let ne=1;ne<=G;ne++)K+=b[ne].spacing,(i.mirrored||ne!==G)&&(K+=E[ne]*b[ne].lineHeight);return K};o.forEach((G,K)=>{var Y;if(K===0)return;const ne=x(G,K),ge=!G.children.length,B=r-G.depth;if(G.parent){const Z=ge?G.x:G.x-(G.leafCount-1)/2;if(!P.has(Z)){const ee=(Y=this.depthOptions[B])==null?void 0:Y.tick;let fe=D;for(let ce=0;ce<=B;ce++)fe+=b[ce].spacing,ce!==0&&(fe+=E[ce]*b[ce].lineHeight);P.set(Z,{tickSize:fe,tickStroke:ee==null?void 0:ee.stroke,tickWidth:(ee==null?void 0:ee.enabled)!==!1?ee==null?void 0:ee.width:0})}}if(!ne)return;if(v.x=k,v.y=0,ge){const{width:Z}=f.get(K),ee=t3(w);v.rotation=w,v.textAlign="end",v.textBaseline="middle",v.rotationCenterX=k-Z/2,v.translationX=(b[B].spacing-Z)/2*ee*h,i.mirrored&&(v.translationX+=Z)}else v.rotation=d?y:-Math.PI/2,v.rotationCenterX=k,v.translationX=h*O(B);if(b[B].avoidCollisions){const Z=ge?e:G.leafCount*e;if(v.getBBox().height>Z){f.delete(K);return}}const{text:_=""}=v;p.push({text:_,visible:!0,range:this.scale.range,tickId:T(_),fill:v.fill,fontFamily:v.fontFamily,fontSize:v.fontSize,fontStyle:v.fontStyle,fontWeight:v.fontWeight,rotation:v.rotation,rotationCenterX:v.rotationCenterX,textAlign:v.textAlign,textBaseline:v.textBaseline,translationX:v.translationX,translationY:v.translationY,x:v.x,y:v.y}),f.set(K,hi.toCanvas(v))});const{enabled:F,stroke:z,width:V}=this.line;this.lineNode.datum={x:0,y1:s[0],y2:s[1]},this.lineNode.setProperties({stroke:z,strokeWidth:F?V:0});const U=[...P.values()];U.push(U[0]);const J=[this.lineNode.getBBox(),new De(0,0,U[0].tickSize*h,0)];t.enabled&&(this.updateTitle(this.scale.domain,!1,U[0].tickSize),J.push(t.caption.node.getBBox()));const ye=De.merge(Lc(f.values(),J));return{bbox:this.getTransformBox(ye),separatorLayout:U,tickLabelLayout:p}}update(){if(!this.computedLayout)return;this.moduleCtx.animationManager.skipCurrentBatch();const{tickScale:e,gridLine:t,gridLength:i}=this,{separatorLayout:s}=this.computedLayout,n=e.ticks({nice:!1,interval:void 0,tickCount:void 0,minTickCount:0,maxTickCount:1/0}).map((r,o)=>({...s[o],tick:r,tickId:ts(r,o),tickLabel:r.filter(Boolean).join(" - "),translationY:Math.round(e.convert(r))}));this.gridLineGroupSelection.update(t.enabled&&i?n:[]),this.tickLineGroupSelection.update(this.tick.enabled?n:[]),this.updatePosition(),this.updateCategoryLabels(),this.updateAxisLine(),this.updateGridLines(),this.updateTickLines(),this.updateTitle(this.scale.domain),this.resetSelectionNodes()}calculateLayout(){const{separatorLayout:e,tickLabelLayout:t,bbox:i}=this.computeLayout();return this.computedLayout={separatorLayout:e,tickLabelLayout:t},{bbox:i,niceDomain:this.scale.domain}}onGridVisibilityChange(){this.gridLineGroupSelection.clear(),this.tickLabelGroupSelection.clear()}updateScale(){super.updateScale(),this.tickScale.range=this.scale.range,this.scale.paddingOuter=this.scale.paddingInner/2}processData(){const{direction:e}=this,t=this.boundSeries.filter(n=>n.visible).flatMap(n=>n.getDomain(e));this.dataDomain={domain:Sa(t)??this.filterDuplicateArrays(t),clipped:!1},this.isReversed()&&this.dataDomain.domain.reverse();const i=this.dataDomain.domain.map(n=>Ly(Ci(n)&&"value"in n?n.value:n));this.tickTreeLayout=fle(i);const s=[];for(const n of this.tickTreeLayout.nodes)n.leafCount||n.refId==null||s.push(this.dataDomain.domain[n.refId]);this.scale.domain=Fte(this.dataDomain.domain,s),this.tickScale.domain=i.concat([[""]])}updateGridLines(){if(!this.gridLength)return;const{width:e,style:t}=this.gridLine,i=this.gridLength*-this.label.getSideFlag();this.gridLineGroupSelection.each((s,n,r)=>{const{stroke:o,lineDash:a}=t[r%t.length],l=n.translationY;s.visible=this.inRange(l),s.x1=0,s.x2=i,s.y=l,s.stroke=o,s.strokeWidth=e,s.lineDash=a})}filterDuplicateArrays(e){const t=new Set;return e.filter(i=>{const s=$e(i)?JSON.stringify(i):i;return t.has(s)?!1:(t.add(s),!0)})}};hu.className="GroupedCategoryAxis";hu.type="grouped-category";R([A()],hu.prototype,"depthOptions",2);var vle={2:(e,t)=>Math.log2(t),[Math.E]:(e,t)=>Math.log(t),10:(e,t)=>Math.log10(t)},yle=(e,t)=>Math.log(t)/Math.log(e);function U0(e,t,i){const s=Math.min(...t),n=vle[e]??yle;return s>=0?n(e,i):-n(e,-i)}var Cle={[Math.E]:(e,t)=>Math.exp(t),10:(e,t)=>t>=0?10**t:1/10**-t},ble=(e,t)=>e**t;function $0(e,t,i){const s=Math.min(...t),n=Cle[e]??ble;return s>=0?n(e,i):-n(e,-i)}var AE=class extends wt{constructor(e=[1,10],t=[0,1]){super(e,t),this.type="log",this.defaultClamp=!0,this.base=10,this.log=i=>U0(this.base,this.domain,i),this.pow=i=>$0(this.base,this.domain,i)}toDomain(e){return e}transform(e){const[t,i]=Ti(this.domain);return t>=0!=i>=0?NaN:t>=0?Math.log(e):-Math.log(-e)}transformInvert(e){const[t,i]=Ti(this.domain);return t>=0!=i>=0?NaN:t>=0?Math.exp(e):-Math.exp(-e)}niceDomain(e,t=this.domain){if(t.length<2)return[];const{base:i}=this,[s,n]=t,r=s>n?Math.ceil:Math.floor,o=s>n?Math.floor:Math.ceil,a=$0(i,t,r(U0(i,t,s))),l=$0(i,t,o(U0(i,t,n)));return[a,l]}ticks({interval:e,tickCount:t=wt.defaultTickCount},i=this.domain,s){if(!i||i.length<2||t<1)return[];const n=this.base,[r,o]=i,a=Math.min(r,o),l=Math.max(r,o);let d=this.log(a),h=this.log(l);if(e){const S=x=>x>=a&&x<=l,w=Math.min(Math.abs(e),Math.abs(h-d)),b=_p(d,h,w).map(this.pow).filter(S);if(!Qd(b.length,this.getPixelRange()))return b}if(!Hte(n)||h-d>=t)return sE(d,h,Math.min(h-d,t)).map(this.pow);let p=[];const f=a>0;d=Math.floor(d)-1,h=Math.round(h)+1;const v=Zd(this.range)/t;let y=1/0;for(let S=d;S<=h;S++){const w=this.convert(this.pow(S+1));for(let b=1;b<n;b++){const x=f?b:n-b+1,D=this.pow(S)*x,E=this.convert(D),T=Math.abs(y-E),k=Math.abs(E-w),P=T>=v&&k>=v;D>=a&&D<=l&&(b===1||P||p.length===0)&&(p.push(D),y=E)}}return p=mz(p,f,s),p}tickFormatter({specifier:e}){return e!=null?W2(e):String}datumFormatter(e){return this.tickFormatter(e)}},Pr=class PB extends wt{constructor(){super([0,1],[0,1]),this.type="number"}static getTickStep(t,i,s){const{interval:n,tickCount:r=wt.defaultTickCount,minTickCount:o,maxTickCount:a}=s;return n??Vp(t,i,r,o,a)}toDomain(t){return t}ticks({interval:t,tickCount:i=wt.defaultTickCount,minTickCount:s,maxTickCount:n},r=this.domain,o){if(!r||r.length<2||i<1||!r.every(isFinite))return[];const[a,l]=r;if(t){const d=Math.abs(t);if(!Qd((l-a)/d,this.getPixelRange()))return _p(a,l,d)}return sE(a,l,i,s,n,o)}niceDomain(t,i=this.domain){if(i.length<2)return[];const{tickCount:s=wt.defaultTickCount}=t;let[n,r]=i;if(s===1)[n,r]=Hre(n,r);else if(s>1){const o=n>r?Math.ceil:Math.floor,a=n>r?Math.floor:Math.ceil,l=4;for(let d=0;d<l;d++){const h=n,p=r,f=PB.getTickStep(n,r,t),[v,y]=i;if(n=o(v/f)*f,r=a(y/f)*f,n===h&&r===p)break}}return[n,r]}tickFormatter({ticks:t,fractionDigits:i,specifier:s}){return s!=null?MP(t,s):n=>ha(n,i)}datumFormatter({ticks:t,fractionDigits:i,specifier:s}){return s!=null?MP(t,s):n=>ha(n,i+1)}},xa=class extends Rf{constructor(e,t=new Pr){super(e,t)}normaliseDataDomain(e){const{min:t,max:i}=this,{extent:s,clipped:n}=DE(e,t,i);return{domain:s,clipped:n}}};xa.className="NumberAxis";xa.type="number";R([A(kl(TR,GC("max")))],xa.prototype,"min",2);R([A(kl(TR,HC("min")))],xa.prototype,"max",2);var wh=class extends xa{normaliseDataDomain(e){const{min:t,max:i}=this,{extent:s,clipped:n}=DE(e,t,i);return s[0]<0&&s[1]>0||e[0]<0&&e[1]>0?(me.warn("The log axis domain crosses zero, the chart data cannot be rendered. See log axis documentation for more information."),{domain:[],clipped:n}):s[0]===0||s[1]===0||e[0]===0||e[1]===0?(me.warn("The log axis domain contains a value of 0, the chart data cannot be rendered. See log axis documentation for more information."),{domain:[],clipped:n}):{domain:s,clipped:n}}set base(e){this.scale.base=e}get base(){return this.scale.base}constructor(e){super(e,new AE)}defaultDatumFormatter(e,t){return String(e)}defaultLabelFormatter(e,t){return String(e)}};wh.className="LogAxis";wh.type="log";var Nl=class extends Rf{constructor(e){super(e,new Sz),this.min=void 0,this.max=void 0}normaliseDataDomain(e){var n;let{min:t,max:i}=this,s=!1;return typeof t=="number"&&(t=new Date(t)),typeof i=="number"&&(i=new Date(i)),e.length>2&&(e=((n=Sa(e))==null?void 0:n.map(r=>new Date(r)))??[]),t instanceof Date&&(s||(s=t>e[0]),e=[t,e[1]]),i instanceof Date&&(s||(s=i<e[1]),e=[e[0],i]),e[0]>e[1]&&(e=[]),{domain:e,clipped:s}}};Nl.className="TimeAxis";Nl.type="time";R([A(kl(kR,GC("max")))],Nl.prototype,"min",2);R([A(kl(kR,HC("min")))],Nl.prototype,"max",2);var tp=(e,{x0:t,y0:i,x1:s,y1:n,cx:r,cy:o},a,l)=>{if(l&&e.moveTo(t,i),t!==s||i!==n){const d=Math.atan2(i-o,t-r),h=Math.atan2(n-o,s-r);e.arc(r,o,a,d,h)}else e.lineTo(t,i)},tO=1e-6,Ev=(e,t,i,s,n)=>{let r=!1,o=!1,a=s-Math.sqrt(Math.max(n**2-i**2,0)),l=0,d=0,h=i-Math.sqrt(Math.max(n**2-s**2,0));return a>e?(r=!0,a=e,l=i-Math.sqrt(Math.max(n**2-(s-e)**2))):a<tO&&(a=0),h>t?(o=!0,d=s-Math.sqrt(Math.max(n**2-(i-t)**2)),h=t):h<tO&&(h=0),{leading0:a,leading1:l,trailing0:d,trailing1:h,leadingClipped:r,trailingClipped:o}},Xv=(e,t,i,s,n,r,o)=>{let{topLeft:a,topRight:l,bottomRight:d,bottomLeft:h}=r;const p=Math.max(a+h,l+d),f=Math.max(a+l,h+d);if(p<=0&&f<=0){o==null?e.rect(t,i,s,n):e.rect(o.x,o.y,o.width,o.height);return}else if(o==null&&a===l&&a===d&&a===h){e.roundRect(t,i,s,n,a);return}if(s<0&&(t+=s,s=Math.abs(s)),n<0&&(i+=n,n=Math.abs(n)),s<=0||n<=0)return;if(o==null)o=new De(t,i,s,n);else{const P=Math.max(t,o.x),O=Math.min(t+s,o.x+o.width),F=Math.max(i,o.y),z=Math.min(i+n,o.y+o.height);o=new De(P,F,O-P,z-F)}const v=Math.max(p/n,f/s,1);v>1&&(a/=v,l/=v,d/=v,h/=v);let y=!0,S=!0,w=!0,b=!0,x,D,E,T;if(y){const P=Ev(o.height,o.width,Math.max(t+a-o.x,0),Math.max(i+a-o.y,0),a);P.leadingClipped&&(b=!1),P.trailingClipped&&(S=!1);const O=Math.max(o.x+P.leading1,o.x),F=Math.max(o.y+P.leading0,o.y),z=Math.max(o.x+P.trailing1,o.x),V=Math.max(o.y+P.trailing0,o.y),U=t+a,J=i+a;x={x0:O,y0:F,x1:z,y1:V,cx:U,cy:J}}if(S){const P=Ev(o.width,o.height,Math.max(i+l-o.y,0),Math.max(o.x+o.width-(t+s-l),0),l);P.leadingClipped&&(y=!1),P.trailingClipped&&(w=!1);const O=Math.min(o.x+o.width-P.leading0,o.x+o.width),F=Math.max(o.y+P.leading1,o.y),z=Math.min(o.x+o.width-P.trailing0,o.x+o.width),V=Math.max(o.y+P.trailing1,o.y),U=t+s-l,J=i+l;D={x0:O,y0:F,x1:z,y1:V,cx:U,cy:J}}if(w){const P=Ev(o.height,o.width,Math.max(o.x+o.width-(t+s-d),0),Math.max(o.y+o.height-(i+n-d),0),d);P.leadingClipped&&(S=!1),P.trailingClipped&&(b=!1);const O=Math.min(o.x+o.width-P.leading1,o.x+o.width),F=Math.min(o.y+o.height-P.leading0,o.y+o.height),z=Math.min(o.x+o.width-P.trailing1,o.x+o.width),V=Math.min(o.y+o.height-P.trailing0,o.y+o.height),U=t+s-d,J=i+n-d;E={x0:O,y0:F,x1:z,y1:V,cx:U,cy:J}}if(b){const P=Ev(o.width,o.height,Math.max(o.y+o.height-(i+n-h),0),Math.max(t+h-o.x,0),h);P.leadingClipped&&(w=!1),P.trailingClipped&&(y=!1);const O=Math.max(o.x+P.leading0,o.x),F=Math.min(o.y+o.height-P.leading1,o.y+o.height),z=Math.max(o.x+P.trailing0,o.x),V=Math.min(o.y+o.height-P.trailing1,o.y+o.height),U=t+h,J=i+n-h;T={x0:O,y0:F,x1:z,y1:V,cx:U,cy:J}}let k=!1;y&&x!=null&&(tp(e,x,a,!k),k||(k=!0)),S&&D!=null&&(tp(e,D,l,!k),k||(k=!0)),w&&E!=null&&(tp(e,E,d,!k),k||(k=!0)),b&&T!=null&&tp(e,T,h,!k),e.closePath()},Ts=class extends Ws{constructor(){super(...arguments),this.borderPath=new $d,this.x=0,this.y=0,this.width=10,this.height=10,this.topLeftCornerRadius=0,this.topRightCornerRadius=0,this.bottomRightCornerRadius=0,this.bottomLeftCornerRadius=0,this.clipBBox=void 0,this.crisp=!1,this.lastUpdatePathStrokeWidth=cr.defaultStyles.strokeWidth,this.effectiveStrokeWidth=cr.defaultStyles.strokeWidth,this.hittester=super.isPointInPath.bind(this),this.distanceCalculator=super.distanceSquaredTransformedPoint.bind(this),this.microPixelEffectOpacity=1}set cornerRadius(e){this.topLeftCornerRadius=e,this.topRightCornerRadius=e,this.bottomRightCornerRadius=e,this.bottomLeftCornerRadius=e}isDirtyPath(){return this.lastUpdatePathStrokeWidth!==this.strokeWidth||!!(this.path.isDirty()||this.borderPath.isDirty())}updatePath(){var w;const{path:e,borderPath:t,crisp:i,topLeftCornerRadius:s,topRightCornerRadius:n,bottomRightCornerRadius:r,bottomLeftCornerRadius:o}=this;let{x:a,y:l,width:d,height:h,strokeWidth:p,clipBBox:f}=this;const y=1/(((w=this.layerManager)==null?void 0:w.canvas.pixelRatio)??1);let S=1;if(e.clear(!0),t.clear(!0),i&&(d<=y&&(S*=d/y),h<=y&&(S*=h/y),d=this.align(a,d),h=this.align(l,h),a=this.align(a),l=this.align(l),f=f!=null?new De(this.align(f.x),this.align(f.y),this.align(f.x,f.width),this.align(f.y,f.height)):void 0),p)if(d<y){const b=a+y/2;t.moveTo(b,l),t.lineTo(b,l+h),p=y,this.borderClipPath=void 0}else if(h<y){const b=l+y/2;t.moveTo(a,b),t.lineTo(a+d,b),p=y,this.borderClipPath=void 0}else if(p<d&&p<h){const b=p/2;a+=b,l+=b,d-=p,h-=p;const x=f==null?void 0:f.clone().shrink(b),D={topLeft:s>0?s-p:0,topRight:n>0?n-p:0,bottomRight:r>0?r-p:0,bottomLeft:o>0?o-p:0};this.borderClipPath=void 0,d>0&&h>0&&(x==null||(x==null?void 0:x.width)>0&&(x==null?void 0:x.height)>0)&&(Xv(e,a,l,d,h,D,x),Xv(t,a,l,d,h,D,x))}else this.borderClipPath=this.borderClipPath??new $d,this.borderClipPath.clear(!0),this.borderClipPath.rect(a,l,d,h),t.rect(a,l,d,h);else{const b={topLeft:s,topRight:n,bottomRight:r,bottomLeft:o};this.borderClipPath=void 0,Xv(e,a,l,d,h,b,f)}if([s,n,r,o].every(b=>b===0)){const b=this.getBBox();this.hittester=b.containsPoint.bind(b),this.distanceSquared=(x,D)=>this.getBBox().distanceSquared(x,D)}else this.hittester=super.isPointInPath,this.distanceCalculator=super.distanceSquaredTransformedPoint;this.effectiveStrokeWidth=p,this.lastUpdatePathStrokeWidth=p,this.microPixelEffectOpacity=S}computeBBox(){const{x:e,y:t,width:i,height:s,clipBBox:n}=this;return(n==null?void 0:n.clone())??new De(e,t,i,s)}isPointInPath(e,t){return this.hittester(e,t)}get midPoint(){return{x:this.x+this.width/2,y:this.y+this.height/2}}distanceSquared(e,t){return this.distanceCalculator(e,t)}applyFillAlpha(e){const{fillOpacity:t,microPixelEffectOpacity:i,opacity:s}=this;e.globalAlpha*=s*t*i}renderStroke(e){const{stroke:t,effectiveStrokeWidth:i}=this;if(t&&i){const{globalAlpha:s}=e,{strokeOpacity:n,lineDash:r,lineDashOffset:o,lineCap:a,lineJoin:l,borderPath:d,borderClipPath:h,opacity:p,microPixelEffectOpacity:f}=this;h&&e.clip(h.getPath2D()),this.applyStroke(e),e.globalAlpha*=p*n*f,e.lineWidth=i,r&&e.setLineDash(r),o&&(e.lineDashOffset=o),a&&(e.lineCap=a),l&&(e.lineJoin=l),e.stroke(d.getPath2D()),e.globalAlpha=s}}};Ts.className="Rect";R([Ve()],Ts.prototype,"x",2);R([Ve()],Ts.prototype,"y",2);R([Ve()],Ts.prototype,"width",2);R([Ve()],Ts.prototype,"height",2);R([Ve()],Ts.prototype,"topLeftCornerRadius",2);R([Ve()],Ts.prototype,"topRightCornerRadius",2);R([Ve()],Ts.prototype,"bottomRightCornerRadius",2);R([Ve()],Ts.prototype,"bottomLeftCornerRadius",2);R([Ve()],Ts.prototype,"clipBBox",2);R([Ve()],Ts.prototype,"crisp",2);var xh=class extends IC{constructor(e){super(),this.ctx=e,this.rectNode=new Ts,this.textNode=new Vi,this.fill="white",this.node=this.createNode(),this.node.append([this.rectNode,this.textNode]),this.visible=!0,this.destroyFns.push(e.scene.attachNode(this.node),e.layoutManager.addListener("layout:complete",t=>this.onLayoutComplete(t)))}createNode(){return new Ne({name:"background",zIndex:0})}onLayoutComplete(e){const{width:t,height:i}=e.chart;this.rectNode.width=t,this.rectNode.height=i}};R([A(),ss("node","visible")],xh.prototype,"visible",2);R([A(),ss("rectNode","fill")],xh.prototype,"fill",2);R([A()],xh.prototype,"image",2);R([A(),ss("textNode")],xh.prototype,"text",2);var OB={type:"root",optionsKey:"background",packageType:"community",chartTypes:["cartesian","polar","hierarchy","topology","flow-proportion","standalone","gauge"],moduleFactory:e=>new xh(e)};function Sle({orientation:e,bboxes:t,maxHeight:i,maxWidth:s,itemPaddingY:n=0,itemPaddingX:r=0,forceResult:o=!1}){const a=e==="horizontal",l={max:a?s:i,fn:a?f=>f.width:f=>f.height,padding:a?r:n},d={max:a?i:s,fn:a?f=>f.height:f=>f.width,padding:a?n:r};let h=0;const p=[];for(;h<t.length;){const f=t.slice(h),v=wle(f,h,l,d,o);if(!v)return;h+=v.processedBBoxCount,p.push(v.pageIndices)}return Mle(p,e,t,n,r)}function wle(e,t,i,s,n){let o=Rle(e,i);if(o<1){if(!n)return;o=1}let a=o;for(;a>=1;){const l=xle(e,t,a,i,s,n);if(l==null&&a<=1)return;if(l==null){a--;continue}if(typeof l=="number"){if(l<=1)return;a=l<a&&l>1?l:a,a--;continue}return{processedBBoxCount:l.length*l[0].length,pageIndices:l}}}function xle(e,t,i,s,n,r){const o=[];let a=0,l=0,d=[];const h=[];for(let p=0;p<e.length;p++){const f=(p+i)%i;f===0&&(a+=l,l=0,d.length>0&&o.push(d),d=[]);const v=s.fn(e[p])+s.padding;h[f]=Math.max(h[f]??0,v),l=Math.max(l,n.fn(e[p])+n.padding);const y=a+l,S=!r||o.length>0;if(y>n.max&&S){d=[];break}if(h.reduce((b,x)=>b+x,0)>s.max&&!r)return h.length<i?h.length:void 0;d.push(p+t)}return d.length>0&&o.push(d),o.length>0?o:void 0}function Mle(e,t,i,s,n){let r=0,o=0;return{pages:e.map(l=>{t==="horizontal"&&(l=Dle(l));let d=0;const h=l.map(v=>{const y=v.map(b=>(d=Math.max(b,d),i[b]));let S=0,w=0;return y.forEach(b=>{S+=b.height+s,w=Math.max(w,b.width+n)}),{indices:v,bboxes:y,columnHeight:Math.ceil(S),columnWidth:Math.ceil(w)}});let p=0,f=0;return h.forEach(v=>{p+=v.columnWidth,f=Math.max(f,v.columnHeight)}),r=Math.max(p,r),o=Math.max(f,o),{columns:h,startIndex:l[0][0],endIndex:d,pageWidth:p,pageHeight:f}}),maxPageWidth:r,maxPageHeight:o}}function Dle(e){const t=[];for(const i of e[0])t.push([]);return e.forEach((i,s)=>{i.forEach((n,r)=>{t[r][s]=n})}),t}function Rle(e,t){const i=e.length;let s=0;for(let n=0;n<i;n++)if(s+=t.fn(e[n])+t.padding,s>t.max)return i/n<2?Math.ceil(i/2):n;return i}var Mh=class extends Ge{constructor(){super(...arguments),this.color="black",this.fontStyle=void 0,this.fontWeight=void 0,this.fontSize=12,this.fontFamily="Verdana, sans-serif"}};R([A()],Mh.prototype,"color",2);R([A()],Mh.prototype,"fontStyle",2);R([A()],Mh.prototype,"fontWeight",2);R([A()],Mh.prototype,"fontSize",2);R([A()],Mh.prototype,"fontFamily",2);var na=class extends Ge{constructor(){super(...arguments),this.size=15,this.fill=void 0,this.fillOpacity=void 0,this.stroke=void 0,this.strokeWidth=1,this.strokeOpacity=1}};R([A()],na.prototype,"size",2);R([A()],na.prototype,"fill",2);R([A()],na.prototype,"fillOpacity",2);R([A()],na.prototype,"stroke",2);R([A()],na.prototype,"strokeWidth",2);R([A()],na.prototype,"strokeOpacity",2);var ab=class extends Ge{constructor(e){super(),this.parent=e,this.shape="triangle",this.size=15,this.padding=8}};R([an({changeValue(){this.parent.marker===this&&this.parent.onMarkerShapeChange()}})],ab.prototype,"shape",2);R([A()],ab.prototype,"size",2);R([A()],ab.prototype,"padding",2);var gu=class extends Ge{constructor(e,t){super(),this.chartUpdateCallback=e,this.pageUpdateCallback=t,this.id=En(this),this.marker=new ab(this),this.activeStyle=new na,this.inactiveStyle=new na,this.highlightStyle=new na,this.label=new Mh,this.group=new Bs({name:"pagination"}),this.labelNode=new Vi,this.totalPages=0,this.currentPage=0,this.translationX=0,this.translationY=0,this.nextButtonDisabled=!1,this.previousButtonDisabled=!1,this._visible=!0,this._enabled=!0,this._orientation="vertical",this.nextButton=new _i,this.previousButton=new _i,this.labelNode.setProperties({textBaseline:"middle",fontSize:12,fontFamily:"Verdana, sans-serif",fill:"black",y:1}),this.group.append([this.nextButton,this.previousButton,this.labelNode]),this.update(),this.updateMarkers()}set visible(e){this._visible=e,this.updateGroupVisibility()}get visible(){return this._visible}set enabled(e){this._enabled=e,this.updateGroupVisibility()}get enabled(){return this._enabled}updateGroupVisibility(){this.group.visible=this.enabled&&this.visible}set orientation(e){switch(this._orientation=e,e){case"horizontal":{this.previousButton.rotation=-Math.PI/2,this.nextButton.rotation=Math.PI/2;break}case"vertical":default:this.previousButton.rotation=0,this.nextButton.rotation=Math.PI}}get orientation(){return this._orientation}update(){this.updateLabel(),this.updatePositions(),this.enableOrDisableButtons()}updatePositions(){this.group.translationX=this.translationX,this.group.translationY=this.translationY,this.updateLabelPosition(),this.updateNextButtonPosition()}updateLabelPosition(){const{size:e,padding:t}=this.marker;this.nextButton.size=e,this.previousButton.size=e,this.labelNode.x=e/2+t}updateNextButtonPosition(){const e=this.labelNode.getBBox();this.nextButton.translationX=e.width+(this.marker.size/2+this.marker.padding)*2}updateLabel(){const{currentPage:e,totalPages:t,labelNode:i,label:{color:s,fontStyle:n,fontWeight:r,fontSize:o,fontFamily:a}}=this;i.text=`${e+1} / ${t}`,i.fill=s,i.fontStyle=n,i.fontWeight=r,i.fontSize=o,i.fontFamily=a}updateMarkers(){const{nextButton:e,previousButton:t,nextButtonDisabled:i,previousButtonDisabled:s,activeStyle:n,inactiveStyle:r,highlightStyle:o,highlightActive:a}=this,l=(d,h)=>h?r:d===a?o:n;this.updateMarker(e,l("next",i)),this.updateMarker(t,l("previous",s))}updateMarker(e,t){const{shape:i,size:s}=this.marker;e.shape=i,e.size=s,e.fill=t.fill,e.fillOpacity=t.fillOpacity??1,e.stroke=t.stroke,e.strokeWidth=t.strokeWidth,e.strokeOpacity=t.strokeOpacity}enableOrDisableButtons(){const{currentPage:e,totalPages:t}=this,i=t===0,s=e===t-1,n=e===0;this.nextButtonDisabled=s||i,this.previousButtonDisabled=n||i}setPage(e){e=Be(0,e,Math.max(0,this.totalPages-1)),this.currentPage!==e&&(this.currentPage=e,this.onPaginationChanged())}getCursor(e){return{previous:this.previousButtonDisabled,next:this.nextButtonDisabled}[e]?void 0:"pointer"}onClick(e,t){e.preventDefault(),t==="next"&&!this.nextButtonDisabled?(this.incrementPage(),this.onPaginationChanged()):t==="previous"&&!this.previousButtonDisabled&&(this.decrementPage(),this.onPaginationChanged())}onMouseHover(e){this.highlightActive=e,this.updateMarkers(),this.chartUpdateCallback(6)}onPaginationChanged(){this.pageUpdateCallback(this.currentPage)}incrementPage(){this.currentPage=Math.min(this.currentPage+1,this.totalPages-1)}decrementPage(){this.currentPage=Math.max(this.currentPage-1,0)}onMarkerShapeChange(){this.updatePositions(),this.updateMarkers(),this.chartUpdateCallback(6)}attachPagination(e){e.append(this.group)}getBBox(){return this.group.getBBox()}computeCSSBounds(){const e=hi.toCanvas(this.previousButton),t=hi.toCanvas(this.nextButton);return{prev:e,next:t}}};gu.className="Pagination";R([A()],gu.prototype,"marker",2);R([A()],gu.prototype,"activeStyle",2);R([A()],gu.prototype,"inactiveStyle",2);R([A()],gu.prototype,"highlightStyle",2);R([A()],gu.prototype,"label",2);var TE=class extends Ge{constructor(){super(...arguments),this._dirty=!0}markDirty(){this._dirty=!0}markClean(e){this._dirty=!1}isDirty(){return this._dirty}},Ele=new Set(["circle","cross","diamond","heart","pin","plus","square","star","triangle"]);function Ale(e){return typeof e=="string"&&Ele.has(e)}var Ma=class extends Ge{constructor(){super(...arguments),this.fill="rgba(255,255,255, 0.33)",this.stroke="rgba(0, 0, 0, 0.4)",this.strokeWidth=2}};R([A()],Ma.prototype,"fill",2);R([A()],Ma.prototype,"fillOpacity",2);R([A()],Ma.prototype,"stroke",2);R([A()],Ma.prototype,"strokeWidth",2);R([A()],Ma.prototype,"strokeOpacity",2);R([A()],Ma.prototype,"lineDash",2);R([A()],Ma.prototype,"lineDashOffset",2);var lb=class extends Ge{};R([A()],lb.prototype,"strokeWidth",2);R([A()],lb.prototype,"dimOpacity",2);R([A()],lb.prototype,"enabled",2);var FB=class extends Ge{constructor(){super(...arguments),this.color="black"}};R([A()],FB.prototype,"color",2);var IE=class extends Ge{constructor(){super(...arguments),this.enabled=!0}};R([A()],IE.prototype,"enabled",2);var hr=class extends Ge{constructor(){super(...arguments),this.type="gradient",this.colorStops=[],this.bounds="item",this.gradient="linear",this.rotation=0,this.reverse=!1}};R([A()],hr.prototype,"type",2);R([A()],hr.prototype,"colorStops",2);R([A()],hr.prototype,"bounds",2);R([A()],hr.prototype,"gradient",2);R([A()],hr.prototype,"rotation",2);R([A()],hr.prototype,"reverse",2);var gi=class extends Ge{constructor(){super(...arguments),this.type="pattern",this.colorStops=[],this.bounds="item",this.gradient="linear",this.rotation=0,this.reverse=!1,this.pattern="forward-slanted-lines",this.width=26,this.height=26,this.padding=6,this.fill="black",this.fillOpacity=1,this.backgroundFill="white",this.backgroundFillOpacity=1,this.stroke="black",this.strokeOpacity=1,this.strokeWidth=0}};R([A()],gi.prototype,"type",2);R([A()],gi.prototype,"colorStops",2);R([A()],gi.prototype,"bounds",2);R([A()],gi.prototype,"gradient",2);R([A()],gi.prototype,"rotation",2);R([A()],gi.prototype,"reverse",2);R([A()],gi.prototype,"pattern",2);R([A()],gi.prototype,"width",2);R([A()],gi.prototype,"height",2);R([A()],gi.prototype,"padding",2);R([A()],gi.prototype,"fill",2);R([A()],gi.prototype,"fillOpacity",2);R([A()],gi.prototype,"backgroundFill",2);R([A()],gi.prototype,"backgroundFillOpacity",2);R([A()],gi.prototype,"stroke",2);R([A()],gi.prototype,"strokeOpacity",2);R([A()],gi.prototype,"strokeWidth",2);var If=class extends Ge{constructor(){super(...arguments),this.item=new Ma,this.series=new lb,this.text=new FB}};R([A()],If.prototype,"item",2);R([A()],If.prototype,"series",2);R([A()],If.prototype,"text",2);var Pn=class extends Ge{constructor(){super(...arguments),this.visible=!0,this.focusPriority=1/0,this.showInLegend=!0,this.cursor="default",this.nodeClickRange="exact",this.highlight=new IE,this.highlightStyle=new If}handleUnknownProperties(e,t){"context"in t&&(this.context=t.context,e.delete("context"))}};R([A()],Pn.prototype,"id",2);R([A()],Pn.prototype,"visible",2);R([A()],Pn.prototype,"focusPriority",2);R([A()],Pn.prototype,"showInLegend",2);R([A()],Pn.prototype,"cursor",2);R([A()],Pn.prototype,"nodeClickRange",2);R([A()],Pn.prototype,"highlight",2);R([A()],Pn.prototype,"highlightStyle",2);var Tle=xt(e=>Ale(e)||typeof e=="function","a marker shape keyword such as 'circle', 'diamond' or 'square' or an object extending the Marker class"),ns=class extends TE{constructor(){super(...arguments),this.enabled=!0,this.shape="circle",this.size=6,this.fillGradientDefaults=new hr,this.fillPatternDefaults=new gi,this.fillOpacity=1,this.strokeWidth=1,this.strokeOpacity=1,this.lineDash=[0],this.lineDashOffset=0}getStyle(){const{size:e,shape:t,fill:i,fillOpacity:s,stroke:n,strokeWidth:r,strokeOpacity:o,lineDash:a,lineDashOffset:l}=this;return{size:e,shape:t,fill:i,fillOpacity:s,stroke:n,strokeWidth:r,strokeOpacity:o,lineDash:a,lineDashOffset:l}}getDiameter(){return this.size+this.strokeWidth}};R([A(),Re()],ns.prototype,"enabled",2);R([A(),Re()],ns.prototype,"shape",2);R([A(),Re()],ns.prototype,"size",2);R([A(Cs(Tn,Ro,Do)),Re()],ns.prototype,"fill",2);R([A()],ns.prototype,"fillGradientDefaults",2);R([A()],ns.prototype,"fillPatternDefaults",2);R([A(),Re()],ns.prototype,"fillOpacity",2);R([A(),Re()],ns.prototype,"stroke",2);R([A(),Re()],ns.prototype,"strokeWidth",2);R([A(),Re()],ns.prototype,"strokeOpacity",2);R([A()],ns.prototype,"lineDash",2);R([A()],ns.prototype,"lineDashOffset",2);R([A(),Re()],ns.prototype,"itemStyler",2);var Ile=class{constructor(e,t){this.idPrefix=t,this.dirty=!0,this.destroyFns=new I3,this.itemList=e.proxyInteractionService.createProxyContainer({type:"list",domManagerId:`${t}-toolbar`,classList:["ag-charts-proxy-legend-toolbar"],ariaLabel:{id:"ariaLabelLegend"}}),this.paginationGroup=e.proxyInteractionService.createProxyContainer({type:"group",domManagerId:`${t}-pagination`,classList:["ag-charts-proxy-legend-pagination"],ariaLabel:{id:"ariaLabelLegendPagination"},ariaOrientation:"horizontal"}),this.itemDescription=qe("p"),this.itemDescription.style.display="none",this.itemDescription.id=`${t}-ariaDescription`,this.itemDescription.textContent=this.getItemAriaDescription(e.localeManager),this.itemList.getElement().append(this.itemDescription)}destroy(){this.destroyFns.destroy()}initLegendList(e){if(!this.dirty)return;const{ctx:t,itemSelection:i,datumReader:s,itemListener:n}=e,r=t.localeManager,o=i.length;i.each((a,l,d)=>{var p;(p=a.proxyButton)==null||p.destroy(),a.proxyButton=t.proxyInteractionService.createProxyElement({type:"listswitch",textContent:this.getItemAriaText(r,s.getItemLabel(l),d,o),ariaChecked:!!a.datum.enabled,ariaDescribedBy:this.itemDescription.id,parent:this.itemList});const h=a.proxyButton;h.addListener("click",f=>n.onClick(f.sourceEvent,a.datum,h)),h.addListener("dblclick",f=>n.onDoubleClick(f.sourceEvent,a.datum)),h.addListener("mouseenter",f=>n.onHover(f.sourceEvent,a)),h.addListener("mouseleave",()=>n.onLeave()),h.addListener("contextmenu",f=>n.onContextClick(f.sourceEvent,a)),h.addListener("blur",()=>n.onLeave()),h.addListener("focus",f=>n.onHover(f.sourceEvent,a)),h.addListener("drag-start",()=>{})}),this.dirty=!1}update(e){e.visible&&(this.initLegendList(e),this.updateItemProxyButtons(e),this.updatePaginationProxyButtons(e,!0)),this.updateVisibility(e.visible)}updateVisibility(e){this.itemList.setHidden(!e),this.paginationGroup.setHidden(!e)}updateItemProxyButtons({itemSelection:e,group:t,pagination:i,interactive:s}){const n=hi.toCanvas(t);this.itemList.setBounds(n);const r=Math.max(...e.nodes().map(o=>o.getBBox().height));e.each((o,a)=>{if(o.proxyButton){const l=o.pageIndex===i.currentPage,{x:d,y:h,height:p,width:f}=hi.toCanvas(o),v=(r-p)/2,y={x:d-n.x,y:h-v-n.y,height:r,width:f};o.proxyButton.setCursor("pointer"),o.proxyButton.setEnabled(s&&l),o.proxyButton.setBounds(y)}})}updatePaginationProxyButtons(e,t){var r,o,a,l,d,h,p,f;const{pagination:i}=e;if(this.paginationGroup.setHidden(!i.visible),t&&"ctx"in e){const{ctx:v,oldPages:y,newPages:S}=e,w=((y==null?void 0:y.length)??S.length)>1,b=S.length>1;w!==b&&(b?(this.prevButton=v.proxyInteractionService.createProxyElement({type:"button",id:`${this.idPrefix}-prev-page`,textContent:{id:"ariaLabelLegendPagePrevious"},tabIndex:0,parent:this.paginationGroup}),this.prevButton.addListener("click",x=>this.onPageButton(e,x,"previous")),this.prevButton.addListener("mouseenter",()=>i.onMouseHover("previous")),this.prevButton.addListener("mouseleave",()=>i.onMouseHover(void 0)),this.nextButton??(this.nextButton=v.proxyInteractionService.createProxyElement({type:"button",id:`${this.idPrefix}-next-page`,textContent:{id:"ariaLabelLegendPageNext"},tabIndex:0,parent:this.paginationGroup})),this.nextButton.addListener("click",x=>this.onPageButton(e,x,"next")),this.nextButton.addListener("mouseenter",()=>i.onMouseHover("next")),this.nextButton.addListener("mouseleave",()=>i.onMouseHover(void 0))):((r=this.nextButton)==null||r.destroy(),(o=this.prevButton)==null||o.destroy(),this.nextButton=void 0,this.prevButton=void 0))}const{prev:s,next:n}=i.computeCSSBounds();(a=this.prevButton)==null||a.setBounds(s),(l=this.nextButton)==null||l.setBounds(n),(d=this.prevButton)==null||d.setEnabled(i.currentPage!==0),(h=this.nextButton)==null||h.setEnabled(i.currentPage!==i.totalPages-1),(p=this.nextButton)==null||p.setCursor(i.getCursor("next")),(f=this.prevButton)==null||f.setCursor(i.getCursor("previous"))}onPageButton(e,t,i){e.pagination.onClick(t.sourceEvent,i),this.updatePaginationProxyButtons(e,!1)}onDataUpdate(e,t){this.dirty=e.length!==t.length||e.some((i,s,n)=>{const[r,o]=[t[s],e[s]];return r.id!==o.id})}onLocaleChanged(e,t,i){const s=t.length;t.each(({proxyButton:n},r,o)=>{const a=n==null?void 0:n.getElement();if(a!=null){const l=i.getItemLabel(r);a.textContent=this.getItemAriaText(e,l,o,s)}}),this.itemDescription.textContent=this.getItemAriaDescription(e)}onPageChange(e){this.updateItemProxyButtons(e),this.updatePaginationProxyButtons(e,!1)}getItemAriaText(e,t,i,s){return i>=0&&t?(i++,e.t("ariaLabelLegendItem",{label:t,index:i,count:s})):e.t("ariaLabelLegendItemUnknown")}getItemAriaDescription(e){return e.t("ariaDescriptionLegendItem")}};function iO(e,t,i,s){const n={defaultPrevented:!1,apiEvent:{type:e,itemId:t,seriesId:i,event:s,preventDefault:()=>n.defaultPrevented=!0}};return n}var gr=class extends au(Ne){constructor(){super({name:"markerLabelGroup"}),this.symbolsGroup=this.appendChild(new Ne({name:"legend-markerLabel-symbols"})),this.label=this.appendChild(new Vi),this.enabled=!0,this.pageIndex=NaN,this.spacing=0,this.length=0,this.isCustomMarker=!1,this.marker=this.symbolsGroup.appendChild(new _i({zIndex:1})),this.line=this.symbolsGroup.appendChild(new kn({zIndex:0}));const{label:e,line:t,symbolsGroup:i}=this;t.visible=!1,i.renderToOffscreenCanvas=!0,i.optimizeForInfrequentRedraws=!0,e.textBaseline="middle",e.fontSize=12,e.fontFamily="Verdana, sans-serif",e.fill="black",e.y=1}destroy(){var e;super.destroy(),(e=this.proxyButton)==null||e.destroy()}setEnabled(e){this.enabled=e,this.refreshVisibilities()}refreshVisibilities(){const e=this.enabled?1:.5;this.label.opacity=e,this.opacity=e}layout(){const{marker:e,line:t,length:i,isCustomMarker:s}=this;let n=0,r=0;if(e.visible){const{size:o}=e,a=_i.anchor(e.shape);n=(a.x-.5)*o+i/2,r=(a.y-.5)*o,s?(e.x=0,e.y=0,e.translationX=n,e.translationY=r):(e.x=n,e.y=r,e.translationX=0,e.translationY=0)}t.visible&&(t.x1=0,t.x2=i,t.y1=0,t.y2=0)}preRender(e){const t=super.preRender(e);return this.layout(),t}layoutLabel(){const{length:e,spacing:t}=this;this.label.x=e+t}computeBBox(){return this.layout(),super.computeBBox()}};gr.className="MarkerLabel";R([ss("label")],gr.prototype,"text",2);R([ss("label")],gr.prototype,"fontStyle",2);R([ss("label")],gr.prototype,"fontWeight",2);R([ss("label")],gr.prototype,"fontSize",2);R([ss("label")],gr.prototype,"fontFamily",2);R([ss("label","fill")],gr.prototype,"color",2);R([Ol(e=>e.layoutLabel())],gr.prototype,"spacing",2);R([Ol(e=>e.layoutLabel())],gr.prototype,"length",2);R([Re()],gr.prototype,"isCustomMarker",2);var zl=class extends Ge{constructor(){super(...arguments),this.maxLength=void 0,this.color="black",this.fontStyle=void 0,this.fontWeight=void 0,this.fontSize=12,this.fontFamily="Verdana, sans-serif"}};R([A()],zl.prototype,"maxLength",2);R([A()],zl.prototype,"color",2);R([A()],zl.prototype,"fontStyle",2);R([A()],zl.prototype,"fontWeight",2);R([A()],zl.prototype,"fontSize",2);R([A()],zl.prototype,"fontFamily",2);R([A()],zl.prototype,"formatter",2);var Dh=class extends Ge{constructor(){super(...arguments),this.shape=void 0,this.size=15,this.padding=8}};R([A()],Dh.prototype,"shape",2);R([A()],Dh.prototype,"size",2);R([A()],Dh.prototype,"padding",2);R([A()],Dh.prototype,"strokeWidth",2);R([A()],Dh.prototype,"enabled",2);var LE=class extends Ge{};R([A()],LE.prototype,"strokeWidth",2);R([A()],LE.prototype,"length",2);var Bl=class extends Ge{constructor(){super(...arguments),this.paddingX=16,this.paddingY=8,this.showSeriesStroke=!1,this.marker=new Dh,this.label=new zl,this.line=new LE}};R([A()],Bl.prototype,"maxWidth",2);R([A()],Bl.prototype,"paddingX",2);R([A()],Bl.prototype,"paddingY",2);R([A()],Bl.prototype,"showSeriesStroke",2);R([A()],Bl.prototype,"marker",2);R([A()],Bl.prototype,"label",2);R([A()],Bl.prototype,"line",2);var kE=class extends Ge{};R([A()],kE.prototype,"legendItemClick",2);R([A()],kE.prototype,"legendItemDoubleClick",2);var Yg="legend-visibility",Y0="legend-other-series",Lle={bounds:"item",gradient:"linear",colorStops:[{color:"black"}],rotation:0,reverse:!1},kle={pattern:"forward-slanted-lines",width:8,height:8,padding:1,fill:"black",fillOpacity:1,backgroundFill:"white",backgroundFillOpacity:1,stroke:"black",strokeOpacity:1,strokeWidth:0,rotation:0},ln=class extends Ge{constructor(e){super(),this.ctx=e,this.id=En(this),this.group=new Bs({name:"legend",zIndex:14}),this.itemSelection=Ai.select(this.group,gr),this.oldSize=[0,0],this.pages=[],this.maxPageSize=[0,0],this.paginationTrackingIndex=0,this.truncatedItems=new Set,this._data=[],this.toggleSeries=!0,this.item=new Bl,this.listeners=new kE,this.enabled=!0,this.position="bottom",this.spacing=20,this.destroyFns=[],this.size=[0,0],this._visible=!0,this.pagination=new gu(t=>e.updateService.update(t),t=>this.updatePageNumber(t)),this.pagination.attachPagination(this.group),this.destroyFns.push(e.contextMenuRegistry.registerDefaultAction({id:Yg,type:"legend",label:"contextMenuToggleSeriesVisibility",action:t=>this.contextToggleVisibility(t)}),e.contextMenuRegistry.registerDefaultAction({id:Y0,type:"legend",label:"contextMenuToggleOtherSeries",action:t=>this.contextToggleOtherSeries(t)}),e.legendManager.addListener("legend-change",this.onLegendDataChange.bind(this))),this.destroyFns.push(e.layoutManager.registerElement(1,t=>this.positionLegend(t)),e.localeManager.addListener("locale-changed",()=>this.onLocaleChanged()),()=>this.group.remove()),this.domProxy=new Ile(this.ctx,this.id),this.ctx.historyManager.addMementoOriginator(e.legendManager)}set data(e){mo(e,this._data)||(this.domProxy.onDataUpdate(this._data,e),this._data=e,this.updateGroupVisibility())}get data(){return this._data}onLegendDataChange({legendData:e=[]}){this.enabled&&(this.data=e.filter(t=>!t.hideInLegend))}destroy(){this.ctx.domManager.removeChild("canvas-overlay",`${this.id}-toolbar`),this.ctx.domManager.removeChild("canvas-overlay",`${this.id}-pagination`),this.destroyFns.forEach(e=>e()),this.itemSelection.clear(),this.domProxy.destroy()}getOrientation(){return this.orientation??"horizontal"}set visible(e){this._visible=e,this.updateGroupVisibility()}get visible(){return this._visible}updateGroupVisibility(){this.group.visible=this.enabled&&this.visible&&this.data.length>0}attachLegend(e){e.appendChild(this.group)}getItemLabel(e){const{ctx:{callbackCache:t}}=this,{formatter:i}=this.item.label;if(i){const s=e.datum;return t.call(this,i,{itemId:e.itemId,value:e.label.text,seriesId:e.seriesId,...s&&{datum:s}})}return e.label.text}calcLayout(e,t){const{paddingX:i,paddingY:s,label:n,maxWidth:r,label:{maxLength:o=1/0,fontStyle:a,fontWeight:l,fontSize:d,fontFamily:h}}=this.item,p=[...this.data];this.reverseOrder&&p.reverse(),this.itemSelection.update(p);const f=[],v=Wt.toFontString(n),S=r??e*.8,{markerWidth:w,anyLineEnabled:b}=this.calculateMarkerWidth();if(this.itemSelection.each((z,V)=>{z.fontStyle=a,z.fontWeight=l,z.fontSize=d,z.fontFamily=h;const U=this.updateMarkerLabel(z,V,w,b),J=V.itemId??V.id,Ce=(this.getItemLabel(V)??"<unknown>").replace(/\r?\n/g," ");z.text=this.truncate(Ce,o,S,U,v,J),f.push(z.getBBox())}),e=Math.max(1,e),t=Math.max(1,t),!isFinite(e))return{};const x=this.size,D=this.oldSize;x[0]=e,x[1]=t,(x[0]!==D[0]||x[1]!==D[1])&&(D[0]=x[0],D[1]=x[1]);const{pages:E,maxPageHeight:T,maxPageWidth:k}=this.updatePagination(f,e,t),P=this.pages;this.pages=E,this.maxPageSize=[k-i,T-s];const O=this.pagination.currentPage,F=this.pages[O];return this.pages.length<1||!F?(this.visible=!1,{oldPages:P}):(this.visible=!0,this.updatePositions(O),this.update(),{oldPages:P})}isCustomMarker(e,t){return e&&t!==void 0&&typeof t!="string"}calcSymbolsEnabled(e){const{showSeriesStroke:t,marker:i}=this.item,s=!!i.enabled||!t||(e.marker.enabled??!0),n=!!(e.line&&t),r=this.isCustomMarker(s,e.marker.shape);return{markerEnabled:s,lineEnabled:n,isCustomMarker:r}}calcSymbolsLengths(e,t,i){const{marker:s,line:n}=this.item;let r;const{shape:o}=e.marker;if(this.isCustomMarker(t,o)){const d=new _i;d.shape=o,d.updatePath();const h=d.getBBox();r=Math.max(h.width,h.height)}const a=t?s.size:0,l=i?n.length??25:0;return{markerLength:a,lineLength:l,customMarkerSize:r}}calculateMarkerWidth(){let e=0,t=!1;return this.itemSelection.each((i,s)=>{const{symbol:n}=s,{lineEnabled:r,markerEnabled:o}=this.calcSymbolsEnabled(n),{markerLength:a,lineLength:l,customMarkerSize:d=-1/0}=this.calcSymbolsLengths(n,o,r);e=Math.max(e,l,d,a),t||(t=r)}),{markerWidth:e,anyLineEnabled:t}}updateMarkerLabel(e,t,i,s){const{marker:n,paddingX:r}=this.item,{symbol:o}=t;let a=r;const{markerEnabled:l,isCustomMarker:d}=this.calcSymbolsEnabled(o),h=n.padding;(l||s)&&(a+=h+i);const{marker:p,line:f}=e;return p.visible=l,p.visible&&(p.shape=n.shape??o.marker.shape??"square",p.size=n.size,tu(p,this.getMarkerStyles(o))),f.visible=s,f.visible&&tu(f,this.getLineStyles(o)),e.length=i,e.spacing=h,e.isCustomMarker=d,a}truncate(e,t,i,s,n,r){let o=!1;e.length>t&&(e=e.substring(0,t),o=!0);const a=fa.getMeasurer({font:n}),l=VR.truncateLine(e,a,i-s,o);return l.endsWith(Wt.EllipsisChar)?this.truncatedItems.add(r):this.truncatedItems.delete(r),l}updatePagination(e,t,i){const s=this.getOrientation(),n=Math.min(this.paginationTrackingIndex,e.length);this.pagination.orientation=s,this.pagination.translationX=0,this.pagination.translationY=0;const{pages:r,maxPageHeight:o,maxPageWidth:a,paginationBBox:l,paginationVertical:d}=this.calculatePagination(e,t,i),h=r.findIndex(D=>D.endIndex>=n);this.pagination.currentPage=Be(0,h,r.length-1);const{paddingX:p,paddingY:f}=this.item,v=8,y=a-p,S=o-f;let w=0,b=-l.y-this.item.marker.size/2;d?b+=S+v:(w+=-l.x+y+v,b+=(S-l.height)/2),this.pagination.translationX=w,this.pagination.translationY=b,this.pagination.update(),this.pagination.updateMarkers();let x=0;return this.itemSelection.each((D,E,T)=>{var k;T>(((k=r[x])==null?void 0:k.endIndex)??1/0)&&x++,D.pageIndex=x}),{maxPageHeight:o,maxPageWidth:a,pages:r}}calculatePagination(e,t,i){const{paddingX:s,paddingY:n}=this.item,r=this.getOrientation(),o=["left","right"].includes(this.position);let a=this.pagination.getBBox(),l=new De(0,0,0,0),d=[],h=0,p=0,f=0;const v=S=>S.width===a.width&&S.height===a.height,y=this.maxWidth!==void 0&&this.maxHeight!==void 0;do{if(f++>10){me.warn("unable to find stable legend layout.");break}a=l;const S=t-(o?0:a.width),w=i-(o?a.height:0),b=Sle({orientation:r,bboxes:e,maxHeight:w,maxWidth:S,itemPaddingY:n,itemPaddingX:s,forceResult:y});d=(b==null?void 0:b.pages)??[],h=(b==null?void 0:b.maxPageWidth)??0,p=(b==null?void 0:b.maxPageHeight)??0;const x=d.length;if(this.pagination.visible=x>1,this.pagination.totalPages=x,this.pagination.update(),this.pagination.updateMarkers(),l=this.pagination.getBBox(),!this.pagination.visible)break}while(!v(l));return{maxPageWidth:h,maxPageHeight:p,pages:d,paginationBBox:l,paginationVertical:o}}updatePositions(e=0){const{item:{paddingY:t},itemSelection:i,pages:s}=this;if(s.length<1||!s[e])return;const{columns:n,startIndex:r,endIndex:o}=s[e];let a=0,l=0;const d=n.length,h=n[0].indices.length,p=this.getOrientation()==="horizontal",f=n[0].bboxes[0].height+t,v=[];i.each((y,S,w)=>{if(w<r||w>o){y.visible=!1;return}const b=w-r;let x,D;p?(x=b%d,D=Math.floor(b/d)):(x=Math.floor(b/h),D=b%h),y.visible=!0;const E=n[x];E&&(l=Math.floor(f*D),a=Math.floor(v[D]??0),v[D]=(v[D]??0)+E.columnWidth,y.translationX=a,y.translationY=l)})}updatePageNumber(e){const{itemSelection:t,group:i,pagination:s,pages:n,toggleSeries:r}=this,{startIndex:o,endIndex:a}=n[e];o===0?this.paginationTrackingIndex=0:e===n.length-1?this.paginationTrackingIndex=a:this.paginationTrackingIndex=Math.floor((o+a)/2),this.pagination.update(),this.pagination.updateMarkers(),this.updatePositions(e),this.domProxy.onPageChange({itemSelection:t,group:i,pagination:s,interactive:r}),this.ctx.updateService.update(6)}update(){const{label:{color:e}}=this.item;this.itemSelection.each((t,i)=>{t.setEnabled(i.enabled),t.color=e}),this.updateContextMenu()}updateContextMenu(){const{toggleSeries:e,ctx:{contextMenuRegistry:t}}=this;e?(t.hideAction(Yg),t.hideAction(Y0)):(t.showAction(Yg),t.showAction(Y0))}getLineStyles(e){const{stroke:t,strokeOpacity:i=1,strokeWidth:s,lineDash:n}=e.line??{},r=Math.min(2,s??1);return{stroke:t,strokeOpacity:i,strokeWidth:this.item.line.strokeWidth??r,lineDash:n}}getMarkerStyles({marker:e}){const{fill:t,stroke:i,strokeOpacity:s=1,fillOpacity:n=1,strokeWidth:r,lineDash:o,lineDashOffset:a}=e,l=Math.min(2,r??1);return Qc(t)&&(t.width=8,t.height=8,t.padding=1,t.strokeWidth=Math.min(2,t.strokeWidth??2)),ao({fill:t,stroke:i,strokeOpacity:s,fillOpacity:n,strokeWidth:this.item.marker.strokeWidth??l,lineDash:o,lineDashOffset:a},Lle,kle)}computePagedBBox(){const e=Ne.computeChildrenBBox(this.group.children());if(this.pages.length>1){const[t,i]=this.maxPageSize;e.height=Math.max(i,e.height),e.width=Math.max(t,e.width)}return e}findNode(e){const{datum:t,proxyButton:i}=this.itemSelection.select(s=>{var n;return((n=s.datum)==null?void 0:n.itemId)===e.itemId})[0]??{};if(t===void 0||i===void 0)throw new Error(`AG Charts - Missing required properties { datum: ${t}, proxyButton: ${JSON.stringify(i)} }`);return{datum:t,proxyButton:i}}contextToggleVisibility(e){const{datum:t,proxyButton:i}=this.findNode(e);this.doClick(e.event,t,i)}contextToggleOtherSeries(e){this.doDoubleClick(e.event,this.findNode(e).datum)}onContextClick(e,t){var a;const i=t.datum;this.preventHidingAll&&((a=this.contextMenuDatum)!=null&&a.enabled)&&this.getVisibleItemCount()<=1?this.ctx.contextMenuRegistry.disableAction(Yg):this.ctx.contextMenuRegistry.enableAction(Yg);const{offsetX:s,offsetY:n}=e,{x:r,y:o}=hi.toCanvasPoint(t,s,n);this.ctx.contextMenuRegistry.dispatchContext("legend",{sourceEvent:e,canvasX:r,canvasY:o},{legendItem:i})}onClick(e,t,i){this.doClick(e,t,i)&&e.preventDefault()}getVisibleItemCount(){return this.ctx.chartService.series.flatMap(e=>e.getLegendData("category")).filter(e=>e.enabled).length}doClick(e,t,i){const{listeners:{legendItemClick:s},ctx:{chartService:n,highlightManager:r},preventHidingAll:o,toggleSeries:a}=this;if(!t)return!1;const{legendType:l,seriesId:d,itemId:h,enabled:p}=t,f=n.series.find(S=>S.id===d);if(!f)return!1;let v=p;const y=iO("click",h,f.id,e);return s==null||s(y.apiEvent),y.defaultPrevented||(a&&(v=!p,o&&!v&&this.getVisibleItemCount()<2&&(v=!0),i.setChecked(v),this.ctx.chartEventManager.legendItemClick(l,f,h,v,t.legendItemName)),v?r.updateHighlight(this.id,{series:f,itemId:h,datum:void 0,datumIndex:void 0}):r.updateHighlight(this.id),this.ctx.legendManager.update(),this.ctx.updateService.update(2,{forceNodeDataRefresh:!0,skipAnimations:t.skipAnimations??!1})),!0}onDoubleClick(e,t){this.doDoubleClick(e,t)&&e.preventDefault()}doDoubleClick(e,t){const{listeners:{legendItemDoubleClick:i},ctx:{chartService:s},toggleSeries:n}=this;if(s.mode==="integrated"||!t)return!1;const{legendType:r,id:o,itemId:a,seriesId:l}=t,d=s.series.find(p=>p.id===o);if(!d)return!1;const h=iO("dblclick",a,d.id,e);if(i==null||i(h.apiEvent),h.defaultPrevented)return!0;if(n){const p=s.series.flatMap(S=>S.getLegendData("category"));let f=0;const v=new Set;for(const S of p)S.enabled&&(f+=1,S.legendItemName!=null&&v.add(S.legendItemName));v.size>0&&(f=v.size);const y=p.find(S=>S.itemId===a&&S.seriesId===l);this.ctx.chartEventManager.legendItemDoubleClick(r,d,a,(y==null?void 0:y.enabled)??!1,f,y==null?void 0:y.legendItemName)}return this.ctx.legendManager.update(),this.ctx.updateService.update(2,{forceNodeDataRefresh:!0}),!0}toTooltipMeta(e,t){let i;return e instanceof FocusEvent?i=hi.toCanvas(t).computeCenter():(e.preventDefault(),i=hi.toCanvasPoint(t,e.offsetX,e.offsetY)),{canvasX:i.x,canvasY:i.y,showArrow:!1}}onHover(e,t){if(!this.enabled)throw new Error("AG Charts - onHover handler called on disabled legend");this.pagination.setPage(t.pageIndex);const i=t.datum,s=i?this.ctx.chartService.series.find(n=>n.id===(i==null?void 0:i.id)):void 0;if(i&&this.truncatedItems.has(i.itemId??i.id)){const n=this.toTooltipMeta(e,t);this.ctx.tooltipManager.updateTooltip(this.id,n,[{type:"structured",title:this.getItemLabel(i)}])}else this.ctx.tooltipManager.removeTooltip(this.id);i!=null&&i.enabled&&s?this.updateHighlight({series:s,itemId:i==null?void 0:i.itemId,datum:void 0,datumIndex:void 0}):this.updateHighlight()}onLeave(){this.ctx.tooltipManager.removeTooltip(this.id),this.updateHighlight()}updateHighlight(e){this.ctx.interactionManager.isState(32)?this.ctx.highlightManager.updateHighlight(this.id,e):this.ctx.interactionManager.isState(2)&&(this.pendingHighlightDatum=e,this.ctx.animationManager.onBatchStop(()=>{this.ctx.highlightManager.updateHighlight(this.id,this.pendingHighlightDatum)}))}onLocaleChanged(){this.domProxy.onLocaleChanged(this.ctx.localeManager,this.itemSelection,this)}positionLegend(e){const t=this.positionLegendScene(e);this.positionLegendDOM(t)}positionLegendScene(e){if(!this.enabled||!this.data.length)return;const{layoutBox:t}=e,{x:i,y:s,width:n,height:r}=t,[o,a]=this.calculateLegendDimensions(t),{oldPages:l}=this.calcLayout(o,a),d=this.computePagedBBox(),h=()=>{switch(this.position){case"top":case"left":return 0;case"bottom":return r-d.height;case"right":default:return n-d.width}};if(this.visible){const p=this.spacing;let f,v;switch(this.position){case"top":case"bottom":f=(n-d.width)/2,v=h(),t.shrink(d.height+p,this.position);break;case"left":case"right":default:f=h(),v=(r-d.height)/2,t.shrink(d.width+p,this.position)}this.group.translationX=Math.floor(i+f-d.x),this.group.translationY=Math.floor(s+v-d.y)}return l}positionLegendDOM(e){const{ctx:t,itemSelection:i,pagination:s,pages:n,toggleSeries:r,group:o,listeners:{legendItemClick:a,legendItemDoubleClick:l}}=this,d=this.visible&&this.enabled,h=r||l!=null||a!=null;this.domProxy.update({visible:d,interactive:h,ctx:t,itemSelection:i,group:o,pagination:s,oldPages:e,newPages:n,datumReader:this,itemListener:this})}calculateLegendDimensions(e){const{width:t,height:i}=e,s=t/i,n=.5,r=.2,o=.25;let a,l;switch(this.position){case"top":case"bottom":{const d=s<1?Math.min(n,r*(1/s)):r;a=this.maxWidth?Math.min(this.maxWidth,t):t,l=this.maxHeight?Math.min(this.maxHeight,i):Math.round(i*d);break}case"left":case"right":default:{const d=s>1?Math.min(n,o*s):o;a=this.maxWidth?Math.min(this.maxWidth,t):Math.round(t*d),l=this.maxHeight?Math.min(this.maxHeight,i):i}}return[a,l]}};ln.className="Legend";R([A()],ln.prototype,"toggleSeries",2);R([A()],ln.prototype,"pagination",2);R([A()],ln.prototype,"item",2);R([A()],ln.prototype,"listeners",2);R([Ol((e,t,i)=>{if(e.updateGroupVisibility(),t===i)return;const{ctx:{legendManager:s,stateManager:n}}=e;i===!1&&t===!0&&n.restoreState(s)}),A()],ln.prototype,"enabled",2);R([A()],ln.prototype,"position",2);R([A()],ln.prototype,"maxWidth",2);R([A()],ln.prototype,"maxHeight",2);R([A()],ln.prototype,"reverseOrder",2);R([A(Mt(["horizontal","vertical"],"an orientation"))],ln.prototype,"orientation",2);R([A()],ln.prototype,"preventHidingAll",2);R([A()],ln.prototype,"spacing",2);var Ple={type:"legend",optionsKey:"legend",identifier:"category",chartTypes:["cartesian","polar","hierarchy","topology","flow-proportion","standalone","gauge"],moduleFactory:e=>new ln(e),packageType:"community",removable:"standalone-only"},NB={};Gr(NB,{CARTESIAN_AXIS_TYPE:()=>GB,CARTESIAN_POSITION:()=>BB,FONT_SIZE:()=>zB,FONT_SIZE_RATIO:()=>PE,POLAR_AXIS_SHAPE:()=>jB,POLAR_AXIS_TYPE:()=>HB});var zB=(e=>(e[e.SMALLEST=8]="SMALLEST",e[e.SMALLER=10]="SMALLER",e[e.SMALL=12]="SMALL",e[e.MEDIUM=13]="MEDIUM",e[e.LARGE=14]="LARGE",e[e.LARGEST=17]="LARGEST",e))(zB||{}),PE=(e=>(e[e.SMALLEST=.6666666666666666]="SMALLEST",e[e.SMALLER=.8333333333333334]="SMALLER",e[e.SMALL=1]="SMALL",e[e.MEDIUM=1.0833333333333333]="MEDIUM",e[e.LARGE=1.1666666666666667]="LARGE",e[e.LARGEST=1.4166666666666667]="LARGEST",e))(PE||{}),BB=(e=>(e.TOP="top",e.RIGHT="right",e.BOTTOM="bottom",e.LEFT="left",e))(BB||{}),GB=(e=>(e.CATEGORY="category",e.GROUPED_CATEGORY="grouped-category",e.ORDINAL_TIME="ordinal-time",e.NUMBER="number",e.TIME="time",e.LOG="log",e))(GB||{}),HB=(e=>(e.ANGLE_CATEGORY="angle-category",e.ANGLE_NUMBER="angle-number",e.RADIUS_CATEGORY="radius-category",e.RADIUS_NUMBER="radius-number",e))(HB||{}),jB=(e=>(e.CIRCLE="circle",e.POLYGON="polygon",e))(jB||{}),OE={};Gr(OE,{DEFAULT_ANNOTATION_HANDLE_FILL:()=>Ff,DEFAULT_ANNOTATION_STATISTICS_COLOR:()=>Bf,DEFAULT_ANNOTATION_STATISTICS_DIVIDER_STROKE:()=>Gf,DEFAULT_ANNOTATION_STATISTICS_DOWN_FILL:()=>Yp,DEFAULT_ANNOTATION_STATISTICS_DOWN_STROKE:()=>Kp,DEFAULT_ANNOTATION_STATISTICS_FILL:()=>Nf,DEFAULT_ANNOTATION_STATISTICS_STROKE:()=>zf,DEFAULT_CAPTION_ALIGNMENT:()=>dl,DEFAULT_CAPTION_LAYOUT_STYLE:()=>ul,DEFAULT_FIBONACCI_STROKES:()=>$p,DEFAULT_FINANCIAL_CHARTS_ANNOTATION_BACKGROUND_FILL:()=>Ni,DEFAULT_FINANCIAL_CHARTS_ANNOTATION_COLOR:()=>ci,DEFAULT_GRIDLINE_ENABLED:()=>to,DEFAULT_POLAR_SERIES_STROKE:()=>gb,DEFAULT_SEPARATION_LINES_COLOUR:()=>Lf,DEFAULT_SHADOW_COLOUR:()=>Gl,DEFAULT_SPARKLINE_CROSSHAIR_STROKE:()=>pb,DEFAULT_TEXTBOX_COLOR:()=>Vf,DEFAULT_TEXTBOX_FILL:()=>Hf,DEFAULT_TEXTBOX_STROKE:()=>jf,DEFAULT_TEXT_ANNOTATION_COLOR:()=>Of,DEFAULT_TOOLBAR_POSITION:()=>_f,IS_COMMUNITY:()=>FE,IS_DARK_THEME:()=>Pd,IS_ENTERPRISE:()=>NE,PALETTE_ALT_DOWN_FILL:()=>HE,PALETTE_ALT_DOWN_STROKE:()=>BE,PALETTE_ALT_NEUTRAL_FILL:()=>jE,PALETTE_ALT_NEUTRAL_STROKE:()=>hb,PALETTE_ALT_UP_FILL:()=>GE,PALETTE_ALT_UP_STROKE:()=>zE,PALETTE_DOWN_FILL:()=>Pf,PALETTE_DOWN_STROKE:()=>ub,PALETTE_NEUTRAL_FILL:()=>db,PALETTE_NEUTRAL_STROKE:()=>Jd,PALETTE_UP_FILL:()=>kf,PALETTE_UP_STROKE:()=>cb});var Pd=Symbol("is-dark-theme"),FE=Symbol("is-community"),NE=Symbol("is-enterprise"),Lf=Symbol("default-separation-lines-colour"),Gl=Symbol("default-shadow-colour"),ul=Symbol("default-caption-layout-style"),dl=Symbol("default-caption-alignment"),cb=Symbol("palette-up-stroke"),ub=Symbol("palette-down-stroke"),kf=Symbol("palette-up-fill"),Pf=Symbol("palette-down-fill"),Jd=Symbol("palette-neutral-stroke"),db=Symbol("palette-neutral-fill"),zE=Symbol("palette-alt-up-stroke"),BE=Symbol("palette-alt-down-stroke"),GE=Symbol("palette-alt-up-fill"),HE=Symbol("palette-alt-down-fill"),jE=Symbol("palette-gray-fill"),hb=Symbol("palette-gray-stroke"),gb=Symbol("default-polar-series-stroke"),pb=Symbol("default-sparkline-crosshair-stroke"),ci=Symbol("default-financial-charts-annotation-stroke"),$p=Symbol("default-hierarchy-strokes"),Of=Symbol("default-text-annotation-color"),Ni=Symbol("default-financial-charts-annotation-background-fill"),Ff=Symbol("default-annotation-handle-fill"),Nf=Symbol("default-annotation-statistics-fill"),zf=Symbol("default-annotation-statistics-stroke"),Bf=Symbol("default-annotation-statistics-color"),Gf=Symbol("default-annotation-statistics-divider-stroke"),Yp=Symbol("default-annotation-statistics-fill"),Kp=Symbol("default-annotation-statistics-stroke"),Hf=Symbol("default-textbox-fill"),jf=Symbol("default-textbox-stroke"),Vf=Symbol("default-textbox-color"),_f=Symbol("default-toolbar-position"),to=Symbol("default-gridline-enabled"),VB=[{type:"number",position:{$if:[{$eq:[{$path:["/direction",void 0]},"horizontal"]},"bottom","left"]}},{type:"category",position:{$if:[{$eq:[{$path:["/direction",void 0]},"horizontal"]},"left","bottom"]}}],Ole={$if:[{$or:[{$isGradient:[{$palette:"fill"}]},{$isPattern:[{$palette:"fill"}]}]},{$palette:"fillFallback"},{$palette:"fill"}]},VE={$if:[{$or:[{$isGradient:[{$palette:"fill"}]},{$isPattern:[{$palette:"fill"}]}]},{$palette:"fillsFallback"},{$palette:"fills"}]},fb={$if:[{$isGradient:[{$palette:"fill"}]},{$palette:"fillFallback"},{$if:[{$isPattern:[{$palette:"fill"}]},{$path:["./stroke",{$palette:"fillFallback"},{$palette:"fill"}]},{$palette:"fill"}]}]},Fle={$if:[{$or:[{$isGradient:[{$palette:"fill"}]},{$isPattern:[{$palette:"fill"}]}]},[{$palette:"fillFallback"},{$palette:"fillFallback"}],{$palette:"range2"}]},Rl={type:"pattern",pattern:"forward-slanted-lines",width:10,height:10,padding:2,fill:{$if:[{$isGradient:[{$palette:"fill"}]},{$palette:"fillFallback"},{$if:[{$isPattern:[{$palette:"fill"}]},{$path:["./fill",{$palette:"fillFallback"},{$palette:"fill"}]},{$palette:"fill"}]}]},fillOpacity:1,stroke:fb,strokeOpacity:1,strokeWidth:4,backgroundFill:"transparent",backgroundFillOpacity:1,rotation:0};function On(e){return e3(e,t=>{const i=yt.fromString(t);return[yt.darken(i,.15).toString(),t,yt.lighten(i,.15).toString()]})}function Jy(e,t,i,s,n){const{addPhaseFn:r,updatePhaseFn:o,removePhaseFn:a}=n,l=(d,h,p)=>{i.animate({id:`${e}_${t}_${h.id}_${d}`,groupId:e,from:0,to:1,ease:Hp,collapsable:!1,onUpdate(f,v){v&&d!=="removed"||(h.path.clear(!0),p(f,h),h.checkPathDirty())},onStop(){d==="added"&&(h.path.clear(!0),p(1,h),h.checkPathDirty())},phase:Er[d]})};for(const d of s)i.isSkipped()||(l("removed",d,a),l("updated",d,o)),l("added",d,r)}function ft({id:e},t,i,...s){va(e,t,i,s,{opacity:0},{opacity:1},{phase:"trailing"})}function hl({id:e},t,i,...s){va(e,t,i,s,{opacity:1},{opacity:0},{phase:"remove"})}function Da(e){return{opacity:1}}var Vr=class extends TE{constructor(){super(...arguments),this.enabled=!0,this.color="rgba(0, 0, 0, 0.5)",this.xOffset=0,this.yOffset=0,this.blur=5}};R([A(),Re()],Vr.prototype,"enabled",2);R([A(),Re()],Vr.prototype,"color",2);R([A(),Re()],Vr.prototype,"xOffset",2);R([A(),Re()],Vr.prototype,"yOffset",2);R([A(),Re()],Vr.prototype,"blur",2);var _B=class extends Ge{constructor(){super(...arguments),this.enabled=!1}};R([A()],_B.prototype,"enabled",2);var Is=class extends Ge{constructor(){super(...arguments),this.interaction=new _B,this.position=new ba,this.range=void 0,this.class=void 0}formatTooltip(e,t,i){const s=this.renderer==null?void 0:QR(e,this.renderer,[i]);return typeof s=="string"?{type:"raw",rawHtmlString:s}:s!=null?{type:"structured",...t,...s}:{type:"structured",...t}}};R([A()],Is.prototype,"enabled",2);R([A()],Is.prototype,"showArrow",2);R([A()],Is.prototype,"renderer",2);R([A()],Is.prototype,"interaction",2);R([A()],Is.prototype,"position",2);R([A()],Is.prototype,"range",2);R([A()],Is.prototype,"class",2);var Nle=class{constructor(e,t,i){this.root=new Gle(e,t,i)}clear(e){this.root.clear(e)}addValue(e,t){const i={hitTester:e,value:t,distanceSquared:(s,n)=>e.distanceSquared(s,n)};this.root.addElem(i)}find(e,t){const i={best:{nearest:void 0,distanceSquared:1/0}};return this.root.find(e,t,i),i.best}},zle=class{constructor(e,t,i,s){this.nw=e,this.ne=t,this.sw=i,this.se=s}addElem(e){this.nw.addElem(e),this.ne.addElem(e),this.sw.addElem(e),this.se.addElem(e)}find(e,t,i){this.nw.find(e,t,i),this.ne.find(e,t,i),this.sw.find(e,t,i),this.se.find(e,t,i)}},Ble=class{constructor(e,t,i){this.capacity=e,this.maxdepth=t,this.boundary=i??De.NaN,this.elems=[],this.subdivisions=void 0}clear(e){this.elems.length=0,this.boundary=e,this.subdivisions=void 0}addElem(e){this.addCondition(e)&&(this.subdivisions===void 0?this.maxdepth===0||this.elems.length<this.capacity?this.elems.push(e):this.subdivide(e):this.subdivisions.addElem(e))}find(e,t,i){this.findCondition(e,t,i)&&(this.subdivisions===void 0?this.findAction(e,t,i):this.subdivisions.find(e,t,i))}subdivide(e){this.subdivisions=this.makeSubdivisions();for(const t of this.elems)this.subdivisions.addElem(t);this.subdivisions.addElem(e),this.elems.length=0}makeSubdivisions(){const{x:e,y:t,width:i,height:s}=this.boundary,{capacity:n}=this,r=this.maxdepth-1,o=i/2,a=s/2,l=new De(e,t,o,a),d=new De(e+o,t,o,a),h=new De(e,t+a,o,a),p=new De(e+o,t+a,o,a);return new zle(this.child(n,r,l),this.child(n,r,d),this.child(n,r,h),this.child(n,r,p))}},Gle=class WB extends Ble{addCondition(t){const{x:i,y:s}=t.hitTester.midPoint;return this.boundary.containsPoint(i,s)}findCondition(t,i,s){const{best:n}=s;return n.distanceSquared!==0&&this.boundary.distanceSquared(t,i)<n.distanceSquared}findAction(t,i,s){const n=PC(t,i,this.elems,s.best.distanceSquared);n.nearest!==void 0&&n.distanceSquared<s.best.distanceSquared&&(s.best=n)}child(t,i,s){return new WB(t,i,s)}},_E=class extends ib{constructor({clipFocusBox:e,categoryKey:t,...i}){super(i),this.categoryKey=t,this.clipFocusBox=e??!0}getScaleInformation({xScale:e,yScale:t}){const i=wt.is(e),s=wt.is(t);return{isContinuousX:i,isContinuousY:s,xScaleType:e==null?void 0:e.type,yScaleType:t==null?void 0:t.type}}getModulePropertyDefinitions(){var i,s;const e=(i=this.axes.x)==null?void 0:i.scale,t=(s=this.axes.y)==null?void 0:s.scale;return this.moduleMap.mapModules(n=>n.getPropertyDefinitions(this.getScaleInformation({xScale:e,yScale:t}))).flat()}async requestDataModel(e,t,i){i.props.push(...this.getModulePropertyDefinitions());const{dataModel:s,processedData:n}=await e.request(this.id,t??[],i);return this.dataModel=s,this.processedData=n,this.dispatch("data-processed",{dataModel:s,processedData:n}),{dataModel:s,processedData:n}}isProcessedDataAnimatable(){var s,n;const e=(n=(s=this.processedData)==null?void 0:s.reduced)==null?void 0:n.animationValidation;if(!e)return!0;const{orderedKeys:t,uniqueKeys:i}=e;return t&&i}checkProcessedDataAnimatable(){this.isProcessedDataAnimatable()||this.ctx.animationManager.skipCurrentBatch()}pickFocus(e){const t=this.getNodeData();if(t===void 0||t.length===0)return;const i=this.computeFocusDatumIndex(e,t);if(i===void 0)return;const{clipFocusBox:s}=this,n=t[i],r={...e,datumIndex:i},o=this.computeFocusBounds(r);if(o!==void 0)return{bounds:o,clipFocusBox:s,datum:n,datumIndex:i}}isDatumEnabled(e,t){const{missing:i=!1,enabled:s=!0,focusable:n=!0}=e[t];return!i&&s&&n}computeFocusDatumIndex(e,t){const i=(o,a)=>{for(;o>=0&&!this.isDatumEnabled(t,o);)o+=a;return o===-1?void 0:o},s=(o,a)=>{for(;o<t.length&&!this.isDatumEnabled(t,o);)o+=a;return o===t.length?void 0:o};let n;const r=Be(0,e.datumIndex,t.length-1);return e.datumIndexDelta<0?n=i(r,e.datumIndexDelta):e.datumIndexDelta>0?n=s(r,e.datumIndexDelta):n=s(r,1)??i(r,-1),n===void 0?e.datumIndexDelta===0?void 0:e.datumIndex-e.datumIndexDelta:n}keysOrValues(e){var i,s,n;const t=this.dataModel.resolveProcessedDataIndexById(this,e);return((s=(i=this.processedData)==null?void 0:i.keys[t])==null?void 0:s.get(this.id))??((n=this.processedData)==null?void 0:n.columns[t])??[]}getCategoryKey(){return this.categoryKey}getCategoryValue(e){var r,o;const{processedData:t,dataModel:i}=this,s=this.getCategoryKey();return!t||!i||!s||(((o=(r=t.invalidData)==null?void 0:r.get(this.id))==null?void 0:o[e])??!1)?void 0:this.keysOrValues(s)[e]}datumIndexForCategoryValue(e){var o,a;const{processedData:t,dataModel:i}=this,s=this.getCategoryKey();if(!t||!i||!s)return;e=e.valueOf();const n=(o=t.invalidData)==null?void 0:o.get(this.id),r=this.keysOrValues(s);for(let l=0;l<r.length;l+=1){if((n==null?void 0:n[l])===!0)continue;const d=(a=r[l])==null?void 0:a.valueOf();if(mo(e,d))return l}}},pu={x:["xKey"],y:["yKey"]},fu={x:["xName"],y:["yName"]},WE=class extends Ef{constructor(e,t,i,s){super(e,t,i,s),this.xKey=s.properties.xKey,this.yKey=s.properties.yKey}},Ra=class extends Pn{constructor(){super(...arguments),this.pickOutsideVisibleMinorAxis=!1}};R([A()],Ra.prototype,"legendItemName",2);R([A()],Ra.prototype,"pickOutsideVisibleMinorAxis",2);var eC=100,Hl=class extends _E{constructor({pathsPerSeries:e=["path"],hasMarkers:t=!1,hasHighlightedLabels:i=!1,pathsZIndexSubOrderOffset:s=[],datumSelectionGarbageCollection:n=!0,markerSelectionGarbageCollection:r=!0,animationAlwaysUpdateSelections:o=!1,animationResetFns:a,directionKeys:l,directionNames:d,...h}){if(super({directionKeys:l,directionNames:d,canHaveAxes:!0,...h}),this.NodeEvent=WE,this.dataNodeGroup=this.contentGroup.appendChild(new Ne({name:`${this.id}-series-dataNodes`,zIndex:0})),this.markerGroup=this.contentGroup.appendChild(new Ne({name:`${this.id}-series-markers`,zIndex:1})),this.labelGroup=this.contentGroup.appendChild(new Bs({name:`${this.id}-series-labels`})),this.labelSelection=Ai.select(this.labelGroup,Vi),this.highlightSelection=Ai.select(this.highlightNode,()=>this.opts.hasMarkers?new _i:this.nodeFactory()),this.highlightLabelSelection=Ai.select(this.highlightLabel,Vi),this.annotationSelections=new Set,this.debug=ht.create(),!l||!d)throw new Error(`Unable to initialise series type ${this.type}`);this.opts={pathsPerSeries:e,hasMarkers:t,hasHighlightedLabels:i,pathsZIndexSubOrderOffset:s,directionKeys:l,directionNames:d,animationResetFns:a,animationAlwaysUpdateSelections:o,datumSelectionGarbageCollection:n,markerSelectionGarbageCollection:r},this.paths=e.map(p=>new Ws({name:`${this.id}-${p}`})),this.datumSelection=Ai.select(this.dataNodeGroup,()=>this.nodeFactory(),n),this.markerSelection=Ai.select(this.markerGroup,_i,r),this.animationState=new Df("empty",{empty:{update:{target:"ready",action:p=>this.animateEmptyUpdateReady(p)},reset:"empty",skip:"ready",disable:"disabled"},ready:{updateData:"waiting",clear:"clearing",highlight:p=>this.animateReadyHighlight(p),highlightMarkers:p=>this.animateReadyHighlightMarkers(p),resize:p=>this.animateReadyResize(p),reset:"empty",skip:"ready",disable:"disabled"},waiting:{update:{target:"ready",action:p=>{this.ctx.animationManager.isSkipped()?this.resetAllAnimation(p):this.animateWaitingUpdateReady(p)}},reset:"empty",skip:"ready",disable:"disabled"},disabled:{update:p=>this.resetAllAnimation(p),reset:"empty"},clearing:{update:{target:"empty",action:p=>this.animateClearingUpdateEmpty(p)},reset:"empty",skip:"ready"}},()=>this.checkProcessedDataAnimatable())}get contextNodeData(){return this._contextNodeData}getNodeData(){var e;return(e=this.contextNodeData)==null?void 0:e.nodeData}attachSeries(e,t,i){super.attachSeries(e,t,i),this.attachPaths(this.paths,t,i)}detachSeries(e,t,i){super.detachSeries(e,t,i),this.detachPaths(this.paths,t,i)}attachPaths(e,t,i){for(const s of e)this.contentGroup.appendChild(s)}detachPaths(e,t,i){for(const s of e)this.contentGroup.removeChild(s)}renderToOffscreenCanvas(){const e=this.getNodeData();return e!=null&&e.length>eC}resetAnimation(e){e==="initial"?this.animationState.transition("reset"):e==="ready"?this.animationState.transition("skip"):e==="disabled"&&this.animationState.transition("disable")}addChartEventListeners(){this.destroyFns.push(this.ctx.chartEventManager.addListener("legend-item-click",e=>this.onLegendItemClick(e)),this.ctx.chartEventManager.addListener("legend-item-double-click",e=>this.onLegendItemDoubleClick(e)))}destroy(){super.destroy(),this._contextNodeData=void 0}update({seriesRect:e}){var l,d;const{visible:t,_contextNodeData:i}=this,n=((d=(l=this.ctx.highlightManager)==null?void 0:l.getActiveHighlight())==null?void 0:d.series)===this,r=this.checkResize(e),o=this.updateHighlightSelection(n);this.updateSelections(t),this.updateNodes(o,n,t);const a=this.getAnimationData(e,i);a&&(r&&this.animationState.transition("resize",a),this.animationState.transition("update",a))}updateSelections(e){var t;const i=!this.opts.animationAlwaysUpdateSelections&&this.ctx.animationManager.isSkipped();if(!(!e&&i)&&!(!this.nodeDataRefresh&&!this.isPathOrSelectionDirty())){if(this.nodeDataRefresh){this.nodeDataRefresh=!1,this.debug("CartesianSeries.updateSelections() - calling createNodeData() for",this.id),this.markQuadtreeDirty(),this._contextNodeData=this.createNodeData();const s=this.isProcessedDataAnimatable();this._contextNodeData&&((t=this._contextNodeData).animationValid??(t.animationValid=s));const{dataModel:n,processedData:r}=this;n!==void 0&&r!==void 0&&this.dispatch("data-update",{dataModel:n,processedData:r})}this.updateSeriesSelections()}}updateSeriesSelections(e){const{datumSelection:t,labelSelection:i,markerSelection:s,paths:n}=this,r=this._contextNodeData;if(!r)return;const{nodeData:o,labelData:a,itemId:l}=r;this.updatePaths({seriesHighlighted:e,itemId:l,contextData:r,paths:n}),this.datumSelection=this.updateDatumSelection({nodeData:o,datumSelection:t}),this.labelSelection=this.updateLabelSelection({labelData:a,labelSelection:i})??i,this.opts.hasMarkers&&(this.markerSelection=this.updateMarkerSelection({nodeData:o,markerSelection:s}))}getShapeFillBBox(){const{axes:e}=this,t=e.x,i=e.y,[s,n]=Ti((t==null?void 0:t.range)??[0,1]),[r,o]=Ti((i==null?void 0:i.range)??[0,1]),a=this.getSeriesDomain("x"),l=[t==null?void 0:t.scale.convert(a.at(0)),t==null?void 0:t.scale.convert(a.at(-1))],d=this.getSeriesDomain("y"),h=[i==null?void 0:i.scale.convert(d.at(0)),i==null?void 0:i.scale.convert(d.at(-1))],[p,f]=Ti(l),[v,y]=Ti(h);return{axis:new De(s,r,n-s,o-r),series:new De(p,v,f-p,y-v)}}updateNodes(e,t,i){const{highlightSelection:s,highlightLabelSelection:n,opts:{hasMarkers:r,hasHighlightedLabels:o}}=this,a=!this.ctx.animationManager.isSkipped(),l=this.visible&&this._contextNodeData!=null&&i;this.contentGroup.visible=a||l,this.highlightGroup.visible=(a||l)&&t;const d=this.getOpacity();r?(this.updateMarkerNodes({markerSelection:s,isHighlight:!0}),this.animationState.transition("highlightMarkers",s)):(this.updateDatumNodes({datumSelection:s,isHighlight:!0}),this.animationState.transition("highlight",s)),o&&this.updateLabelNodes({labelSelection:n});const{dataNodeGroup:h,markerGroup:p,datumSelection:f,labelSelection:v,markerSelection:y,paths:S,labelGroup:w}=this,{itemId:b}=this.contextNodeData??{};h.opacity=d,h.visible=a||l,w.visible=l,r&&(p.opacity=d,p.visible=l),w&&(w.opacity=d),this.updatePathNodes({seriesHighlighted:t,itemId:b,paths:S,opacity:d,visible:l,animationEnabled:a}),h.visible&&(this.updateDatumNodes({datumSelection:f,highlightedItems:e,isHighlight:!1}),this.usesPlacedLabels||this.updateLabelNodes({labelSelection:v}),r&&this.updateMarkerNodes({markerSelection:y,isHighlight:!1}))}getHighlightLabelData(e,t){const i=e.filter(s=>s.datum===t.datum&&s.itemId===t.itemId);return i.length===0?void 0:i}getHighlightData(e,t){return t?[t]:void 0}updateHighlightSelection(e){var l;const{highlightSelection:t,highlightLabelSelection:i,_contextNodeData:s}=this;if(!s)return;const n=(l=this.ctx.highlightManager)==null?void 0:l.getActiveHighlight(),r=e&&(n!=null&&n.datum)?n:void 0;let o,a;if(r!=null){const d=this.isLabelEnabled(),{labelData:h,nodeData:p}=s;a=this.getHighlightData(p,r),o=d?this.getHighlightLabelData(h,r):void 0}return this.highlightSelection=this.updateHighlightSelectionItem({items:a,highlightSelection:t}),this.highlightLabelSelection=this.updateHighlightSelectionLabel({items:o,highlightLabelSelection:i}),a}markQuadtreeDirty(){this.quadtree=void 0}*datumNodesIter(){for(const{node:e}of this.datumSelection)e.datum.missing!==!0&&(yield e)}getQuadTree(){if(this.quadtree===void 0){const{width:e,height:t}=this.ctx.scene.canvas,i=new De(0,0,e,t);this.quadtree=new Nle(100,10,i),this.initQuadTree(this.quadtree)}return this.quadtree}initQuadTree(e){}pickNodesExactShape(e){const t=super.pickNodesExactShape(e);if(t.length!==0)return t;const{x:i,y:s}=e,{opts:{hasMarkers:n}}=this,{dataNodeGroup:r,markerGroup:o}=this;let a=r.pickNodes(i,s).filter(l=>l.datum.missing!==!0);if(a.length===0&&n&&(a=o==null?void 0:o.pickNodes(i,s).filter(l=>l.datum.missing!==!0)),a.length!==0)return a.map(d=>d.datum);for(const l of this.moduleMap.modules()){const{datum:d}=l.pickNodeExact(e)??{};if(d!=null&&(d==null?void 0:d.missing)!==!0)return[d]}return[]}pickNodeClosestDatum(e){var h;const{x:t,y:i}=e,{axes:s,_contextNodeData:n}=this;if(!n)return;const r=s.x,o=s.y,a={x:t,y:i};let l=1/0,d;for(const p of n.nodeData){const{point:{x:f=NaN,y:v=NaN}={}}=p;if(isNaN(f)||isNaN(v)||!((r==null?void 0:r.inRange(f))&&(o==null?void 0:o.inRange(v))))continue;const S=Math.max((a.x-f)**2+(a.y-v)**2,0);S<l&&(l=S,d=p)}for(const p of this.moduleMap.modules()){const f=p.pickNodeNearest(e);if(f!==void 0&&f.distanceSquared<l){l=f.distanceSquared,d=f.datum;break}}if(d){const p=Math.max(Math.sqrt(l)-(((h=d.point)==null?void 0:h.size)??0)/2,0);return{datum:d,distance:p}}}pickNodeMainAxisFirst(e,t){var y;const{x:i,y:s}=e,{axes:n,_contextNodeData:r}=this,{pickOutsideVisibleMinorAxis:o}=this.properties;if(!r)return;const a=n.x,l=n.y,d=[a,l].filter(du.is).map(S=>S.direction);if(t&&d.length===0)return;const[h="x"]=d,p=[i,s];h!=="x"&&p.reverse();const f=[1/0,1/0];let v;for(const S of r.nodeData){const{x:w=NaN,y:b=NaN}=S.point??S.midPoint??{};if(isNaN(w)||isNaN(b)||S.missing===!0)continue;const x=[a==null?void 0:a.inRange(w),l==null?void 0:l.inRange(b)];if(h!=="x"&&x.reverse(),!x[0]||!o&&!x[1])continue;const D=[w,b];h!=="x"&&D.reverse();let E=!0;for(let T=0;T<D.length;T++){const k=Math.abs(D[T]-p[T]);if(k>f[T]){E=!1;break}else k<f[T]&&(f[T]=k,f.fill(1/0,T+1,f.length))}E&&(v=S)}if(v){let S=Math.max(f[0]**2+f[1]**2-(((y=v.point)==null?void 0:y.size)??0),0);for(const w of this.moduleMap.modules()){const b=w.pickNodeMainAxisFirst(e);if(b!==void 0&&b.distanceSquared<S){v=b.datum,S=b.distanceSquared;break}}return{datum:v,distance:Math.sqrt(S)}}}isPathOrSelectionDirty(){return!1}shouldFlipXY(){return!1}visibleRange(e,t,i){const s=this.keysOrValues(e),n=0;return sz((i==null?void 0:i.length)??s.length,t,r=>{const o=(i==null?void 0:i[r])??r;return this.xCoordinateRange(s[o],n,o)})}domainForVisibleRange(e,t,i,s,n,r){const{processedData:o,dataModel:a}=this,[l,d]=s,h=this.keysOrValues(i);if(n){const y=this.visibleRange(i,s,r);return a.getDomainBetweenRange(this,t,y,o)}const p=t.map(y=>this.keysOrValues(y));let f=1/0,v=-1/0;return h.forEach((y,S)=>{const[w,b]=this.xCoordinateRange(y,0,S);if(!(b<l||w>d))for(let x=0;x<t.length;x++){const D=p[x][S];f=Math.min(f,D),v=Math.max(v,D)}}),f>v?[NaN,NaN]:[f,v]}domainForClippedRange(e,t,i,s){const{processedData:n,dataModel:r,axes:o}=this,l=Hle(o[e==="x"?"y":"x"]);if(!l)return t.flatMap(y=>r.getDomain(this,y,"value",n));const d=this.keysOrValues(i);if(s){const y=jle(d.length,l,S=>d[S]);return r.getDomainBetweenRange(this,t,y,n)}const h=t.map(y=>this.keysOrValues(y)),p=l[0].valueOf(),f=l[1].valueOf(),v=[];return d.forEach((y,S)=>{const w=y.valueOf();if(w<p||w>f)return;const b=h.map(x=>x[S]);w>=p&&v.push(...b),w<=f&&v.push(...b)}),v}countVisibleItems(e,t,i,s,n){const{dataModel:r,processedData:o}=this;if(!r||!o)return 1/0;const a=this.keysOrValues(e),l=t.map(T=>r.resolveColumnById(this,T,o)),d=this.axes.x,h=this.axes.y,p=this.shouldFlipXY(),f=d.range,v=h.range,y=(T,k,P)=>T[0]+(P-k[0])/(k[1]-k[0])*(T[1]-T[0]),S=y(f,d.visibleRange,i[0]),w=y(f,d.visibleRange,i[1]),b=y(v,h.visibleRange,p?s[0]:s[1]),x=y(v,h.visibleRange,p?s[1]:s[0]),D=Math.round((i[0]+(i[1]-i[0])/2)*a.length),E=0;return nz(0,a.length-1,D,n,T=>{let[k,P]=this.xCoordinateRange(a[T],E,T),[O,F]=this.yCoordinateRange(l.map(z=>z[T]),E,T);return!lt(k)||!lt(P)||!lt(O)||!lt(F)?!1:(p&&([k,P,O,F]=[O,F,k,P]),k>=S&&P<=w&&O>=b&&F<=x)})}updateHighlightSelectionItem(e){const{opts:{hasMarkers:t}}=this,{items:i,highlightSelection:s}=e,n=i??[];if(t){const r=s;return this.updateMarkerSelection({nodeData:n,markerSelection:r})}else return this.updateDatumSelection({nodeData:n,datumSelection:s})}updateHighlightSelectionLabel(e){return this.updateLabelSelection({labelData:e.items??[],labelSelection:e.highlightLabelSelection})}updateDatumSelection(e){return e.datumSelection}updateDatumNodes(e){}updateMarkerSelection(e){return e.markerSelection}updateMarkerNodes(e){}updatePaths(e){e.paths.forEach(t=>t.visible=!1)}updatePathNodes(e){const{paths:t,opacity:i,visible:s}=e;for(const n of t)n.opacity=i,n.visible=s}resetPathAnimation(e){var i;const{path:t}=((i=this.opts)==null?void 0:i.animationResetFns)??{};t&&e.paths.forEach(s=>{Xi([s],t)})}resetDatumAnimation(e){var i;const{datum:t}=((i=this.opts)==null?void 0:i.animationResetFns)??{};t&&Xi([e.datumSelection],t)}resetLabelAnimation(e){var i;const{label:t}=((i=this.opts)==null?void 0:i.animationResetFns)??{};t&&Xi([e.labelSelection],t)}resetMarkerAnimation(e){var i;const{marker:t}=((i=this.opts)==null?void 0:i.animationResetFns)??{};t&&this.opts.hasMarkers&&Xi([e.markerSelection],t)}resetAllAnimation(e){var t;this.ctx.animationManager.stopByAnimationGroupId(this.id),this.resetPathAnimation(e),this.resetDatumAnimation(e),this.resetLabelAnimation(e),this.resetMarkerAnimation(e),((t=e.contextData)==null?void 0:t.animationValid)===!1&&this.ctx.animationManager.skipCurrentBatch()}animateEmptyUpdateReady(e){this.ctx.animationManager.skipCurrentBatch(),this.resetAllAnimation(e)}animateWaitingUpdateReady(e){this.ctx.animationManager.skipCurrentBatch(),this.resetAllAnimation(e)}animateReadyHighlight(e){var i;const{datum:t}=((i=this.opts)==null?void 0:i.animationResetFns)??{};t&&Xi([e],t)}animateReadyHighlightMarkers(e){var i;const{marker:t}=((i=this.opts)==null?void 0:i.animationResetFns)??{};t&&Xi([e],t)}animateReadyResize(e){this.resetAllAnimation(e)}animateClearingUpdateEmpty(e){this.ctx.animationManager.skipCurrentBatch(),this.resetAllAnimation(e)}getAnimationData(e,t){const{_contextNodeData:i}=this;return i?{datumSelection:this.datumSelection,markerSelection:this.markerSelection,labelSelection:this.labelSelection,annotationSelections:[...this.annotationSelections],contextData:i,previousContextData:t,paths:this.paths,seriesRect:e}:void 0}updateLabelSelection(e){return e.labelSelection}getScaling(e){if(e instanceof AE){const{range:t,domain:i}=e;return{type:"log",convert:s=>e.convert(s),domain:[i[0],i[1]],range:[t[0],t[1]]}}else if(e instanceof wt){const{range:t,domain:i}=e;return{type:"continuous",domain:[i[0],i[1]],range:[t[0],t[1]]}}else if(e instanceof xf){const{domain:t}=e;return{type:"category",domain:t,inset:e.inset,step:e.step}}}calculateScaling(){const e={};for(const t of Object.values(_R)){const i=this.axes[t];if(!i)continue;const s=this.getScaling(i.scale);s!=null&&(e[t]=s)}return e}};function Hle(e){let t,i;if((e instanceof xa||e instanceof Nl)&&({min:t,max:i}=e),!(t==null&&i==null))return t??(t=-1/0),i??(i=1/0),[t,i]}function jle(e,t,i){const s=t[0].valueOf(),n=t[1].valueOf(),r=G2(0,e-1,a=>{var d;const l=(d=i(a))==null?void 0:d.valueOf();return!Number.isFinite(l)||l>=s});let o=B2(0,e-1,a=>{var d;const l=(d=i(a))==null?void 0:d.valueOf();return!Number.isFinite(l)||l<=n});return r==null||o==null?[0,0]:(o=Math.min(o+1,e),[r,o])}var Vle=Mt(["linear","smooth","step"],"a line style"),_le=Mt(["start","middle","end"]),Rh=class extends Ge{constructor(){super(...arguments),this.type="linear",this.tension=1,this.position="end"}};R([A()],Rh.prototype,"type",2);R([A()],Rh.prototype,"tension",2);R([A()],Rh.prototype,"position",2);var Si=class extends Ra{constructor(){super(...arguments),this.xName=void 0,this.fill="#c16068",this.fillGradientDefaults=new hr,this.fillPatternDefaults=new gi,this.fillOpacity=1,this.stroke="#874349",this.strokeWidth=2,this.strokeOpacity=1,this.lineDash=[0],this.lineDashOffset=0,this.interpolation=new Rh,this.shadow=new Vr,this.marker=new ns,this.label=new Ui,this.tooltip=new Is,this.connectMissingData=!1}};R([A()],Si.prototype,"xKey",2);R([A()],Si.prototype,"xName",2);R([A()],Si.prototype,"yKey",2);R([A()],Si.prototype,"yName",2);R([A()],Si.prototype,"yFilterKey",2);R([A()],Si.prototype,"normalizedTo",2);R([A(Cs(Do,Ro,Tn))],Si.prototype,"fill",2);R([A()],Si.prototype,"fillGradientDefaults",2);R([A()],Si.prototype,"fillPatternDefaults",2);R([A()],Si.prototype,"fillOpacity",2);R([A()],Si.prototype,"stroke",2);R([A()],Si.prototype,"strokeWidth",2);R([A()],Si.prototype,"strokeOpacity",2);R([A()],Si.prototype,"lineDash",2);R([A()],Si.prototype,"lineDashOffset",2);R([A()],Si.prototype,"interpolation",2);R([A()],Si.prototype,"shadow",2);R([A()],Si.prototype,"marker",2);R([A()],Si.prototype,"label",2);R([A()],Si.prototype,"tooltip",2);R([A()],Si.prototype,"connectMissingData",2);function Co(e){switch(e.type){case"linear":case"step":return[{x:e.x0,y:e.y0},{x:e.x1,y:e.y1}];case"cubic":return[{x:e.cp0x,y:e.cp0y},{x:e.cp3x,y:e.cp3y}]}}function Wle(e){const t=Co(e);return t[0].x>t[1].x&&t.reverse(),t}function Ule(e,t){const{x:i,y:s}=t;switch(e.type){case"linear":return{type:"linear",moveTo:e.moveTo,x0:i,y0:s,x1:i,y1:s};case"step":return{type:"step",moveTo:e.moveTo,x0:i,y0:s,x1:i,y1:s,stepX:i};case"cubic":return{type:"cubic",moveTo:e.moveTo,cp0x:i,cp0y:s,cp1x:i,cp1y:s,cp2x:i,cp2y:s,cp3x:i,cp3y:s}}}function qp(e,t,i){const[s,n]=Co(e),r=n.x!==s.x?(i.x-t.x)/(n.x-s.x):0,o=n.y!==s.y?(i.y-t.y)/(n.y-s.y):0;switch(e.type){case"linear":return{type:"linear",moveTo:e.moveTo,x0:t.x,y0:t.y,x1:i.x,y1:i.y};case"cubic":return{type:"cubic",moveTo:e.moveTo,cp0x:t.x,cp0y:t.y,cp1x:i.x-(e.cp2x-s.x)*r,cp1y:i.y-(e.cp2y-s.y)*o,cp2x:i.x-(e.cp1x-s.x)*r,cp2y:i.y-(e.cp1y-s.y)*o,cp3x:i.x,cp3y:i.y};case"step":return{type:"step",moveTo:e.moveTo,x0:t.x,y0:t.y,x1:i.x,y1:i.y,stepX:i.x-(e.stepX-s.x)*r}}}function UB(e,t,i){const{moveTo:s}=e,[n,r]=Wle(e),{x:o,y:a}=n,{x:l,y:d}=r;if(i<o)return qp(e,n,n);if(t>l)return qp(e,r,r);switch(e.type){case"linear":{const h=a===d?void 0:(d-a)/(l-o),p=h==null?a:h*(t-o)+a,f=h==null?a:h*(i-o)+a;return{type:"linear",moveTo:s,x0:t,y0:p,x1:i,y1:f}}case"step":if(i<=e.stepX){const h=e.y0;return{type:"step",moveTo:s,x0:t,y0:h,x1:i,y1:h,stepX:i}}else if(t>=e.stepX){const h=e.y1;return{type:"step",moveTo:s,x0:t,y0:h,x1:i,y1:h,stepX:t}}else{const{y0:h,y1:p,stepX:f}=e;return{type:"step",moveTo:s,x0:t,y0:h,x1:i,y1:p,stepX:f}}case"cubic":{const h=zy(e.cp0x,e.cp1x,e.cp2x,e.cp3x,t);let[p,f]=By(e.cp0x,e.cp0y,e.cp1x,e.cp1y,e.cp2x,e.cp2y,e.cp3x,e.cp3y,h);const v=zy(f[0].x,f[1].x,f[2].x,f[3].x,i);return[f,p]=By(f[0].x,f[0].y,f[1].x,f[1].y,f[2].x,f[2].y,f[3].x,f[3].y,v),{type:"cubic",moveTo:s,cp0x:f[0].x,cp0y:f[0].y,cp1x:f[1].x,cp1y:f[1].y,cp2x:f[2].x,cp2y:f[2].y,cp3x:f[3].x,cp3y:f[3].y}}}}function $le(e){const t=[];let i=0,s=NaN,n=NaN;for(const{x:r,y:o}of e){if(i>0){const a=i===1;t.push({type:"linear",moveTo:a,x0:s,y0:n,x1:r,y1:o})}i+=1,s=r,n=o}return t}var Yle={start:0,middle:.5,end:1};function Kle(e,t){const i=[];let s=0,n=NaN,r=NaN;const o=typeof t=="number"?t:Yle[t];for(const{x:a,y:l}of e){if(s>0){const d=s===1,h=n+(a-n)*o;i.push({type:"step",moveTo:d,x0:n,y0:r,x1:a,y1:l,stepX:h})}s+=1,n=a,r=l}return i}var Av=.05;function qle(e,t){const i=Array.isArray(e)?e:Array.from(e);if(i.length<=1)return[];const s=i.map((r,o)=>{const a=o===0?r:i[o-1],l=o===i.length-1?r:i[o+1],d=o===0||o===i.length-1;if(Math.sign(a.y-r.y)===Math.sign(l.y-r.y))return 0;if(!d){const h=Math.abs(a.y-l.y),p=Math.abs(r.y-a.y)/h,f=Math.abs(r.y-l.y)/h;if(p<=Av||1-p<=Av||f<=Av||1-f<=Av)return 0}return(l.y-a.y)/(l.x-a.x)});s[1]===0&&(s[0]*=2),s[s.length-2]===0&&(s[s.length-1]*=2);const n=[];for(let r=1;r<i.length;r+=1){const o=i[r-1],a=s[r-1],l=i[r],d=s[r],h=l.x-o.x,p=l.y-o.y;let f=h*t/3,v=h*a*t/3,y=h*t/3,S=h*d*t/3;d===0&&Math.abs(v)>Math.abs(p)&&(f*=Math.abs(p/v),v=Math.sign(v)*Math.abs(p)),a===0&&Math.abs(S)>Math.abs(p)&&(y*=Math.abs(p/S),S=Math.sign(S)*Math.abs(p)),n.push({type:"cubic",moveTo:r===1,cp0x:o.x,cp0y:o.y,cp1x:o.x+f,cp1y:o.y+v,cp2x:l.x-y,cp2y:l.y-S,cp3x:l.x,cp3y:l.y})}return n}function Fi(e,t,i){return(t-e)*i+e}function Zle(e,t){const{x0:i,y0:s,x1:n,y1:r}=e,a=(r-s)/(n-i)*(t-i)+s;return{leftCp1x:i,leftCp1y:s,leftCp2x:t,leftCp2y:a,stepX:t,stepY0:a,stepY1:a,rightCp1x:t,rightCp1y:a,rightCp2x:n,rightCp2y:r}}function Xle(e,t){const{cp0x:i,cp0y:s,cp1x:n,cp1y:r,cp2x:o,cp2y:a,cp3x:l,cp3y:d}=e,h=zy(i,n,o,l,t),[p,f]=By(i,s,n,r,o,a,l,d,h),v=p[3].y;return{leftCp1x:p[1].x,leftCp1y:p[1].y,leftCp2x:p[2].x,leftCp2y:p[2].y,stepX:t,stepY0:v,stepY1:v,rightCp1x:f[1].x,rightCp1y:f[1].y,rightCp2x:f[2].x,rightCp2y:f[2].y}}function Qle(e){const{x0:t,y0:i,x1:s,y1:n,stepX:r}=e;return{leftCp1x:(t+r)/2,leftCp1y:i,leftCp2x:(t+r)/2,leftCp2y:i,stepX:r,stepY0:i,stepY1:n,rightCp1x:(r+s)/2,rightCp1y:n,rightCp2x:(r+s)/2,rightCp2y:n}}function sO(e,t){return e.type==="linear"?Zle(e,t):e.type==="cubic"?Xle(e,t):Qle(e)}function $B(e,t,i,s,n,r,o){switch(t){case 0:o?e.moveTo(n,r):e.moveTo(i,s);break;case 1:o?e.lineTo(n,r):e.lineTo(i,s);break}}function YB(e,t,i,s,n,r){r?e.lineTo(t,i):e.lineTo(s,n)}function KB(e,t,i,s,n,r,o,a,l,d){d?e.cubicCurveTo(r,o,s,n,t,i):e.cubicCurveTo(s,n,r,o,a,l)}function qB(e,t,i,s,n,r,o){o?(e.lineTo(r,n),e.lineTo(r,i),e.lineTo(t,i)):(e.lineTo(r,i),e.lineTo(r,n),e.lineTo(s,n))}function eD(e,t,i,s){const[n,r]=Co(t);switch($B(e,i,n.x,n.y,r.x,r.y,s),t.type){case"linear":YB(e,t.x0,t.y0,t.x1,t.y1,s);break;case"cubic":KB(e,t.cp0x,t.cp0y,t.cp1x,t.cp1y,t.cp2x,t.cp2y,t.cp3x,t.cp3y,s);break;case"step":qB(e,t.x0,t.y0,t.x1,t.y1,t.stepX,s);break}}function ZB(e,t,i){const[s,n]=Co(e),[r,o]=Co(t),a=Fi(s.x,r.x,i),l=Fi(s.y,r.y,i),d=Fi(n.x,o.x,i),h=Fi(n.y,o.y,i);return[{x:a,y:l},{x:d,y:h}]}function tD(e,t,i,s,n,r){const[{x:o,y:a},{x:l,y:d}]=ZB(t,i,s);if($B(e,n,o,a,l,d,r),t.type==="cubic"&&i.type==="cubic"){const h=Fi(t.cp1x,i.cp1x,s),p=Fi(t.cp1y,i.cp1y,s),f=Fi(t.cp2x,i.cp2x,s),v=Fi(t.cp2y,i.cp2y,s);KB(e,o,a,h,p,f,v,l,d,r)}else if(t.type==="step"&&i.type==="step"){const h=Fi(t.stepX,i.stepX,s);qB(e,o,a,l,d,h,r)}else if(t.type==="linear"&&i.type==="linear")YB(e,o,a,l,d,r);else{let h;t.type==="step"?h=t.stepX:i.type==="step"?h=i.stepX:h=(o+l)/2;const p=sO(t,h),f=sO(i,h),v=Fi(p.leftCp1x,f.leftCp1x,s),y=Fi(p.leftCp1y,f.leftCp1y,s),S=Fi(p.leftCp2x,f.leftCp2x,s),w=Fi(p.leftCp2y,f.leftCp2y,s),b=Fi(p.stepX,f.stepX,s),x=Fi(p.stepY0,f.stepY0,s),D=Fi(p.stepY1,f.stepY1,s),E=Fi(p.rightCp1x,f.rightCp1x,s),T=Fi(p.rightCp1y,f.rightCp1y,s),k=Fi(p.rightCp2x,f.rightCp2x,s),P=Fi(p.rightCp2y,f.rightCp2y,s);r?(e.cubicCurveTo(k,P,E,T,b,D),e.lineTo(b,x),e.cubicCurveTo(S,w,v,y,o,a)):(e.cubicCurveTo(v,y,S,w,b,x),e.lineTo(b,D),e.cubicCurveTo(E,T,k,P,l,d))}}var XB=(e=>(e[e.Zero=0]="Zero",e[e.Split=1]="Split",e))(XB||{});function Jle(e,t){return e==null||t==null||typeof e!="object"||typeof t!="object"?!1:"id"in e&&"id"in t?e.id===t.id:e.toString()===t.toString()}function Ms(e,t){if(!t)return NaN;if(e instanceof Date&&(e=e.getTime()),t.type==="continuous"&&typeof e=="number")return(e-t.domain[0])/(t.domain[1]-t.domain[0])*(t.range[1]-t.range[0])+t.range[0];if(t.type==="log"&&typeof e=="number")return t.convert(e);if(t.type!=="category")return NaN;const i=t.domain.findIndex(n=>n===e);return i>=0||t.domain.findIndex(n=>Jle(e,n))>=0?t.inset+t.step*i:NaN}function er(e){return WM(e).valueOf()}function nO({data:e},t){return e.map((i,s)=>({xValue0Index:t.indexOf(er(i.xValue0)),xValue1Index:t.indexOf(er(i.xValue1)),datumIndex:s}))}function ece(e,t){const i=t.scales.x,s=e.scales.x;if((i==null?void 0:i.type)!=="category"||(s==null?void 0:s.type)!=="category")return!0;let n=-1/0;for(const r of i.domain){const o=Ms(r,s);if(Number.isFinite(o)){if(o<n)return!1;n=o}}return!0}function tce(e,t){let i=-1/0;for(const s of e){const n=Ms(s.value,t.scales.x);if(Number.isFinite(n)){if(n<i)return!1;i=n}}return!0}function ice(e,t){const i=new Map;for(const{xValue0:h,xValue1:p}of e.data){const f=er(h),v=er(p);i.set(f,h).set(v,p)}const s=Array.from(i,([h,p])=>({axisValue:h,value:p}));s.sort((h,p)=>Ms(h.value,e.scales.x)-Ms(p.value,e.scales.x));const n=[];for(const{xValue0:h,xValue1:p}of t.data){const f=er(h),v=er(p);i.has(f)||(i.set(f,h),n.push({axisValue:f,value:h})),i.has(v)||(i.set(v,p),n.push({axisValue:v,value:p}))}n.sort((h,p)=>Ms(h.value,t.scales.x)-Ms(p.value,t.scales.x));const r=s;let o=0;for(const h of n){for(let p=r.length-1;p>o;p-=1){const f=Ms(h.value,t.scales.x),v=Ms(r[p].value,t.scales.x);if(f>v){o=p+1;break}}r.splice(o,0,h),o+=1}if(!tce(r,t))return;const a=r.map(h=>h.axisValue),l=nO(t,a),d=nO(e,a);return{axisValues:a,oldDataAxisIndices:l,newDataAxisIndices:d}}function rO(e,t,i){if(i.xValue1Index===i.xValue0Index+1)return e;const s=Co(e),n=(s[1].x-s[0].x)/(i.xValue1Index-i.xValue0Index),r=s[0].x+(t-i.xValue0Index)*n,o=r+n;return UB(e,r,o)}function QB(e,t){const[i,s]=Co(e),n=Ms(0,t.scales.y);return qp(e,{x:i.x,y:n},{x:s.x,y:n})}function JB(e){const[t,i]=Co(e);return Ule(e,{x:(t.x+i.x)/2,y:(t.y+i.y)/2})}function eG(e,t,i,s,n,r){var p,f;let o,a;if(n.xValue0Index>=r.xValue1Index){const v=(p=s.findLast(S=>S.xValue1Index<=r.xValue1Index))==null?void 0:p.datumIndex,y=v!=null?i.data[v]:void 0;o=y==null?void 0:y.xValue1,a=y==null?void 0:y.yValue1}else if(n.xValue0Index<=r.xValue0Index){const v=(f=s.find(S=>S.xValue0Index>=r.xValue0Index))==null?void 0:f.datumIndex,y=v!=null?i.data[v]:void 0;o=y==null?void 0:y.xValue0,a=y==null?void 0:y.yValue0}if(o==null||a==null)switch(t){case 0:return QB(e,i);case 1:return JB(e)}const l=Ms(o,i.scales.x),d=Ms(a,i.scales.y),h={x:l,y:d};return qp(e,h,h)}function UE(e,t){var n;if(t==null)return;const i=er(e.xValue0),s=er(e.xValue1);return(n=t.find(r=>er(r.xValue0)===i&&er(r.xValue1)===s))==null?void 0:n.span}function oO(e,t,i,s,n,r,o){const a=e.data[s.datumIndex],l=a.span,d=UE(a,n);if(d!=null)o.removed.push({from:d,to:d}),o.moved.push({from:d,to:l}),o.added.push({from:l,to:l});else{const h=eG(l,t,e,i,s,r);o.added.push({from:h,to:l})}}function aO(e,t,i,s,n,r,o){const a=e.data[s.datumIndex],l=a.span,d=UE(a,n);if(d!=null)o.removed.push({from:l,to:l}),o.moved.push({from:l,to:d}),o.added.push({from:d,to:d});else{const h=eG(l,t,e,i,s,r);o.removed.push({from:l,to:h})}}function lO(e,t,i,s,n){const r=t[n.xValue0Index],o=i.data.find(w=>er(w.xValue0)===r),a=t[n.xValue1Index],l=i.data.find(w=>er(w.xValue1)===a);if(o==null||l==null)return;const[{x:d},{x:h}]=Co(e),p=Ms(o.xValue0,i.scales.x),f=Ms(o.yValue0,i.scales.y),v=Ms(l.xValue1,i.scales.x),y=Ms(l.yValue1,i.scales.y);let S=s.data[n.datumIndex].span;return S=qp(S,{x:p,y:f},{x:v,y}),S=UB(S,d,h),S}function sce(e,t,i,s,n,r,o,a,l){const d=n+1,h=o.find(D=>D.xValue0Index<=n&&D.xValue1Index>=d),p=r.find(D=>D.xValue0Index<=n&&D.xValue1Index>=d),f=t.zeroData,v=e.zeroData;if(h==null&&p!=null){oO(e,i,r,p,f,a,l);return}else if(h!=null&&p==null){aO(t,i,o,h,v,a,l);return}else if(h==null||p==null)return;let y;h.xValue0Index===p.xValue0Index&&h.xValue1Index===p.xValue1Index?y=0:h.xValue0Index<=p.xValue0Index&&h.xValue1Index>=p.xValue1Index?y=-1:h.xValue0Index>=p.xValue0Index&&h.xValue1Index<=p.xValue1Index?y=1:y=0;const S=t.data[h.datumIndex],w=rO(S.span,n,h),b=e.data[p.datumIndex],x=rO(b.span,n,p);if(y===1){const D=lO(w,s,t,e,p);D!=null?(l.removed.push({from:w,to:D}),l.moved.push({from:D,to:x}),l.added.push({from:x,to:x})):aO(t,i,o,h,v,a,l)}else if(y===-1){const D=lO(x,s,e,t,h);D!=null?(l.removed.push({from:w,to:w}),l.moved.push({from:w,to:D}),l.added.push({from:D,to:x})):oO(e,i,r,p,f,a,l)}else l.removed.push({from:w,to:w}),l.moved.push({from:w,to:x}),l.added.push({from:x,to:x})}function nce(e,t,i,s){var d,h,p,f;const n={removed:[],moved:[],added:[]},{axisValues:r,oldDataAxisIndices:o,newDataAxisIndices:a}=e,l={xValue0Index:Math.max(((d=o.at(0))==null?void 0:d.xValue0Index)??-1/0,((h=a.at(0))==null?void 0:h.xValue0Index)??-1/0),xValue1Index:Math.min(((p=o.at(-1))==null?void 0:p.xValue1Index)??1/0,((f=a.at(-1))==null?void 0:f.xValue1Index)??1/0)};for(let v=0;v<r.length-1;v+=1)sce(t,i,s,r,v,a,o,l,n);return n}function cO(e,t,i){const{span:s}=t;switch(i){case 0:return UE(t,e.zeroData)??QB(s,e);case 1:return JB(s)}}function rce(e,t,i){const s=[],n=[];for(const r of t.data){const o=r.span,a=cO(t,r,i);n.push({from:o,to:a})}for(const r of e.data){const o=r.span,a=cO(e,r,i);s.push({from:a,to:o})}return{removed:n,moved:[],added:s}}function Cp(e,t,i){if(!ece(e,t))return;const s=ice(e,t);return s==null?rce(e,t,i):nce(s,e,t,i)}function uO(e){return e.type==="continuous"||e.type==="log"}function dO(e){return e.type==="category"}function Od(e,t){return e===void 0||t===void 0?e!==void 0||t!==void 0:uO(e)&&uO(t)?e.type===t.type&&ro(e.domain,t.domain)&&ro(e.range,t.range):dO(e)&&dO(t)?e.inset===t.inset&&e.step===t.step&&ro(e.domain,t.domain):!1}function Zp(e){return e==null?!1:e.type==="category"?e.domain.every(t=>t!=null):e.domain.every(t=>Number.isFinite(t)||t instanceof Date)&&e.range.every(t=>Number.isFinite(t))}function tC(e,t){let i;const s=e.map(n=>n.point);switch(t.type){case"linear":i=$le(s);break;case"smooth":i=qle(s,t.tension);break;case"step":i=Kle(s,t.position);break}return i.map((n,r)=>({span:n,xValue0:e[r].xDatum,yValue0:e[r].yDatum,xValue1:e[r+1].xDatum,yValue1:e[r+1].yDatum}))}function tG(e,t,i=.001){return Math.abs(e.x-t.x)<i&&Math.abs(e.y-t.y)<i}function $E({path:e},t){let i;for(const{span:s}of t){const[n,r]=Co(s),o=i!=null&&tG(i,n)?1:0;eD(e,s,o,!1),i=r}}function Qv(e,t,i){let s;for(const n of i){const[r,o]=ZB(n.from,n.to,e),a=s!=null&&tG(s,r)?1:0;tD(t.path,n.from,n.to,e,a,!1),s=o}}function YE(e,t,i){const s=(a,l)=>Qv(a,l,t.removed),n=(a,l)=>Qv(a,l,t.moved),r=(a,l)=>Qv(a,l,t.added),o=KE(e,i);return{status:e,path:{addPhaseFn:r,updatePhaseFn:n,removePhaseFn:s},pathProperties:o}}function KE(e,t){const i=t==="none"?"updated":e,s={fromFn:n=>{let r;return e==="removed"?r={finish:{visible:!1}}:e==="added"?r={start:{visible:!0}}:r={},{phase:Er[i],...r}},toFn:n=>({phase:Er[i]})};return t==="fade"?{fromFn:n=>({opacity:e==="added"?0:n.opacity,...s.fromFn(n)}),toFn:n=>({opacity:e==="removed"?0:1,...s.toFn(n)})}:s}function iG(e,t,i){var d,h;const s=((d=e.scales.x)==null?void 0:d.type)==="category",n=((h=t.scales.x)==null?void 0:h.type)==="category";if(s!==n||!Zp(e.scales.x)||!Zp(t.scales.x)||e.strokeData==null||t.strokeData==null)return;let r="updated";t.visible&&!e.visible?r="removed":!t.visible&&e.visible&&(r="added");const o=Cp({scales:e.scales,data:e.strokeData.spans},{scales:t.scales,data:t.strokeData.spans},1);if(o==null)return;const a=YE(r,o,"fade"),l=((i==null?void 0:i.changed)??!0)||!Od(e.scales.x,t.scales.x)||!Od(e.scales.y,t.scales.y)||r!=="updated";return{status:r,stroke:a,hasMotion:l}}function sG({path:e},{spans:t,phantomSpans:i}){for(let s=0;s<t.length;s+=1){const{span:n}=t[s],r=i[s].span;eD(e,n,0,!1),eD(e,r,1,!0),e.closePath()}}function Jv(e,{path:t},i,s){for(let n=0;n<i.length;n+=1){const r=i[n],o=s[n];tD(t,r.from,r.to,e,0,!1),tD(t,o.from,o.to,e,1,!0),t.closePath()}}function nG(e,t,i,s){const n=(l,d)=>Jv(l,d,t.removed,i.removed),r=(l,d)=>Jv(l,d,t.moved,i.moved),o=(l,d)=>Jv(l,d,t.added,i.added),a=KE(e,s);return{status:e,path:{addPhaseFn:o,updatePhaseFn:r,removePhaseFn:n},pathProperties:a}}function rG(e,t){var p,f;const i=((p=e.scales.x)==null?void 0:p.type)==="category",s=((f=t.scales.x)==null?void 0:f.type)==="category";if(i!==s||!Zp(e.scales.x)||!Zp(t.scales.x))return;let n="updated";t.visible&&!e.visible?n="removed":!t.visible&&e.visible&&(n="added");const r=Cp({scales:e.scales,data:e.fillData.spans},{scales:t.scales,data:t.fillData.spans},0);if(r==null)return;const o=Cp({scales:e.scales,data:e.fillData.phantomSpans},{scales:t.scales,data:t.fillData.phantomSpans},0);if(o==null)return;const a=Cp({scales:e.scales,data:e.strokeData.spans,zeroData:e.fillData.phantomSpans},{scales:t.scales,data:t.strokeData.spans,zeroData:t.fillData.phantomSpans},0);if(a==null)return;const l="none",d=nG(n,r,o,l),h=YE(n,a,l);return{status:n,fill:d,stroke:h}}function Xp({id:e},t,i,...s){const n={phase:i?Er[i]:"trailing"};va(e,"markers",t,s,{opacity:0},{opacity:1},n),s.forEach(r=>r.cleanup())}function qE({id:e},t,...i){va(e,"markers",t,i,{scalingX:0,scalingY:0},{scalingX:1,scalingY:1},{phase:"initial"}),i.forEach(s=>s.cleanup())}function ZE({id:e,nodeDataDependencies:t},i,...s){const n=t.seriesRectWidth;li(e,"markers",i,s,{fromFn:(a,l)=>{var p;const d=((p=l.midPoint)==null?void 0:p.x)??n;let h=Be(0,K3(d/n),1);return isNaN(h)&&(h=0),{scalingX:0,scalingY:0,delay:h,duration:Wy,phase:"initial"}},toFn:()=>({scalingX:1,scalingY:1})})}function Wf(e){return{opacity:1,scalingX:1,scalingY:1}}function Qp(e,t){var i,s,n,r;return{x:((i=t.point)==null?void 0:i.x)??NaN,y:((s=t.point)==null?void 0:s.y)??NaN,scalingCenterX:((n=t.point)==null?void 0:n.x)??NaN,scalingCenterY:((r=t.point)==null?void 0:r.y)??NaN}}function Uf(e,{datumIndex:t}){const i=e.getNodeData();if(i===void 0)return;const s=i[t],{point:n}=s??{};if(s==null||n==null)return;const r=4+(n.focusSize??e.getFormattedMarkerStyle(s).size),o=r/2,a=s.point.x-o,l=s.point.y-o;return hi.toCanvas(e.contentGroup,new De(a,l,r,r))}function XE({id:e,visible:t,nodeDataDependencies:i},s,...n){const{seriesRectWidth:r,seriesRectHeight:o}=i;va(e,"path_properties",s,n,{clipX:0},{clipX:r},{phase:"initial",start:{clip:!0,clipY:o,visible:t},finish:{clip:!1,visible:t}})}function iC({id:e},t,i,s="add",...n){va(e,t,i,n,{opacity:0},{opacity:1},{phase:s})}function QE(e){return t=>({visible:e.getVisible(),opacity:e.getOpacity(),clipScalingX:1,clip:!1})}function sC({nodeDataDependencies:e},t){const i=s=>isFinite(s)?s:0;t.clipX=i(e.seriesRectWidth),t.clipY=i(e.seriesRectHeight)}var oce=.125,ace=.25,mb=class extends Hl{constructor(e){super({moduleCtx:e,directionKeys:pu,directionNames:fu,categoryKey:"xValue",pathsPerSeries:["fill","stroke"],pathsZIndexSubOrderOffset:[0,1e3],hasMarkers:!0,markerSelectionGarbageCollection:!1,pickModes:[2,0],animationResetFns:{path:QE({getVisible:()=>this.visible,getOpacity:()=>this.getOpacity()}),label:Da,marker:(t,i)=>({...Wf(),...Qp(t,i)})},clipFocusBox:!1}),this.properties=new Si,this.connectsToYAxis=!0,this.backgroundGroup=new Ne({name:`${this.id}-background`,zIndex:0}),this._isStacked=void 0}get pickModeAxis(){return"main"}renderToOffscreenCanvas(){return super.renderToOffscreenCanvas()||this.contextNodeData!=null&&(this.contextNodeData.fillData.spans.length>eC||this.contextNodeData.strokeData.spans.length>eC)}attachSeries(e,t,i){super.attachSeries(e,t,i),e.appendChild(this.backgroundGroup)}detachSeries(e,t,i){super.detachSeries(e,t,i),e==null||e.removeChild(this.backgroundGroup)}attachPaths([e,t]){this.backgroundGroup.appendChild(e),this.contentGroup.appendChild(t),t.zIndex=-1}detachPaths([e,t]){this.backgroundGroup.removeChild(e),this.contentGroup.removeChild(t)}isStacked(){var t;return(((t=this.seriesGrouping)==null?void 0:t.stackCount)??1)>1}setSeriesIndex(e){const t=this.isStacked();return!super.setSeriesIndex(e)&&this._isStacked===t?!1:(this._isStacked=t,t?(this.backgroundGroup.zIndex=[0,e],this.contentGroup.zIndex=[1,e,0]):(this.backgroundGroup.zIndex=[1,e,0,0],this.contentGroup.zIndex=[1,e,0,1]),!0)}async processData(e){var x,D;if(this.data==null||!this.properties.isValid())return;const{data:t,visible:i,seriesGrouping:{groupIndex:s=this.id,stackCount:n=1}={}}=this,{xKey:r,yKey:o,yFilterKey:a,connectMissingData:l,normalizedTo:d}=this.properties,h=!this.ctx.animationManager.isSkipped(),p=(x=this.axes.x)==null?void 0:x.scale,f=(D=this.axes.y)==null?void 0:D.scale,{xScaleType:v,yScaleType:y}=this.getScaleInformation({xScale:p,yScale:f}),S={value:`area-stack-${s}-yValue`,values:`area-stack-${s}-yValues`,stack:`area-stack-${s}-yValue-stack`,marker:`area-stack-${s}-yValues-marker`},w=[];dp(d)&&w.push(rb(Object.values(S),d)),h&&w.push(bh());const b={invalidValue:null};(dp(d)||l)&&n>1&&(b.invalidValue=0),i||(b.forceValue=0),await this.requestDataModel(e,t,{props:[kr(r,v,{id:"xValue"}),et(o,y,{id:"yValueRaw",...b}),...a!=null?[et(a,y,{id:"yFilterRaw"})]:[],...xB(o,y,{id:"yValueStack",...b,groupId:S.stack}),et(o,y,{id:"yValue",...b,groupId:S.value}),...vl(o,"window","current",{id:"yValueEnd",...b,groupId:S.values},y),...vl(o,"normal","current",{id:"yValueCumulative",...b,groupId:S.marker},y),...w],groupByKeys:!0,groupByData:!1}),this.animationState.transition("updateData")}xCoordinateRange(e,t){const{marker:i}=this.properties,s=this.axes.x.scale.convert(e),n=i.enabled?.5*i.size*t:0;return[s-n,s+n]}yCoordinateRange(e,t){const{marker:i}=this.properties,s=this.axes.y.scale.convert(e[0]),n=i.enabled?.5*i.size*t:0;return[s-n,s+n]}getSeriesDomain(e){const{processedData:t,dataModel:i,axes:s}=this;if(!t||!i)return[];const n=s.y;if(e==="x"){const o=i.resolveProcessedDataDefById(this,"xValue"),a=i.getDomain(this,"xValue","key",t);return(o==null?void 0:o.def.type)==="key"&&o.def.valueType==="category"?a:on(Sa(a))}const r=this.domainForClippedRange("y",["yValueCumulative"],"xValue",!0);if(n instanceof wh||n instanceof Nl)return on(r);{const o=Number.isFinite(r[1]-r[0])?[r[0]>0?0:r[0],r[1]<0?0:r[1]]:[];return on(o)}}getSeriesRange(e,t){const[i,s]=this.domainForVisibleRange("y",["yValueCumulative"],"xValue",t,!0);return[Math.min(i,0),Math.max(s,0)]}getVisibleItems(e,t,i){return this.countVisibleItems("xValue",["yValueCumulative"],e,t,i)}createNodeData(){var ce;const{axes:e,data:t,processedData:i,dataModel:s}=this,n=e.x,r=e.y;if(!n||!r||!t||!s||(i==null?void 0:i.type)!=="grouped"||!this.properties.isValid())return;const{yKey:o,xKey:a,yFilterKey:l,marker:d,label:h,fill:p,stroke:f,connectMissingData:v,interpolation:y}=this.properties,{scale:S}=n,{scale:w}=r,{isContinuousY:b}=this.getScaleInformation({xScale:S,yScale:w}),x=(S.bandwidth??0)/2,D=s.resolveKeysById(this,"xValue",i),E=s.resolveColumnById(this,"yValueEnd",i),T=s.resolveColumnById(this,"yValueRaw",i),k=s.resolveColumnById(this,"yValueCumulative",i),P=l!=null?s.resolveColumnById(this,"yFilterRaw",i):void 0,O=s.resolveColumnById(this,"yValueStack",i),F=(we,de,ue)=>{let xe;return(dp(this.properties.normalizedTo)?b&&QC(ue):!isNaN(ue))&&(xe=de),{x:S.convert(we)+x,y:w.convert(xe),size:d.size}},z=[],V=[],{visibleSameStackCount:U}=this.ctx.seriesStateManager.getVisiblePeerGroupIndex(this);let J=!1;const{dataSources:ye}=i,Ce=ye.get(this.id)??[];for(const{datumIndex:we}of s.forEachGroupDatum(this,i)){const de=D[we];if(de==null)return;const ue=Ce[we],xe=T[we],Ee=k[we],Ae=E[we],He=Number.isFinite(xe),_e=F(de,+Ee,xe),je=P!=null?P[we]===xe:void 0;if(je===!1&&(J=!0),He&&d&&V.push({series:this,itemId:o,datum:ue,datumIndex:we,midPoint:{x:_e.x,y:_e.y},cumulativeValue:Ae,yValue:xe,xValue:de,yKey:o,xKey:a,point:_e,fill:d.fill??p,stroke:d.stroke??f,strokeWidth:d.strokeWidth??this.getStrokeWidth(this.properties.strokeWidth),selected:je}),He&&h){const Dt=this.getLabelText(h,{value:xe,datum:ue,xKey:a,yKey:o,xName:this.properties.xName,yName:this.properties.yName});z.push({series:this,itemId:o,datum:ue,datumIndex:we,x:_e.x,y:_e.y,labelText:Dt})}}const G=we=>we.flatMap(de=>Array.isArray(de)?tC(de,y):new Array(de.skip).fill(null)),K=(we,de)=>({point:{x:S.convert(we)+x,y:w.convert(de)},xDatum:we,yDatum:de}),ne=we=>{const de=[];for(const{datumIndexes:[ue,xe,Ee]}of s.forEachGroupDatumTuple(this,i)){const Ae=D[xe],He=O[xe],_e=He[we],je=Number.isFinite(_e);if(v&&!je)continue;const Dt=ue!=null?O[ue]:void 0,ut=Ee!=null?O[Ee]:void 0;let xi=0,Li=0;for(let ot=0;ot<=we;ot+=1){const ti=He[ot];if(Number.isFinite(ti)){const _t=Dt==null||Number.isFinite(Dt[ot]),fr=ut==null||Number.isFinite(ut[ot]);_t&&(xi+=ti),fr&&(Li+=ti)}}const tt=de[de.length-1];if(!v&&(xi!==Li||!je))if(!je&&Array.isArray(tt)&&tt.length===1)de[de.length-1]={skip:1};else{const ot=K(Ae,xi),ti=K(Ae,Li);Array.isArray(tt)?tt.push(ot):tt!=null&&(tt.skip+=1),de.push(je?[ti]:{skip:0})}else{const ot=v?_e:Math.max(xi,Li),ti=K(Ae,ot);Array.isArray(tt)?tt.push(ti):tt!=null?(tt.skip+=1,de.push([ti])):de.push([ti])}}return G(de)},ge=((ce=this.seriesGrouping)==null?void 0:ce.stackIndex)??0,B=()=>{const we=Array.from(s.forEachGroupDatum(this,i),({datumIndex:de})=>{const ue=D[de],Ee=O[de][ge];if(!(v&&!Number.isFinite(Ee)))return K(ue,0)}).filter(de=>de!=null);return tC(we,y)},_=ne(ge),Y=_.map(()=>null);for(let we=ge-1;we>=-1;we-=1){let de;for(let ue=0;ue<Y.length;ue+=1)Y[ue]==null&&(de??(de=we!==-1?ne(we):B()),Y[ue]=de[ue])}const Z=_.map((we,de)=>we??Y[de]),ee=_.filter(we=>we!=null);return{itemId:o,fillData:{itemId:o,spans:Z,phantomSpans:Y},strokeData:{itemId:o,spans:ee},labelData:z,nodeData:V,scales:this.calculateScaling(),visible:this.visible,stackVisible:U>0,crossFiltering:J}}isPathOrSelectionDirty(){return this.properties.marker.isDirty()}updatePathNodes(e){var d;const{opacity:t,visible:i,animationEnabled:s}=e,[n,r]=e.paths,o=((d=this.contextNodeData)==null?void 0:d.crossFiltering)===!0,a=this.getStrokeWidth(this.properties.strokeWidth);r.setProperties({fill:void 0,lineCap:"round",lineJoin:"round",pointerEvents:1,stroke:this.properties.stroke,strokeWidth:a,strokeOpacity:this.properties.strokeOpacity*(o?ace:1),lineDash:this.properties.lineDash,lineDashOffset:this.properties.lineDashOffset,opacity:t,visible:i||s});const l=_c(this.properties.fill,this.properties.fillGradientDefaults,this.properties.fillPatternDefaults);tu(n,{fill:l,stroke:void 0,fillOpacity:this.properties.fillOpacity*(o?oce:1)},void 0,this.getShapeFillBBox()),n.setProperties({lineJoin:"round",pointerEvents:1,fillShadow:this.properties.shadow,opacity:t,visible:i||s}),sC(this,r),sC(this,n)}updatePaths(e){this.updateAreaPaths(e.paths,e.contextData)}updateAreaPaths(e,t){for(const i of e)i.visible=t.visible;if(t.visible)this.updateFillPath(e,t),this.updateStrokePath(e,t);else for(const i of e)i.path.clear(),i.markDirty("AreaSeries")}updateFillPath(e,t){const[i]=e;i.path.clear(),sG(i,t.fillData),i.markDirty("AreaSeries")}updateStrokePath(e,t){const{spans:i}=t.strokeData,[,s]=e;s.path.clear(),$E(s,i),s.markDirty("AreaSeries")}updateMarkerSelection(e){var n;const{nodeData:t,markerSelection:i}=e,s=this.properties.marker.enabled||((n=this.contextNodeData)==null?void 0:n.crossFiltering)===!0;return this.properties.marker.isDirty()&&(i.clear(),i.cleanup()),i.update(s?t:[])}updateMarkerNodes(e){const{markerSelection:t,isHighlight:i}=e,{xKey:s,yKey:n,marker:r,fill:o,stroke:a,strokeWidth:l,fillOpacity:d,strokeOpacity:h,highlightStyle:p}=this.properties,f=this.getSeriesDomain("x"),v=this.getSeriesDomain("y"),y=Je(i&&p.item,r.getStyle(),{fill:o,stroke:a,strokeWidth:l,fillOpacity:d,strokeOpacity:h}),S=this.getShapeFillBBox();t.each((w,b)=>{this.updateMarkerStyle(r,w,b.datum,b.point,ml(b,s,n,f,v),i,y,S,{selected:b.selected})}),i||this.properties.marker.markClean()}updateLabelSelection(e){const{labelData:t,labelSelection:i}=e;return i.update(t)}updateLabelNodes(e){const{labelSelection:t}=e,{enabled:i,fontStyle:s,fontWeight:n,fontSize:r,fontFamily:o,color:a}=this.properties.label;t.each((l,d)=>{const{x:h,y:p,labelText:f}=d;f&&i&&this.visible?(l.fontStyle=s,l.fontWeight=n,l.fontSize=r,l.fontFamily=o,l.textAlign="center",l.textBaseline="bottom",l.text=f,l.x=h,l.y=p-10,l.fill=a,l.visible=!0):l.visible=!1})}getTooltipContent(e){var k;const{id:t,dataModel:i,processedData:s,axes:n,properties:r}=this,{xKey:o,xName:a,yKey:l,yName:d,tooltip:h,marker:p}=r,f=n.x,v=n.y;if(!i||!s||!f||!v)return;const y=(k=s.dataSources.get(this.id))==null?void 0:k[e],S=i.resolveKeysById(this,"xValue",s)[e],w=i.resolveColumnById(this,"yValueRaw",s)[e],{xDomain:b,yDomain:x}=this.cachedDatumCallback("domain",()=>({xDomain:this.getSeriesDomain("x"),yDomain:this.getSeriesDomain("y")}));if(S==null)return;const D=p.getStyle(),E={xValue:S,yValue:w},T=this.getMarkerStyle(p,y,ml(E,o,l,b,x),!1,void 0,D);return h.formatTooltip(this.properties,{heading:f.formatDatum(S),symbol:this.legendItemSymbol(),data:[{label:d,fallbackLabel:l,value:v.formatDatum(w)}]},{seriesId:t,datum:y,title:d,xKey:o,xName:a,yKey:l,yName:d,...T,...this.getModuleTooltipParams()})}legendItemSymbol(){const{fill:e,stroke:t,fillOpacity:i,strokeOpacity:s,strokeWidth:n,lineDash:r,marker:o,fillGradientDefaults:a,fillPatternDefaults:l}=this.properties,d=!o.enabled||o.fill===void 0,h=d?_c(e,a,l):_c(o.fill,o.fillGradientDefaults,o.fillPatternDefaults);return{marker:{...this.getMarkerStyle(o,void 0,void 0,!1,void 0,{fill:h,fillOpacity:d?i:o.fillOpacity}),enabled:o.enabled||n<=0},line:{stroke:t,strokeOpacity:s,strokeWidth:n,lineDash:r}}}getLegendData(e){if(!this.properties.isValid()||e!=="category")return[];const{id:t,ctx:{legendManager:i},visible:s}=this,{yKey:n,yName:r,legendItemName:o,showInLegend:a}=this.properties;return[{legendType:e,id:t,itemId:n,seriesId:t,enabled:s&&i.getItemEnabled({seriesId:t,itemId:n}),label:{text:o??r??n},symbol:this.legendItemSymbol(),legendItemName:o,hideInLegend:!a}]}animateEmptyUpdateReady(e){const{markerSelection:t,labelSelection:i,contextData:s,paths:n}=e,{animationManager:r}=this.ctx;this.updateAreaPaths(n,s),XE(this,r,...n),Xi([t],Qp),ZE(this,r,t),ft(this,"labels",r,i)}animateReadyResize(e){const{contextData:t,paths:i}=e;this.updateAreaPaths(i,t),super.animateReadyResize(e)}animateWaitingUpdateReady(e){const{animationManager:t}=this.ctx,{markerSelection:i,labelSelection:s,contextData:n,paths:r,previousContextData:o}=e,[a,l]=r;if(a==null&&l==null)return;this.resetMarkerAnimation(e),this.resetLabelAnimation(e);const d=()=>{this.resetPathAnimation(e),this.updateAreaPaths(r,n)},h=()=>{t.skipCurrentBatch(),d()};if(n==null||o==null){d(),Xp(this,t,"added",i),iC(this,"fill_path_properties",t,"add",a),iC(this,"stroke_path_properties",t,"add",l),ft(this,"labels",t,s);return}if(n.crossFiltering!==o.crossFiltering){h();return}const p=rG(n,o);if(p===void 0){h();return}else if(p.status==="no-op")return;Xp(this,t,void 0,i),li(this.id,"fill_path_properties",t,[a],p.fill.pathProperties),Jy(this.id,"fill_path_update",t,[a],p.fill.path),li(this.id,"stroke_path_properties",t,[l],p.stroke.pathProperties),Jy(this.id,"stroke_path_update",t,[l],p.stroke.path),ft(this,"labels",t,s),this.ctx.animationManager.animate({id:this.id,groupId:"reset_after_animation",phase:"trailing",from:{},to:{},onComplete:()=>this.updateAreaPaths(r,n)})}isLabelEnabled(){return this.properties.label.enabled}nodeFactory(){return new Ne}getFormattedMarkerStyle(e){const{xKey:t,yKey:i}=e,s=this.getSeriesDomain("x"),n=this.getSeriesDomain("y");return this.getMarkerStyle(this.properties.marker,e.datum,ml(e,t,i,s,n),!0)}computeFocusBounds(e){return Uf(this,e)}};mb.className="AreaSeries";mb.type="area";var vb=Ct(jte,"a valid number format string"),JE={enabled:Se,text:Me,padding:ke,...xn},oG=Ct({enabled:Se,type:Pe(Ue("line","range")),range:ms(Ct((e,{options:t})=>t.type==="range","crossLine type to be 'range'"),Jt(Sn),TC(2,2)),value:ms(Ct((e,{options:t})=>t.type==="line","crossLine type to be 'line'"),Sn),label:JE,fill:Me,fillOpacity:$t,...Vs,...fo},"cross-line options"),aG={...oG,label:{...JE,position:Ue("top","left","right","bottom","top-left","top-right","bottom-left","bottom-right","inside","inside-left","inside-right","inside-top","inside-bottom","inside-top-left","inside-bottom-left","inside-top-right","inside-bottom-right"),rotation:ke}},eA={enabled:Se,rotation:ke,avoidCollisions:Se,minSpacing:be,spacing:be,formatter:St,itemStyler:St,...xn},Eh={autoRotate:Se,autoRotateAngle:ke,...eA},yb={reverse:Se,gridLine:{enabled:Se,width:be,style:Xc({stroke:Ye,lineDash:Jt(be)},"a grid-line style object array")},interval:{values:Jt(Sn),minSpacing:be},label:eA,line:{enabled:Se,width:be,stroke:Ye},tick:{enabled:Se,width:be,size:be,stroke:Ye}};yb.context=Sn;yb.layoutConstraints={stacked:Pe(Se),align:Pe(Ue("start","end")),unit:Pe(Ue("percent","px")),width:Pe(be)};var Ah={...yb,keys:Jt(Me),crossLines:Xc(aG,"a cross-line options array"),position:Ue("top","right","bottom","left"),thickness:be,title:{enabled:Se,text:Me,spacing:be,formatter:St,...xn}};function Th(e){const t={enabled:Se,xOffset:ke,yOffset:ke,renderer:St};return e&&(t.format=Me),{enabled:Se,snap:Se,label:t,...Vs,...fo}}function Cb(e,t){return{min:ms(e,Fp("max")),max:ms(e,RM("min")),nice:Se,interval:{step:t?ai($v,ai($v,Rte(eu))):$v,values:Jt(e),minSpacing:ms(be,Fp("maxSpacing")),maxSpacing:ms(be,RM("minSpacing"))}}}var iD=ai(Ue("circle","cross","diamond","heart","plus","pin","square","star","triangle"),St),lG=Ue("never","always","hyphenate","on-space"),nC=Ue("top","right","bottom","left","top-right","bottom-right","bottom-left","top-left","center"),tA=Ue("pointer","node","top","right","bottom","left","top-left","top-right","bottom-left","bottom-right"),iA=ai(be,Ue("exact","nearest")),hO=Ue("pointer","start","middle","end"),K0={enabled:Se,text:Me,textAlign:Ue("left","center","right"),wrapping:Ue("never","always","hyphenate","on-space"),spacing:be,maxWidth:be,maxHeight:be,...xn},Tv={enabled:Se,text:Me,renderer:St},Iv=Xc({label:Me,action:St},"a context menu actions array"),sD={label:Me,ariaLabel:Me,tooltip:Me,icon:Ue("align-center","align-left","align-right","arrow-drawing","arrow-down-drawing","arrow-up-drawing","callout-annotation","candlestick-series","close","comment-annotation","date-range-drawing","date-price-range-drawing","delete","disjoint-channel-drawing","drag-handle","fill-color","line-style-solid","line-style-dashed","line-style-dotted","high-low-series","hlc-series","hollow-candlestick-series","horizontal-line-drawing","line-color","line-series","line-with-markers-series","locked","measurer-drawing","note-annotation","ohlc-series","pan-end","pan-left","pan-right","pan-start","parallel-channel-drawing","position-bottom","position-center","position-top","price-label-annotation","price-range-drawing","reset","settings","step-line-series","text-annotation","trend-line-drawing","fibonacci-retracement-drawing","fibonacci-retracement-trend-based-drawing","unlocked","vertical-line-drawing","zoom-in","zoom-out")},Us={width:be,height:be,minWidth:be,minHeight:be,suppressFieldDotNotation:Se,title:K0,subtitle:K0,footnote:K0,padding:{top:be,right:be,bottom:be,left:be},seriesArea:{clip:Se,padding:{top:be,right:be,bottom:be,left:be}},legend:{enabled:Se,position:Ue("top","right","bottom","left"),orientation:Ue("horizontal","vertical"),maxWidth:be,maxHeight:be,spacing:be,preventHidingAll:Se,reverseOrder:Se,toggleSeries:Se,item:{marker:{size:be,shape:iD,padding:be,strokeWidth:be},line:{length:be,strokeWidth:be},label:{maxLength:be,formatter:St,...xn},maxWidth:be,paddingX:be,paddingY:be,showSeriesStroke:Se},pagination:{marker:{size:be,shape:iD,padding:be},activeStyle:{...rr,...Vs},inactiveStyle:{...rr,...Vs},highlightStyle:{...rr,...Vs},label:xn},listeners:{legendItemClick:St,legendItemDoubleClick:St}},gradientLegend:{enabled:Se,position:Ue("top","right","bottom","left"),spacing:be,reverseOrder:Se,gradient:{preferredLength:be,thickness:be},scale:{label:{...xn,format:vb,formatter:St},padding:be,interval:{step:ke,values:po,minSpacing:ms(be,Fp("maxSpacing")),maxSpacing:ms(be,RM("minSpacing"))}}},listeners:{seriesNodeClick:St,seriesNodeDoubleClick:St,seriesVisibilityChange:St,click:St,doubleClick:St,annotations:St,zoom:St},highlight:{range:Ue("tooltip","node")},overlays:{loading:Tv,noData:Tv,noVisibleSeries:Tv,unsupportedBrowser:Tv},tooltip:{enabled:Se,showArrow:Se,pagination:Se,delay:be,range:iA,wrapping:lG,mode:Ue("single","shared","compact"),position:{type:tA,anchorTo:Ue("pointer","node","chart"),placement:ai(nC,Jt(nC)),xOffset:ke,yOffset:ke}},animation:{enabled:Se,duration:be},contextMenu:{enabled:Se,extraActions:Iv,extraSeriesAreaActions:Iv,extraNodeActions:Iv,extraLegendItemActions:Iv},dataSource:{getData:St},keyboard:{enabled:Se,tabIndex:ke},touch:{dragAction:Ue("none","drag","hover")},ranges:{enabled:Se,buttons:Xc({...sD,value:ai(ke,ms(Jt(ai(ke,bd)),TC(2,2)),St)},"range button options array")},locale:{localeText:Op,getLocaleText:St},background:{visible:Se,fill:Ye,image:{url:Me,top:ke,right:ke,bottom:ke,left:ke,width:be,height:be,opacity:$t}},sync:{enabled:Se,groupId:Me,axes:Ue("x","y","xy"),nodeInteraction:Se,zoom:Se},zoom:{enabled:Se,enableAxisDragging:Se,enableDoubleClickToReset:Se,enablePanning:Se,enableScrolling:Se,enableSelecting:Se,enableTwoFingerZoom:Se,keepAspectRatio:Se,anchorPointX:hO,anchorPointY:hO,axes:Ue("x","y","xy"),deceleration:ai(Ue("off","short","long"),$t),minVisibleItems:be,minVisibleItemsX:be,minVisibleItemsY:be,panKey:Ue("alt","ctrl","meta","shift"),scrollingStep:$t,autoScaling:{enabled:Se,padding:$t},buttons:{enabled:Se,buttons:Xc({...sD,value:Ue("reset","zoom-in","zoom-out","pan-left","pan-right","pan-start","pan-end"),section:Me},"zoom button options array"),visible:Ue("always","zoomed","hover")}}};Us.dataSource.requestThrottle=be;Us.dataSource.updateThrottle=be;Us.dataSource.updateDuringInteraction=Se;Us.zoom.enableIndependentAxes=Se;Us.statusBar=Sn;Us.foreground={visible:Se,text:Me,image:{url:Me,top:ke,right:ke,bottom:ke,left:ke,width:be,height:be,opacity:$t},...rr};Us.overrideDevicePixelRatio=ke;var _r={id:Me,cursor:Me,visible:Se,data:Jt(Op),showInLegend:Se,nodeClickRange:iA,listeners:{nodeClick:St,nodeDoubleClick:St},highlightStyle:{item:{...rr,...Vs},series:{enabled:Se,dimOpacity:$t,strokeWidth:be}}};_r.context=Sn;_r.seriesGrouping=Sn;_r.highlight={enabled:Se};var $f={enabled:Se,shape:iD,size:be,itemStyler:St,...rr,...Vs,...fo},jl={enabled:Se,formatter:St,...xn},lce={...jl,lineHeight:be,minimumFontSize:be,wrapping:lG,overflowStrategy:Ue("ellipsis","hide")},bb={visible:Se,xLowerKey:Me,xUpperKey:Me,yLowerKey:Me,yUpperKey:Me,xLowerName:Me,xUpperName:Me,yLowerName:Me,yUpperName:Me,itemStyler:St,cap:{visible:Se,length:be,lengthRatio:$t,...Vs,...fo},...Vs,...fo},Ea={enabled:Se,showArrow:Se,range:iA,renderer:St,position:{type:tA,anchorTo:Ue("node","pointer","chart"),placement:ai(nC,Jt(nC)),xOffset:ke,yOffset:ke},interaction:{enabled:Se}};Ea.position._seriesOverrideType=tA;var Yf={enabled:Se,xOffset:ke,yOffset:ke,blur:be,color:Ye},sA=mR({linear:{},smooth:{tension:$t},step:{position:Ue("start","middle","end")}},"interpolation line options"),cce={type:Pe(Es("area")),xKey:Pe(Me),yKey:Pe(Me),xName:Me,yName:Me,stacked:Se,stackGroup:Me,normalizedTo:ke,showInMiniChart:Se,connectMissingData:Se,interpolation:sA,label:jl,marker:$f,tooltip:Ea,shadow:Yf,..._r,...rr,...Vs,...fo},uce={type:"series",optionsKey:"series[]",packageType:"community",chartTypes:["cartesian"],identifier:"area",moduleFactory:e=>new mb(e),stackable:!0,tooltipDefaults:{range:"nearest"},defaultAxes:[{type:"number",position:"left"},{type:"category",position:"bottom"}],themeTemplate:{series:{nodeClickRange:"nearest",tooltip:{position:{_seriesOverrideType:"node"}},fill:{$palette:"fill"},fillGradientDefaults:{type:"gradient",gradient:"linear",bounds:"item",colorStops:{$palette:"gradient"},rotation:0,reverse:!1},fillPatternDefaults:Rl,stroke:{$palette:"stroke"},fillOpacity:.8,strokeOpacity:1,strokeWidth:0,lineDash:[0],lineDashOffset:0,shadow:{enabled:!1,color:Gl,xOffset:3,yOffset:3,blur:5},interpolation:{type:"linear"},marker:{enabled:!1,shape:"circle",size:7,strokeWidth:0,fill:{$palette:"fill"},stroke:{$palette:"stroke"},fillGradientDefaults:{type:"gradient",gradient:"radial",bounds:"item",colorStops:{$palette:"gradient"},rotation:0,reverse:!0},fillPatternDefaults:Rl},label:{enabled:!1,fontSize:{$ref:"fontSize"},fontFamily:{$ref:"fontFamily"},fontWeight:{$ref:"fontWeight"},color:{$ref:"textColor"}}}}},cG={type:"series",name:"area",chartType:"cartesian",options:cce,create:e=>new mb(e)};function nA(e,t){for(const i of t){const s=i.datum;s===void 0?me.error("undefined datum"):e.addValue(i,s)}}function rA(e,t){const{x:i,y:s}=t,{nearest:n,distanceSquared:r}=e.getQuadTree().find(i,s);if(n!==void 0)return{datum:n.value,distance:Math.sqrt(r)}}var oA=class extends Ra{constructor(){super(...arguments),this.direction="vertical"}};R([A()],oA.prototype,"direction",2);var uG=class extends Hl{constructor(){super(...arguments),this.groupScale=new Tf,this.smallestDataInterval=void 0,this.largestDataInterval=void 0}padBandExtent(e,t){const i=typeof t=="boolean"?1:.5,s=lt(this.smallestDataInterval)?this.smallestDataInterval*i:0,n=Sa(e)??[NaN,NaN];return typeof t=="boolean"?n[t?0:1]-=(t?1:-1)*s:(n[0]-=s,n[1]+=s),on(n)}getBandScalePadding(){return{inner:.3,outer:.15}}shouldFlipXY(){return!this.isVertical()}isVertical(){return this.properties.direction==="vertical"}getBarDirection(){return this.shouldFlipXY()?"x":"y"}getCategoryDirection(){return this.shouldFlipXY()?"y":"x"}getValueAxis(){const e=this.getBarDirection();return this.axes[e]}getCategoryAxis(){const e=this.getCategoryDirection();return this.axes[e]}getBandwidth(e){return wt.is(e.scale)?e.scale.calcBandwidth(this.smallestDataInterval):e.scale.bandwidth}xCoordinateRange(e){const t=this.axes[this.getCategoryDirection()],i=t.scale,s=this.getBandwidth(t)??0,n=wt.is(i)?s*-.5:0,r=i.convert(e)+n;return[r,r+s]}yCoordinateRange(e){const i=this.axes[this.getBarDirection()].scale,s=e.map(n=>i.convert(n));if(s.length===1){const n=i.convert(0);return[Math.min(s[0],n),Math.max(s[0],n)]}return[Math.min(...s),Math.max(...s)]}updateGroupScale(e){const t=[],{groupScale:i}=this,s=this.getBandwidth(e),{index:n,visibleGroupCount:r}=this.ctx.seriesStateManager.getVisiblePeerGroupIndex(this);for(let a=0;a<r;a++)t.push(String(a));return i.domain=t,i.range=[0,s??0],e instanceof hu?i.paddingInner=e.groupPaddingInner:e instanceof du?(i.paddingInner=e.groupPaddingInner,i.round=i.padding!==0):i.padding=0,{barWidth:i.bandwidth>=1?i.bandwidth:i.rawBandwidth,groupIndex:n}}resolveKeyDirection(e){return this.getBarDirection()==="x"?e==="x"?"y":"x":e}initQuadTree(e){nA(e,this.datumNodesIter())}pickNodeClosestDatum(e){return rA(this,e)}},aA=class extends Ui{constructor(){super(...arguments),this.placement="inside-center",this.padding=0}};R([A(Mt(["inside-center","inside-start","inside-end","outside-start","outside-end"],"a placement"))],aA.prototype,"placement",2);R([A()],aA.prototype,"padding",2);var qt=class extends oA{constructor(){super(...arguments),this.fill="#c16068",this.fillGradientDefaults=new hr,this.fillPatternDefaults=new gi,this.fillOpacity=1,this.stroke="#874349",this.strokeWidth=1,this.strokeOpacity=1,this.lineDash=[0],this.lineDashOffset=0,this.cornerRadius=0,this.crisp=void 0,this.shadow=new Vr,this.label=new aA,this.tooltip=new Is,this.sparklineMode=!1,this.fastDataProcessing=!1}};R([A()],qt.prototype,"xKey",2);R([A()],qt.prototype,"xName",2);R([A()],qt.prototype,"yKey",2);R([A()],qt.prototype,"yName",2);R([A()],qt.prototype,"yFilterKey",2);R([A()],qt.prototype,"stackGroup",2);R([A()],qt.prototype,"normalizedTo",2);R([A(Cs(Do,Ro,Tn))],qt.prototype,"fill",2);R([A()],qt.prototype,"fillGradientDefaults",2);R([A()],qt.prototype,"fillPatternDefaults",2);R([A()],qt.prototype,"fillOpacity",2);R([A()],qt.prototype,"stroke",2);R([A()],qt.prototype,"strokeWidth",2);R([A()],qt.prototype,"strokeOpacity",2);R([A()],qt.prototype,"lineDash",2);R([A()],qt.prototype,"lineDashOffset",2);R([A()],qt.prototype,"cornerRadius",2);R([A()],qt.prototype,"crisp",2);R([A()],qt.prototype,"itemStyler",2);R([A()],qt.prototype,"shadow",2);R([A()],qt.prototype,"label",2);R([A()],qt.prototype,"tooltip",2);R([A()],qt.prototype,"sparklineMode",2);R([A()],qt.prototype,"fastDataProcessing",2);function dG(e,t,i,s){if(t!=null){const[n,r]=t;if(n!==0||r!==1)return!1}if(wt.is(e)){const n=e.calcBandwidth(s)-e.calcBandwidth(i);if(n>0&&n<1)return!1}return!0}var q0=e=>SR(e.yValue??0);function Jp(e,t,i){const{startingX:s,startingY:n}=hce(e,t);return{isVertical:e,calculate:(o,a)=>{let l=e?o.x:s,d=e?n:o.y,h=e?o.width:0,p=e?0:o.height;const{opacity:f=1}=o;a&&(isNaN(l)||isNaN(d))&&({x:l,y:d}=a,h=e?a.width:0,p=e?0:a.height,e&&!q0(a)?d+=a.height:!e&&q0(a)&&(l+=a.width));let v;return o.clipBBox==null?v=void 0:q0(o)?v=e?new De(l,d-p,h,p):new De(l-h,d,h,p):v=new De(l,d,h,p),{x:l,y:d,width:h,height:p,clipBBox:v,opacity:f}},mode:i}}function dce(e,t){return{isVertical:e,calculate:i=>({x:e?i.x:i.x+i.width/2,y:e?i.y+i.height/2:i.y,width:e?i.width:0,height:e?0:i.height,clipBBox:i.clipBBox,opacity:i.opacity??1}),mode:t}}function ef(e){const t=r=>r==null||isNaN(r.x)||isNaN(r.y);return{toFn:(r,o,a)=>a==="removed"&&r.datum==null&&e.mode==="fade"?{...tf(r,o),opacity:0}:a==="removed"||t(o)?e.calculate(o,r.previousDatum):{x:o.x,y:o.y,width:o.width,height:o.height,clipBBox:o.clipBBox,opacity:o.opacity??1},fromFn:(r,o,a)=>{a==="updated"&&t(o)?a="removed":a==="updated"&&t(r.previousDatum)&&(a="added");let l;a==="added"&&r.previousDatum==null&&e.mode==="fade"?l={...tf(r,o),opacity:0}:a==="unknown"||a==="added"?l=e.calculate(o,r.previousDatum):l={x:r.x,y:r.y,width:r.width,height:r.height,clipBBox:r.clipBBox,opacity:r.opacity??1};const d=Er[a];return{...l,phase:d}},applyFn:(r,o,a)=>{var l;r.setProperties(o),r.crisp=a==="end"&&(((l=r.datum)==null?void 0:l.crisp)??!1)}}}function hce(e,t){const i=t[e?"y":"x"];let s=1/0,n=0;return i?(e?n=i.scale.convert(wt.is(i.scale)?0:Math.max(...i.range)):s=i.scale.convert(wt.is(i.scale)?0:Math.min(...i.range)),{startingX:s,startingY:n}):{startingX:s,startingY:n}}function tf(e,{x:t,y:i,width:s,height:n,clipBBox:r,opacity:o=1}){var a;return{x:t,y:i,width:s,height:n,clipBBox:r,opacity:o,crisp:((a=e.datum)==null?void 0:a.crisp)??!1}}function lA(e,t){if(t===void 0)return;const{x:i,y:s,width:n,height:r}=t;return hi.toCanvas(e.contentGroup,new De(i,s,n,r))}function hG(e,t,i){if(t.enabled&&i){const{x:s,y:n,text:r,textAlign:o,textBaseline:a}=i,{color:l,fontStyle:d,fontWeight:h,fontSize:p,fontFamily:f}=t;e.setProperties({visible:!0,x:s,y:n,text:r,fill:l,fontStyle:d,fontWeight:h,fontSize:p,fontFamily:f,textAlign:o,textBaseline:a})}else e.visible=!1}var gce={"inside-start":{inside:!0,direction:-1,textAlignment:1},"inside-end":{inside:!0,direction:1,textAlignment:-1},"outside-start":{inside:!1,direction:-1,textAlignment:-1},"outside-end":{inside:!1,direction:1,textAlignment:1}};function gG({isUpward:e,isVertical:t,placement:i,padding:s=0,rect:n}){let r=n.x+n.width/2,o=n.y+n.height/2,a="center",l="middle";if(i!=="inside-center"){const d=(e?1:-1)*(t?-1:1),{direction:h,textAlignment:p}=gce[i],f=(h+1)*.5;if(t){const v=e?n.y+n.height:n.y,y=n.height*d;o=v+y*f+s*p*d,l=p===d?"top":"bottom"}else{const v=e?n.x:n.x+n.width,y=n.width*d;r=v+y*f+s*p*d,a=p===d?"left":"right"}}return{x:r,y:o,textAlign:a,textBaseline:l}}var pce=0,fce=1,mce=2,vce=3,yce=4,Kf=class extends uG{constructor(e){super({moduleCtx:e,directionKeys:pu,directionNames:fu,categoryKey:"xValue",pickModes:[2,1,0],pathsPerSeries:[],hasHighlightedLabels:!0,datumSelectionGarbageCollection:!1,animationAlwaysUpdateSelections:!0,animationResetFns:{datum:tf,label:Da}}),this.properties=new qt,this.connectsToYAxis=!0,this.dataAggregationFilters=void 0}get pickModeAxis(){return this.properties.sparklineMode?"main":void 0}crossFilteringEnabled(){return this.properties.yFilterKey!=null&&(this.seriesGrouping==null||this.seriesGrouping.stackIndex===0)}async processData(e){var O,F,z,V,U,J;if(!this.properties.isValid()||!this.data)return;const{xKey:t,yKey:i,yFilterKey:s,normalizedTo:n,fastDataProcessing:r}=this.properties,{seriesGrouping:{groupIndex:o=this.id}={},data:a}=this,l=((O=this.seriesGrouping)==null?void 0:O.groupCount)??0,h=(((F=this.seriesGrouping)==null?void 0:F.stackCount)??0)>=1||n!=null,p=!r||l>1||h,f=!this.ctx.animationManager.isSkipped(),v=(z=this.getCategoryAxis())==null?void 0:z.scale,y=(V=this.getValueAxis())==null?void 0:V.scale,{isContinuousX:S,xScaleType:w,yScaleType:b}=this.getScaleInformation({xScale:v,yScale:y}),x=`bar-stack-${o}-yValues`,D=`${x}-trailing`,E=this.visible?{}:{forceValue:0},T=[kr(t,w,{id:"xValue"}),et(i,b,{id:"yValue-raw",invalidValue:null,...E})];this.crossFilteringEnabled()&&T.push(et(s,b,{id:"yFilterValue",invalidValue:null,...E})),h&&T.push(...vl(i,"normal","current",{id:"yValue-end",rangeId:"yValue-range",invalidValue:null,missingValue:0,groupId:x,separateNegative:!0,...E},b),...vl(i,"trailing","current",{id:"yValue-start",invalidValue:null,missingValue:0,groupId:D,separateNegative:!0,...E},b)),S&&T.push(MB,DB),lt(n)&&T.push(rb([x,D],Math.abs(n))),f&&this.processedData&&T.push(Sh(this.id,this.processedData)),(f||!p)&&T.push(bh());const{dataModel:k,processedData:P}=await this.requestDataModel(e,a,{props:T,groupByKeys:p,groupByData:!p});this.dataAggregationFilters=this.aggregateData(k,P),this.smallestDataInterval=(U=P.reduced)==null?void 0:U.smallestKeyInterval,this.largestDataInterval=(J=P.reduced)==null?void 0:J.largestKeyInterval,this.animationState.transition("updateData")}getSeriesDomain(e){var o;const{processedData:t,dataModel:i}=this;if(i==null||t==null)return[];if(e===this.getCategoryDirection()){const a=i.resolveProcessedDataDefById(this,"xValue"),l=i.getDomain(this,"xValue","key",t);return(a==null?void 0:a.def.type)==="key"&&a.def.valueType==="category"?l:this.padBandExtent(l)}const s=(o=this.dataModel)!=null&&o.hasColumnById(this,"yValue-end")?"yValue-end":"yValue-raw";let n=this.domainForClippedRange("y",[s],"xValue",!0);const r=this.crossFilteringEnabled()?i.getDomain(this,"yFilterValue","value",t):void 0;if(r!=null&&(n=[Math.min(n[0],r[0]),Math.max(n[1],r[1])]),this.getValueAxis()instanceof wh)return on(n);{const a=Number.isFinite(n[1]-n[0])?[Math.min(0,n[0]),Math.max(0,n[1])]:[];return on(a)}}getSeriesRange(e,t){var r;const i=(r=this.dataModel)!=null&&r.hasColumnById(this,"yValue-end")?"yValue-end":"yValue-raw",[s,n]=this.domainForVisibleRange("y",[i],"xValue",t,!0);return[Math.min(s,0),Math.max(n,0)]}getVisibleItems(e,t,i){var n;const s=(n=this.dataModel)!=null&&n.hasColumnById(this,"yValue-end")?"yValue-end":"yValue-raw";return this.countVisibleItems("xValue",[s],e,t,i)}aggregateData(e,t){}createNodeData(){var B;const{dataModel:e,processedData:t,groupScale:i,dataAggregationFilters:s}=this,n=this.getCategoryAxis(),r=this.getValueAxis();if(!e||!t||!n||!r||!this.properties.isValid())return;const o=(B=t.dataSources)==null?void 0:B.get(this.id);if(o==null)return;const a=n.scale,l=r.scale,{xKey:d,yKey:h,xName:p,yName:f,legendItemName:v,label:y}=this.properties,S=r.isReversed(),{barWidth:w,groupIndex:b}=this.updateGroupScale(n),x=i.convert(String(b)),D=wt.is(a)?w*-.5:0,E=e.resolveKeysById(this,"xValue",t),T=e.resolveColumnById(this,"yValue-raw",t),k=this.crossFilteringEnabled()?e.resolveColumnById(this,"yFilterValue",t):void 0,P=!this.ctx.animationManager.isSkipped(),O=_=>a.convert(E[_])+x+D,F=this.properties.crisp??dG(n==null?void 0:n.scale,n==null?void 0:n.visibleRange,this.smallestDataInterval,this.largestDataInterval),z=l.convert(0),V=({datum:_,datumIndex:Y,valueIndex:Z,xValue:ee,yValue:fe,cumulativeValue:ce,phantom:we,currY:de,prevY:ue,x:xe,width:Ee,isPositive:Ae,yRange:He,labelText:_e,opacity:je,crossScale:Dt=1})=>{const ut=Ae!==S,xi=l.convert(de),Li=l.convert(ue),tt=l.convert(He),ot=this.getBarDirection()==="x",ti=Ee*.5*(1-Dt),_t={x:ot?Math.min(xi,Li):xe+ti,y:ot?xe+ti:Math.min(xi,Li),width:ot?Math.abs(Li-xi):Ee*Dt,height:ot?Ee*Dt:Math.abs(Li-xi)},fr=new De(_t.x,_t.y,_t.width,_t.height),Fn={x:ot?Math.min(z,tt):xe+ti,y:ot?xe+ti:Math.min(z,tt),width:ot?Math.abs(z-tt):Ee*Dt,height:ot?Ee*Dt:Math.abs(z-tt)},gt=this.shouldFlipXY()?_t.height:_t.width;return{series:this,itemId:we?ts(h,we):h,datum:_,datumIndex:Y,valueIndex:Z,cumulativeValue:ce,phantom:we,xValue:ee,yValue:fe,yKey:h,xKey:d,capDefaults:{lengthRatioMultiplier:gt,lengthMax:gt},x:Fn.x,y:Fn.y,width:Fn.width,height:Fn.height,midPoint:{x:_t.x+_t.width/2,y:_t.y+_t.height/2},opacity:je,topLeftCornerRadius:ot!==ut,topRightCornerRadius:ut,bottomRightCornerRadius:ot===ut,bottomLeftCornerRadius:!ut,clipBBox:fr,crisp:F,label:_e!=null?{text:_e,...gG({isUpward:ut,isVertical:!ot,placement:y.placement,padding:y.padding,rect:_t})}:void 0,missing:fe==null,focusable:!we}},U=[],J=[],ye=[],Ce=(_,Y,Z,ee,fe,ce,we,de)=>{const ue=E[_];if(ue==null)return;const xe=T[_],Ee=k!=null?Number(k[_]):void 0,Ae=xe>=0&&!Object.is(xe,-0);if(!Number.isFinite(ce)||Ee!=null&&!Number.isFinite(Ee))return;const He=xe!=null?this.getLabelText(this.properties.label,{datum:o[_],value:Ee??xe,xKey:d,yKey:h,xName:p,yName:f,legendItemName:v}):void 0,_e=Ee!=null&&Ee>xe,je=V({datum:o[_],datumIndex:_,valueIndex:Y,xValue:ue,yValue:Ee??xe,cumulativeValue:Ee??ce,phantom:!1,currY:Ee!=null?fe+Ee:ce,prevY:fe,x:Z,width:ee,isPositive:Ae,yRange:Math.max(fe+(Ee??-1/0),we),labelText:He,opacity:de,crossScale:_e?.6:void 0});if(J.push(je),ye.push(je),Ee!=null){const Dt=V({datum:o[_],datumIndex:_,valueIndex:Y,xValue:ue,yValue:Ee,cumulativeValue:Ee,phantom:!0,currY:ce,prevY:fe,x:Z,width:ee,isPositive:Ae,yRange:we,labelText:void 0,opacity:de,crossScale:void 0});U.push(Dt)}},[G,K]=a.range,ne=K-G,ge=s==null?void 0:s.find(_=>_.maxRange>ne);if(t.type==="grouped"){const _=w,Y=e.hasColumnById(this,"yValue-start"),Z=Y?e.resolveColumnById(this,"yValue-start",t):void 0,ee=Y?e.resolveColumnById(this,"yValue-end",t):void 0,fe=Y?e.resolveProcessedDataIndexById(this,"yValue-range"):-1;for(const{datumIndex:ce,valueIndex:we,group:{aggregation:de}}of e.forEachGroupDatum(this,t)){const ue=O(ce),xe=T[ce],Ee=xe>=0&&!Object.is(xe,-0),Ae=Y?Number(Z==null?void 0:Z[ce]):0,He=Y?Number(ee==null?void 0:ee[ce]):xe;let _e=He;Y&&(_e=de[fe][Ee?1:0]),Ce(ce,we,ue,_,Ae,He,_e,1)}}else if(ge==null){const _=w;let[Y,Z]=this.visibleRange("xValue",n.range);t.input.count<1e3&&(Y=0,Z=t.input.count);for(let ee=Y;ee<Z;ee+=1){const fe=O(ee),ce=Number(T[ee]);Ce(ee,0,fe,_,0,ce,ce,1)}}else{const{indexData:_,indices:Y}=ge,[Z,ee]=this.visibleRange("xValue",n.range,Y);for(let fe=Z;fe<ee;fe+=1){const ce=fe*yce,we=_[ce+pce],de=_[ce+fce],ue=_[ce+mce],xe=_[ce+vce];if(we===-1)continue;const Ee=O((we+de)/2|0),Ae=Math.abs(O(de)-O(we))+w,He=E[xe]!=null?Number(T[xe]):NaN,_e=E[ue]!=null?Number(T[ue]):NaN;if(He>0){const je=_e>=0?_e/He:1;Ce(xe,0,Ee,Ae,0,He,He,je)}if(_e<0){const je=He<=0?He/_e:1;Ce(ue,1,Ee,Ae,0,_e,_e,je)}}}return{itemId:h,nodeData:U.length>0?[...U,...J]:J,labelData:ye,scales:this.calculateScaling(),visible:this.visible||P,groupScale:this.getScaling(this.groupScale)}}nodeFactory(){return new Ts}getHighlightData(e,t){const i=e.find(s=>s.datum===t.datum&&!s.phantom);return i!=null?[i]:void 0}updateDatumSelection(e){return e.datumSelection.update(e.nodeData,void 0,t=>this.getDatumId(t))}getItemBaseStyle(e){const{properties:t}=this,{cornerRadius:i,fillGradientDefaults:s,fillPatternDefaults:n}=t,r=e?t.highlightStyle.item:void 0;return ao({fill:(r==null?void 0:r.fill)??t.fill,fillOpacity:(r==null?void 0:r.fillOpacity)??t.fillOpacity,stroke:(r==null?void 0:r.stroke)??t.stroke,strokeWidth:(r==null?void 0:r.strokeWidth)??this.getStrokeWidth(t.strokeWidth),strokeOpacity:(r==null?void 0:r.strokeOpacity)??t.strokeOpacity,lineDash:(r==null?void 0:r.lineDash)??t.lineDash??[],lineDashOffset:(r==null?void 0:r.lineDashOffset)??t.lineDashOffset,cornerRadius:i},s,n)}getItemStyleOverrides(e,t,i,s,n,r){const{id:o,properties:a}=this,{xKey:l,yKey:d,itemStyler:h,fillGradientDefaults:p,fillPatternDefaults:f}=a;if(h==null)return;const{xDomain:v,yDomain:y}=this.cachedDatumCallback("domain",()=>({xDomain:this.getSeriesDomain("x"),yDomain:this.getSeriesDomain("y")})),S=this.cachedDatumCallback(ts(e,r?"highlight":"node"),()=>this.callWithContext(h,{seriesId:o,...ml(t,l,d,v,y),datum:t,xValue:i,yValue:s,highlighted:r,...n}));return ao(S,p,f)}updateDatumNodes(e){if(!this.properties.isValid())return;const{shadow:t}=this.properties,i=this.getCategoryDirection()==="x",s=this.getItemBaseStyle(e.isHighlight),n=this.getShapeFillBBox();e.datumSelection.each((r,o)=>{var d,h;const a=this.getItemStyleOverrides(String(o.datumIndex),o.datum,o.xValue,o.yValue,s,e.isHighlight);r.opacity=o.opacity??0,tu(r,s,a,n);const l=(a==null?void 0:a.cornerRadius)??s.cornerRadius;r.topLeftCornerRadius=o.topLeftCornerRadius?l:0,r.topRightCornerRadius=o.topRightCornerRadius?l:0,r.bottomRightCornerRadius=o.bottomRightCornerRadius?l:0,r.bottomLeftCornerRadius=o.bottomLeftCornerRadius?l:0,r.visible=i?(((d=o.clipBBox)==null?void 0:d.width)??o.width)>0:(((h=o.clipBBox)==null?void 0:h.height)??o.height)>0,r.crisp=o.crisp,r.fillShadow=t})}updateLabelSelection(e){const t=this.isLabelEnabled()?e.labelData:[];return e.labelSelection.update(t,i=>{i.pointerEvents=1})}updateLabelNodes(e){e.labelSelection.each((t,i)=>{hG(t,this.properties.label,i.label)})}getTooltipContent(e){var x;const{id:t,dataModel:i,processedData:s,properties:n}=this,{xKey:r,xName:o,yKey:a,yName:l,legendItemName:d,stackGroup:h,tooltip:p}=n,f=this.getCategoryAxis(),v=this.getValueAxis();if(!i||!s||!f||!v)return;const y=(x=s.dataSources.get(this.id))==null?void 0:x[e],S=i.resolveKeysById(this,"xValue",s)[e],w=i.resolveColumnById(this,"yValue-raw",s)[e];if(S==null)return;const b=this.getItemBaseStyle(!1);return Object.assign(b,this.getItemStyleOverrides(String(e),y,S,w,b,!1)),p.formatTooltip(this.properties,{heading:f.formatDatum(S),symbol:this.legendItemSymbol(),data:[{label:l,fallbackLabel:a,value:v.formatDatum(w)}]},{seriesId:t,datum:y,title:l,xKey:r,xName:o,yKey:a,yName:l,legendItemName:d,stackGroup:h,...b,...this.getModuleTooltipParams()})}legendItemSymbol(){const{fill:e,stroke:t,strokeWidth:i,fillOpacity:s,strokeOpacity:n,lineDash:r,lineDashOffset:o,fillGradientDefaults:a,fillPatternDefaults:l}=this.properties;return{marker:ao({fill:e??"rgba(0, 0, 0, 0)",stroke:t??"rgba(0, 0, 0, 0)",fillOpacity:s,strokeOpacity:n,strokeWidth:i,lineDash:r,lineDashOffset:o},a,l)}}getLegendData(e){const{showInLegend:t}=this.properties;if(e!=="category"||!this.properties.isValid())return[];const{id:i,ctx:{legendManager:s},visible:n}=this,{yKey:r,yName:o,legendItemName:a}=this.properties;return[{legendType:"category",id:i,itemId:r,seriesId:i,enabled:n&&s.getItemEnabled({seriesId:i,itemId:r}),label:{text:a??o??r},symbol:this.legendItemSymbol(),legendItemName:a,hideInLegend:!t}]}animateEmptyUpdateReady({datumSelection:e,labelSelection:t,annotationSelections:i}){const s=ef(Jp(this.isVertical(),this.axes,"normal"));li(this.id,"nodes",this.ctx.animationManager,[e],s),ft(this,"labels",this.ctx.animationManager,t),ft(this,"annotations",this.ctx.animationManager,...i)}animateWaitingUpdateReady(e){var h,p,f,v,y;const{datumSelection:t,labelSelection:i,annotationSelections:s,previousContextData:n}=e;this.ctx.animationManager.stopByAnimationGroupId(this.id);let r=(f=(p=(h=this.processedData)==null?void 0:h.reduced)==null?void 0:p.diff)==null?void 0:f[this.id];r==null&&((y=(v=this.processedData)==null?void 0:v.reduced)==null?void 0:y.diff)!=null&&(r={changed:!0,added:new Set(Array.from(t,({datum:S})=>this.getDatumId(S))),updated:new Set,removed:new Set,moved:new Set});const o=n==null?"fade":"normal",a=ef(Jp(this.isVertical(),this.axes,o));li(this.id,"nodes",this.ctx.animationManager,[t],a,(S,w)=>this.getDatumId(w),r);const l=n!=null&&(!Od(e.contextData.scales.x,n.scales.x)||!Od(e.contextData.scales.y,n.scales.y)||!Od(e.contextData.groupScale,e.previousContextData.groupScale));(((r==null?void 0:r.changed)??!1)||l)&&(ft(this,"labels",this.ctx.animationManager,i),ft(this,"annotations",this.ctx.animationManager,...s))}getDatumId(e){return ts(e.xValue,e.valueIndex,e.phantom)}isLabelEnabled(){return this.properties.label.enabled}computeFocusBounds({datumIndex:e}){var i;const t=(i=this.contextNodeData)==null?void 0:i.nodeData[e].clipBBox;return lA(this,t)}};Kf.className="BarSeries";Kf.type="bar";var qf={type:Pe(Es("bar")),xKey:Pe(Me),yKey:Pe(Me),xName:Me,yName:Me,direction:Ue("horizontal","vertical"),grouped:Se,stacked:Se,stackGroup:Me,normalizedTo:ke,legendItemName:Me,showInMiniChart:Se,cornerRadius:be,itemStyler:St,crisp:Se,label:{...jl,placement:Ue("inside-center","inside-start","inside-end","outside-start","outside-end"),padding:be},errorBar:bb,shadow:Yf,tooltip:Ea,..._r,...rr,...Vs,...fo};qf.pickOutsideVisibleMinorAxis=Se;qf.fastDataProcessing=Se;qf.focusPriority=ke;qf.sparklineMode=Se;var pG={type:"series",optionsKey:"series[]",packageType:"community",chartTypes:["cartesian"],identifier:"bar",moduleFactory:e=>new Kf(e),stackable:!0,groupable:!0,tooltipDefaults:{range:"exact"},defaultAxes:VB,themeTemplate:{series:{direction:"vertical",fill:{$palette:"fill"},stroke:{$palette:"stroke"},fillGradientDefaults:{type:"gradient",gradient:"linear",bounds:"item",colorStops:{$palette:"gradient"},rotation:0,reverse:!1},fillPatternDefaults:Rl,fillOpacity:1,strokeWidth:0,lineDash:[0],lineDashOffset:0,label:{enabled:!1,fontWeight:{$ref:"fontWeight"},fontSize:{$ref:"fontSize"},fontFamily:{$ref:"fontFamily"},color:{$if:[{$or:[{$eq:[{$path:"./placement"},"outside-start"]},{$eq:[{$path:"./placement"},"outside-end"]}]},{$ref:"textColor"},{$ref:"backgroundColor"}]},placement:"inside-center"},shadow:{enabled:!1,color:Gl,xOffset:3,yOffset:3,blur:5},errorBar:{cap:{lengthRatio:.3}}}}},fG={type:"series",name:"bar",chartType:"cartesian",options:qf,create:e=>new Kf(e)},cA=class extends ns{constructor(){super(...arguments),this.maxSize=30}};R([A(),Re()],cA.prototype,"maxSize",2);R([A(),Re()],cA.prototype,"domain",2);var mG=class extends Ui{constructor(){super(...arguments),this.placement="top"}};R([A()],mG.prototype,"placement",2);var Ot=class extends Ra{constructor(){super(...arguments),this.label=new mG,this.tooltip=new Is,this.marker=new cA}};R([A()],Ot.prototype,"xKey",2);R([A()],Ot.prototype,"yKey",2);R([A()],Ot.prototype,"sizeKey",2);R([A()],Ot.prototype,"labelKey",2);R([A()],Ot.prototype,"xFilterKey",2);R([A()],Ot.prototype,"yFilterKey",2);R([A()],Ot.prototype,"sizeFilterKey",2);R([A()],Ot.prototype,"xName",2);R([A()],Ot.prototype,"yName",2);R([A()],Ot.prototype,"sizeName",2);R([A()],Ot.prototype,"labelName",2);R([A()],Ot.prototype,"title",2);R([Et("marker.shape")],Ot.prototype,"shape",2);R([Et("marker.size")],Ot.prototype,"size",2);R([Et("marker.maxSize")],Ot.prototype,"maxSize",2);R([Et("marker.domain",{optional:!0})],Ot.prototype,"domain",2);R([Et("marker.fillGradientDefaults")],Ot.prototype,"fillGradientDefaults",2);R([Et("marker.fillPatternDefaults")],Ot.prototype,"fillPatternDefaults",2);R([Et("marker.fill",{optional:!0})],Ot.prototype,"fill",2);R([Et("marker.fillOpacity")],Ot.prototype,"fillOpacity",2);R([Et("marker.stroke",{optional:!0})],Ot.prototype,"stroke",2);R([Et("marker.strokeWidth")],Ot.prototype,"strokeWidth",2);R([Et("marker.strokeOpacity")],Ot.prototype,"strokeOpacity",2);R([Et("marker.lineDash")],Ot.prototype,"lineDash",2);R([Et("marker.lineDashOffset")],Ot.prototype,"lineDashOffset",2);R([Et("marker.itemStyler",{optional:!0})],Ot.prototype,"itemStyler",2);R([A()],Ot.prototype,"label",2);R([A()],Ot.prototype,"tooltip",2);var Cce=class extends WE{constructor(e,t,i,s){super(e,t,i,s),this.sizeKey=s.properties.sizeKey}},Sb=class extends Hl{constructor(e){super({moduleCtx:e,directionKeys:pu,directionNames:fu,categoryKey:void 0,pickModes:[2,1,0],pathsPerSeries:[],hasMarkers:!0,markerSelectionGarbageCollection:!1,animationResetFns:{label:Da,marker:Wf},usesPlacedLabels:!0,clipFocusBox:!1}),this.NodeEvent=Cce,this.properties=new Ot,this.sizeScale=new Pr}get pickModeAxis(){return"main-category"}async processData(e){var b,x;if(!this.properties.isValid()||this.data==null||!this.visible)return;const t=(b=this.axes.x)==null?void 0:b.scale,i=(x=this.axes.y)==null?void 0:x.scale,{xScaleType:s,yScaleType:n}=this.getScaleInformation({xScale:t,yScale:i}),r=this.sizeScale.type,{xKey:o,yKey:a,sizeKey:l,xFilterKey:d,yFilterKey:h,sizeFilterKey:p,labelKey:f,marker:v}=this.properties,{dataModel:y,processedData:S}=await this.requestDataModel(e,this.data,{props:[et(o,s,{id:"xValue"}),et(a,n,{id:"yValue"}),...d!=null?[et(d,s,{id:"xFilterValue"})]:[],...h!=null?[et(h,n,{id:"yFilterValue"})]:[],...p!=null?[et(p,r,{id:"sizeFilterValue"})]:[],et(l,r,{id:"sizeValue"}),...f?[et(f,"band",{id:"labelValue"})]:[]]}),w=y.resolveProcessedDataIndexById(this,"sizeValue");this.sizeScale.domain=v.domain??S.domain.values[w]??[],this.animationState.transition("updateData")}xCoordinateRange(e,t,i){const{properties:s,sizeScale:n}=this,{size:r,sizeKey:o}=s,a=this.axes.x.scale.convert(e),l=o!=null?this.dataModel.resolveColumnById(this,"sizeValue",this.processedData):void 0,h=.5*(l!=null?n.convert(l[i]):r)*t;return[a-h,a+h]}yCoordinateRange(e,t,i){const{properties:s,sizeScale:n}=this,{size:r,sizeKey:o}=s,a=this.axes.y.scale.convert(e[0]),l=o!=null?this.dataModel.resolveColumnById(this,"sizeValue",this.processedData):void 0,h=.5*(l!=null?n.convert(l[i]):r)*t;return[a-h,a+h]}getSeriesDomain(e){const{dataModel:t,processedData:i}=this;if(!i||!t)return[];const s={x:"xValue",y:"yValue"},n=s[e],r=t.resolveProcessedDataDefById(this,n),o=t.getDomain(this,n,"value",i);if((r==null?void 0:r.def.type)==="value"&&(r==null?void 0:r.def.valueType)==="category")return o;const l=s[e==="x"?"y":"x"],d=this.domainForClippedRange(e,[n],l,!1);return on(Sa(d))}getSeriesRange(e,t){return this.domainForVisibleRange("y",["yValue"],"xValue",t,!1)}getVisibleItems(e,t,i){return this.countVisibleItems("xValue",["yValue"],e,t,i)}createNodeData(){var B;const{axes:e,dataModel:t,processedData:i,sizeScale:s,visible:n}=this,{xKey:r,yKey:o,sizeKey:a,xFilterKey:l,yFilterKey:d,sizeFilterKey:h,labelKey:p,xName:f,yName:v,sizeName:y,labelName:S,label:w,marker:b}=this.properties,{placement:x}=w,D=_i.anchor(b.shape),E=e.x,T=e.y;if(!(t&&i&&n&&E&&T))return;const k=t.resolveColumnById(this,"xValue",i),P=t.resolveColumnById(this,"yValue",i),O=a!=null?t.resolveColumnById(this,"sizeValue",i):void 0,F=p!=null?t.resolveColumnById(this,"labelValue",i):void 0,z=l!=null?t.resolveColumnById(this,"xFilterValue",i):void 0,V=d!=null?t.resolveColumnById(this,"yFilterValue",i):void 0,U=h!=null?t.resolveColumnById(this,"sizeFilterValue",i):void 0,J=E.scale,ye=T.scale,Ce=(J.bandwidth??0)/2,G=(ye.bandwidth??0)/2,K=[];s.range=[b.size,b.maxSize];const ne=w.getFont(),ge=fa.getMeasurer({font:ne});return(B=i.dataSources.get(this.id))==null||B.forEach((_,Y)=>{const Z=k[Y],ee=P[Y],fe=O==null?void 0:O[Y],ce=J.convert(Z)+Ce,we=ye.convert(ee)+G;let de;z!=null&&V!=null&&(de=z[Y]===Z&&V[Y]===ee,U!=null&&de&&(de=U[Y]===fe));const ue=this.getLabelText(w,{value:F!=null?F[Y]:ee,datum:_,xKey:r,yKey:o,sizeKey:a,labelKey:p,xName:f,yName:v,sizeName:y,labelName:S}),xe=ge.measureText(String(ue)),Ee=fe!=null?s.convert(fe):b.size;K.push({series:this,itemId:o,yKey:o,xKey:r,datum:_,datumIndex:Y,xValue:Z,yValue:ee,sizeValue:fe,point:{x:ce,y:we,size:Ee},midPoint:{x:ce,y:we},label:{text:ue,...xe},anchor:D,placement:x,selected:de})}),{itemId:o,nodeData:K,labelData:K,scales:this.calculateScaling(),visible:this.visible}}isPathOrSelectionDirty(){return this.properties.marker.isDirty()}getLabelData(){var e;return this.isLabelEnabled()?((e=this.contextNodeData)==null?void 0:e.labelData)??[]:[]}updateMarkerSelection(e){const{nodeData:t,markerSelection:i}=e;this.properties.marker.isDirty()&&(i.clear(),i.cleanup());const s=this.properties.marker.enabled?t:[];return i.update(s,void 0,n=>ts([n.xValue,n.yValue,n.sizeValue,n.label.text]))}updateMarkerNodes(e){const{markerSelection:t,isHighlight:i}=e,{xKey:s,yKey:n,sizeKey:r,labelKey:o,marker:a}=this.properties,l=Je(i&&this.properties.highlightStyle.item,a.getStyle());this.sizeScale.range=[a.size,a.maxSize];const d=this.getShapeFillBBox();t.each((h,p)=>{this.updateMarkerStyle(a,h,p.datum,p.point,{xKey:s,yKey:n,sizeKey:r,labelKey:o},i,l,d,{selected:p.selected})}),i||this.properties.marker.markClean()}updatePlacedLabelData(e){this.labelSelection.update(e.map(t=>({...t.datum,point:{x:t.x,y:t.y,size:t.datum.point.size}})),t=>{t.pointerEvents=1}),this.updateLabelNodes({labelSelection:this.labelSelection})}updateLabelNodes(e){const{label:t}=this.properties;e.labelSelection.each((i,s)=>{var n,r;i.text=s.label.text,i.fill=t.color,i.x=((n=s.point)==null?void 0:n.x)??0,i.y=((r=s.point)==null?void 0:r.y)??0,i.fontStyle=t.fontStyle,i.fontWeight=t.fontWeight,i.fontSize=t.fontSize,i.fontFamily=t.fontFamily,i.textAlign="left",i.textBaseline="top"})}getTooltipContent(e){var z,V;const{id:t,dataModel:i,processedData:s,axes:n,properties:r}=this,{xKey:o,xName:a,yKey:l,yName:d,sizeKey:h,sizeName:p,labelKey:f,labelName:v,title:y,tooltip:S,marker:w}=r,b=n.x,x=n.y;if(!i||!s||!b||!x)return;const D=(z=s.dataSources.get(this.id))==null?void 0:z[e],E=i.resolveColumnById(this,"xValue",s)[e],T=i.resolveColumnById(this,"yValue",s)[e],k=(V=this.contextNodeData)==null?void 0:V.nodeData[e];if(E==null||k==null)return;const P=[{label:a,fallbackLabel:o,value:b.formatDatum(E)},{label:d,fallbackLabel:l,value:x.formatDatum(T)}];if(h!=null){const U=i.resolveColumnById(this,"sizeValue",s)[e];P.push({label:p,fallbackLabel:h,value:String(U)})}const O=w.getStyle(),F=this.getMarkerStyle(w,D,{xKey:o,yKey:l,sizeKey:h,labelKey:f,highlighted:!0},!1,void 0,O);return S.formatTooltip(this.properties,{title:y,symbol:this.legendItemSymbol(),data:P},{seriesId:t,datum:D,title:l,xKey:o,xName:a,yKey:l,yName:d,sizeKey:h,sizeName:p,labelKey:f,labelName:v,...F,...this.getModuleTooltipParams()})}legendItemSymbol(){return{marker:this.getMarkerStyle(this.properties.marker)}}getLegendData(){if(!this.properties.isValid())return[];const{id:e,ctx:{legendManager:t},visible:i}=this,{yKey:s,yName:n,title:r}=this.properties;return[{legendType:"category",id:e,itemId:s,seriesId:e,enabled:i&&t.getItemEnabled({seriesId:e,itemId:s}),label:{text:r??n??s},symbol:this.legendItemSymbol()}]}animateEmptyUpdateReady({markerSelection:e,labelSelection:t}){qE(this,this.ctx.animationManager,e),ft(this,"labels",this.ctx.animationManager,t)}isLabelEnabled(){return this.properties.label.enabled}nodeFactory(){return new Ne}getFormattedMarkerStyle(e){const{xKey:t,yKey:i,sizeKey:s,labelKey:n,marker:r}=this.properties;return this.getMarkerStyle(r,e,{xKey:t,yKey:i,sizeKey:s,labelKey:n},!1,e.point.size)}computeFocusBounds(e){return Uf(this,e)}};Sb.className="BubbleSeries";Sb.type="bubble";var bce={type:Pe(Es("bubble")),xKey:Pe(Me),yKey:Pe(Me),sizeKey:Pe(Me),labelKey:Me,xName:Me,yName:Me,sizeName:Me,labelName:Me,title:Me,domain:Jt(ke),maxSize:be,showInMiniChart:Se,label:{placement:Ue("top","right","bottom","left"),...jl},tooltip:Ea,..._r,...Ml($f,["enabled"])},Sce={type:"series",optionsKey:"series[]",packageType:"community",chartTypes:["cartesian"],identifier:"bubble",moduleFactory:e=>new Sb(e),tooltipDefaults:{range:"nearest"},defaultAxes:[{type:"number",position:"bottom"},{type:"number",position:"left"}],themeTemplate:{series:{shape:"circle",size:7,maxSize:30,fill:{$palette:"fill"},stroke:{$palette:"stroke"},fillGradientDefaults:{type:"gradient",gradient:"radial",bounds:"item",colorStops:{$palette:"gradient"},rotation:0,reverse:!0},fillPatternDefaults:Rl,fillOpacity:.8,tooltip:{position:{_seriesOverrideType:"node"}},label:{enabled:!1,fontSize:{$ref:"fontSize"},fontFamily:{$ref:"fontFamily"},fontWeight:{$ref:"fontWeight"},color:{$ref:"textColor"}}}}},vG={type:"series",name:"bubble",chartType:"cartesian",options:bce,create:e=>new Sb(e)},wi=class extends Ra{constructor(){super(...arguments),this.fillGradientDefaults=new hr,this.fillPatternDefaults=new gi,this.fillOpacity=1,this.strokeWidth=1,this.strokeOpacity=1,this.lineDash=[0],this.lineDashOffset=0,this.cornerRadius=0,this.areaPlot=!1,this.aggregation="sum",this.shadow=new Vr,this.label=new Ui,this.tooltip=new Is}};R([A()],wi.prototype,"xKey",2);R([A()],wi.prototype,"yKey",2);R([A()],wi.prototype,"xName",2);R([A()],wi.prototype,"yName",2);R([A(Cs(Do,Ro,Tn))],wi.prototype,"fill",2);R([A()],wi.prototype,"fillGradientDefaults",2);R([A()],wi.prototype,"fillPatternDefaults",2);R([A()],wi.prototype,"fillOpacity",2);R([A()],wi.prototype,"stroke",2);R([A()],wi.prototype,"strokeWidth",2);R([A()],wi.prototype,"strokeOpacity",2);R([A()],wi.prototype,"lineDash",2);R([A()],wi.prototype,"lineDashOffset",2);R([A()],wi.prototype,"cornerRadius",2);R([A()],wi.prototype,"areaPlot",2);R([A()],wi.prototype,"bins",2);R([A(Mt(["count","sum","mean"],"a histogram aggregation"))],wi.prototype,"aggregation",2);R([A()],wi.prototype,"binCount",2);R([A()],wi.prototype,"shadow",2);R([A()],wi.prototype,"label",2);R([A()],wi.prototype,"tooltip",2);var gO=10,wb=class extends Hl{constructor(e){super({moduleCtx:e,directionKeys:pu,directionNames:fu,categoryKey:void 0,pickModes:[1,0],datumSelectionGarbageCollection:!1,animationResetFns:{datum:tf,label:Da}}),this.properties=new wi,this.calculatedBins=[]}deriveBins(e){const t=sE(e[0],e[1],gO),i=Vp(e[0],e[1],gO),[s]=t,n=r=>[r,r+i];return[[s-i,s],...t.map(n)]}calculateNiceBins(e,t){const i=Math.floor(e[0]),s=e[1],n=t||1,{start:r,binSize:o}=this.calculateNiceStart(i,s,n);return this.getBins(r,s,o,n)}getBins(e,t,i,s){const n=[],r=this.calculatePrecision(i);for(let o=0;o<s;o++){const a=Math.round((e+o*i)*r)/r;let l=Math.round((e+(o+1)*i)*r)/r;o===s-1&&(l=Math.max(l,t)),n[o]=[a,l]}return n}calculatePrecision(e){let t=10;if(isFinite(e)&&e>0)for(;e<1;)t*=10,e*=10;return t}calculateNiceStart(e,t,i){const s=Math.abs(t-e)/i,n=Math.floor(Math.log10(s)),r=Math.pow(10,n);return{start:Math.floor(e/r)*r,binSize:s}}async processData(e){var p,f;this.visible||(this.processedData=void 0,this.animationState.transition("updateData"));const{xKey:t,yKey:i,areaPlot:s,aggregation:n}=this.properties,r=(p=this.axes.x)==null?void 0:p.scale,o=(f=this.axes.y)==null?void 0:f.scale,{xScaleType:a,yScaleType:l}=this.getScaleInformation({yScale:o,xScale:r}),d=[kr(t,a),RB];if(i){let v=ZM("groupAgg");n==="count"||(n==="sum"?v=pB("groupAgg"):n==="mean"&&(v=fB("groupAgg"))),s&&(v=XM("groupAgg",v)),d.push(et(i,l,{invalidValue:void 0}),v)}else{d.push(SB("count"));let v=ZM("groupAgg");s&&(v=XM("groupAgg",v)),d.push(v)}const h=v=>{const y=on(v.domain.keys[0]);if(y.length===0)return v.domain.groups=[],()=>[];const S=Qn(this.properties.binCount)?this.calculateNiceBins(y,this.properties.binCount):this.properties.bins??this.deriveBins(y),w=S.length;return this.calculatedBins=[...S],b=>{let x=b[0];if(gh(x)&&(x=x.getTime()),!Qn(x))return[];for(let D=0;D<w;D++){const E=S[D];if(x>=E[0]&&x<E[1]||D===w-1&&x<=E[1])return E}return[]}};!this.ctx.animationManager.isSkipped()&&this.processedData&&d.push(Sh(this.id,this.processedData,!1)),await this.requestDataModel(e,this.data,{props:d,groupByFn:h}),this.animationState.transition("updateData")}xCoordinateRange(){return[NaN,NaN]}yCoordinateRange(){return[NaN,NaN]}getSeriesDomain(e){var o,a,l;const{processedData:t,dataModel:i}=this;if(!t||!i||!this.calculatedBins.length)return[];const s=i.getDomain(this,"groupAgg","aggregate",t),n=(o=this.calculatedBins)==null?void 0:o[0][0],r=(l=this.calculatedBins)==null?void 0:l[(((a=this.calculatedBins)==null?void 0:a.length)??0)-1][1];return on(e==="x"?[n,r]:s)}getSeriesRange(e,[t,i]){const{dataModel:s,processedData:n}=this;if(!s||(n==null?void 0:n.type)!=="grouped")return[NaN,NaN];const r=this.axes.x.scale,o=0;let a=-1/0;return n.groups.forEach(({keys:l,aggregation:d})=>{const[[h,p]=[0,0]]=d,[f,v]=l,[y,S]=Ti([r.convert(f),r.convert(v)]);if(S>=t&&y<=i){const w=h+p;a=Math.max(a,w)}}),o>a?[NaN,NaN]:[o,a]}createNodeData(){const{id:e,axes:t,processedData:i,dataModel:s}=this,n=t.x,r=t.y;if(!n||!r||!s)return;const{scale:o}=n,{scale:a}=r,{xKey:l,yKey:d,xName:h,yName:p}=this.properties,f=this.properties.label.formatter,v=[],y={itemId:this.properties.yKey??this.id,nodeData:v,labelData:v,scales:this.calculateScaling(),animationValid:!0,visible:this.visible};return!this.visible||i==null||i.type!=="grouped"||(i.groups.forEach((S,w)=>{const{keys:b,datumIndices:x,aggregation:D}=S,[[E,T]=[0,0]]=D,k=x.length,P=b,[O,F]=P,z=[...s.forEachDatum(this,i,S)],V=o.convert(O),U=o.convert(F),J=E+T,ye=a.convert(0),Ce=a.convert(J),G=Math.abs(U-V),K=Math.abs(Ce-ye),ne=Math.min(V,U),ge=Math.min(ye,Ce);let B;J!==0&&(B={x:ne+G/2,y:ge+K/2,text:this.cachedDatumCallback(ts(w,"label"),()=>f==null?void 0:f({value:J,datum:z,seriesId:e,xKey:l,yKey:d,xName:h,yName:p}))??r.formatDatum(J)});const _={x:ne+G/2,y:ge+K/2},Y=r.isReversed();v.push({series:this,datumIndex:w,datum:z,aggregatedValue:J,frequency:k,domain:P,yKey:d,xKey:l,x:ne,y:ge,xValue:V,yValue:Ce,width:G,height:K,midPoint:_,topLeftCornerRadius:!Y,topRightCornerRadius:!Y,bottomRightCornerRadius:Y,bottomLeftCornerRadius:Y,label:B,crisp:!0})}),v.sort((S,w)=>S.x-w.x)),y}nodeFactory(){return new Ts}updateDatumSelection(e){const{nodeData:t,datumSelection:i}=e;return i.update(t,void 0,s=>s.domain.join("_"))}getItemBaseStyle(e){const{properties:t}=this,i=e?t.highlightStyle.item:void 0;return ao({fill:(i==null?void 0:i.fill)??t.fill,fillOpacity:(i==null?void 0:i.fillOpacity)??t.fillOpacity,stroke:(i==null?void 0:i.stroke)??t.stroke,strokeWidth:(i==null?void 0:i.strokeWidth)??this.getStrokeWidth(t.strokeWidth),strokeOpacity:(i==null?void 0:i.strokeOpacity)??t.strokeOpacity,lineDash:(i==null?void 0:i.lineDash)??t.lineDash,lineDashOffset:(i==null?void 0:i.lineDashOffset)??t.lineDashOffset,cornerRadius:t.cornerRadius},t.fillGradientDefaults,t.fillPatternDefaults)}updateDatumNodes(e){const{isHighlight:t}=e,{shadow:i}=this.properties,s=this.getItemBaseStyle(t),n=this.getShapeFillBBox();e.datumSelection.each((r,o)=>{const{cornerRadius:a}=s,{topLeftCornerRadius:l,topRightCornerRadius:d,bottomRightCornerRadius:h,bottomLeftCornerRadius:p}=o;tu(r,s,void 0,n),r.topLeftCornerRadius=l?a:0,r.topRightCornerRadius=d?a:0,r.bottomRightCornerRadius=h?a:0,r.bottomLeftCornerRadius=p?a:0,r.crisp=o.crisp,r.fillShadow=i,r.visible=o.height>0})}updateLabelSelection(e){const{labelData:t,labelSelection:i}=e;return i.update(t,s=>{s.pointerEvents=1,s.textAlign="center",s.textBaseline="middle"})}updateLabelNodes(e){const{fontStyle:t,fontWeight:i,fontFamily:s,fontSize:n,color:r}=this.properties.label,o=this.isLabelEnabled();e.labelSelection.each((a,l)=>{o&&(l!=null&&l.label)?(a.text=l.label.text,a.x=l.label.x,a.y=l.label.y,a.fontStyle=t,a.fontWeight=i,a.fontFamily=s,a.fontSize=n,a.fill=r,a.visible=!0):a.visible=!1})}initQuadTree(e){const{value:t}=this.contentGroup.children().next();t&&nA(e,t.children())}pickNodeClosestDatum(e){return rA(this,e)}getTooltipContent(e){const{id:t,dataModel:i,processedData:s,axes:n,properties:r,ctx:{localeManager:o}}=this,{xKey:a,xName:l,yKey:d,yName:h,tooltip:p}=r,f=n.x,v=n.y;if(!i||(s==null?void 0:s.type)!=="grouped"||!f||!v)return;const y=s.groups[e],{aggregation:S,datumIndices:w,keys:b}=y,[[x,D]=[0,0]]=S,E=w.length,T=b,[k,P]=T,O=x+D,F={data:[...i.forEachDatum(this,s,y)],aggregatedValue:O,frequency:E,domain:T},z=[{label:l,fallbackLabel:a,value:`${f.formatDatum(k)} - ${f.formatDatum(P)}`},{label:o.t("seriesHistogramTooltipFrequency"),value:v.formatDatum(E)}];if(d!=null){let V;switch(r.aggregation){case"sum":V=o.t("seriesHistogramTooltipSum",{yName:h??d});break;case"mean":V=o.t("seriesHistogramTooltipMean",{yName:h??d});break;case"count":V=o.t("seriesHistogramTooltipCount",{yName:h??d});break}z.push({label:V,value:v.formatDatum(O)})}return p.formatTooltip(this.properties,{symbol:this.legendItemSymbol(),data:z},{seriesId:t,datum:F,title:h,xKey:a,xName:l,yKey:d,yName:h,xRange:[k,P],frequency:E,...this.getItemBaseStyle(!1)})}legendItemSymbol(){const{fill:e,fillOpacity:t,stroke:i,strokeWidth:s,strokeOpacity:n,lineDash:r,lineDashOffset:o,fillGradientDefaults:a,fillPatternDefaults:l}=this.properties;return{marker:ao({fill:e??"rgba(0, 0, 0, 0)",stroke:i??"rgba(0, 0, 0, 0)",fillOpacity:t,strokeOpacity:n,strokeWidth:s,lineDash:r,lineDashOffset:o},a,l)}}getLegendData(e){if(e!=="category")return[];const{id:t,ctx:{legendManager:i},visible:s}=this,{xKey:n,yName:r,showInLegend:o}=this.properties;return[{legendType:"category",id:t,itemId:n,seriesId:t,enabled:s&&i.getItemEnabled({seriesId:t,itemId:n}),label:{text:r??n??"Frequency"},symbol:this.legendItemSymbol(),hideInLegend:!o}]}animateEmptyUpdateReady({datumSelection:e,labelSelection:t}){const i=ef(Jp(!0,this.axes,"normal"));li(this.id,"datums",this.ctx.animationManager,[e],i),ft(this,"labels",this.ctx.animationManager,t)}animateWaitingUpdateReady(e){var s,n,r;const t=(r=(n=(s=this.processedData)==null?void 0:s.reduced)==null?void 0:n.diff)==null?void 0:r[this.id],i=ef(Jp(!0,this.axes,"normal"));li(this.id,"datums",this.ctx.animationManager,[e.datumSelection],i,(o,a)=>ts(a.domain),t),ft(this,"labels",this.ctx.animationManager,e.labelSelection)}isLabelEnabled(){return this.properties.label.enabled}computeFocusBounds({datumIndex:e}){var t;return lA(this,(t=this.contextNodeData)==null?void 0:t.nodeData[e])}};wb.className="HistogramSeries";wb.type="histogram";var wce={type:Pe(Es("histogram")),xKey:Pe(Me),yKey:Me,xName:Me,yName:Me,areaPlot:Se,aggregation:Ue("count","sum","mean"),bins:Jt(Jt(ke)),binCount:be,showInMiniChart:Se,cornerRadius:be,label:jl,tooltip:Ea,shadow:Yf,..._r,...rr,...Vs,...fo},xce={type:"series",optionsKey:"series[]",packageType:"community",chartTypes:["cartesian"],identifier:"histogram",moduleFactory:e=>new wb(e),tooltipDefaults:{range:"exact"},defaultAxes:[{type:"number",position:"bottom"},{type:"number",position:"left"}],themeTemplate:{series:{fill:{$palette:"fill"},stroke:{$palette:"stroke"},fillGradientDefaults:{type:"gradient",gradient:"linear",bounds:"item",colorStops:{$palette:"gradient"},rotation:0,reverse:!1},fillPatternDefaults:Rl,strokeWidth:1,fillOpacity:1,strokeOpacity:1,lineDash:[0],lineDashOffset:0,label:{enabled:!1,fontSize:{$ref:"fontSize"},fontFamily:{$ref:"fontFamily"},fontWeight:{$ref:"fontWeight"},color:{$ref:"backgroundColor"}},shadow:{enabled:!1,color:Gl,xOffset:3,yOffset:3,blur:5}}}},yG={type:"series",name:"histogram",chartType:"cartesian",enterprise:!0,options:wce,create:e=>new wb(e)},zi=class extends Ra{constructor(){super(...arguments),this.stroke="#874349",this.strokeWidth=2,this.strokeOpacity=1,this.lineDash=[0],this.lineDashOffset=0,this.interpolation=new Rh,this.marker=new ns,this.label=new Ui,this.tooltip=new Is,this.connectMissingData=!1,this.sparklineMode=!1}};R([A()],zi.prototype,"xKey",2);R([A()],zi.prototype,"yKey",2);R([A()],zi.prototype,"xName",2);R([A()],zi.prototype,"yName",2);R([A()],zi.prototype,"yFilterKey",2);R([A()],zi.prototype,"stackGroup",2);R([A()],zi.prototype,"normalizedTo",2);R([A()],zi.prototype,"title",2);R([A()],zi.prototype,"stroke",2);R([A()],zi.prototype,"strokeWidth",2);R([A()],zi.prototype,"strokeOpacity",2);R([A()],zi.prototype,"lineDash",2);R([A()],zi.prototype,"lineDashOffset",2);R([A()],zi.prototype,"interpolation",2);R([A()],zi.prototype,"marker",2);R([A()],zi.prototype,"label",2);R([A()],zi.prototype,"tooltip",2);R([A()],zi.prototype,"connectMissingData",2);R([A()],zi.prototype,"sparklineMode",2);var Mce=.25,Zf=class extends Hl{constructor(e){super({moduleCtx:e,directionKeys:pu,directionNames:fu,categoryKey:"xValue",hasMarkers:!0,pickModes:[2,1,0],markerSelectionGarbageCollection:!1,animationResetFns:{path:QE({getVisible:()=>this.visible,getOpacity:()=>this.getOpacity()}),label:Da,marker:(t,i)=>({...Wf(),...Qp(t,i)})},clipFocusBox:!1}),this.properties=new zi,this.dataAggregationFilters=void 0}get pickModeAxis(){return this.properties.sparklineMode?"main":"main-category"}async processData(e){var T,k;if(this.data==null||!this.properties.isValid())return;const{data:t,visible:i,seriesGrouping:{groupIndex:s=this.id,stackCount:n=0}={}}=this,{xKey:r,yKey:o,yFilterKey:a,connectMissingData:l,normalizedTo:d}=this.properties,h=!this.ctx.animationManager.isSkipped(),p=(T=this.axes.x)==null?void 0:T.scale,f=(k=this.axes.y)==null?void 0:k.scale,{isContinuousX:v,xScaleType:y,yScaleType:S}=this.getScaleInformation({xScale:p,yScale:f}),w=n>=1||d!=null,b={invalidValue:null};l&&w&&(b.invalidValue=0),w&&!i&&(b.forceValue=0);const x=[];if((!v||w)&&x.push(kr(r,y,{id:"xKey"})),x.push(et(r,y,{id:"xValue"}),et(o,S,{id:"yValueRaw",...b,invalidValue:void 0})),a!=null&&x.push(et(a,S,{id:"yFilterRaw"})),w){const P=[`line-stack-${s}-yValues`,`line-stack-${s}-yValues-trailing`,`line-stack-${s}-yValues-marker`];x.push(...vl(o,"window","current",{id:"yValueEnd",...b,groupId:P[0]},S),...vl(o,"window-trailing","current",{id:"yValueStart",...b,groupId:P[1]},S),...vl(o,"normal","current",{id:"yValueCumulative",...b,groupId:P[2]},S)),dp(d)&&x.push(rb([P[0],P[1],P[2]],d))}h&&(x.push(bh(v?["xValue"]:void 0)),this.processedData&&x.push(Sh(this.id,this.processedData)));const{dataModel:D,processedData:E}=await this.requestDataModel(e,t,{props:x,groupByKeys:w,groupByData:!w});this.dataAggregationFilters=this.aggregateData(D,E),this.animationState.transition("updateData")}xCoordinateRange(e,t){const{marker:i}=this.properties,s=this.axes.x.scale.convert(e),n=i.enabled?.5*i.size*t:0;return[s-n,s+n]}yCoordinateRange(e,t){const{marker:i}=this.properties,s=this.axes.y.scale.convert(e[0]),n=i.enabled?.5*i.size*t:0;return[s-n,s+n]}getSeriesDomain(e){var r;const{dataModel:t,processedData:i}=this;if(!t||!i)return[];if(e==="x"){const o=t.resolveProcessedDataDefById(this,"xValue"),a=t.getDomain(this,"xValue","value",i);return(o==null?void 0:o.def.type)==="value"&&o.def.valueType==="category"?a:on(Sa(a))}const s=(r=this.dataModel)!=null&&r.hasColumnById(this,"yValueEnd")?"yValueEnd":"yValueRaw",n=this.domainForClippedRange("y",[s],"xValue",!0);return on(n)}getSeriesRange(e,t){var s;const i=(s=this.dataModel)!=null&&s.hasColumnById(this,"yValueEnd")?"yValueEnd":"yValueRaw";return this.domainForVisibleRange("y",[i],"xValue",t,!0)}getVisibleItems(e,t,i){var n;const s=(n=this.dataModel)!=null&&n.hasColumnById(this,"yValueEnd")?"yValueEnd":"yValueRaw";return this.countVisibleItems("xValue",[s],e,t,i)}aggregateData(e,t){}createNodeData(){var de;const{dataModel:e,processedData:t,axes:i,dataAggregationFilters:s}=this,n=i.x,r=i.y;if(!e||!t||!n||!r)return;const{xKey:o,yKey:a,yFilterKey:l,xName:d,yName:h,marker:p,label:f,connectMissingData:v,interpolation:y,legendItemName:S}=this.properties,w=(de=this.dataModel)==null?void 0:de.hasColumnById(this,"yValueEnd"),b=n.scale,x=r.scale,D=(b.bandwidth??0)/2,E=(x.bandwidth??0)/2,T=p.enabled?p.size:0,k=t.dataSources.get(this.id)??[],P=e.resolveColumnById(this,"xValue",t),O=e.resolveColumnById(this,"yValueRaw",t),F=w?e.resolveColumnById(this,"yValueEnd",t):void 0,z=w?e.resolveColumnById(this,"yValueCumulative",t):O,V=l!=null?e.resolveColumnById(this,"yFilterRaw",t):void 0,U=ue=>b.convert(P[ue])+D,J=ue=>x.convert(z[ue])+E,ye={lengthRatioMultiplier:this.properties.marker.getDiameter(),lengthMax:1/0},Ce=[];let G;const K=ue=>{const xe=k[ue],Ee=P[ue],Ae=O[ue],He=F==null?void 0:F[ue],_e=V==null?void 0:V[ue],je=U(ue),Dt=J(ue);if(!Number.isFinite(je))return;if(Ae!=null){const xi=f.enabled?this.getLabelText(f,{value:Ae,datum:xe,xKey:o,yKey:a,xName:d,yName:h,legendItemName:S}):void 0;Ce.push({series:this,datum:xe,datumIndex:ue,yKey:a,xKey:o,point:{x:je,y:Dt,size:T},midPoint:{x:je,y:Dt},cumulativeValue:He,yValue:Ae,xValue:Ee,capDefaults:ye,labelText:xi,selected:_e})}if(G==null)return;const ut=G[G.length-1];if(Ae!=null){const xi={point:{x:je,y:Dt},xDatum:Ee,yDatum:Ae};Array.isArray(ut)?ut.push(xi):ut!=null?(ut.skip+=1,G.push([xi])):G.push([xi])}else v||(Array.isArray(ut)||ut==null?G.push({skip:0}):ut.skip+=1)},[ne,ge]=b.range,B=ge-ne,_=s==null?void 0:s.find(ue=>ue.maxRange>B),Y=_==null?void 0:_.indices;let[Z,ee]=this.visibleRange("xValue",n.range,Y);Z=Math.max(Z-1,0),ee=Math.min(ee+1,(Y==null?void 0:Y.length)??P.length),t.input.count<1e3&&(Z=0,ee=t.input.count),Y==null&&(G=[]);for(let ue=Z;ue<ee;ue+=1)K((Y==null?void 0:Y[ue])??ue);const fe=G==null?void 0:G.flatMap(ue=>Array.isArray(ue)?tC(ue,y):[]),ce=fe!=null?{itemId:a,spans:fe}:void 0,we=(V==null?void 0:V.some((ue,xe)=>ue===O[xe]))??!1;return{itemId:a,nodeData:Ce,labelData:Ce,strokeData:ce,scales:this.calculateScaling(),visible:this.visible,crossFiltering:we}}isPathOrSelectionDirty(){return this.properties.marker.isDirty()}updatePathNodes(e){var o;const{paths:[t],opacity:i,visible:s,animationEnabled:n}=e,r=((o=this.contextNodeData)==null?void 0:o.crossFiltering)===!0;t.setProperties({fill:void 0,lineJoin:"round",pointerEvents:1,opacity:i,stroke:this.properties.stroke,strokeWidth:this.getStrokeWidth(this.properties.strokeWidth),strokeOpacity:this.properties.strokeOpacity*(r?Mce:1),lineDash:this.properties.lineDash,lineDashOffset:this.properties.lineDashOffset}),n||(t.visible=s),sC(this,t)}getMarkerItemBaseStyle(e){const{properties:t}=this,{marker:i}=t,s=e?t.highlightStyle.item:void 0;return ao({size:i.size,shape:i.shape,fill:(s==null?void 0:s.fill)??i.fill,fillOpacity:(s==null?void 0:s.fillOpacity)??i.fillOpacity,stroke:(s==null?void 0:s.stroke)??i.stroke,strokeWidth:(s==null?void 0:s.strokeWidth)??i.strokeWidth,strokeOpacity:(s==null?void 0:s.strokeOpacity)??i.strokeOpacity,lineDash:(s==null?void 0:s.lineDash)??i.lineDash,lineDashOffset:(s==null?void 0:s.lineDashOffset)??i.lineDashOffset},i.fillGradientDefaults,i.fillPatternDefaults)}getMarkerItemStyleOverrides(e,t,i,s){const{id:n,properties:r}=this,{xKey:o,yKey:a,marker:l}=r,{itemStyler:d}=l;if(d!=null)return this.cachedDatumCallback(ts(e,s?"highlight":"node"),()=>{const h=this.getSeriesDomain("x"),p=this.getSeriesDomain("y");return this.callWithContext(d,{seriesId:n,...ml(t,o,a,h,p),datum:t,highlighted:s,...i})})}updateMarkerSelection(e){var n;let{nodeData:t}=e;const{markerSelection:i}=e;return t=this.properties.marker.enabled||((n=this.contextNodeData)==null?void 0:n.crossFiltering)===!0?t:[],this.properties.marker.isDirty()&&(i.clear(),i.cleanup()),i.update(t,void 0,r=>ts(r.xValue))}updateMarkerNodes(e){const{markerSelection:t,isHighlight:i}=e,{xKey:s,yKey:n,stroke:r,strokeWidth:o,strokeOpacity:a,marker:l,highlightStyle:d}=this.properties,h=this.getSeriesDomain("x"),p=this.getSeriesDomain("y"),f=Je(i&&d.item,l.getStyle(),{stroke:r,strokeWidth:o,strokeOpacity:a}),v=this.ctx.animationManager.isSkipped(),y=this.getShapeFillBBox();t.each((S,w)=>{this.updateMarkerStyle(l,S,w.datum,w.point,ml(w,s,n,h,p),i,f,y,{applyTranslation:v,selected:w.selected})}),i||l.markClean()}updateLabelSelection(e){return e.labelSelection.update(this.isLabelEnabled()?e.labelData:[])}updateLabelNodes(e){const{enabled:t,fontStyle:i,fontWeight:s,fontSize:n,fontFamily:r,color:o}=this.properties.label;e.labelSelection.each((a,l)=>{t&&(l!=null&&l.labelText)?(a.fontStyle=i,a.fontWeight=s,a.fontSize=n,a.fontFamily=r,a.textAlign="center",a.textBaseline="bottom",a.text=l.labelText,a.x=l.point.x,a.y=l.point.y-10,a.fill=o,a.visible=!0):a.visible=!1})}getTooltipContent(e){var b;const{id:t,dataModel:i,processedData:s,axes:n,properties:r}=this,{xKey:o,xName:a,yKey:l,yName:d,tooltip:h}=r,p=n.x,f=n.y;if(!i||!s||!p||!f)return;const v=(b=s.dataSources.get(this.id))==null?void 0:b[e],y=i.resolveColumnById(this,"xValue",s)[e],S=i.resolveColumnById(this,"yValueRaw",s)[e];if(y==null)return;const w=this.getMarkerItemBaseStyle(!1);return Object.assign(w,this.getMarkerItemStyleOverrides(String(e),v,w,!1)),h.formatTooltip(this.properties,{heading:p.formatDatum(y),symbol:this.legendItemSymbol(),data:[{label:d,fallbackLabel:l,value:f.formatDatum(S)}]},{seriesId:t,datum:v,title:d,xKey:o,xName:a,yKey:l,yName:d,...w,...this.getModuleTooltipParams()})}legendItemSymbol(){const e="rgba(0, 0, 0, 0)",{stroke:t,strokeOpacity:i,strokeWidth:s,lineDash:n,marker:r}=this.properties;return{marker:{...this.getMarkerStyle(r,void 0,void 0,!1,void 0,{fill:r.fill??e,stroke:r.stroke??t??e}),enabled:r.enabled},line:{stroke:t??e,strokeOpacity:i,strokeWidth:s,lineDash:n}}}getLegendData(e){if(!(this.properties.isValid()&&e==="category"))return[];const{id:t,ctx:{legendManager:i},visible:s}=this,{yKey:n,yName:r,title:o,legendItemName:a,showInLegend:l}=this.properties;return[{legendType:"category",id:t,itemId:n,legendItemName:a,seriesId:t,enabled:s&&i.getItemEnabled({seriesId:t,itemId:n}),label:{text:a??o??r??n},symbol:this.legendItemSymbol(),hideInLegend:!l}]}updatePaths(e){this.updateLinePaths(e.paths,e.contextData)}plotNodeDataPoints(e,t){if(t.length===0)return;const i=t[0].point;e.moveTo(i.x,i.y);for(let s=1;s<t.length;s+=1){const{x:n,y:r}=t[s].point;e.lineTo(n,r)}}updateLinePaths(e,t){var n;const i=(n=t.strokeData)==null?void 0:n.spans,[s]=e;s.path.clear(),i!=null?$E(s,i):this.plotNodeDataPoints(s.path,t.nodeData),s.markDirty("LineSeries")}animateEmptyUpdateReady(e){const{markerSelection:t,labelSelection:i,annotationSelections:s,contextData:n,paths:r}=e,{animationManager:o}=this.ctx;this.updateLinePaths(r,n),XE(this,o,...r),Xi([t],Qp),ZE(this,o,t),ft(this,"labels",o,i),ft(this,"annotations",o,...s)}animateReadyResize(e){const{contextData:t,paths:i}=e;this.updateLinePaths(i,t),super.animateReadyResize(e)}animateWaitingUpdateReady(e){var f,v,y;const{animationManager:t}=this.ctx,{markerSelection:i,labelSelection:s,annotationSelections:n,contextData:r,paths:o,previousContextData:a}=e,[l]=o;this.resetMarkerAnimation(e),this.resetLabelAnimation(e);const d=()=>{this.resetPathAnimation(e),this.updateLinePaths(o,r)},h=()=>{t.skipCurrentBatch(),d()};if(r==null||a==null){d(),Xp(this,t,"added",i),iC(this,"path_properties",t,"add",l),ft(this,"labels",t,s),ft(this,"annotations",t,...n);return}if(r.crossFiltering!==a.crossFiltering){h();return}const p=iG(r,a,(y=(v=(f=this.processedData)==null?void 0:f.reduced)==null?void 0:v.diff)==null?void 0:y[this.id]);if(p===void 0){h();return}else if(p.status==="no-op")return;li(this.id,"path_properties",t,[l],p.stroke.pathProperties),p.status==="added"?this.updateLinePaths(o,r):p.status==="removed"?this.updateLinePaths(o,a):Jy(this.id,"path_update",t,[l],p.stroke.path),p.hasMotion&&(Xp(this,t,void 0,i),ft(this,"labels",t,s),ft(this,"annotations",t,...n))}isLabelEnabled(){return this.properties.label.enabled}getBandScalePadding(){return{inner:1,outer:.1}}nodeFactory(){return new Ne}getFormattedMarkerStyle(e){const{xKey:t,yKey:i}=this.properties,s=this.getSeriesDomain("x"),n=this.getSeriesDomain("y");return this.getMarkerStyle(this.properties.marker,e.datum,ml(e,t,i,s,n),!0)}computeFocusBounds(e){return Uf(this,e)}};Zf.className="LineSeries";Zf.type="line";var xb={type:Es("line"),xKey:Pe(Me),yKey:Pe(Me),xName:Me,yName:Me,title:Me,stacked:Se,stackGroup:Me,normalizedTo:ke,legendItemName:Me,showInMiniChart:Se,connectMissingData:Se,interpolation:sA,label:jl,marker:$f,tooltip:Ea,errorBar:bb,..._r,...Vs,...fo};xb.pickOutsideVisibleMinorAxis=Se;xb.focusPriority=ke;xb.sparklineMode=Se;var CG={type:"series",optionsKey:"series[]",packageType:"community",chartTypes:["cartesian"],identifier:"line",moduleFactory:e=>new Zf(e),stackable:!0,tooltipDefaults:{range:"nearest"},defaultAxes:[{type:"number",position:"left"},{type:"category",position:"bottom"}],themeTemplate:{series:{tooltip:{position:{_seriesOverrideType:"node"}},stroke:fb,strokeWidth:2,strokeOpacity:1,lineDash:[0],lineDashOffset:0,interpolation:{type:"linear"},marker:{shape:"circle",size:7,strokeWidth:0,fill:{$palette:"fill"},stroke:{$palette:"stroke"},fillGradientDefaults:{type:"gradient",gradient:"radial",bounds:"item",colorStops:{$palette:"gradient"},rotation:0,reverse:!0},fillPatternDefaults:Rl},label:{enabled:!1,fontSize:{$ref:"fontSize"},fontFamily:{$ref:"fontFamily"},fontWeight:{$ref:"fontWeight"},color:{$ref:"textColor"}},errorBar:{cap:{lengthRatio:1}}}}},bG={type:"series",name:"line",chartType:"cartesian",options:xb,create:e=>new Zf(e)},SG=class extends Ui{constructor(){super(...arguments),this.placement="top"}};R([A()],SG.prototype,"placement",2);var ei=class extends Ra{constructor(){super(...arguments),this.label=new SG,this.tooltip=new Is,this.marker=new ns}};R([A()],ei.prototype,"xKey",2);R([A()],ei.prototype,"yKey",2);R([A()],ei.prototype,"labelKey",2);R([A()],ei.prototype,"xFilterKey",2);R([A()],ei.prototype,"yFilterKey",2);R([A()],ei.prototype,"xName",2);R([A()],ei.prototype,"yName",2);R([A()],ei.prototype,"labelName",2);R([A()],ei.prototype,"title",2);R([Et("marker.shape")],ei.prototype,"shape",2);R([Et("marker.size")],ei.prototype,"size",2);R([Et("marker.fill",{optional:!0})],ei.prototype,"fill",2);R([Et("marker.fillGradientDefaults")],ei.prototype,"fillGradientDefaults",2);R([Et("marker.fillPatternDefaults")],ei.prototype,"fillPatternDefaults",2);R([Et("marker.fillOpacity")],ei.prototype,"fillOpacity",2);R([Et("marker.stroke")],ei.prototype,"stroke",2);R([Et("marker.strokeWidth")],ei.prototype,"strokeWidth",2);R([Et("marker.strokeOpacity")],ei.prototype,"strokeOpacity",2);R([Et("marker.lineDash")],ei.prototype,"lineDash",2);R([Et("marker.lineDashOffset")],ei.prototype,"lineDashOffset",2);R([Et("marker.itemStyler",{optional:!0})],ei.prototype,"itemStyler",2);R([A()],ei.prototype,"label",2);R([A()],ei.prototype,"tooltip",2);var Mb=class extends Hl{constructor(e){super({moduleCtx:e,directionKeys:pu,directionNames:fu,categoryKey:void 0,pickModes:[2,1,0],pathsPerSeries:[],hasMarkers:!0,markerSelectionGarbageCollection:!1,animationResetFns:{marker:Wf,label:Da},usesPlacedLabels:!0,clipFocusBox:!1}),this.properties=new ei}get pickModeAxis(){return"main-category"}async processData(e){var h,p;if(!this.properties.isValid()||this.data==null||!this.visible)return;const t=(h=this.axes.x)==null?void 0:h.scale,i=(p=this.axes.y)==null?void 0:p.scale,{xScaleType:s,yScaleType:n}=this.getScaleInformation({xScale:t,yScale:i}),{xKey:r,yKey:o,xFilterKey:a,yFilterKey:l,labelKey:d}=this.properties;await this.requestDataModel(e,this.data,{props:[et(r,s,{id:"xValue"}),et(o,n,{id:"yValue"}),...a!=null?[et(a,s,{id:"xFilterValue"})]:[],...l!=null?[et(l,n,{id:"yFilterValue"})]:[],...d?[et(d,"band",{id:"labelValue"})]:[]]}),this.animationState.transition("updateData")}xCoordinateRange(e,t){const i=this.axes.x.scale.convert(e),s=.5*this.properties.size*t;return[i-s,i+s]}yCoordinateRange(e,t){const i=this.axes.y.scale.convert(e[0]),s=.5*this.properties.size*t;return[i-s,i+s]}getSeriesDomain(e){const{dataModel:t,processedData:i}=this;if(!i||!t)return[];const s={x:"xValue",y:"yValue"},n=s[e],r=t.resolveProcessedDataDefById(this,n),o=t.getDomain(this,n,"value",i);if((r==null?void 0:r.def.type)==="value"&&(r==null?void 0:r.def.valueType)==="category")return o;const l=s[e==="x"?"y":"x"],d=this.domainForClippedRange(e,[n],l,!1);return on(Sa(d))}getSeriesRange(e,t){return this.domainForVisibleRange("y",["yValue"],"xValue",t,!1)}getVisibleItems(e,t,i){return this.countVisibleItems("xValue",["yValue"],e,t,i)}createNodeData(){const{axes:e,dataModel:t,processedData:i,visible:s}=this,{xKey:n,yKey:r,xFilterKey:o,yFilterKey:a,labelKey:l,xName:d,yName:h,labelName:p,marker:f,label:v}=this.properties,{placement:y}=v,S=_i.anchor(f.shape),w=e.x,b=e.y;if(!(t&&i&&s&&w&&b))return;const x=t.resolveColumnById(this,"xValue",i),D=t.resolveColumnById(this,"yValue",i),E=l!=null?t.resolveColumnById(this,"labelValue",i):void 0,T=o!=null?t.resolveColumnById(this,"xFilterValue",i):void 0,k=a!=null?t.resolveColumnById(this,"yFilterValue",i):void 0,P=w.scale,O=b.scale,F=(P.bandwidth??0)/2,z=(O.bandwidth??0)/2,V=[],U=v.getFont(),J=fa.getMeasurer({font:U});return(i.dataSources.get(this.id)??[]).forEach((Ce,G)=>{const K=x[G],ne=D[G],ge=P.convert(K)+F,B=O.convert(ne)+z,_=T!=null&&k!=null?T[G]===K&&k[G]===ne:void 0,Y=this.getLabelText(v,{value:E!=null?E==null?void 0:E[G]:ne,datum:Ce,xKey:n,yKey:r,labelKey:l,xName:d,yName:h,labelName:p}),Z=J.measureText(Y);V.push({series:this,itemId:r,yKey:r,xKey:n,datum:Ce,datumIndex:G,xValue:K,yValue:ne,capDefaults:{lengthRatioMultiplier:f.getDiameter(),lengthMax:1/0},point:{x:ge,y:B,size:f.size},midPoint:{x:ge,y:B},label:{text:Y,...Z},anchor:S,placement:y,selected:_})}),{itemId:r,nodeData:V,labelData:V,scales:this.calculateScaling(),visible:this.visible}}isPathOrSelectionDirty(){return this.properties.marker.isDirty()}getLabelData(){var e;return this.isLabelEnabled()?((e=this.contextNodeData)==null?void 0:e.labelData)??[]:[]}updateMarkerSelection(e){const{nodeData:t,markerSelection:i}=e;return this.properties.marker.isDirty()&&(i.clear(),i.cleanup()),i.update(this.properties.marker.enabled?t:[])}updateMarkerNodes(e){const{markerSelection:t,isHighlight:i}=e,{xKey:s,yKey:n,labelKey:r,marker:o,highlightStyle:a}=this.properties,l=Je(i&&a.item,o.getStyle()),d=this.getShapeFillBBox();t.each((h,p)=>{this.updateMarkerStyle(o,h,p.datum,p.point,{xKey:s,yKey:n,labelKey:r},i,l,d,{selected:p.selected})}),i||o.markClean()}updatePlacedLabelData(e){this.labelSelection.update(e.map(t=>({...t.datum,point:{x:t.x,y:t.y,size:t.datum.point.size}})),t=>{t.pointerEvents=1}),this.updateLabelNodes({labelSelection:this.labelSelection})}updateLabelNodes(e){const{label:t}=this.properties;e.labelSelection.each((i,s)=>{var n,r;i.text=s.label.text,i.fill=t.color,i.x=((n=s.point)==null?void 0:n.x)??0,i.y=((r=s.point)==null?void 0:r.y)??0,i.fontStyle=t.fontStyle,i.fontWeight=t.fontWeight,i.fontSize=t.fontSize,i.fontFamily=t.fontFamily,i.textAlign="left",i.textBaseline="top"})}getTooltipContent(e){var k,P;const{id:t,dataModel:i,processedData:s,axes:n,properties:r}=this,{xKey:o,xName:a,yKey:l,yName:d,labelKey:h,labelName:p,title:f,tooltip:v,marker:y}=r,S=n.x,w=n.y;if(!i||!s||!S||!w)return;const b=(k=s.dataSources.get(this.id))==null?void 0:k[e],x=i.resolveColumnById(this,"xValue",s)[e],D=i.resolveColumnById(this,"yValue",s)[e],E=(P=this.contextNodeData)==null?void 0:P.nodeData[e];if(x==null||E==null)return;const T=this.getMarkerStyle(y,E.datum,{xKey:o,yKey:l,labelKey:h,highlighted:!0});return v.formatTooltip(this.properties,{symbol:this.legendItemSymbol(),title:f,data:[{label:a,fallbackLabel:o,value:S.formatDatum(x)},{label:d,fallbackLabel:l,value:w.formatDatum(D)}]},{seriesId:t,datum:b,title:d,xKey:o,xName:a,yKey:l,yName:d,labelKey:h,labelName:p,...T,...this.getModuleTooltipParams()})}legendItemSymbol(){return{marker:this.getMarkerStyle(this.properties.marker)}}getLegendData(e){if(!this.properties.isValid()||e!=="category")return[];const{yKey:t,yName:i,title:s,showInLegend:n}=this.properties,{id:r,ctx:{legendManager:o},visible:a}=this;return[{legendType:"category",id:r,itemId:t,seriesId:r,enabled:a&&o.getItemEnabled({seriesId:r,itemId:t}),label:{text:s??i??t},symbol:this.legendItemSymbol(),hideInLegend:!n}]}animateEmptyUpdateReady(e){const{markerSelection:t,labelSelection:i,annotationSelections:s}=e;qE(this,this.ctx.animationManager,t),ft(this,"labels",this.ctx.animationManager,i),ft(this,"annotations",this.ctx.animationManager,...s)}isLabelEnabled(){return this.properties.label.enabled}nodeFactory(){return new Ne}getFormattedMarkerStyle(e){const{xKey:t,yKey:i,labelKey:s}=this.properties;return this.getMarkerStyle(this.properties.marker,e.datum,{xKey:t,yKey:i,labelKey:s},!0)}computeFocusBounds(e){return Uf(this,e)}};Mb.className="ScatterSeries";Mb.type="scatter";var Dce={type:Pe(Es("scatter")),xKey:Pe(Me),yKey:Pe(Me),labelKey:Me,xName:Me,yName:Me,labelName:Me,title:Me,showInMiniChart:Se,label:{placement:Ue("top","right","bottom","left"),...jl},tooltip:Ea,errorBar:bb,..._r,...Ml($f,["enabled"])},Rce={type:"series",optionsKey:"series[]",packageType:"community",chartTypes:["cartesian"],identifier:"scatter",moduleFactory:e=>new Mb(e),tooltipDefaults:{range:"nearest"},defaultAxes:[{type:"number",position:"bottom"},{type:"number",position:"left"}],themeTemplate:{series:{shape:"circle",size:7,fill:{$palette:"fill"},stroke:{$palette:"stroke"},fillGradientDefaults:{type:"gradient",gradient:"radial",bounds:"item",colorStops:{$palette:"gradient"},rotation:0,reverse:!0},fillPatternDefaults:Rl,fillOpacity:.8,tooltip:{position:{_seriesOverrideType:"node"}},label:{enabled:!1,fontSize:{$ref:"fontSize"},fontFamily:{$ref:"fontFamily"},fontWeight:{$ref:"fontWeight"},color:{$ref:"textColor"}},errorBar:{cap:{lengthRatio:1}}}}},wG={type:"series",name:"scatter",chartType:"cartesian",options:Dce,create:e=>new Mb(e)},xG=class nD{constructor(t,i,s,n){this.startAngle=t,this.endAngle=i,this.innerRadius=s,this.outerRadius=n}clone(){const{startAngle:t,endAngle:i,innerRadius:s,outerRadius:n}=this;return new nD(t,i,s,n)}equals(t){return this.startAngle===t.startAngle&&this.endAngle===t.endAngle&&this.innerRadius===t.innerRadius&&this.outerRadius===t.outerRadius}[kC](t,i){return new nD(this.startAngle*(1-i)+t.startAngle*i,this.endAngle*(1-i)+t.endAngle*i,this.innerRadius*(1-i)+t.innerRadius*i,this.outerRadius*(1-i)+t.outerRadius*i)}};function MG({startAngle:e,endAngle:t,innerRadius:i,outerRadius:s}){let n=1/0,r=1/0,o=-1/0,a=-1/0;const l=(d,h)=>{n=Math.min(d,n),r=Math.min(h,r),o=Math.max(d,o),a=Math.max(h,a)};return l(i*Math.cos(e),i*Math.sin(e)),l(i*Math.cos(t),i*Math.sin(t)),l(s*Math.cos(e),s*Math.sin(e)),l(s*Math.cos(t),s*Math.sin(t)),ll(0,e,t)&&l(s,0),ll(Math.PI*.5,e,t)&&l(0,s),ll(Math.PI,e,t)&&l(-s,0),ll(Math.PI*1.5,e,t)&&l(0,-s),new De(n,r,o-n,a-r)}function rC(e,t,i){const s=Math.sqrt(Math.pow(e,2)+Math.pow(t,2)),{innerRadius:n,outerRadius:r}=i;if(i.startAngle===i.endAngle||s<Math.min(n,r)||s>Math.max(n,r))return!1;const o=Bp(i.startAngle),a=Bp(i.endAngle),l=Math.atan2(t,e);return o<a?l<=a&&l>=o:l<=a&&l>=-Math.PI||l>=o&&l<=Math.PI}function pO(e,t){const{startAngle:i,endAngle:s,innerRadius:n,outerRadius:r}=t,o={x:r*Math.cos(i),y:r*Math.sin(i)},a={x:r*Math.cos(s),y:r*Math.sin(s)},l=n===0?{x:0,y:0}:{x:n*Math.cos(i),y:n*Math.sin(i)},d=n===0?{x:0,y:0}:{x:n*Math.cos(s),y:n*Math.sin(s)};return wd(e.start.x,e.start.y,e.end.x,e.end.y,o.x,o.y,l.x,l.y)||wd(e.start.x,e.start.y,e.end.x,e.end.y,a.x,a.y,d.x,d.y)||h3(0,0,r,i,s,!0,e.start.x,e.start.y,e.end.x,e.end.y)}function DG(e,t){const i={x:e.x,y:e.y},s={x:e.x+e.width,y:e.y},n={x:e.x,y:e.y+e.height},r={x:e.x+e.width,y:e.y+e.height};return pO({start:i,end:s},t)||pO({start:n,end:r},t)}function fO(e,t,i,s){if(i===0&&s===0)return 0;if(Math.asin(Math.abs(1*i)/(e+1*i))+Math.asin(Math.abs(1*s)/(e+1*s))-t<0)return 1;let r=0,o=1;for(let a=0;a<8;a+=1){const l=(r+o)/2;Math.asin(Math.abs(l*i)/(e+l*i))+Math.asin(Math.abs(l*s)/(e+l*s))-t<0?r=l:o=l}return r}var Ece=1e-6;function yl(e,t){return FC(e,t)<Ece?t:Bt(e-t)+t}function Lv(e,t,i=0){const n=Math.abs(t-e)>=2*Math.PI?2*Math.PI:Bt(t-e);return e=yl(e,i),t=e+n,{startAngle:e,endAngle:t}}function kv(e,t,i,s,n,r){const o=Math.sin(r),a=Math.cos(r),l=e**2+t**2-i**2;let d,h,p,f;if(a>.5){const D=o/a,E=1+D**2,T=-2*(e+t*D),k=T**2-4*E*l;if(k<0)return;const P=(-T+Math.sqrt(k))/(2*E),O=(-T-Math.sqrt(k))/(2*E);d=P,h=P*D,p=O,f=O*D}else{const D=a/o,E=1+D**2,T=-2*(t+e*D),k=T**2-4*E*l;if(k<0)return;const P=(-T+Math.sqrt(k))/(2*E),O=(-T-Math.sqrt(k))/(2*E);d=P*D,h=P,p=O*D,f=O}const v=a,y=o,S=d*v+h*y,w=p*v+f*y,b=S>0?yl(Math.atan2(h-t,d-e),s):NaN,x=w>0?yl(Math.atan2(f-t,p-e),s):NaN;if(b>=s&&b<=n)return b;if(x>=s&&x<=n)return x}function Pv(e,t,i,s,n,r){const o=Math.hypot(e,t),a=(o**2-i**2+r**2)/(2*o),l=o-a,d=Math.atan2(t,e),h=Math.acos(-l/i),p=yl(d+h,s),f=yl(d-h,s);if(p>=s&&p<=n)return p;if(f>=s&&f<=n)return f}var Z0=class{constructor(e,t,i,s,n){this.cx=e,this.cy=t,this.r=i,this.a0=s,this.a1=n,this.a0>=this.a1&&(this.a0=NaN,this.a1=NaN)}isValid(){return Number.isFinite(this.a0)&&Number.isFinite(this.a1)}pointAt(e){return{x:this.cx+this.r*Math.cos(e),y:this.cy+this.r*Math.sin(e)}}clipStart(e){e==null||!this.isValid()||e<this.a0||(this.a0=e,(Number.isNaN(e)||this.a0>=this.a1)&&(this.a0=NaN,this.a1=NaN))}clipEnd(e){e==null||!this.isValid()||e>this.a1||(this.a1=e,(Number.isNaN(e)||this.a0>=this.a1)&&(this.a0=NaN,this.a1=NaN))}},rs=class extends Ws{constructor(){super(...arguments),this.centerX=0,this.centerY=0,this.innerRadius=10,this.outerRadius=20,this.startAngle=0,this.endAngle=Math.PI*2,this.clipSector=void 0,this.concentricEdgeInset=0,this.radialEdgeInset=0,this.startOuterCornerRadius=0,this.endOuterCornerRadius=0,this.startInnerCornerRadius=0,this.endInnerCornerRadius=0}set inset(e){this.concentricEdgeInset=e,this.radialEdgeInset=e}set cornerRadius(e){this.startOuterCornerRadius=e,this.endOuterCornerRadius=e,this.startInnerCornerRadius=e,this.endInnerCornerRadius=e}computeBBox(){return MG(this).translate(this.centerX,this.centerY)}normalizedRadii(){const{concentricEdgeInset:e}=this;let{innerRadius:t,outerRadius:i}=this;return t=t>0?t+e:0,i=Math.max(i-e,0),{innerRadius:t,outerRadius:i}}normalizedClipSector(){const{clipSector:e}=this;if(e==null)return;const{startAngle:t,endAngle:i}=Lv(this.startAngle,this.endAngle),{innerRadius:s,outerRadius:n}=this.normalizedRadii(),r=Lv(e.startAngle,e.endAngle,t);return new xG(Math.max(t,r.startAngle),Math.min(i,r.endAngle),Math.max(s,e.innerRadius),Math.min(n,e.outerRadius))}getAngleOffset(e){return e>0?this.radialEdgeInset/e:0}arc(e,t,i,s,n,r,o,a){if(e<=0)return;const{startAngle:l,endAngle:d}=Lv(this.startAngle,this.endAngle),{innerRadius:h,outerRadius:p}=this.normalizedRadii(),f=this.normalizedClipSector();if(a&&h<=0)return;const v=a?this.getAngleOffset(h+e):this.getAngleOffset(p-e),y=o?l+v+t:d-v-t,S=a?h+e:p-e,w=S*Math.cos(y),b=S*Math.sin(y);if(f!=null&&(!o&&!(y>=l-1e-6&&y<=f.endAngle-1e-6)||o&&!(y>=f.startAngle+1e-6&&y<=d-1e-6)||a&&S<f.innerRadius-1e-6||!a&&S>f.outerRadius+1e-6))return;const x=new Z0(w,b,e,i,s);if(f!=null){a?(x.clipStart(kv(w,b,e,i,s,f.endAngle)),x.clipEnd(kv(w,b,e,i,s,f.startAngle))):(x.clipStart(kv(w,b,e,i,s,f.startAngle)),x.clipEnd(kv(w,b,e,i,s,f.endAngle)));let P,O;if(o?(P=Pv(w,b,e,i,s,f.innerRadius),O=Pv(w,b,e,i,s,f.outerRadius)):(P=Pv(w,b,e,i,s,f.outerRadius),O=Pv(w,b,e,i,s,f.innerRadius)),x.clipStart(P),x.clipEnd(O),P!=null){const{x:F,y:z}=x.pointAt(P),V=yl(Math.atan2(z,F),l);o?r==null||r.clipStart(V):n.clipEnd(V)}if(O!=null){const{x:F,y:z}=x.pointAt(O),V=yl(Math.atan2(z,F),l);o?n.clipStart(V):r==null||r.clipEnd(V)}}if(f!=null){const{x:P,y:O}=x.pointAt((x.a0+x.a1)/2);if(!rC(P,O,f))return}const{x:D,y:E}=x.pointAt(o===a?x.a0:x.a1),T=yl(Math.atan2(E,D),l),k=a?r:n;return o?k==null||k.clipStart(T):k==null||k.clipEnd(T),x}updatePath(){const{path:t,centerX:i,centerY:s,concentricEdgeInset:n,radialEdgeInset:r}=this;let{startOuterCornerRadius:o,endOuterCornerRadius:a,startInnerCornerRadius:l,endInnerCornerRadius:d}=this;const{startAngle:h,endAngle:p}=Lv(this.startAngle,this.endAngle),{innerRadius:f,outerRadius:v}=this.normalizedRadii(),y=this.normalizedClipSector(),S=p-h,w=S>=2*Math.PI-1e-6;if(t.clear(),f===0&&v===0||f>v)return;if(((y==null?void 0:y.startAngle)??h)===((y==null?void 0:y.endAngle)??p))return;if(w&&this.clipSector==null&&o===0&&a===0&&l===0&&d===0){t.moveTo(i+v*Math.cos(h),s+v*Math.sin(h)),t.arc(i,s,v,h,p),f>n&&(t.moveTo(i+f*Math.cos(p),s+f*Math.sin(p)),t.arc(i,s,f,p,h,!0)),t.closePath();return}else if(this.clipSector==null&&Math.abs(f-v)<1e-6){t.arc(i,s,v,h,p,!1),t.arc(i,s,v,p,h,!0),t.closePath();return}const b=this.getAngleOffset(f),x=this.getAngleOffset(v);if(S<2*x)return;const E=((y==null?void 0:y.innerRadius)??f)>n,T=f<n||S<2*b,k=v-f,P=Math.max(o,l,a,d),O=P>0?Math.min(k/P,1):1;o*=O,a*=O,l*=O,d*=O;const F=fO(v,S-2*x,-o,-a);if(o*=F,a*=F,!T&&E){const de=fO(f,S-2*b,l,d);l*=de,d*=de}else l=0,d=0;const z=Math.max(o+l,a+d),V=z>0?Math.min(k/z,1):1;o*=V,a*=V,l*=V,d*=V;let U=0,J=0;const ye=o/(v-o),Ce=a/(v-a);if(ye>=0&&ye<1-1e-6)U=Math.asin(ye);else{U=S/2;const de=v/(1/Math.sin(U)+1);o=Math.min(de,o)}if(Ce>=0&&Ce<1-1e-6)J=Math.asin(Ce);else{J=S/2;const de=v/(1/Math.sin(J)+1);a=Math.min(de,a)}const G=Math.asin(l/(f+l)),K=Math.asin(d/(f+d)),ne=(y==null?void 0:y.outerRadius)??v,ge=this.getAngleOffset(ne),B=new Z0(0,0,ne,h+ge,p-ge),_=(y==null?void 0:y.innerRadius)??f,Y=this.getAngleOffset(_),Z=E?new Z0(0,0,_,h+Y,p-Y):void 0;y!=null&&(B.clipStart(y.startAngle),B.clipEnd(y.endAngle),Z==null||Z.clipStart(y.startAngle),Z==null||Z.clipEnd(y.endAngle));const ee=this.arc(o,U,h-Math.PI*.5,h+U,B,Z,!0,!1),fe=this.arc(a,J,p-J,p+Math.PI*.5,B,Z,!1,!1),ce=this.arc(d,K,p+Math.PI*.5,p+Math.PI-K,B,Z,!1,!0),we=this.arc(l,G,h+Math.PI+G,h+Math.PI*1.5,B,Z,!0,!0);if(T){const de=S<Math.PI*.5?r*(1+Math.cos(S))/Math.sin(S):NaN;let ue;de>0&&de<v?ue=Math.max(Math.hypot(r,de),f):ue=r,ue=Math.max(ue,f);const xe=h+S*.5;t.moveTo(i+ue*Math.cos(xe),s+ue*Math.sin(xe))}else if(!((we==null?void 0:we.isValid())===!0||(Z==null?void 0:Z.isValid())===!0)){const de=h+S/2,ue=f*Math.cos(de),xe=f*Math.sin(de);t.moveTo(i+ue,s+xe)}if((ee==null?void 0:ee.isValid())===!0){const{cx:de,cy:ue,r:xe,a0:Ee,a1:Ae}=ee;t.arc(i+de,s+ue,xe,Ee,Ae)}if(B.isValid()){const{r:de,a0:ue,a1:xe}=B;t.arc(i,s,de,ue,xe)}if((fe==null?void 0:fe.isValid())===!0){const{cx:de,cy:ue,r:xe,a0:Ee,a1:Ae}=fe;t.arc(i+de,s+ue,xe,Ee,Ae)}if(!T){if((ce==null?void 0:ce.isValid())===!0){const{cx:de,cy:ue,r:xe,a0:Ee,a1:Ae}=ce;t.arc(i+de,s+ue,xe,Ee,Ae)}if((Z==null?void 0:Z.isValid())===!0){const{r:de,a0:ue,a1:xe}=Z;t.arc(i,s,de,xe,ue,!0)}if((we==null?void 0:we.isValid())===!0){const{cx:de,cy:ue,r:xe,a0:Ee,a1:Ae}=we;t.arc(i+de,s+ue,xe,Ee,Ae)}}t.closePath()}isPointInPath(e,t){const{startAngle:i,endAngle:s,innerRadius:n,outerRadius:r}=this.clipSector??this;return rC(e-this.centerX,t-this.centerY,{startAngle:i,endAngle:s,innerRadius:Math.min(n,r),outerRadius:Math.max(n,r)})}};rs.className="Sector";R([Ve()],rs.prototype,"centerX",2);R([Ve()],rs.prototype,"centerY",2);R([Ve()],rs.prototype,"innerRadius",2);R([Ve()],rs.prototype,"outerRadius",2);R([Ve()],rs.prototype,"startAngle",2);R([Ve()],rs.prototype,"endAngle",2);R([Ve()],rs.prototype,"clipSector",2);R([Ve()],rs.prototype,"concentricEdgeInset",2);R([Ve()],rs.prototype,"radialEdgeInset",2);R([Ve()],rs.prototype,"startOuterCornerRadius",2);R([Ve()],rs.prototype,"endOuterCornerRadius",2);R([Ve()],rs.prototype,"startInnerCornerRadius",2);R([Ve()],rs.prototype,"endInnerCornerRadius",2);var mi={BLUE:"#5090dc",ORANGE:"#ffa03a",GREEN:"#459d55",CYAN:"#34bfe1",YELLOW:"#e1cc00",VIOLET:"#9669cb",GRAY:"#b5b5b5",MAGENTA:"#bd5aa7",BROWN:"#8a6224",RED:"#ef5452"},Qr={BLUE:"#2b5c95",ORANGE:"#cc6f10",GREEN:"#1e652e",CYAN:"#18859e",YELLOW:"#a69400",VIOLET:"#603c88",GRAY:"#575757",MAGENTA:"#7d2f6d",BROWN:"#4f3508",RED:"#a82529"},RG=class extends Kt{constructor(){super(...arguments),this.showInLegend=!1}};R([A()],RG.prototype,"showInLegend",2);var uA=class extends Ui{constructor(){super(...arguments),this.spacing=2}set(e,t){return super.set(e)}};R([A()],uA.prototype,"text",2);R([A()],uA.prototype,"spacing",2);var dA=class extends Ge{constructor(){super(...arguments),this.fill="transparent",this.fillOpacity=1}};R([A()],dA.prototype,"fill",2);R([A()],dA.prototype,"fillOpacity",2);var Ih=class extends Ui{constructor(){super(...arguments),this.offset=3,this.minAngle=0,this.minSpacing=4,this.maxCollisionOffset=50,this.avoidCollisions=!0}};R([A()],Ih.prototype,"offset",2);R([A(An.restrict({min:0,max:360}))],Ih.prototype,"minAngle",2);R([A()],Ih.prototype,"minSpacing",2);R([A()],Ih.prototype,"maxCollisionOffset",2);R([A()],Ih.prototype,"avoidCollisions",2);var hA=class extends Ui{constructor(){super(...arguments),this.positionOffset=0,this.positionRatio=.5}};R([A()],hA.prototype,"positionOffset",2);R([A()],hA.prototype,"positionRatio",2);var Db=class extends Ge{constructor(){super(...arguments),this.length=10,this.strokeWidth=1}};R([A(Wi(Cs(Do,Tn,Ro)))],Db.prototype,"colors",2);R([A()],Db.prototype,"length",2);R([A()],Db.prototype,"strokeWidth",2);var Xe=class extends Pn{constructor(){super(...arguments),this.defaultColorRange=[],this.defaultPatternFills=[],this.fills=Object.values(mi),this.strokes=Object.values(Qr),this.fillOpacity=1,this.strokeOpacity=1,this.lineDash=[0],this.lineDashOffset=0,this.cornerRadius=0,this.rotation=0,this.outerRadiusOffset=0,this.outerRadiusRatio=1,this.strokeWidth=1,this.sectorSpacing=0,this.hideZeroValueSectorsInLegend=!1,this.innerLabels=new Cf(uA),this.title=new RG,this.innerCircle=new dA,this.shadow=new Vr,this.calloutLabel=new Ih,this.sectorLabel=new hA,this.calloutLine=new Db,this.tooltip=new Is}};R([A()],Xe.prototype,"angleKey",2);R([A()],Xe.prototype,"angleName",2);R([A()],Xe.prototype,"angleFilterKey",2);R([A()],Xe.prototype,"radiusKey",2);R([A()],Xe.prototype,"radiusName",2);R([A()],Xe.prototype,"radiusMin",2);R([A()],Xe.prototype,"radiusMax",2);R([A()],Xe.prototype,"calloutLabelKey",2);R([A()],Xe.prototype,"calloutLabelName",2);R([A()],Xe.prototype,"sectorLabelKey",2);R([A()],Xe.prototype,"sectorLabelName",2);R([A()],Xe.prototype,"legendItemKey",2);R([A(Wi(PR))],Xe.prototype,"defaultColorRange",2);R([A(Wi(Tn))],Xe.prototype,"defaultPatternFills",2);R([A(Wi(Cs(Do,Tn,Ro)))],Xe.prototype,"fills",2);R([A()],Xe.prototype,"strokes",2);R([A()],Xe.prototype,"fillOpacity",2);R([A()],Xe.prototype,"strokeOpacity",2);R([A()],Xe.prototype,"lineDash",2);R([A()],Xe.prototype,"lineDashOffset",2);R([A()],Xe.prototype,"cornerRadius",2);R([A()],Xe.prototype,"itemStyler",2);R([A()],Xe.prototype,"rotation",2);R([A()],Xe.prototype,"outerRadiusOffset",2);R([A()],Xe.prototype,"outerRadiusRatio",2);R([A()],Xe.prototype,"innerRadiusOffset",2);R([A()],Xe.prototype,"innerRadiusRatio",2);R([A()],Xe.prototype,"strokeWidth",2);R([A()],Xe.prototype,"sectorSpacing",2);R([A()],Xe.prototype,"hideZeroValueSectorsInLegend",2);R([A()],Xe.prototype,"innerLabels",2);R([A()],Xe.prototype,"title",2);R([A()],Xe.prototype,"innerCircle",2);R([A()],Xe.prototype,"shadow",2);R([A()],Xe.prototype,"calloutLabel",2);R([A()],Xe.prototype,"sectorLabel",2);R([A()],Xe.prototype,"calloutLine",2);R([A()],Xe.prototype,"tooltip",2);function Uc(e,t,i,s){const n=[i.convert(0),i.convert(1)],r=[s.convert(0),s.convert(1)],o=Math.PI/-2+Yt(t),a=e?"initial":"update",l=({radius:y})=>({innerRadius:n[0],outerRadius:n[0]+(n[1]-n[0])*y}),d=({radius:y})=>({innerRadius:r[0],outerRadius:r[0]+(r[1]-r[0])*y});return{nodes:{toFn:(y,S,w,{prevLive:b})=>{var O,F;let{startAngle:x,endAngle:D,innerRadius:E,outerRadius:T}=S;const{stroke:k,fill:P}=S.sectorFormat;if(w==="removed"&&b?(x=(O=b.datum)==null?void 0:O.endAngle,D=(F=b.datum)==null?void 0:F.endAngle):w==="removed"&&!b&&(x=o,D=o),w==="removed"){const z=l(S);E=z.innerRadius,T=z.outerRadius}return{startAngle:x,endAngle:D,outerRadius:T,innerRadius:E,stroke:k,fill:P}},fromFn:(y,S,w,{prevFromProps:b})=>{let{startAngle:x,endAngle:D,innerRadius:E,outerRadius:T}=y,{fill:k,stroke:P}=S.sectorFormat;if(w==="updated"&&y.previousDatum==null&&(w="added"),w==="unknown"||w==="added"&&!b?(x=o,D=o,E=S.innerRadius,T=S.outerRadius):w==="added"&&b&&(x=b.endAngle??o,D=b.endAngle??o,E=b.innerRadius??S.innerRadius,T=b.outerRadius??S.outerRadius),w==="added"&&!e){const O=d(S);E=O.innerRadius,T=O.outerRadius}return w==="updated"&&(k=y.fill??k,P=(typeof y.stroke=="string"?y.stroke:void 0)??P),{startAngle:x,endAngle:D,innerRadius:E,outerRadius:T,fill:k,stroke:P,phase:a}}},innerCircle:{fromFn:(y,S)=>{var w;return{size:((w=y.previousDatum)==null?void 0:w.radius)??y.size??0,phase:a}},toFn:(y,S)=>({size:S.radius??0})}}}function gA(e,t){return{startAngle:t.startAngle,endAngle:t.endAngle,innerRadius:t.innerRadius,outerRadius:t.outerRadius,stroke:t.sectorFormat.stroke}}function pA(e,t){const i=t.y-e.centerY,s=t.x-e.centerX,n=Math.atan2(i,s),r=e.getItemNodes();for(const o of r)if(o.datum.missing!==!0&&ll(n,o.startAngle,o.endAngle)){const a=Math.sqrt(s*s+i*i);let l=0;return a<o.innerRadius?l=o.innerRadius-a:a>o.outerRadius&&(l=a-o.outerRadius),{datum:o.datum,distance:l}}}var EG=(e=>(e[e.BACKGROUND=0]="BACKGROUND",e[e.FOREGROUND=1]="FOREGROUND",e[e.HIGHLIGHT=2]="HIGHLIGHT",e[e.LABEL=3]="LABEL",e))(EG||{}),Rb=class extends _E{constructor({categoryKey:e,useLabelLayer:t=!1,pickModes:i=[1,0],canHaveAxes:s=!1,animationResetFns:n,...r}){super({...r,categoryKey:e,useLabelLayer:t,pickModes:i,directionKeys:{x:["angleKey"],y:["radiusKey"]},directionNames:{x:["angleName"],y:["radiusName"]},canHaveAxes:s}),this.itemGroup=this.contentGroup.appendChild(new Ne),this.nodeData=[],this.itemSelection=Ai.select(this.itemGroup,()=>this.nodeFactory(),!1),this.labelSelection=Ai.select(this.labelGroup,()=>this.labelFactory(),!1),this.highlightSelection=Ai.select(this.highlightGroup,()=>this.nodeFactory()),this.highlightLabelSelection=Ai.select(this.highlightLabel,()=>this.labelFactory()),this.centerX=0,this.centerY=0,this.radius=0,this.animationResetFns=n,this.animationState=new Df("empty",{empty:{update:{target:"ready",action:o=>this.animateEmptyUpdateReady(o)},reset:"empty",skip:"ready"},ready:{updateData:"waiting",clear:"clearing",highlight:o=>this.animateReadyHighlight(o),highlightMarkers:o=>this.animateReadyHighlightMarkers(o),resize:o=>this.animateReadyResize(o),reset:"empty",skip:"ready"},waiting:{update:{target:"ready",action:o=>this.animateWaitingUpdateReady(o)},reset:"empty",skip:"ready"},clearing:{update:{target:"empty",action:o=>this.animateClearingUpdateEmpty(o)},reset:"empty",skip:"ready"}},()=>this.checkProcessedDataAnimatable())}getItemNodes(){return[...this.itemGroup.children()]}getNodeData(){return this.nodeData}setSeriesIndex(e){return super.setSeriesIndex(e)?(this.contentGroup.zIndex=[e,1],this.highlightGroup.zIndex=[e,2],this.labelGroup.zIndex=[e,3],!0):!1}resetAnimation(e){e==="initial"?this.animationState.transition("reset"):e==="ready"&&this.animationState.transition("skip")}labelFactory(){const e=new Vi;return e.pointerEvents=1,e}addChartEventListeners(){var e,t;this.destroyFns.push((e=this.ctx.chartEventManager)==null?void 0:e.addListener("legend-item-click",i=>this.onLegendItemClick(i)),(t=this.ctx.chartEventManager)==null?void 0:t.addListener("legend-item-double-click",i=>this.onLegendItemDoubleClick(i)))}getInnerRadius(){return 0}computeLabelsBBox(e,t){return null}getShapeFillBBox(){const e=this.radius;return{series:new De(-e,-e,e*2,e*2),axis:new De(-e,-e,e*2,e*2)}}resetAllAnimation(){const{item:e,label:t}=this.animationResetFns??{};this.ctx.animationManager.stopByAnimationGroupId(this.id),e&&Xi([this.itemSelection,this.highlightSelection],e),t&&Xi([this.labelSelection,this.highlightLabelSelection],t),this.itemSelection.cleanup(),this.labelSelection.cleanup(),this.highlightSelection.cleanup(),this.highlightLabelSelection.cleanup()}animateEmptyUpdateReady(e){this.ctx.animationManager.skipCurrentBatch(),this.resetAllAnimation()}animateWaitingUpdateReady(e){this.ctx.animationManager.skipCurrentBatch(),this.resetAllAnimation()}animateReadyHighlight(e){const{item:t,label:i}=this.animationResetFns??{};t&&Xi([this.highlightSelection],t),i&&Xi([this.highlightLabelSelection],i)}animateReadyHighlightMarkers(e){}animateReadyResize(e){this.resetAllAnimation()}animateClearingUpdateEmpty(e){this.ctx.animationManager.skipCurrentBatch(),this.resetAllAnimation()}computeFocusBounds(e){var i;const t=(i=this.getNodeData())==null?void 0:i[e.datumIndex];if(t!==void 0)return this.itemSelection.select(s=>s instanceof Ws&&s.datum===t)[0]}getSeriesRange(e,t){return[NaN,NaN]}},Ace=class extends Ef{constructor(e,t,i,s){super(e,t,i,s),this.angleKey=s.properties.angleKey,this.radiusKey=s.properties.radiusKey,this.calloutLabelKey=s.properties.calloutLabelKey,this.sectorLabelKey=s.properties.sectorLabelKey}},Eb=class extends Rb{constructor(e){super({moduleCtx:e,categoryKey:void 0,pickModes:[1,0],useLabelLayer:!0,animationResetFns:{item:gA,label:Da}}),this.properties=new Xe,this.phantomNodeData=void 0,this.backgroundGroup=new Bs({name:`${this.id}-background`,zIndex:0}),this.noVisibleData=!1,this.previousRadiusScale=new Pr,this.radiusScale=new Pr,this.phantomGroup=this.backgroundGroup.appendChild(new Ne({name:"phantom"})),this.phantomSelection=Ai.select(this.phantomGroup,()=>this.nodeFactory(),!1),this.calloutLabelGroup=this.contentGroup.appendChild(new Ne({name:"pieCalloutLabels"})),this.calloutLabelSelection=new Ai(this.calloutLabelGroup,Ne),this.zerosumRingsGroup=this.backgroundGroup.appendChild(new Ne({name:`${this.id}-zerosumRings`})),this.zerosumOuterRing=this.zerosumRingsGroup.appendChild(new _i({shape:"circle"})),this.zerosumInnerRing=this.zerosumRingsGroup.appendChild(new _i({shape:"circle"})),this.innerLabelsGroup=this.contentGroup.appendChild(new Ne({name:"innerLabels"})),this.innerCircleGroup=this.backgroundGroup.appendChild(new Ne({name:`${this.id}-innerCircle`})),this.innerLabelsSelection=Ai.select(this.innerLabelsGroup,Vi),this.innerCircleSelection=Ai.select(this.innerCircleGroup,()=>new _i({shape:"circle"})),this.surroundingRadius=void 0,this.NodeEvent=Ace,this.angleScale=new Pr,this.angleScale.domain=[0,1],this.angleScale.range=[-Math.PI,Math.PI].map(t=>t+Math.PI/2),this.phantomGroup.opacity=.2}get calloutNodeData(){return this.phantomNodeData??this.nodeData}attachSeries(e,t,i){super.attachSeries(e,t,i),e==null||e.appendChild(this.backgroundGroup)}detachSeries(e,t,i){super.detachSeries(e,t,i),e==null||e.removeChild(this.backgroundGroup)}setSeriesIndex(e){return super.setSeriesIndex(e)?(this.backgroundGroup.zIndex=[0,e],!0):!1}nodeFactory(){return new rs}getSeriesDomain(e){return e==="x"?this.angleScale.domain:this.radiusScale.domain}async processData(e){var w,b;if(this.data==null||!this.properties.isValid())return;const{visible:t,id:i,ctx:{legendManager:s}}=this,{angleKey:n,angleFilterKey:r,radiusKey:o,calloutLabelKey:a,sectorLabelKey:l,legendItemKey:d}=this.properties,h=()=>(x,D)=>t&&s.getItemEnabled({seriesId:i,itemId:D})?x:0,p=!this.ctx.animationManager.isSkipped(),f=[],v=[];d?f.push(kr(d,"band",{id:"legendItemKey"})):a?f.push(kr(a,"band",{id:"calloutLabelKey"})):l&&f.push(kr(l,"band",{id:"sectorLabelKey"}));const y=this.radiusScale.type,S=this.angleScale.type;o&&v.push(RE(o,{id:"radiusValue",min:this.properties.radiusMin??0,max:this.properties.radiusMax,processor:h}),et(o,y,{id:"radiusRaw",processor:h}),Wc("radiusValue",[0,1],1,this.properties.radiusMin??0,this.properties.radiusMax)),a&&v.push(et(a,"band",{id:"calloutLabelValue"})),l&&v.push(et(l,"band",{id:"sectorLabelValue"})),d&&v.push(et(d,"band",{id:"legendItemValue"})),r&&v.push(Up(r,S,{id:"angleFilterValue",onlyPositive:!0,invalidValue:0,processor:h}),et(r,S,{id:"angleFilterRaw"}),Wc("angleFilterValue",[0,1],0,0)),p&&this.processedData&&f.length>0&&v.push(Sh(this.id,this.processedData)),v.push(bh()),await this.requestDataModel(e,this.data,{props:[...f,Up(n,S,{id:"angleValue",onlyPositive:!0,invalidValue:0,processor:h}),et(n,S,{id:"angleRaw"}),Wc("angleValue",[0,1],0,0),...v]});for(const x of((b=(w=this.processedData)==null?void 0:w.defs)==null?void 0:b.values)??[]){const{id:D,missing:E,property:T}=x,k=rE(this,E);D!=="angleRaw"&&k>0&&me.warnOnce(`no value was found for the key '${String(T)}' on ${k} data element${k>1?"s":""}`)}this.animationState.transition("updateData")}maybeRefreshNodeData(){if(!this.nodeDataRefresh)return;const{nodeData:e=[],phantomNodeData:t}=this.createNodeData()??{};this.nodeData=e,this.phantomNodeData=t,this.nodeDataRefresh=!1}getProcessedDataValues(e,t){const i=e.resolveColumnById(this,"angleValue",t),s=e.resolveColumnById(this,"angleRaw",t),n=this.properties.angleFilterKey!=null?e.resolveColumnById(this,"angleFilterValue",t):void 0,r=this.properties.angleFilterKey!=null?e.resolveColumnById(this,"angleFilterRaw",t):void 0,o=this.properties.radiusKey?e.resolveColumnById(this,"radiusValue",t):void 0,a=this.properties.radiusKey?e.resolveColumnById(this,"radiusRaw",t):void 0,l=this.properties.calloutLabelKey?e.resolveColumnById(this,"calloutLabelValue",t):void 0,d=this.properties.sectorLabelKey?e.resolveColumnById(this,"sectorLabelValue",t):void 0,h=this.properties.legendItemKey?e.resolveColumnById(this,"legendItemValue",t):void 0;return{angleValues:i,angleRawValues:s,angleFilterValues:n,angleFilterRawValues:r,radiusValues:o,radiusRawValues:a,calloutLabelValues:l,sectorLabelValues:d,legendItemValues:h}}createNodeData(){var O;const{id:e,processedData:t,dataModel:i,angleScale:s,ctx:{legendManager:n},visible:r}=this,{rotation:o,innerRadiusRatio:a}=this.properties;if(!this.properties.isValid())return this.zerosumOuterRing.visible=!0,this.zerosumInnerRing.visible=!0,{itemId:e,nodeData:[],labelData:[]};if(!i||(t==null?void 0:t.type)!=="ungrouped")return;const{angleValues:l,angleRawValues:d,angleFilterValues:h,angleFilterRawValues:p,radiusValues:f,radiusRawValues:v,calloutLabelValues:y,sectorLabelValues:S,legendItemValues:w}=this.getProcessedDataValues(i,t),b=(p==null?void 0:p.some((F,z)=>F>d[z]))??!1;let x=0,D=0;const E=[],T=p!=null?[]:void 0,k=t.dataSources.get(this.id)??[],P=(O=t.invalidData)==null?void 0:O.get(this.id);return k.forEach((F,z)=>{if((P==null?void 0:P[z])===!0)return;const V=b?h[z]:l[z],U=p!=null&&!b?Math.sqrt(p[z]/d[z]):1,J=s.convert(x)+Yt(o);x=V,D+=V;const ye=s.convert(x)+Yt(o),Ce=Math.abs(ye-J),G=J+Ce/2,K=d[z],ge=((f==null?void 0:f[z])??1)*U,B=v==null?void 0:v[z],_=w==null?void 0:w[z],Y=this.getLabels(F,G,Ce,!0,y==null?void 0:y[z],S==null?void 0:S[z],_),Z=this.getSectorFormat(F,z,!1),ee={itemId:z,series:this,datum:F,datumIndex:z,angleValue:K,midAngle:G,midCos:Math.cos(G),midSin:Math.sin(G),startAngle:J,endAngle:ye,radius:ge,innerRadius:Math.max(this.radiusScale.convert(0),0),outerRadius:Math.max(this.radiusScale.convert(ge),0),sectorFormat:Z,radiusValue:B,legendItemValue:_,enabled:r&&n.getItemEnabled({seriesId:e,itemId:z}),focusable:!0,...Y};E.push(ee),T!=null&&T.push({...ee,radius:1,innerRadius:Math.max(this.radiusScale.convert(0),0),outerRadius:Math.max(this.radiusScale.convert(1),0),focusable:!1})}),this.zerosumOuterRing.visible=D===0,this.zerosumInnerRing.visible=D===0&&a!=null&&a!==1&&a>0,{itemId:e,nodeData:E,labelData:E,phantomNodeData:T}}getLabels(e,t,i,s,n,r,o){const{calloutLabel:a,sectorLabel:l,legendItemKey:d}=this.properties,h=!s||a.enabled?this.properties.calloutLabelKey:void 0,p=!s||l.enabled?this.properties.sectorLabelKey:void 0;if(!h&&!p&&!d)return{};const f={datum:e,angleKey:this.properties.angleKey,angleName:this.properties.angleName,radiusKey:this.properties.radiusKey,radiusName:this.properties.radiusName,calloutLabelKey:this.properties.calloutLabelKey,calloutLabelName:this.properties.calloutLabelName,sectorLabelKey:this.properties.sectorLabelKey,sectorLabelName:this.properties.sectorLabelName,legendItemKey:this.properties.legendItemKey},v={};return h&&i>=Yt(a.minAngle)&&(v.calloutLabel={...this.getTextAlignment(t),text:this.getLabelText(a,{...f,value:n}),hidden:!1,collisionTextAlign:void 0,collisionOffsetY:0,box:void 0}),p&&(v.sectorLabel={text:this.getLabelText(l,{...f,value:r})}),d!=null&&o!=null&&(v.legendItem={key:d,text:o}),v}getTextAlignment(e){const t=[{textAlign:"center",textBaseline:"bottom"},{textAlign:"left",textBaseline:"middle"},{textAlign:"center",textBaseline:"hanging"},{textAlign:"right",textBaseline:"middle"}],i=Bp(e),s=-.75*Math.PI,n=i-s,r=Math.floor(n/(Math.PI/2)),o=H2(r,t.length);return t[o]}getNodeFill(e,t,i){return _c(e,{bounds:"series",colorStops:t.map(s=>({color:s})),gradient:"radial",rotation:0,reverse:!0},{pattern:"forward-slanted-lines",fill:i,fillOpacity:1,backgroundFill:"transparent",backgroundFillOpacity:1,stroke:i,strokeOpacity:1,strokeWidth:4,rotation:0})}getFillParams(e,t,i){if(!(!Fr(e)||e.bounds==="item"))return{centerX:0,centerY:0,innerRadius:t,outerRadius:i}}getSectorFormat(e,t,i){const{angleKey:s,radiusKey:n,calloutLabelKey:r,sectorLabelKey:o,legendItemKey:a,fills:l,strokes:d,defaultColorRange:h,defaultPatternFills:p,itemStyler:f}=this.properties,v=d[t%d.length],{fill:y,fillOpacity:S,stroke:w,strokeWidth:b,strokeOpacity:x,lineDash:D,lineDashOffset:E,cornerRadius:T}=Je(i&&this.properties.highlightStyle.item,{fill:l.length>0?l[t%l.length]:void 0,stroke:v,strokeWidth:this.getStrokeWidth(this.properties.strokeWidth),strokeOpacity:this.getOpacity()},this.properties),k=h[t%h.length],P=p[t%p.length],O=y??"black";let F;return f&&(F=this.cachedDatumCallback(this.getDatumId(e,t)+(i?"-highlight":"-hide"),()=>this.callWithContext(f,{datum:e,angleKey:s,radiusKey:n,calloutLabelKey:r,sectorLabelKey:o,legendItemKey:a,fill:this.getNodeFill(O,k,P),fillOpacity:S,stroke:w,strokeWidth:b,strokeOpacity:x,lineDash:D,lineDashOffset:E,cornerRadius:T,highlighted:i,seriesId:this.id}))),{fill:this.getNodeFill((F==null?void 0:F.fill)??O,k,P),fillOpacity:(F==null?void 0:F.fillOpacity)??S,stroke:(F==null?void 0:F.stroke)??w,strokeWidth:(F==null?void 0:F.strokeWidth)??b,strokeOpacity:(F==null?void 0:F.strokeOpacity)??x,lineDash:(F==null?void 0:F.lineDash)??D,lineDashOffset:(F==null?void 0:F.lineDashOffset)??E,cornerRadius:(F==null?void 0:F.cornerRadius)??T}}getInnerRadius(){const{radius:e}=this,{innerRadiusRatio:t=1,innerRadiusOffset:i=0}=this.properties,s=e*t+i;return s===e||s<0?0:s}getOuterRadius(){const{outerRadiusRatio:e,outerRadiusOffset:t}=this.properties;return Math.max(this.radius*e+t,0)}updateRadiusScale(e){var s;const t=[this.getInnerRadius(),this.getOuterRadius()];this.radiusScale.range=t,e&&(this.previousRadiusScale.range=t);const i=n=>({...n,innerRadius:Math.max(this.radiusScale.convert(0),0),outerRadius:Math.max(this.radiusScale.convert(n.radius),0)});this.nodeData=this.nodeData.map(i),this.phantomNodeData=(s=this.phantomNodeData)==null?void 0:s.map(i)}getTitleTranslationY(){var n;const e=Math.max(0,this.radiusScale.range[1]);if(e===0)return NaN;const i=2+(((n=this.properties.title)==null?void 0:n.spacing)??0),s=Math.max(0,-e);return-e-i-s}update({seriesRect:e}){const{title:t}=this.properties,i={seriesRectWidth:e==null?void 0:e.width,seriesRectHeight:e==null?void 0:e.height},s=yo(this.nodeDataDependencies,i)!=null;if(s&&(this._nodeDataDependencies=i),this.maybeRefreshNodeData(),this.updateTitleNodes(),this.updateRadiusScale(s),this.contentGroup.translationX=this.centerX,this.contentGroup.translationY=this.centerY,this.highlightGroup.translationX=this.centerX,this.highlightGroup.translationY=this.centerY,this.backgroundGroup.translationX=this.centerX,this.backgroundGroup.translationY=this.centerY,this.labelGroup&&(this.labelGroup.translationX=this.centerX,this.labelGroup.translationY=this.centerY),t){const n=this.getTitleTranslationY();t.node.y=isFinite(n)?n:0;const r=t.node.getBBox();t.node.visible=t.enabled&&isFinite(n)&&!this.bboxIntersectsSurroundingSeries(r)}for(const n of[this.zerosumInnerRing,this.zerosumOuterRing])n.fillOpacity=0,n.stroke=this.properties.calloutLabel.color,n.strokeWidth=1,n.strokeOpacity=1;this.updateNodeMidPoint(),this.updateSelections(),this.updateNodes(e)}updateTitleNodes(){var i,s;const{oldTitle:e}=this,{title:t}=this.properties;e!==t&&(e&&((i=this.labelGroup)==null||i.removeChild(e.node)),t&&(t.node.textBaseline="bottom",(s=this.labelGroup)==null||s.appendChild(t.node)),this.oldTitle=t)}updateNodeMidPoint(){var t;const e=i=>{const s=i.innerRadius+(i.outerRadius-i.innerRadius)/2;i.midPoint={x:i.midCos*Math.max(0,s),y:i.midSin*Math.max(0,s)}};this.nodeData.forEach(e),(t=this.phantomNodeData)==null||t.forEach(e)}updateSelections(){this.updateGroupSelection(),this.updateInnerCircleSelection()}updateGroupSelection(){const{itemSelection:e,highlightSelection:t,phantomSelection:i,highlightLabelSelection:s,calloutLabelSelection:n,labelSelection:r,innerLabelsSelection:o}=this,a=this.nodeData.map(d=>({...d,sectorFormat:{...d.sectorFormat}})),l=(d,h)=>{d.update(h,void 0,p=>this.getDatumId(p.datum,p.datumIndex)),this.ctx.animationManager.isSkipped()&&d.cleanup()};l(e,this.nodeData),l(t,a),l(i,this.phantomNodeData??[]),n.update(this.calloutNodeData,d=>{const h=new kn;h.tag=0,h.pointerEvents=1,d.appendChild(h);const p=new Vi;p.tag=1,p.pointerEvents=1,d.appendChild(p)}),r.update(this.nodeData),s.update(a),o.update(this.properties.innerLabels,d=>{d.pointerEvents=1})}updateInnerCircleSelection(){const{innerCircle:e}=this.properties;let t=0;const i=this.getInnerRadius();if(i>0){const n=Math.min(i,this.getOuterRadius());t=Math.ceil(n*2+1)}const s=e?[{radius:t}]:[];this.innerCircleSelection.update(s)}updateNodes(e){const t=this.ctx.highlightManager.getActiveHighlight(),{visible:i}=this;this.backgroundGroup.visible=i,this.contentGroup.visible=i,this.highlightGroup.visible=i&&(t==null?void 0:t.series)===this,this.highlightLabel.visible=i&&(t==null?void 0:t.series)===this,this.labelGroup.visible=i,this.contentGroup.opacity=this.getOpacity(),this.innerCircleSelection.each((l,{radius:d})=>{var h,p;l.setProperties({fill:this.getNodeFill((h=this.properties.innerCircle)==null?void 0:h.fill,["black"],"black"),opacity:(p=this.properties.innerCircle)==null?void 0:p.fillOpacity,size:d})});const s=this.radiusScale.range[0],n=this.radiusScale.range[1],r=this.getShapeFillBBox(),o=this.ctx.animationManager.isSkipped(),a=(l,d,h,p)=>{const f=this.getSectorFormat(d.datum,d.itemId,p);d.sectorFormat.fill=f.fill,d.sectorFormat.stroke=f.stroke,o&&(l.startAngle=d.startAngle,l.endAngle=d.endAngle,l.innerRadius=d.innerRadius,l.outerRadius=d.outerRadius),(p||o)&&(l.fill=f.fill,l.stroke=f.stroke);const v=this.getFillParams(f.fill,s,n);tb(l,f.fill,r,v),l.strokeWidth=f.strokeWidth,l.fillOpacity=f.fillOpacity,l.strokeOpacity=f.strokeOpacity,l.lineDash=f.lineDash,l.lineDashOffset=f.lineDashOffset,l.cornerRadius=f.cornerRadius,l.fillShadow=this.properties.shadow;const y=Math.max((this.properties.sectorSpacing+(f.stroke!=null?f.strokeWidth:0))/2,0);l.inset=y,l.lineJoin=this.properties.sectorSpacing>=0||y>0?"miter":"round"};this.itemSelection.each((l,d,h)=>a(l,d,h,!1)),this.highlightSelection.each((l,d,h)=>{a(l,d,h,!0),l.visible=d.itemId===(t==null?void 0:t.itemId)}),this.phantomSelection.each((l,d,h)=>a(l,d,h,!1)),this.updateCalloutLineNodes(),this.updateCalloutLabelNodes(e),this.updateSectorLabelNodes(),this.updateInnerLabelNodes(),this.updateZerosumRings(),this.animationState.transition("update")}updateCalloutLineNodes(){const{calloutLine:{length:e,strokeWidth:t,colors:i},strokes:s}=this.properties,n=t,r=p3(i)?i??this.properties.strokes:s,{offset:o}=this.properties.calloutLabel;this.calloutLabelSelection.selectByTag(0).forEach((a,l)=>{const d=a.closestDatum(),{calloutLabel:h,outerRadius:p}=d;if(h!=null&&h.text&&!h.hidden&&p!==0){a.visible=!0,a.strokeWidth=n,a.stroke=r[l%r.length],a.fill=void 0;const f=d.midCos*p,v=d.midSin*p;let y=d.midCos*(p+e),S=d.midSin*(p+e);if((h.collisionTextAlign??h.collisionOffsetY!==0)&&h.box!=null){const b=h.box;let x=y,D=S;y<b.x?x=b.x:y>b.x+b.width&&(x=b.x+b.width),S<b.y?D=b.y:S>b.y+b.height&&(D=b.y+b.height);const E=x-y,T=D-S,k=Math.sqrt(Math.pow(E,2)+Math.pow(T,2)),P=k-o;P>0&&(y=y+E*P/k,S=S+T*P/k)}a.x1=f,a.y1=v,a.x2=y,a.y2=S}else a.visible=!1})}getLabelOverflow(e,t,i){const s=-this.centerX,n=s+i.width,r=-this.centerY,o=r+i.height,a=1;let l=1;t.x+a<s?l=(t.x+t.width-s)/t.width:t.x+t.width-a>n&&(l=(n-t.x)/t.width);const d=t.y+a<r||t.y+t.height-a>o,h=l===1?e.length:Math.floor(e.length*l)-1,p=this.bboxIntersectsSurroundingSeries(t);return{textLength:h,hasVerticalOverflow:d,hasSurroundingSeriesOverflow:p}}bboxIntersectsSurroundingSeries(e){const{surroundingRadius:t}=this;if(t==null)return!1;const i=[{x:e.x,y:e.y},{x:e.x+e.width,y:e.y},{x:e.x+e.width,y:e.y+e.height},{x:e.x,y:e.y+e.height}],s=t**2;return i.some(n=>n.x**2+n.y**2>s)}computeCalloutLabelCollisionOffsets(){const{radiusScale:e}=this,{calloutLabel:t,calloutLine:i}=this.properties,{offset:s,minSpacing:n}=t,r=e.convert(0),o=b=>!b.calloutLabel||b.outerRadius===0,a=this.calloutNodeData,l=a.filter(b=>!o(b));if(l.forEach(b=>{const x=b.calloutLabel;x!=null&&(x.hidden=!1,x.collisionTextAlign=void 0,x.collisionOffsetY=0)}),l.length<=1)return;const d=l.filter(b=>b.midCos<0).sort((b,x)=>b.midSin-x.midSin),h=l.filter(b=>b.midCos>=0).sort((b,x)=>b.midSin-x.midSin),p=l.filter(b=>{var x;return b.midSin<0&&((x=b.calloutLabel)==null?void 0:x.textAlign)==="center"}).sort((b,x)=>b.midCos-x.midCos),f=l.filter(b=>{var x;return b.midSin>=0&&((x=b.calloutLabel)==null?void 0:x.textAlign)==="center"}).sort((b,x)=>b.midCos-x.midCos),v=b=>{const x=b.calloutLabel;if(x==null)return De.zero.clone();const D=b.outerRadius+i.length+s,E=b.midCos*D,T=b.midSin*D+x.collisionOffsetY,k=x.collisionTextAlign??x.textAlign,P=x.textBaseline;return Vi.computeBBox(x.text,E,T,{font:this.properties.calloutLabel,textAlign:k,textBaseline:P})},y=(b,x,D)=>{const E=v(b).grow(n/2),T=v(x).grow(n/2);E.x<T.x+T.width&&E.x+E.width>T.x&&(D==="to-top"?E.y<T.y+T.height:E.y+E.height>T.y)&&(x.calloutLabel.collisionOffsetY=D==="to-top"?E.y-T.y-T.height:E.y+E.height-T.y)},S=b=>{const x=b.slice().sort((E,T)=>Math.abs(E.midSin)-Math.abs(T.midSin))[0],D=b.indexOf(x);for(let E=D-1;E>=0;E--){const T=b[E+1],k=b[E];y(T,k,"to-top")}for(let E=D+1;E<b.length;E++){const T=b[E-1],k=b[E];y(T,k,"to-bottom")}},w=b=>{const x=l.some(O=>O.calloutLabel.collisionOffsetY!==0),D=b.map(O=>v(O)),E=D.map(O=>O.clone().grow(n/2));let T=!1;for(let O=0;O<E.length&&!T;O++){const F=E[O];for(let z=O+1;z<b.length;z++){const V=E[z];if(F.collidesBBox(V)){T=!0;break}}}const k=a.map(O=>{const{startAngle:F,endAngle:z,outerRadius:V}=O;return{startAngle:F,endAngle:z,innerRadius:r,outerRadius:V}}),P=D.some(O=>k.some(F=>DG(O,F)));!T&&!x&&!P||b.filter(O=>O.calloutLabel.textAlign==="center").forEach(O=>{const F=O.calloutLabel;O.midCos<0?F.collisionTextAlign="right":O.midCos>0?F.collisionTextAlign="left":F.collisionTextAlign="center"})};S(d),S(h),w(p),w(f)}updateCalloutLabelNodes(e){const{radiusScale:t}=this,{calloutLabel:i,calloutLine:s}=this.properties,n=s.length,{offset:r,color:o}=i,a=new Vi;this.calloutLabelSelection.selectByTag(1).forEach(l=>{const d=l.closestDatum(),h=d.calloutLabel,p=t.convert(d.radius),f=Math.max(0,p);if(!(h!=null&&h.text)||f===0||h.hidden){l.visible=!1;return}const v=f+n+r,y=d.midCos*v,S=d.midSin*v+h.collisionOffsetY,w={textAlign:h.collisionTextAlign??h.textAlign,textBaseline:h.textBaseline};a.text=h.text,a.x=y,a.y=S,a.setFont(this.properties.calloutLabel),a.setAlign(w);const b=a.getBBox();let x=h.text,D=!0;if(i.avoidCollisions){const{textLength:E,hasVerticalOverflow:T}=this.getLabelOverflow(h.text,b,e);x=h.text.length===E?h.text:`${h.text.substring(0,E)}`,D=!T}l.text=x,l.x=y,l.y=S,l.setFont(this.properties.calloutLabel),l.setAlign(w),l.fill=o,l.visible=D})}computeLabelsBBox(e,t){const{calloutLabel:i,calloutLine:s}=this.properties,n=s.length,{offset:r,maxCollisionOffset:o,minSpacing:a}=i;if(!i.avoidCollisions)return null;this.maybeRefreshNodeData(),this.updateRadiusScale(!1),this.computeCalloutLabelCollisionOffsets();const l=[],d=new Vi;let h;const{title:p}=this.properties;if(p!=null&&p.text&&p.enabled){const f=this.getTitleTranslationY();isFinite(f)&&(d.text=p.text,d.x=0,d.y=f,d.setFont(p),d.setAlign({textBaseline:"bottom",textAlign:"center"}),h=d.getBBox(),l.push(h))}return this.calloutNodeData.forEach(f=>{const v=f.calloutLabel;if(!v||f.outerRadius===0)return null;const y=f.outerRadius+n+r,S=f.midCos*y,w=f.midSin*y+v.collisionOffsetY;d.text=v.text,d.x=S,d.y=w,d.setFont(this.properties.calloutLabel),d.setAlign({textAlign:v.collisionTextAlign??v.textAlign,textBaseline:v.textBaseline});const b=d.getBBox();if(v.box=b,Math.abs(v.collisionOffsetY)>o){v.hidden=!0;return}if(h){const x=-this.centerY,D=new De(h.x-a,x,h.width+2*a,h.y+h.height+a-x);if(b.collidesBBox(D)){v.hidden=!0;return}}if(e.hideWhenNecessary){const{textLength:x,hasVerticalOverflow:D,hasSurroundingSeriesOverflow:E}=this.getLabelOverflow(v.text,b,t),T=v.text.length>2&&x<2;if(D||T||E){v.hidden=!0;return}}v.hidden=!1,l.push(b)}),l.length===0?null:De.merge(l)}updateSectorLabelNodes(){const{radiusScale:e}=this,t=e.convert(0),{fontSize:i,fontStyle:s,fontWeight:n,fontFamily:r,positionOffset:o,positionRatio:a,color:l}=this.properties.sectorLabel,d=(h,p)=>{const{sectorLabel:f,outerRadius:v}=p;let y=!1;if(f&&v!==0){const S=t*(1-a)+v*a+o;h.fill=l,h.fontStyle=s,h.fontWeight=n,h.fontSize=i,h.fontFamily=r,h.text=f.text,h.x=p.midCos*S,h.y=p.midSin*S,h.textAlign="center",h.textBaseline="middle";const w=h.getBBox(),b=[[w.x,w.y],[w.x+w.width,w.y],[w.x+w.width,w.y+w.height],[w.x,w.y+w.height]],{startAngle:x,endAngle:D}=p,E={startAngle:x,endAngle:D,innerRadius:t,outerRadius:v};b.every(([T,k])=>rC(T,k,E))&&(y=!0)}h.visible=y};this.labelSelection.each(d),this.highlightLabelSelection.each(d)}updateInnerLabelNodes(){const e=[],t=[];this.innerLabelsSelection.each((h,p)=>{const{fontStyle:f,fontWeight:v,fontSize:y,fontFamily:S,color:w}=p;h.fontStyle=f,h.fontWeight=v,h.fontSize=y,h.fontFamily=S,h.text=p.text,h.x=0,h.y=0,h.fill=w,h.textAlign="center",h.textBaseline="alphabetic",e.push(h.getBBox()),t.push(p.spacing)});const i=h=>h===0?0:t[h],s=h=>h===t.length-1?0:t[h],n=e.reduce((h,p,f)=>h+p.height+i(f)+s(f),0),r=Math.max(...e.map(h=>h.width)),o=this.getInnerRadius(),l=Math.sqrt(Math.pow(r/2,2)+Math.pow(n/2,2))<=(o>0?o:this.getOuterRadius()),d=[];for(let h=0,p=-n/2;h<e.length;h++){const v=e[h].height+p+i(h);d.push(v),p=v+s(h)}this.innerLabelsSelection.each((h,p,f)=>{h.y=d[f],h.visible=l})}updateZerosumRings(){this.zerosumOuterRing.size=this.getOuterRadius()*2,this.zerosumInnerRing.size=this.getInnerRadius()*2}pickNodeClosestDatum(e){return pA(this,e)}getTooltipContent(e){var P;const{id:t,dataModel:i,processedData:s,properties:n}=this,{legendItemKey:r,calloutLabelKey:o,calloutLabelName:a,sectorLabelKey:l,sectorLabelName:d,angleKey:h,angleName:p,radiusKey:f,radiusName:v,tooltip:y}=n,S=this.properties.title.text;if(!i||!s)return;const w=(P=s.dataSources.get(this.id))==null?void 0:P[e],{angleRawValues:b,legendItemValues:x,calloutLabelValues:D,sectorLabelValues:E}=this.getProcessedDataValues(i,s),T=b[e],k=(x==null?void 0:x[e])??(o===h||D==null?void 0:D[e])??(l===h||E==null?void 0:E[e])??p;return y.formatTooltip(this.properties,{title:S,symbol:this.legendItemSymbol(e),data:[{label:k,fallbackLabel:h,value:ha(T,3)}]},{seriesId:t,datum:w,title:p,legendItemKey:r,calloutLabelKey:o,calloutLabelName:a,sectorLabelKey:l,sectorLabelName:d,angleKey:h,angleName:p,radiusKey:f,radiusName:v,...this.getSectorFormat(w,e,!1)})}legendItemSymbol(e){var h,p;const t=(p=(h=this.processedData)==null?void 0:h.dataSources.get(this.id))==null?void 0:p[e],i=this.getSectorFormat(t,e,!1),{fillOpacity:s,strokeOpacity:n,strokeWidth:r,lineDash:o,lineDashOffset:a}=this.properties;let{fill:l}=i;const{stroke:d}=i;return Fr(l)&&(l={...l,gradient:"linear",rotation:0,reverse:!1}),{marker:{fill:l,stroke:d,fillOpacity:s,strokeOpacity:n,strokeWidth:r,lineDash:o,lineDashOffset:a}}}getLegendData(e){var E,T,k,P,O,F;const{visible:t,processedData:i,dataModel:s,id:n,ctx:{legendManager:r}}=this;if(!s||!i||!this.properties.isValid()||e!=="category")return[];const{angleKey:o,calloutLabelKey:a,sectorLabelKey:l,legendItemKey:d,showInLegend:h}=this.properties;if(!d&&(!a||a===o)&&(!l||l===o))return[];const{angleRawValues:p,calloutLabelValues:f,sectorLabelValues:v,legendItemValues:y}=this.getProcessedDataValues(s,i),S=((E=this.properties.title)==null?void 0:E.showInLegend)&&this.properties.title.text,w=[],b=this.properties.hideZeroValueSectorsInLegend,x=i.dataSources.get(this.id),D=(T=i.invalidData)==null?void 0:T.get(this.id);for(let z=0;z<i.input.count;z++){const V=x==null?void 0:x[z],U=p[z];if((D==null?void 0:D[z])===!0||b&&U===0)continue;const J=[];S&&J.push(S);const ye=this.getLabels(V,2*Math.PI,2*Math.PI,!1,f==null?void 0:f[z],v==null?void 0:v[z],y==null?void 0:y[z]);d&&ye.legendItem!==void 0?J.push(ye.legendItem.text):a&&a!==o&&((k=ye.calloutLabel)==null?void 0:k.text)!==void 0?J.push((P=ye.calloutLabel)==null?void 0:P.text):l&&l!==o&&((O=ye.sectorLabel)==null?void 0:O.text)!==void 0&&J.push((F=ye.sectorLabel)==null?void 0:F.text),J.length!==0&&w.push({legendType:"category",id:n,datum:V,itemId:z,seriesId:n,enabled:t&&r.getItemEnabled({seriesId:n,itemId:z}),label:{text:J.join(" - ")},symbol:this.legendItemSymbol(z),legendItemName:d!=null?V[d]:void 0,hideInLegend:!h})}return w}setLegendState(e){const{id:t,ctx:{legendManager:i,updateService:s}}=this;e.forEach((n,r)=>i.toggleItem(n,t,r)),i.update(),s.update(4)}animateEmptyUpdateReady(e){const{animationManager:t}=this.ctx,i=Uc(!0,this.properties.rotation,this.radiusScale,this.previousRadiusScale);li(this.id,"nodes",t,[this.itemSelection,this.highlightSelection,this.phantomSelection],i.nodes,(s,n)=>this.getDatumId(n.datum,n.datumIndex)),li(this.id,"innerCircle",t,[this.innerCircleSelection],i.innerCircle),ft(this,"callout",t,this.calloutLabelSelection),ft(this,"sector",t,this.labelSelection),ft(this,"highlight",t,this.highlightLabelSelection),ft(this,"inner",t,this.innerLabelsSelection),this.previousRadiusScale.range=this.radiusScale.range}animateWaitingUpdateReady(){var v,y,S,w;const{itemSelection:e,highlightSelection:t,phantomSelection:i,processedData:s,radiusScale:n,previousRadiusScale:r}=this,{animationManager:o}=this.ctx,a=(y=(v=s==null?void 0:s.reduced)==null?void 0:v.diff)==null?void 0:y[this.id];this.ctx.animationManager.stopByAnimationGroupId(this.id);const l=((a==null?void 0:a.moved.size)??0)===0,d=((s==null?void 0:s.defs.keys.length)??0)>0,h=((w=(S=s==null?void 0:s.reduced)==null?void 0:S.animationValidation)==null?void 0:w.uniqueKeys)??!0;(!l||!d||!h)&&this.ctx.animationManager.skipCurrentBatch();const p=!this.nodeData.some(b=>b.enabled),f=Uc(!1,this.properties.rotation,n,r);li(this.id,"nodes",o,[e,t,i],f.nodes,(b,x)=>this.getDatumId(x.datum,x.datumIndex),a),li(this.id,"innerCircle",o,[this.innerCircleSelection],f.innerCircle),ft(this,"callout",this.ctx.animationManager,this.calloutLabelSelection),ft(this,"sector",this.ctx.animationManager,this.labelSelection),ft(this,"highlight",this.ctx.animationManager,this.highlightLabelSelection),this.noVisibleData!==p&&(this.noVisibleData=p,ft(this,"inner",this.ctx.animationManager,this.innerLabelsSelection)),this.previousRadiusScale.range=this.radiusScale.range}animateClearingUpdateEmpty(){const{itemSelection:e,highlightSelection:t,phantomSelection:i,radiusScale:s,previousRadiusScale:n}=this,{animationManager:r}=this.ctx,o=Uc(!1,this.properties.rotation,s,n);li(this.id,"nodes",r,[e,t,i],o.nodes,(a,l)=>this.getDatumId(l.datum,l.datumIndex)),li(this.id,"innerCircle",r,[this.innerCircleSelection],o.innerCircle),hl(this,"callout",this.ctx.animationManager,this.calloutLabelSelection),hl(this,"sector",this.ctx.animationManager,this.labelSelection),hl(this,"highlight",this.ctx.animationManager,this.highlightLabelSelection),hl(this,"inner",this.ctx.animationManager,this.innerLabelsSelection),this.previousRadiusScale.range=this.radiusScale.range}getDatumId(e,t){var r,o,a;const{calloutLabelKey:i,sectorLabelKey:s,legendItemKey:n}=this.properties;return(a=(o=(r=this.processedData)==null?void 0:r.reduced)==null?void 0:o.animationValidation)!=null&&a.uniqueKeys?n?ts(e[n]):i?ts(e[i]):s?ts(e[s]):`${t}`:`${t}`}};Eb.className="DonutSeries";Eb.type="donut";var Ab={type:Pe(Es("pie")),angleKey:Pe(Me),radiusKey:Me,calloutLabelKey:Me,sectorLabelKey:Me,legendItemKey:Me,angleName:Me,radiusName:Me,calloutLabelName:Me,sectorLabelName:Me,radiusMin:be,radiusMax:be,rotation:ke,outerRadiusOffset:ke,outerRadiusRatio:$t,hideZeroValueSectorsInLegend:Se,sectorSpacing:be,cornerRadius:be,itemStyler:St,title:{enabled:Se,text:Me,showInLegend:Se,spacing:be,...xn},calloutLabel:{enabled:Se,offset:ke,minAngle:be,avoidCollisions:Se,formatter:St,...xn},sectorLabel:{enabled:Se,positionOffset:ke,positionRatio:$t,formatter:St,...xn},calloutLine:{colors:Jt(Ye),length:be,strokeWidth:be},fills:Jt(CR),strokes:Jt(Ye),tooltip:Ea,shadow:Yf,..._r,...fo,...Ml(rr,["fill"]),...Ml(Vs,["stroke"])};Ab.defaultColorRange=Jt(Jt(Ye));Ab.defaultPatternFills=Jt(Ye);var Tce={...Ab,type:Pe(Es("donut")),innerRadiusOffset:ke,innerRadiusRatio:$t,innerCircle:{fill:Me,fillOpacity:$t},innerLabels:Xc({text:Pe(Me),spacing:be,...xn},"inner label options array")},Ice={series:{title:{enabled:!0,fontWeight:{$ref:"fontWeight"},fontSize:{$rem:[1.1666666666666667]},fontFamily:{$ref:"fontFamily"},color:{$ref:"subtleTextColor"},spacing:5},calloutLabel:{enabled:!0,fontSize:{$ref:"fontSize"},fontFamily:{$ref:"fontFamily"},fontWeight:{$ref:"fontWeight"},color:{$ref:"textColor"},offset:3,minAngle:.001},sectorLabel:{enabled:!0,fontWeight:{$ref:"fontWeight"},fontSize:{$ref:"fontSize"},fontFamily:{$ref:"fontFamily"},color:{$ref:"backgroundColor"},positionOffset:0,positionRatio:.5},calloutLine:{length:10,strokeWidth:2,colors:{$map:[{$if:[{$or:[{$isGradient:[{$value:"$1"}]},{$isPattern:[{$value:"$1"}]}]},{$path:["../../strokes/$index",{$ref:"foregroundColor"}]},{$value:"$1"}]},{$if:[{$eq:[{$path:"../strokeWidth"},0]},{$path:"../fills"},{$path:"../strokes"}]}]}},fills:{$palette:"fills"},strokes:{$palette:"strokes"},defaultColorRange:{$palette:"gradients"},defaultPatternFills:VE,fillOpacity:1,strokeOpacity:1,strokeWidth:0,lineDash:[0],lineDashOffset:0,rotation:0,sectorSpacing:1,innerRadiusRatio:{$if:[{$eq:[{$path:["./innerRadiusOffset",void 0]},void 0]},.7,void 0]},shadow:{enabled:!1,color:Gl,xOffset:3,yOffset:3,blur:5},innerLabels:{fontSize:{$ref:"fontSize"},fontFamily:{$ref:"fontFamily"},fontWeight:{$ref:"fontWeight"},color:{$ref:"textColor"},spacing:2}},legend:{enabled:!0}},Lce={type:"series",optionsKey:"series[]",packageType:"community",chartTypes:["polar"],identifier:"donut",moduleFactory:e=>new Eb(e),tooltipDefaults:{range:"exact"},themeTemplate:Ice},kce={type:"series",name:"donut",chartType:"polar",options:Tce,create:e=>new Eb(e)},AG=class extends Kt{constructor(){super(...arguments),this.showInLegend=!1}};R([A()],AG.prototype,"showInLegend",2);var Lh=class extends Ui{constructor(){super(...arguments),this.offset=3,this.minAngle=0,this.minSpacing=4,this.maxCollisionOffset=50,this.avoidCollisions=!0}};R([A()],Lh.prototype,"offset",2);R([A(An.restrict({min:0,max:360}))],Lh.prototype,"minAngle",2);R([A()],Lh.prototype,"minSpacing",2);R([A()],Lh.prototype,"maxCollisionOffset",2);R([A()],Lh.prototype,"avoidCollisions",2);var fA=class extends Ui{constructor(){super(...arguments),this.positionOffset=0,this.positionRatio=.5}};R([A()],fA.prototype,"positionOffset",2);R([A()],fA.prototype,"positionRatio",2);var Tb=class extends Ge{constructor(){super(...arguments),this.length=10,this.strokeWidth=1}};R([A(Wi(Cs(Do,Tn,Ro)))],Tb.prototype,"colors",2);R([A()],Tb.prototype,"length",2);R([A()],Tb.prototype,"strokeWidth",2);var ct=class extends Pn{constructor(){super(...arguments),this.defaultColorRange=[],this.defaultPatternFills=[],this.fills=Object.values(mi),this.strokes=Object.values(Qr),this.fillOpacity=1,this.strokeOpacity=1,this.lineDash=[0],this.lineDashOffset=0,this.cornerRadius=0,this.rotation=0,this.outerRadiusOffset=0,this.outerRadiusRatio=1,this.strokeWidth=1,this.sectorSpacing=0,this.hideZeroValueSectorsInLegend=!1,this.title=new AG,this.shadow=new Vr,this.calloutLabel=new Lh,this.sectorLabel=new fA,this.calloutLine=new Tb,this.tooltip=new Is}};R([A()],ct.prototype,"angleKey",2);R([A()],ct.prototype,"angleName",2);R([A()],ct.prototype,"angleFilterKey",2);R([A()],ct.prototype,"radiusKey",2);R([A()],ct.prototype,"radiusName",2);R([A()],ct.prototype,"radiusMin",2);R([A()],ct.prototype,"radiusMax",2);R([A()],ct.prototype,"calloutLabelKey",2);R([A()],ct.prototype,"calloutLabelName",2);R([A()],ct.prototype,"sectorLabelKey",2);R([A()],ct.prototype,"sectorLabelName",2);R([A()],ct.prototype,"legendItemKey",2);R([A(Wi(PR))],ct.prototype,"defaultColorRange",2);R([A(Wi(Tn))],ct.prototype,"defaultPatternFills",2);R([A(Wi(Cs(Do,Tn,Ro)))],ct.prototype,"fills",2);R([A()],ct.prototype,"strokes",2);R([A()],ct.prototype,"fillOpacity",2);R([A()],ct.prototype,"strokeOpacity",2);R([A()],ct.prototype,"lineDash",2);R([A()],ct.prototype,"lineDashOffset",2);R([A()],ct.prototype,"cornerRadius",2);R([A()],ct.prototype,"itemStyler",2);R([A()],ct.prototype,"rotation",2);R([A()],ct.prototype,"outerRadiusOffset",2);R([A()],ct.prototype,"outerRadiusRatio",2);R([A()],ct.prototype,"strokeWidth",2);R([A()],ct.prototype,"sectorSpacing",2);R([A()],ct.prototype,"hideZeroValueSectorsInLegend",2);R([A()],ct.prototype,"title",2);R([A()],ct.prototype,"shadow",2);R([A()],ct.prototype,"calloutLabel",2);R([A()],ct.prototype,"sectorLabel",2);R([A()],ct.prototype,"calloutLine",2);R([A()],ct.prototype,"tooltip",2);var Pce=class extends Ef{constructor(e,t,i,s){super(e,t,i,s),this.angleKey=s.properties.angleKey,this.radiusKey=s.properties.radiusKey,this.calloutLabelKey=s.properties.calloutLabelKey,this.sectorLabelKey=s.properties.sectorLabelKey}},Ib=class extends Rb{constructor(e){super({moduleCtx:e,categoryKey:void 0,pickModes:[1,0],useLabelLayer:!0,animationResetFns:{item:gA,label:Da}}),this.properties=new ct,this.phantomNodeData=void 0,this.backgroundGroup=new Bs({name:`${this.id}-background`,zIndex:0}),this.previousRadiusScale=new Pr,this.radiusScale=new Pr,this.phantomGroup=this.backgroundGroup.appendChild(new Ne({name:"phantom"})),this.phantomSelection=Ai.select(this.phantomGroup,()=>this.nodeFactory(),!1),this.calloutLabelGroup=this.contentGroup.appendChild(new Ne({name:"pieCalloutLabels"})),this.calloutLabelSelection=new Ai(this.calloutLabelGroup,Ne),this.zerosumRingsGroup=this.backgroundGroup.appendChild(new Ne({name:`${this.id}-zerosumRings`})),this.zerosumOuterRing=this.zerosumRingsGroup.appendChild(new _i({shape:"circle"})),this.surroundingRadius=void 0,this.NodeEvent=Pce,this.angleScale=new Pr,this.angleScale.domain=[0,1],this.angleScale.range=[-Math.PI,Math.PI].map(t=>t+Math.PI/2),this.phantomGroup.opacity=.2}get calloutNodeData(){return this.phantomNodeData??this.nodeData}attachSeries(e,t,i){super.attachSeries(e,t,i),e.appendChild(this.backgroundGroup)}detachSeries(e,t,i){super.detachSeries(e,t,i),e==null||e.removeChild(this.backgroundGroup)}setSeriesIndex(e){return super.setSeriesIndex(e)?(this.backgroundGroup.zIndex=[0,e],!0):!1}nodeFactory(){const e=new rs;return e.miterLimit=1e9,e}getSeriesDomain(e){return e==="x"?this.angleScale.domain:this.radiusScale.domain}async processData(e){var w,b,x,D,E;if(this.data==null||!this.properties.isValid())return;const{visible:t,id:i,ctx:{legendManager:s}}=this,{angleKey:n,angleFilterKey:r,radiusKey:o,calloutLabelKey:a,sectorLabelKey:l,legendItemKey:d}=this.properties,h=()=>(T,k)=>t&&s.getItemEnabled({seriesId:i,itemId:k})?T:0,p=!this.ctx.animationManager.isSkipped(),f=[],v=[];d?f.push(kr(d,"band",{id:"legendItemKey"})):a?f.push(kr(a,"band",{id:"calloutLabelKey"})):l&&f.push(kr(l,"band",{id:"sectorLabelKey"}));const y=this.radiusScale.type,S=this.angleScale.type;o&&v.push(RE(o,{id:"radiusValue",min:this.properties.radiusMin??0,max:this.properties.radiusMax,processor:h}),et(o,y,{id:"radiusRaw",processor:h}),Wc("radiusValue",[0,1],1,this.properties.radiusMin??0,this.properties.radiusMax)),a&&v.push(et(a,"band",{id:"calloutLabelValue"})),l&&v.push(et(l,"band",{id:"sectorLabelValue"})),d&&v.push(et(d,"band",{id:"legendItemValue"})),r&&v.push(Up(r,S,{id:"angleFilterValue",onlyPositive:!0,invalidValue:0,processor:h}),et(r,S,{id:"angleFilterRaw"}),Wc("angleFilterValue",[0,1],0,0)),p&&((x=(b=(w=this.processedData)==null?void 0:w.reduced)==null?void 0:b.animationValidation)!=null&&x.uniqueKeys)&&f.length>0&&v.push(Sh(this.id,this.processedData)),v.push(bh()),await this.requestDataModel(e,this.data,{props:[...f,Up(n,S,{id:"angleValue",onlyPositive:!0,invalidValue:0,processor:h}),et(n,S,{id:"angleRaw"}),Wc("angleValue",[0,1],0,0),...v]});for(const T of((E=(D=this.processedData)==null?void 0:D.defs)==null?void 0:E.values)??[]){const{id:k,missing:P,property:O}=T,F=rE(this,P);k!=="angleRaw"&&F>0&&me.warnOnce(`no value was found for the key '${String(O)}' on ${F} data element${F>1?"s":""}`)}this.animationState.transition("updateData")}maybeRefreshNodeData(){if(!this.nodeDataRefresh)return;const{nodeData:e=[],phantomNodeData:t}=this.createNodeData()??{};this.nodeData=e,this.phantomNodeData=t,this.nodeDataRefresh=!1}getProcessedDataValues(e,t){const i=e.resolveColumnById(this,"angleValue",t),s=e.resolveColumnById(this,"angleRaw",t),n=this.properties.angleFilterKey!=null?e.resolveColumnById(this,"angleFilterValue",t):void 0,r=this.properties.angleFilterKey!=null?e.resolveColumnById(this,"angleFilterRaw",t):void 0,o=this.properties.radiusKey?e.resolveColumnById(this,"radiusValue",t):void 0,a=this.properties.radiusKey?e.resolveColumnById(this,"radiusRaw",t):void 0,l=this.properties.calloutLabelKey?e.resolveColumnById(this,"calloutLabelValue",t):void 0,d=this.properties.sectorLabelKey?e.resolveColumnById(this,"sectorLabelValue",t):void 0,h=this.properties.legendItemKey?e.resolveColumnById(this,"legendItemValue",t):void 0;return{angleValues:i,angleRawValues:s,angleFilterValues:n,angleFilterRawValues:r,radiusValues:o,radiusRawValues:a,calloutLabelValues:l,sectorLabelValues:d,legendItemValues:h}}createNodeData(){var P;const{id:e,processedData:t,dataModel:i,angleScale:s,ctx:{legendManager:n},visible:r}=this,{rotation:o}=this.properties;if(!i||(t==null?void 0:t.type)!=="ungrouped")return;const{angleValues:a,angleRawValues:l,angleFilterValues:d,angleFilterRawValues:h,radiusValues:p,radiusRawValues:f,calloutLabelValues:v,sectorLabelValues:y,legendItemValues:S}=this.getProcessedDataValues(i,t),w=(h==null?void 0:h.some((O,F)=>O>l[F]))??!1;let b=0,x=0;const D=[],E=h!=null?[]:void 0,T=t.dataSources.get(this.id)??[],k=(P=t.invalidData)==null?void 0:P.get(this.id);return T.forEach((O,F)=>{if((k==null?void 0:k[F])===!0)return;const z=w?d[F]:a[F],V=h!=null&&!w?Math.sqrt(h[F]/l[F]):1,U=s.convert(b)+Yt(o);b=z,x+=z;const J=s.convert(b)+Yt(o),ye=Math.abs(J-U),Ce=U+ye/2,G=l[F],ne=((p==null?void 0:p[F])??1)*V,ge=f==null?void 0:f[F],B=S==null?void 0:S[F],_=this.getLabels(O,Ce,ye,!0,v==null?void 0:v[F],y==null?void 0:y[F],B),Y=this.getSectorFormat(O,F,!1),Z={itemId:F,series:this,datum:O,datumIndex:F,angleValue:G,midAngle:Ce,midCos:Math.cos(Ce),midSin:Math.sin(Ce),startAngle:U,endAngle:J,radius:ne,innerRadius:Math.max(this.radiusScale.convert(0),0),outerRadius:Math.max(this.radiusScale.convert(ne),0),sectorFormat:Y,radiusValue:ge,legendItemValue:B,enabled:r&&n.getItemEnabled({seriesId:e,itemId:F}),..._};D.push(Z),E!=null&&E.push({...Z,radius:1,innerRadius:Math.max(this.radiusScale.convert(0),0),outerRadius:Math.max(this.radiusScale.convert(1),0)})}),this.zerosumOuterRing.visible=x===0,{itemId:e,nodeData:D,labelData:D,phantomNodeData:E}}getLabels(e,t,i,s,n,r,o){const{calloutLabel:a,sectorLabel:l,legendItemKey:d}=this.properties,h=!s||a.enabled?this.properties.calloutLabelKey:void 0,p=!s||l.enabled?this.properties.sectorLabelKey:void 0;if(!h&&!p&&!d)return{};const f={datum:e,angleKey:this.properties.angleKey,angleName:this.properties.angleName,radiusKey:this.properties.radiusKey,radiusName:this.properties.radiusName,calloutLabelKey:this.properties.calloutLabelKey,calloutLabelName:this.properties.calloutLabelName,sectorLabelKey:this.properties.sectorLabelKey,sectorLabelName:this.properties.sectorLabelName,legendItemKey:this.properties.legendItemKey},v={};return h&&i>=Yt(a.minAngle)&&(v.calloutLabel={...this.getTextAlignment(t),text:this.getLabelText(a,{...f,value:n}),hidden:!1,collisionTextAlign:void 0,collisionOffsetY:0,box:void 0}),p&&(v.sectorLabel={text:this.getLabelText(l,{...f,value:r})}),d!=null&&o!=null&&(v.legendItem={key:d,text:o}),v}getTextAlignment(e){const t=[{textAlign:"center",textBaseline:"bottom"},{textAlign:"left",textBaseline:"middle"},{textAlign:"center",textBaseline:"hanging"},{textAlign:"right",textBaseline:"middle"}],i=Bp(e),s=-.75*Math.PI,n=i-s,r=Math.floor(n/(Math.PI/2)),o=H2(r,t.length);return t[o]}getNodeFill(e,t,i){return _c(e,{bounds:"series",colorStops:t.map(s=>({color:s})),gradient:"radial",rotation:0,reverse:!0},{pattern:"forward-slanted-lines",fill:i,fillOpacity:1,backgroundFill:"transparent",backgroundFillOpacity:1,stroke:i,strokeOpacity:1,strokeWidth:4,rotation:0})}getFillParams(e,t,i){if(!(!Fr(e)||e.bounds==="item"))return{centerX:0,centerY:0,innerRadius:t,outerRadius:i}}getSectorFormat(e,t,i){const{angleKey:s,radiusKey:n,calloutLabelKey:r,sectorLabelKey:o,legendItemKey:a,fills:l,strokes:d,defaultColorRange:h,defaultPatternFills:p,itemStyler:f}=this.properties,v=d[t%d.length],{fill:y,fillOpacity:S,stroke:w,strokeWidth:b,strokeOpacity:x,lineDash:D,lineDashOffset:E,cornerRadius:T}=Je(i&&this.properties.highlightStyle.item,{fill:l.length>0?l[t%l.length]:void 0,stroke:v,strokeWidth:this.getStrokeWidth(this.properties.strokeWidth),strokeOpacity:this.getOpacity()},this.properties),k=h[t%h.length],P=p[t%p.length],O=y??"black";let F;return f&&(F=this.cachedDatumCallback(this.getDatumId(e,t)+(i?"-highlight":"-hide"),()=>this.callWithContext(f,{datum:e,angleKey:s,radiusKey:n,calloutLabelKey:r,sectorLabelKey:o,legendItemKey:a,fill:this.getNodeFill(O,k,P),strokeOpacity:x,stroke:w,strokeWidth:b,fillOpacity:S,lineDash:D,lineDashOffset:E,cornerRadius:T,highlighted:i,seriesId:this.id}))),{fill:this.getNodeFill((F==null?void 0:F.fill)??O,k,P),fillOpacity:(F==null?void 0:F.fillOpacity)??S,stroke:(F==null?void 0:F.stroke)??w,strokeWidth:(F==null?void 0:F.strokeWidth)??b,strokeOpacity:(F==null?void 0:F.strokeOpacity)??x,lineDash:(F==null?void 0:F.lineDash)??D,lineDashOffset:(F==null?void 0:F.lineDashOffset)??E,cornerRadius:(F==null?void 0:F.cornerRadius)??T}}getOuterRadius(){return Math.max(this.radius*this.properties.outerRadiusRatio+this.properties.outerRadiusOffset,0)}updateRadiusScale(e){var s;const t=[0,this.getOuterRadius()];this.radiusScale.range=t,e&&(this.previousRadiusScale.range=t);const i=n=>({...n,innerRadius:Math.max(this.radiusScale.convert(0),0),outerRadius:Math.max(this.radiusScale.convert(n.radius),0)});this.nodeData=this.nodeData.map(i),this.phantomNodeData=(s=this.phantomNodeData)==null?void 0:s.map(i)}getTitleTranslationY(){var n;const e=Math.max(0,this.radiusScale.range[1]);if(e===0)return NaN;const i=2+(((n=this.properties.title)==null?void 0:n.spacing)??0),s=Math.max(0,-e);return-e-i-s}update({seriesRect:e}){const{title:t}=this.properties,i={seriesRectWidth:e==null?void 0:e.width,seriesRectHeight:e==null?void 0:e.height},s=yo(this.nodeDataDependencies,i)!=null;if(s&&(this._nodeDataDependencies=i),this.maybeRefreshNodeData(),this.updateTitleNodes(),this.updateRadiusScale(s),this.contentGroup.translationX=this.centerX,this.contentGroup.translationY=this.centerY,this.highlightGroup.translationX=this.centerX,this.highlightGroup.translationY=this.centerY,this.backgroundGroup.translationX=this.centerX,this.backgroundGroup.translationY=this.centerY,this.labelGroup&&(this.labelGroup.translationX=this.centerX,this.labelGroup.translationY=this.centerY),t){const n=this.getTitleTranslationY();t.node.y=isFinite(n)?n:0;const r=t.node.getBBox();t.node.visible=t.enabled&&isFinite(n)&&!this.bboxIntersectsSurroundingSeries(r)}this.zerosumOuterRing.fillOpacity=0,this.zerosumOuterRing.stroke=this.properties.calloutLabel.color,this.zerosumOuterRing.strokeWidth=1,this.zerosumOuterRing.strokeOpacity=1,this.updateNodeMidPoint(),this.updateSelections(),this.updateNodes(e)}updateTitleNodes(){var i,s;const{oldTitle:e}=this,{title:t}=this.properties;e!==t&&(e&&((i=this.labelGroup)==null||i.removeChild(e.node)),t&&(t.node.textBaseline="bottom",(s=this.labelGroup)==null||s.appendChild(t.node)),this.oldTitle=t)}updateNodeMidPoint(){var t;const e=i=>{const s=i.innerRadius+(i.outerRadius-i.innerRadius)/2;i.midPoint={x:i.midCos*Math.max(0,s),y:i.midSin*Math.max(0,s)}};this.nodeData.forEach(e),(t=this.phantomNodeData)==null||t.forEach(e)}updateSelections(){const{itemSelection:e,highlightSelection:t,phantomSelection:i,highlightLabelSelection:s,calloutLabelSelection:n,labelSelection:r}=this,o=this.nodeData.map(l=>({...l,sectorFormat:{...l.sectorFormat}})),a=(l,d)=>{l.update(d,void 0,h=>this.getDatumId(h.datum,h.datumIndex)),this.ctx.animationManager.isSkipped()&&l.cleanup()};a(e,this.nodeData),a(t,o),a(i,this.phantomNodeData??[]),n.update(this.calloutNodeData,l=>{const d=new kn;d.tag=0,d.pointerEvents=1,l.appendChild(d);const h=new Vi;h.tag=1,h.pointerEvents=1,l.appendChild(h)}),r.update(this.nodeData),s.update(o)}updateNodes(e){const t=this.ctx.highlightManager.getActiveHighlight(),{visible:i}=this;this.backgroundGroup.visible=i,this.contentGroup.visible=i,this.highlightGroup.visible=i&&(t==null?void 0:t.series)===this,this.highlightLabel.visible=i&&(t==null?void 0:t.series)===this,this.labelGroup&&(this.labelGroup.visible=i),this.contentGroup.opacity=this.getOpacity();const s=this.radiusScale.range[0],n=this.radiusScale.range[1],r=this.getShapeFillBBox(),o=this.ctx.animationManager.isSkipped(),a=(l,d,h,p)=>{const f=this.getSectorFormat(d.datum,d.itemId,p);d.sectorFormat.fill=f.fill,d.sectorFormat.stroke=f.stroke,o&&(l.startAngle=d.startAngle,l.endAngle=d.endAngle,l.innerRadius=d.innerRadius,l.outerRadius=d.outerRadius),(p||o)&&(l.fill=f.fill,l.stroke=f.stroke);const v=this.getFillParams(f.fill,s,n);tb(l,f.fill,r,v),l.strokeWidth=f.strokeWidth,l.fillOpacity=f.fillOpacity,l.strokeOpacity=f.strokeOpacity,l.lineDash=f.lineDash,l.lineDashOffset=f.lineDashOffset,l.cornerRadius=f.cornerRadius,l.fillShadow=this.properties.shadow;const y=Math.max((this.properties.sectorSpacing+(f.stroke!=null?f.strokeWidth:0))/2,0);l.inset=y,l.lineJoin=this.properties.sectorSpacing>=0||y>0?"miter":"round"};this.itemSelection.each((l,d,h)=>a(l,d,h,!1)),this.highlightSelection.each((l,d,h)=>{a(l,d,h,!0),l.visible=d.itemId===(t==null?void 0:t.itemId)}),this.phantomSelection.each((l,d,h)=>a(l,d,h,!1)),this.updateCalloutLineNodes(),this.updateCalloutLabelNodes(e),this.updateSectorLabelNodes(),this.updateZerosumRings(),this.animationState.transition("update")}updateCalloutLineNodes(){const{calloutLine:{length:e,strokeWidth:t,colors:i},strokes:s}=this.properties,n=t,r=p3(i)?i:s,{offset:o}=this.properties.calloutLabel;this.calloutLabelSelection.selectByTag(0).forEach((a,l)=>{const d=a.closestDatum(),{calloutLabel:h,outerRadius:p}=d;if(h!=null&&h.text&&!h.hidden&&p!==0){a.visible=!0,a.strokeWidth=n,a.stroke=r[l%r.length],a.fill=void 0;const f=d.midCos*p,v=d.midSin*p;let y=d.midCos*(p+e),S=d.midSin*(p+e);if((h.collisionTextAlign??h.collisionOffsetY!==0)&&h.box!=null){const b=h.box;let x=y,D=S;y<b.x?x=b.x:y>b.x+b.width&&(x=b.x+b.width),S<b.y?D=b.y:S>b.y+b.height&&(D=b.y+b.height);const E=x-y,T=D-S,k=Math.sqrt(Math.pow(E,2)+Math.pow(T,2)),P=k-o;P>0&&(y=y+E*P/k,S=S+T*P/k)}a.x1=f,a.y1=v,a.x2=y,a.y2=S}else a.visible=!1})}getLabelOverflow(e,t,i){const s=-this.centerX,n=s+i.width,r=-this.centerY,o=r+i.height,a=1;let l=1;t.x+a<s?l=(t.x+t.width-s)/t.width:t.x+t.width-a>n&&(l=(n-t.x)/t.width);const d=t.y+a<r||t.y+t.height-a>o,h=l===1?e.length:Math.floor(e.length*l)-1,p=this.bboxIntersectsSurroundingSeries(t);return{textLength:h,hasVerticalOverflow:d,hasSurroundingSeriesOverflow:p}}bboxIntersectsSurroundingSeries(e){const{surroundingRadius:t}=this;if(t==null)return!1;const i=[{x:e.x,y:e.y},{x:e.x+e.width,y:e.y},{x:e.x+e.width,y:e.y+e.height},{x:e.x,y:e.y+e.height}],s=t**2;return i.some(n=>n.x**2+n.y**2>s)}computeCalloutLabelCollisionOffsets(){const{radiusScale:e}=this,{calloutLabel:t,calloutLine:i}=this.properties,{offset:s,minSpacing:n}=t,r=e.convert(0),o=b=>!b.calloutLabel||b.outerRadius===0,a=this.calloutNodeData,l=a.filter(b=>!o(b));if(l.forEach(b=>{const x=b.calloutLabel;x!=null&&(x.hidden=!1,x.collisionTextAlign=void 0,x.collisionOffsetY=0)}),l.length<=1)return;const d=l.filter(b=>b.midCos<0).sort((b,x)=>b.midSin-x.midSin),h=l.filter(b=>b.midCos>=0).sort((b,x)=>b.midSin-x.midSin),p=l.filter(b=>{var x;return b.midSin<0&&((x=b.calloutLabel)==null?void 0:x.textAlign)==="center"}).sort((b,x)=>b.midCos-x.midCos),f=l.filter(b=>{var x;return b.midSin>=0&&((x=b.calloutLabel)==null?void 0:x.textAlign)==="center"}).sort((b,x)=>b.midCos-x.midCos),v=b=>{const x=b.calloutLabel;if(x==null)return De.zero.clone();const D=b.outerRadius+i.length+s,E=b.midCos*D,T=b.midSin*D+x.collisionOffsetY,k=x.collisionTextAlign??x.textAlign,P=x.textBaseline;return Vi.computeBBox(x.text,E,T,{font:this.properties.calloutLabel,textAlign:k,textBaseline:P})},y=(b,x,D)=>{const E=v(b).grow(n/2),T=v(x).grow(n/2);E.x<T.x+T.width&&E.x+E.width>T.x&&(D==="to-top"?E.y<T.y+T.height:E.y+E.height>T.y)&&(x.calloutLabel.collisionOffsetY=D==="to-top"?E.y-T.y-T.height:E.y+E.height-T.y)},S=b=>{const x=b.slice().sort((E,T)=>Math.abs(E.midSin)-Math.abs(T.midSin))[0],D=b.indexOf(x);for(let E=D-1;E>=0;E--){const T=b[E+1],k=b[E];y(T,k,"to-top")}for(let E=D+1;E<b.length;E++){const T=b[E-1],k=b[E];y(T,k,"to-bottom")}},w=b=>{const x=l.some(O=>O.calloutLabel.collisionOffsetY!==0),D=b.map(O=>v(O)),E=D.map(O=>O.clone().grow(n/2));let T=!1;for(let O=0;O<E.length&&!T;O++){const F=E[O];for(let z=O+1;z<b.length;z++){const V=E[z];if(F.collidesBBox(V)){T=!0;break}}}const k=a.map(O=>{const{startAngle:F,endAngle:z,outerRadius:V}=O;return{startAngle:F,endAngle:z,innerRadius:r,outerRadius:V}}),P=D.some(O=>k.some(F=>DG(O,F)));!T&&!x&&!P||b.filter(O=>O.calloutLabel.textAlign==="center").forEach(O=>{const F=O.calloutLabel;O.midCos<0?F.collisionTextAlign="right":O.midCos>0?F.collisionTextAlign="left":F.collisionTextAlign="center"})};S(d),S(h),w(p),w(f)}updateCalloutLabelNodes(e){const{radiusScale:t}=this,{calloutLabel:i,calloutLine:s}=this.properties,n=s.length,{offset:r,color:o}=i,a=new Vi;this.calloutLabelSelection.selectByTag(1).forEach(l=>{const d=l.closestDatum(),h=d.calloutLabel,p=t.convert(d.radius),f=Math.max(0,p);if(!(h!=null&&h.text)||f===0||h.hidden){l.visible=!1;return}const v=f+n+r,y=d.midCos*v,S=d.midSin*v+h.collisionOffsetY,w={textAlign:h.collisionTextAlign??h.textAlign,textBaseline:h.textBaseline};a.text=h.text,a.x=y,a.y=S,a.setFont(this.properties.calloutLabel),a.setAlign(w);const b=a.getBBox();let x=h.text,D=!0;if(i.avoidCollisions){const{textLength:E,hasVerticalOverflow:T}=this.getLabelOverflow(h.text,b,e);x=h.text.length===E?h.text:`${h.text.substring(0,E)}`,D=!T}l.text=x,l.x=y,l.y=S,l.setFont(this.properties.calloutLabel),l.setAlign(w),l.fill=o,l.visible=D})}computeLabelsBBox(e,t){const{calloutLabel:i,calloutLine:s}=this.properties,n=s.length,{offset:r,maxCollisionOffset:o,minSpacing:a}=i;if(!i.avoidCollisions)return null;this.maybeRefreshNodeData(),this.updateRadiusScale(!1),this.computeCalloutLabelCollisionOffsets();const l=[],d=new Vi;let h;const{title:p}=this.properties;if(p!=null&&p.text&&p.enabled){const f=this.getTitleTranslationY();isFinite(f)&&(d.text=p.text,d.x=0,d.y=f,d.setFont(p),d.setAlign({textBaseline:"bottom",textAlign:"center"}),h=d.getBBox(),l.push(h))}return this.calloutNodeData.forEach(f=>{const v=f.calloutLabel;if(!v||f.outerRadius===0)return null;const y=f.outerRadius+n+r,S=f.midCos*y,w=f.midSin*y+v.collisionOffsetY;d.text=v.text,d.x=S,d.y=w,d.setFont(this.properties.calloutLabel),d.setAlign({textAlign:v.collisionTextAlign??v.textAlign,textBaseline:v.textBaseline});const b=d.getBBox();if(v.box=b,Math.abs(v.collisionOffsetY)>o){v.hidden=!0;return}if(h){const x=-this.centerY,D=new De(h.x-a,x,h.width+2*a,h.y+h.height+a-x);if(b.collidesBBox(D)){v.hidden=!0;return}}if(e.hideWhenNecessary){const{textLength:x,hasVerticalOverflow:D,hasSurroundingSeriesOverflow:E}=this.getLabelOverflow(v.text,b,t),T=v.text.length>2&&x<2;if(D||T||E){v.hidden=!0;return}}v.hidden=!1,l.push(b)}),l.length===0?null:De.merge(l)}updateSectorLabelNodes(){var f;const{radiusScale:e}=this,t=e.convert(0),{fontSize:i,fontStyle:s,fontWeight:n,fontFamily:r,positionOffset:o,positionRatio:a,color:l}=this.properties.sectorLabel,d=t>0,h=((f=this.ctx.legendManager.getData(this.id))==null?void 0:f.filter(v=>v.enabled).length)===1,p=(v,y)=>{const{sectorLabel:S,outerRadius:w,startAngle:b,endAngle:x}=y;let D=!1;if(S&&w!==0){const E=t*(1-a)+w*a+o;v.fill=l,v.fontStyle=s,v.fontWeight=n,v.fontSize=i,v.fontFamily=r,v.text=S.text,!d&&h?(v.x=0,v.y=0):(v.x=y.midCos*E,v.y=y.midSin*E),v.textAlign="center",v.textBaseline="middle";const k=v.getBBox(),P=[[k.x,k.y],[k.x+k.width,k.y],[k.x+k.width,k.y+k.height],[k.x,k.y+k.height]],O={startAngle:b,endAngle:x,innerRadius:t,outerRadius:w};P.every(([F,z])=>rC(F,z,O))&&(D=!0)}v.visible=D};this.labelSelection.each(p),this.highlightLabelSelection.each(p)}updateZerosumRings(){this.zerosumOuterRing.size=this.getOuterRadius()*2}pickNodeClosestDatum(e){return pA(this,e)}getTooltipContent(e){var P;const{id:t,dataModel:i,processedData:s,properties:n}=this,{legendItemKey:r,calloutLabelKey:o,calloutLabelName:a,sectorLabelKey:l,sectorLabelName:d,angleKey:h,angleName:p,radiusKey:f,radiusName:v,tooltip:y}=n,S=this.properties.title.text;if(!i||!s)return;const w=(P=s.dataSources.get(this.id))==null?void 0:P[e],{angleRawValues:b,legendItemValues:x,calloutLabelValues:D,sectorLabelValues:E}=this.getProcessedDataValues(i,s),T=b[e],k=(x==null?void 0:x[e])??(o===h||D==null?void 0:D[e])??(l===h||E==null?void 0:E[e])??p;return y.formatTooltip(this.properties,{title:S,symbol:this.legendItemSymbol(e),data:[{label:k,fallbackLabel:h,value:ha(T,3)}]},{seriesId:t,datum:w,title:p,legendItemKey:r,calloutLabelKey:o,calloutLabelName:a,sectorLabelKey:l,sectorLabelName:d,angleKey:h,angleName:p,radiusKey:f,radiusName:v,...this.getSectorFormat(w,e,!1)})}legendItemSymbol(e){var h,p;const t=(p=(h=this.processedData)==null?void 0:h.dataSources.get(this.id))==null?void 0:p[e],i=this.getSectorFormat(t,e,!1),{fillOpacity:s,strokeOpacity:n,strokeWidth:r,lineDash:o,lineDashOffset:a}=this.properties;let{fill:l}=i;const{stroke:d}=i;return Fr(l)&&(l={...l,gradient:"linear",rotation:0,reverse:!1}),{marker:{fill:l,stroke:d,fillOpacity:s,strokeOpacity:n,strokeWidth:r,lineDash:o,lineDashOffset:a}}}getLegendData(e){var E,T,k,P,O,F;const{id:t,visible:i,processedData:s,dataModel:n,ctx:{legendManager:r}}=this;if(!n||!s||e!=="category")return[];const{angleKey:o,calloutLabelKey:a,sectorLabelKey:l,legendItemKey:d,showInLegend:h}=this.properties;if(!d&&(!a||a===o)&&(!l||l===o))return[];const{calloutLabelValues:p,sectorLabelValues:f,legendItemValues:v,angleRawValues:y}=this.getProcessedDataValues(n,s),S=((E=this.properties.title)==null?void 0:E.showInLegend)&&this.properties.title.text,w=[],b=this.properties.hideZeroValueSectorsInLegend,x=s.dataSources.get(this.id),D=(T=s.invalidData)==null?void 0:T.get(this.id);for(let z=0;z<s.input.count;z++){const V=x==null?void 0:x[z],U=y[z];if((D==null?void 0:D[z])===!0||b&&U===0)continue;const J=[];S&&J.push(S);const ye=this.getLabels(V,2*Math.PI,2*Math.PI,!1,p==null?void 0:p[z],f==null?void 0:f[z],v==null?void 0:v[z]);d&&ye.legendItem!==void 0?J.push(ye.legendItem.text):a&&a!==o&&((k=ye.calloutLabel)==null?void 0:k.text)!==void 0?J.push((P=ye.calloutLabel)==null?void 0:P.text):l&&l!==o&&((O=ye.sectorLabel)==null?void 0:O.text)!==void 0&&J.push((F=ye.sectorLabel)==null?void 0:F.text),J.length!==0&&w.push({legendType:"category",id:t,datum:V,itemId:z,seriesId:t,enabled:i&&r.getItemEnabled({seriesId:t,itemId:z}),label:{text:J.join(" - ")},symbol:this.legendItemSymbol(z),legendItemName:d!=null?V[d]:void 0,hideInLegend:!h})}return w}setLegendState(e){const{id:t,ctx:{legendManager:i,updateService:s}}=this;e.forEach((n,r)=>i.toggleItem(n,t,r)),i.update(),s.update(4)}animateEmptyUpdateReady(e){const{animationManager:t}=this.ctx,i=Uc(!0,this.properties.rotation,this.radiusScale,this.previousRadiusScale);li(this.id,"nodes",t,[this.itemSelection,this.highlightSelection,this.phantomSelection],i.nodes,(s,n)=>this.getDatumId(n.datum,n.datumIndex)),ft(this,"callout",t,this.calloutLabelSelection),ft(this,"sector",t,this.labelSelection),ft(this,"highlight",t,this.highlightLabelSelection),this.previousRadiusScale.range=this.radiusScale.range}animateWaitingUpdateReady(){var f,v,y,S;const{itemSelection:e,highlightSelection:t,phantomSelection:i,processedData:s,radiusScale:n,previousRadiusScale:r}=this,{animationManager:o}=this.ctx,a=(v=(f=s==null?void 0:s.reduced)==null?void 0:f.diff)==null?void 0:v[this.id];this.ctx.animationManager.stopByAnimationGroupId(this.id);const l=((a==null?void 0:a.moved.size)??0)===0,d=((s==null?void 0:s.defs.keys.length)??0)>0,h=((S=(y=s==null?void 0:s.reduced)==null?void 0:y.animationValidation)==null?void 0:S.uniqueKeys)??!0;(!l||!d||!h)&&this.ctx.animationManager.skipCurrentBatch();const p=Uc(!1,this.properties.rotation,n,r);li(this.id,"nodes",o,[e,t,i],p.nodes,(w,b)=>this.getDatumId(b.datum,b.datumIndex),a),ft(this,"callout",this.ctx.animationManager,this.calloutLabelSelection),ft(this,"sector",this.ctx.animationManager,this.labelSelection),ft(this,"highlight",this.ctx.animationManager,this.highlightLabelSelection),this.previousRadiusScale.range=this.radiusScale.range}animateClearingUpdateEmpty(){const{itemSelection:e,highlightSelection:t,phantomSelection:i,radiusScale:s,previousRadiusScale:n}=this,{animationManager:r}=this.ctx,o=Uc(!1,this.properties.rotation,s,n);li(this.id,"nodes",r,[e,t,i],o.nodes,(a,l)=>this.getDatumId(l.datum,l.datumIndex)),hl(this,"callout",this.ctx.animationManager,this.calloutLabelSelection),hl(this,"sector",this.ctx.animationManager,this.labelSelection),hl(this,"highlight",this.ctx.animationManager,this.highlightLabelSelection),this.previousRadiusScale.range=this.radiusScale.range}getDatumId(e,t){var r,o,a;const{calloutLabelKey:i,sectorLabelKey:s,legendItemKey:n}=this.properties;return(a=(o=(r=this.processedData)==null?void 0:r.reduced)==null?void 0:o.animationValidation)!=null&&a.uniqueKeys?n?ts(e[n]):i?ts(e[i]):s?ts(e[s]):`${t}`:`${t}`}};Ib.className="PieSeries";Ib.type="pie";var Oce={series:{title:{enabled:!0,fontWeight:{$ref:"fontWeight"},fontSize:{$rem:[1.1666666666666667]},fontFamily:{$ref:"fontFamily"},color:{$ref:"subtleTextColor"},spacing:5},calloutLabel:{enabled:!0,fontSize:{$ref:"fontSize"},fontFamily:{$ref:"fontFamily"},fontWeight:{$ref:"fontWeight"},color:{$ref:"textColor"},offset:3,minAngle:.001},sectorLabel:{enabled:!0,fontWeight:{$ref:"fontWeight"},fontSize:{$ref:"fontSize"},fontFamily:{$ref:"fontFamily"},color:{$ref:"backgroundColor"},positionOffset:0,positionRatio:.5},calloutLine:{length:10,strokeWidth:2,colors:{$map:[{$if:[{$or:[{$isGradient:[{$value:"$1"}]},{$isPattern:[{$value:"$1"}]}]},{$path:["../../strokes/$index",{$ref:"foregroundColor"}]},{$value:"$1"}]},{$if:[{$eq:[{$path:"../strokeWidth"},0]},{$path:"../fills"},{$path:"../strokes"}]}]}},fills:{$palette:"fills"},strokes:{$palette:"strokes"},defaultColorRange:{$palette:"gradients"},defaultPatternFills:VE,fillOpacity:1,strokeOpacity:1,strokeWidth:0,lineDash:[0],lineDashOffset:0,rotation:0,sectorSpacing:1,shadow:{enabled:!1,color:Gl,xOffset:3,yOffset:3,blur:5}},legend:{enabled:!0}},Fce={type:"series",optionsKey:"series[]",packageType:"community",chartTypes:["polar"],identifier:"pie",moduleFactory:e=>new Ib(e),tooltipDefaults:{range:"exact"},themeTemplate:Oce},Nce={type:"series",name:"pie",chartType:"polar",options:Ab,create:e=>new Ib(e)};function zce(){oo.register(OB,Ple,Kae,uce,pG,Sce,CG,Rce,Lce,Fce,xce);for(const e of[xa,du,Nl,hu,wh])Vc.register(e.type,{moduleFactory:t=>new e(t)})}function Bce(){for(const e of oo.modules){if(e.packageType==="enterprise"&&!Ooe(e)&&me.errorOnce("Unexpected enterprise module registered: "+e.identifier),e.type==="root"&&e.themeTemplate)for(const t of e.chartTypes)VM.set(t,e.themeTemplate);if(e.type==="series"){if(e.chartTypes.length>1)throw new Error(`AG Charts - Module definition error: ${e.identifier}`);qn.register(e.identifier,e)}if(e.type==="series-option"&&e.themeTemplate)for(const t of e.seriesTypes)qn.setThemeTemplate(t,e.themeTemplate);if(e.type==="axis-option"&&e.themeTemplate)for(const t of e.axisTypes){const i=Vc.getThemeTemplate(t),s=Je(e.themeTemplate,i);Vc.setThemeTemplate(t,s)}e.type==="axis"&&Vc.register(e.identifier,e),e.type==="legend"&&oE.register(e.identifier,e)}if(oo.hasEnterpriseModules()){const e=Foe();e.length>0&&me.errorOnce("Enterprise modules expected but not registered: ",e)}}var Gce=["top","right","bottom","left"],Lb=class TG extends sb{constructor(t,i){super(t,i),this.paired=!0,this.lastUpdateClipRect=void 0,this.lastLayoutWidth=NaN,this.lastLayoutHeight=NaN}onAxisChange(t,i){super.onAxisChange(t,i),this.ctx!=null&&this.ctx.zoomManager.updateAxes(t)}destroySeries(t){super.destroySeries(t),this.lastLayoutWidth=NaN,this.lastLayoutHeight=NaN}getChartType(){return"cartesian"}setRootClipRects(t){const{seriesRoot:i,annotationRoot:s}=this;i.setClipRect(t),s.setClipRect(t)}async processData(){await super.processData();for(const t of this.axes){const i=this.getSyncedDomain(t);i!=null&&t.setDomains(i)}this.ctx.updateService.dispatchProcessData({series:{shouldFlipXY:this.shouldFlipXY()}})}performLayout(t){const{seriesRoot:i,annotationRoot:s}=this,{clipSeries:n,seriesRect:r,visible:o}=this.updateAxes(t.layoutBox);this.seriesRoot.visible=o,this.seriesRect=r,this.animationRect=t.layoutBox;const{x:a,y:l}=r;if(t.width!==this.lastLayoutWidth||t.height!==this.lastLayoutHeight)for(const f of[i,s])f.translationX=Math.floor(a),f.translationY=Math.floor(l);else{const{translationX:f,translationY:v}=i;va(this.id,"seriesRect",this.ctx.animationManager,[i,s],{translationX:f,translationY:v},{translationX:Math.floor(a),translationY:Math.floor(l)},{phase:"update"})}this.lastLayoutWidth=t.width,this.lastLayoutHeight=t.height;const d=r.clone().grow(this.seriesArea.padding),h=this.seriesArea.clip||n?d:void 0,{lastUpdateClipRect:p}=this;this.lastUpdateClipRect=h,this.ctx.animationManager.isActive()&&p!=null?this.ctx.animationManager.animate({id:this.id,groupId:"clip-rect",phase:"update",from:p,to:d,onUpdate:f=>this.setRootClipRects(f),onComplete:()=>this.setRootClipRects(h)}):this.setRootClipRects(h),this.ctx.layoutManager.emitLayoutComplete(t,{axes:this.axes.map(f=>f.getLayoutState()),series:{visible:o,rect:r,paddedRect:d},clipSeries:n})}updateAxes(t){const{clipSeries:i,seriesRect:s,overflows:n}=this.resolveAxesLayout(t);for(const r of this.axes)r.update(),r.setCrossLinesVisible(!n),this.clipAxis(r,s,t);return{clipSeries:i,seriesRect:s,visible:!n}}resolveAxesLayout(t){let i,s,n=0;const r=10;do if(s=i??this.getDefaultState(),i=this.updateAxesPass(new Map(s.axisAreaWidths),t.clone()),n++>r){me.warn("Max iterations reached. Unable to stabilize axes layout.");break}while(!this.isLayoutStable(i,s));return this.lastAreaWidths=i.axisAreaWidths,i}updateAxesPass(t,i){const s=new Map,n={};let r=!1,o=!1;for(const b of Gce){const x=this.seriesArea.padding[b],D=this.axes.findLast(E=>E.position===b);D?D.seriesAreaPadding=x:i.shrink(x,b)}const a=(t.get("left")??0)+(t.get("right")??0),l=(t.get("top")??0)+(t.get("bottom")??0),d=this.buildCrossLinePadding(t);i.width<=a+d.hPadding||i.height<=l+d.vPadding?r=!0:i.shrink(d);const h=i.clone().shrink(Object.fromEntries(t));for(const b of this.axes){const{position:x="left",direction:D}=b;this.sizeAxis(b,h,x);const E=D==="y",{primaryTickCount:T,bbox:k}=b.calculateLayout(b.nice?n[D]:void 0);n[D]??(n[D]=T),o||(o=b.dataDomain.clipped||b.visibleRange[0]>0||b.visibleRange[1]<1),s.set(b.id,Math.ceil(b.thickness??(E?k==null?void 0:k.width:k==null?void 0:k.height)??0))}const p=bR(this.axes,b=>b.position??"left"),{width:f,height:v,pixelRatio:y}=this.ctx.scene,S=new Map,w=new Map;for(const[b,x]of Tr(p)){let E=b==="left"||b==="right"?v%y:f%y,T=0;for(const k of x??[]){w.set(k.id,E);const P=s.get(k.id)??0;T=Math.max(T,E+P),k.layoutConstraints.stacked&&(E+=P+TG.AxesPadding)}S.set(b,Math.ceil(T))}for(const[b,x]of Tr(p))this.positionAxes({axes:x??[],position:b,axisWidths:s,axisOffsets:w,axisAreaWidths:S,axisBound:i,seriesRect:h});return{clipSeries:o,seriesRect:h,axisAreaWidths:S,overflows:r}}buildCrossLinePadding(t){const i={top:0,right:0,bottom:0,left:0,hPadding:0,vPadding:0};this.axes.forEach(s=>{var n;(n=s.crossLines)==null||n.forEach(r=>{var o;(o=r.calculatePadding)==null||o.call(r,i)})});for(const[s,n=0]of Tr(i))i[s]=Math.max(n-(t.get(s)??0),0);return i.hPadding=i.left+i.right,i.vPadding=i.top+i.bottom,i}clampToOutsideSeriesRect(t,i,s,n){const r=s==="x"?t.x:t.y,o=s==="x"?t.width:t.height;return n===1?Math.min(i,r+o):Math.max(i,r)}getSyncedDomain(t){const i=this.modulesManager.getModule("sync");if(!(i!=null&&i.enabled))return;const s=i.getSyncedDomain(t);if(s&&t.dataDomain.domain.length){let n;const{domain:r}=t.scale;if(wt.is(t.scale)){const[o,a]=Ti(s);n=o!==r[0]||a!==r[1]}else n=!ro(s,r);n&&!this.skipSync&&i.updateSiblings()}return s}sizeAxis(t,i,s){const n=t instanceof du,r=s==="left"||s==="right",{width:o,height:a}=i,l=r?a:o;let d=0,h=l,{min:p,max:f}=this.ctx.zoomManager.getAxisZoom(t.id);const{width:v,unit:y,align:S}=t.layoutConstraints;y==="px"?h=d+v:h=h*v/100,S==="end"&&(d=l-(h-d),h=l),r&&(n?[p,f]=[1-f,1-p]:[d,h]=[h,d]),t.range=[d,h],t.visibleRange=[p,f],t.gridLength=r?o:a}positionAxes(t){const{axes:i,axisBound:s,axisWidths:n,axisOffsets:r,axisAreaWidths:o,seriesRect:a,position:l}=t,d=o.get(l)??0;let h="x",p="y",f=1;(l==="top"||l==="bottom")&&(h="y",p="x");let v=s[h];(l==="right"||l==="bottom")&&(f=-1,v+=h==="x"?s.width:s.height);for(const y of i){const S=o.get(p==="x"?"left":"top")??0,w=n.get(y.id)??0,b=r.get(y.id)??0;y.gridPadding=d-b-w,y.translation[p]=s[p]+S,y.translation[h]=this.clampToOutsideSeriesRect(a,v+f*(b+w),h,f)}}shouldFlipXY(){return this.series.every(t=>t instanceof Hl&&t.shouldFlipXY())}getDefaultState(){const t=new Map;if(this.lastAreaWidths)for(const{position:i="left"}of this.axes){const s=this.lastAreaWidths.get(i);s!=null&&t.set(i,s)}return{axisAreaWidths:t,clipSeries:!1,overflows:!1}}isLayoutStable(t,i){if(i.overflows!==t.overflows||i.clipSeries!==t.clipSeries)return!1;for(const s of t.axisAreaWidths.keys())if(!i.axisAreaWidths.has(s))return!1;for(const[s,n]of i.axisAreaWidths.entries()){const r=t.axisAreaWidths.get(s);if((n!=null||r!=null)&&n!==r)return!1}return!0}clipAxis(t,i,s){var l,d;const n=Math.ceil(((l=t.gridLine)==null?void 0:l.width)??0),r=Math.ceil(((d=t.line)==null?void 0:d.width)??0);let{width:o,height:a}=i;switch(o+=t.direction==="x"?n:r,a+=t.direction==="y"?n:r,t.clipGrid(i.x,i.y,o,a),t.position){case"left":case"right":t.clipTickLines(s.x,i.y-n,s.width+n,i.height+n*2);break;case"top":case"bottom":t.clipTickLines(i.x-n,s.y,i.width+n*2,s.height+n);const{label:h,labelNodes:p,scale:f}=t;if(wt.is(f)&&h.enabled&&h.avoidCollisions&&p.length>1){const v=p.toSorted((b,x)=>b.translationY-x.translationY),y=v.at(-1),S=y.getBBox(),w=i.x+S.y+S.height<=s.x+s.width+this.padding.right;if(y.visible=w,w||t.visibleRange[0]>0||t.visibleRange[1]<1)v[0].visible=!0;else{const b=v[0].getBBox();v[0].visible=b.y>=0}}break}}};Lb.className="CartesianChart";Lb.type="cartesian";Lb.AxesPadding=15;var Hce=Lb,jce=Ct(e=>typeof HTMLElement>"u"||e instanceof HTMLElement,"an html element"),mu={mode:Ue("integrated","standalone"),container:jce,theme:Sn,series:po,annotations:Sn,navigator:Sn,initialState:Sn},IG={...Us,...mu,axes:Sn,data:po},LG={...Us,...mu,axes:Sn,data:po},Vce={...Us,...mu,data:po,topology:Op},_ce={...Us,...mu,data:po},Wce={...Us,...mu,data:po},Uce={...Us,...mu,data:po,nodes:po},$ce={...Us,...mu,data:po},Yce={type:"chart",name:"cartesian",options:IG,detect:yE,create(e,t){return new Hce(e,t)}},Xf=()=>{throw new Error("Enterprise module placeholder cannot be initialised")},Kce={type:"chart",name:"flow-proportion",placeholder:!0,options:{},detect:Jz,create:Xf},qce={type:"chart",name:"gauge",placeholder:!0,options:{},detect:bE,create:Xf},Zce={type:"chart",name:"hierarchy",placeholder:!0,options:{},detect:Xz,create:Xf},Xce={type:"chart",name:"standalone",placeholder:!0,options:{},detect:CE,create:Xf},Qce={type:"chart",name:"topology",placeholder:!0,options:{},detect:Qz,create:Xf},eh=class extends pE{constructor(){super(...arguments),this.shape="polygon",this.innerRadiusRatio=0,this.defaultTickMinSpacing=20}updatePosition(){super.updatePosition();const e=Zy(this),t=hE(e);this.axisGroup.setProperties(this.getAxisTransform()),this.gridLineGroupSelection.each(t),this.tickLineGroupSelection.each(t),this.tickLabelGroupSelection.each(gE())}computeLabelsBBox(e,t){return null}computeRange(){}getAxisLinePoints(){}};R([A(Mt(["polygon","circle"],"a polar axis shape"))],eh.prototype,"shape",2);R([A()],eh.prototype,"innerRadiusRatio",2);var mA=class extends sb{constructor(e,t){super(e,t),this.padding=new Pl(40),this.ctx.axisManager.axisGroup.zIndex=6}getChartType(){return"polar"}async performLayout(e){const{layoutBox:t}=e;t.shrink(this.seriesArea.padding.toJson());const i=t.clone();this.seriesRect=i,this.animationRect=i,this.seriesRoot.translationX=i.x,this.seriesRoot.translationY=i.y,await this.computeCircle(i),this.axes.forEach(s=>s.update()),this.ctx.layoutManager.emitLayoutComplete(e,{series:{visible:!0,rect:i,paddedRect:i}})}updateAxes(e,t,i,s){var l;const n=this.axes.find(d=>d.direction==="x"),r=this.axes.find(d=>d.direction==="y");if(!(n instanceof eh)||!(r instanceof eh))return;const o=n.scale,a=r.innerRadiusRatio;n.innerRadiusRatio=a,n.computeRange(),n.gridLength=s,r.gridAngles=(l=o.ticks({nice:n.nice,interval:void 0,tickCount:void 0,minTickCount:0,maxTickCount:1/0}))==null?void 0:l.map(d=>o.convert(d)),r.gridRange=n.range,r.range=[s,s*a],[n,r].forEach(d=>{d.translation.x=e.x+t,d.translation.y=e.y+i,d.calculateLayout()})}async computeCircle(e){const t=this.series.filter(Jce),i=this.axes.filter(eue),s=(d,h,p)=>{this.updateAxes(e,d,h,p),t.forEach(v=>{v.centerX=d,v.centerY=h,v.radius=p});const f=t.filter(v=>v.type==="donut"||v.type==="pie");if(f.length>1){const v=f.map(y=>{const S=y.getInnerRadius();return{series:y,innerRadius:S}}).sort((y,S)=>y.innerRadius-S.innerRadius);v.at(-1).series.surroundingRadius=void 0;for(let y=0;y<v.length-1;y++)v[y].series.surroundingRadius=v[y+1].innerRadius}},n=e.width/2,r=e.height/2,o=Math.max(0,Math.min(e.width,e.height)/2);let a=o;s(n,r,a);const l=async({hideWhenNecessary:d=!1}={})=>{const h=[];for(const v of Lc(i,t)){const y=await v.computeLabelsBBox({hideWhenNecessary:d},e);y&&h.push(y)}if(h.length===0){s(n,r,o);return}const p=De.merge(h),f=this.refineCircle(p,a,e);s(f.centerX,f.centerY,f.radius),a=f.radius};await l(),await l(),await l(),await l({hideWhenNecessary:!0}),await l({hideWhenNecessary:!0});for(const d of Lc(i,t))await d.computeLabelsBBox({hideWhenNecessary:!0},e);return{radius:a,centerX:n,centerY:r}}refineCircle(e,t,i){const n=-t,r=-t,o=t,a=t;let l=Math.max(0,n-e.x),d=Math.max(0,r-e.y),h=Math.max(0,e.x+e.width-o),p=Math.max(0,e.y+e.height-a);l=h=Math.max(l,h),d=p=Math.max(d,p);const f=i.width-l-h,v=i.height-d-p;let y=Math.min(f,v)/2;const S=.5*i.width/2,w=.5*i.height/2,b=Math.min(S,w);if(y<b){y=b;const E=l+h,T=d+p;if(2*y+T>i.height){const k=i.height-2*y;Math.min(d,p)*2>k?(d=k/2,p=k/2):d>p?d=k-p:p=k-d}if(2*y+E>i.width){const k=i.width-2*y;Math.min(l,h)*2>k?(l=k/2,h=k/2):l>h?l=k-h:h=k-l}}const x=l+2*y+h,D=d+2*y+p;return{centerX:(i.width-x)/2+l+y,centerY:(i.height-D)/2+d+y,radius:y}}};mA.className="PolarChart";mA.type="polar";function Jce(e){return e instanceof Rb}function eue(e){return e instanceof eh}var tue={type:"chart",name:"polar",options:LG,detect:Zz,create(e,t){return new mA(e,t)}},iue={...Ah,...Cb(ke),type:Pe(Es("number")),label:{format:vb,...Eh},crosshair:Th(!0)},sue={...Ah,...Cb(ke),type:Pe(Es("log")),base:ms($v,Ct(e=>e!==1,"not equal to 1")),label:{format:vb,...Eh},crosshair:Th(!0)},nue={...Ah,...Cb(ai(ke,bd),!0),type:Pe(Es("time")),label:{...Eh,format:Me},crosshair:Th(!0)},rue={...Ah,type:Pe(Es("category")),label:Eh,paddingInner:be,paddingOuter:be,groupPaddingInner:be,crosshair:Th()},oue={...Ah,type:Pe(Es("grouped-category")),label:Eh,crosshair:Th(),paddingInner:be,groupPaddingInner:be,depthOptions:Xc({label:{enabled:Se,avoidCollisions:Se,...xn},tick:{enabled:Se,stroke:Ye,width:be}},"depth options objects array")},aue={type:"axis",name:"number",chartType:"cartesian",options:iue,create:e=>new xa(e)},lue={type:"axis",name:"log",chartType:"cartesian",options:sue,create:e=>new wh(e)},cue={type:"axis",name:"time",chartType:"cartesian",options:nue,create:e=>new Nl(e)},uue={type:"axis",name:"category",chartType:"cartesian",options:rue,create:e=>new du(e)},due={type:"axis",name:"grouped-category",chartType:"cartesian",options:oue,create:e=>new hu(e)},hue=[Yce,aue,lue,cue,uue,due,cG,fG,vG,yG,bG,wG],gue=[tue,kce,Nce],pue=[...hue,...gue,Kce,qce,Zce,Xce,Qce],Fs={isEnterprise:!1},kG=(e=>(e.POINTER="pointer",e.NODE="node",e.CHART="chart",e))(kG||{}),PG=(e=>(e.TOP="top",e.RIGHT="right",e.BOTTOM="bottom",e.LEFT="left",e.TOP_RIGHT="top-right",e.BOTTOM_RIGHT="bottom-right",e.BOTTOM_LEFT="bottom-left",e.TOP_LEFT="top-left",e.CENTER="center",e))(PG||{}),OG=(e=>(e.POINTER="pointer",e.NODE="node",e.TOP="top",e.RIGHT="right",e.BOTTOM="bottom",e.LEFT="left",e.TOP_LEFT="top-left",e.TOP_RIGHT="top-right",e.BOTTOM_RIGHT="bottom-right",e.BOTTOM_LEFT="bottom-left",e))(OG||{}),tn=Symbol("IGNORED_PROP");function Mn(e,t){const i={};for(const s of Object.keys(t)){const n=t[s];n!==tn&&Object.hasOwn(e,s)&&(i[s]=n)}return i}function fue(e){return e.type==="radial-gauge"}function mue(e){return e.type==="linear-gauge"}function FG(e){const{enabled:t,mode:i,showArrow:s,range:n,position:r,pagination:o,delay:a,wrapping:l,interaction:d,renderer:h,...p}=e,f=Mn(e,{enabled:t,showArrow:s,range:n,position:r,interaction:d,renderer:h,...p});return{chartTooltipOptions:Mn(e,{enabled:tn,showArrow:tn,range:tn,position:tn,mode:i,pagination:o,delay:a,wrapping:l,...p}),seriesTooltipOptions:f}}function vue(e){const{animation:t,background:i,container:s,contextMenu:n,footnote:r,height:o,listeners:a,locale:l,minHeight:d,minWidth:h,overrideDevicePixelRatio:p,padding:f,subtitle:v,theme:y,title:S,width:w,type:b,cursor:x,nodeClickRange:D,tooltip:E={},value:T,scale:k={},startAngle:P,endAngle:O,highlightStyle:F,segmentation:z,bar:V,needle:U,targets:J,outerRadius:ye,innerRadius:Ce,outerRadiusRatio:G,innerRadiusRatio:K,cornerRadius:ne,cornerMode:ge,label:B,secondaryLabel:_,spacing:Y,...Z}=e,{chartTooltipOptions:ee,seriesTooltipOptions:fe}=FG(E),ce=Mn(e,{animation:t,background:i,container:s,contextMenu:n,footnote:r,height:o,listeners:a,locale:l,minHeight:d,minWidth:h,overrideDevicePixelRatio:p,padding:f,subtitle:v,theme:y,title:S,tooltip:ee,width:w}),we=Mn(e,{needle:U!=null?{enabled:!0,...U}:tn,startAngle:P,endAngle:O,scale:k,type:b,cursor:x,nodeClickRange:D,listeners:a,tooltip:fe,value:T,highlightStyle:F,segmentation:z,bar:V,targets:J,outerRadius:ye,innerRadius:Ce,outerRadiusRatio:G,innerRadiusRatio:K,cornerRadius:ne,cornerMode:ge,label:B,secondaryLabel:_,spacing:Y,...Z});return{...ce,series:[we]}}function yue(e){const{animation:t,background:i,container:s,contextMenu:n,footnote:r,height:o,listeners:a,locale:l,minHeight:d,minWidth:h,overrideDevicePixelRatio:p,padding:f,subtitle:v,theme:y,title:S,width:w,type:b,cursor:x,nodeClickRange:D,tooltip:E={},value:T,scale:k={},direction:P="vertical",thickness:O,highlightStyle:F,segmentation:z,bar:V,targets:U,cornerRadius:J,cornerMode:ye,label:Ce,...G}=e,{chartTooltipOptions:K,seriesTooltipOptions:ne}=FG(E),ge=Mn(e,{animation:t,background:i,container:s,contextMenu:n,footnote:r,height:o,listeners:a,locale:l,minHeight:d,minWidth:h,overrideDevicePixelRatio:p,padding:f,subtitle:v,theme:y,title:S,tooltip:K,width:w}),B=Mn(e,{scale:k,type:b,cursor:x,nodeClickRange:D,listeners:a,tooltip:ne,value:T,direction:P,thickness:O,highlightStyle:F,segmentation:z,bar:V,targets:U,cornerRadius:J,cornerMode:ye,label:Ce,...G});return{...ge,series:[B]}}function mO(e,t){if(t==null)return e;const{targets:i,...s}=t;return e=Je(e,s),e.targets!=null&&i!=null&&(e.targets=Oy(e.targets,i)),e}function Cue(e,t){if(fue(e)){const x=mO(e,t);return vue(x)}else if(mue(e)){const x=mO(e,t);return yue(x)}const{animation:i,background:s,container:n,contextMenu:r,footnote:o,height:a,listeners:l,locale:d,minHeight:h,minWidth:p,padding:f,subtitle:v,theme:y,title:S,tooltip:w,width:b}=e;return Mn(e,{animation:i,background:s,container:n,contextMenu:r,footnote:o,height:a,listeners:l,locale:d,minHeight:h,minWidth:p,padding:f,subtitle:v,theme:y,title:S,tooltip:w,width:b})}var Yn={stroke:ci},ps={fill:Ff},vO={color:"white",fill:ci},Yo={color:ci},oC={color:Of,fontSize:{$rem:[1.1666666666666667]},fontFamily:{$ref:"fontFamily"}},Ov={...oC,textAlign:"left"},rD={...oC,fontSize:{$ref:"fontSize"},color:Bf,fill:Nf,stroke:zf,strokeWidth:1,divider:{stroke:Gf,strokeWidth:1,strokeOpacity:.5}},X0={...Yn,background:{fill:Ni,fillOpacity:.2},handle:{...ps},text:{...Yo},statistics:{...rD}},bue={line:{...Yn,handle:{...ps},text:{...Yo}},"horizontal-line":{...Yn,handle:{...ps},axisLabel:{...vO},text:{...Yo}},"vertical-line":{...Yn,handle:{...ps},axisLabel:{...vO},text:{...Yo}},"disjoint-channel":{...Yn,background:{fill:Ni,fillOpacity:.2},handle:{...ps},text:{...Yo}},"parallel-channel":{...Yn,background:{fill:Ni,fillOpacity:.2},handle:{...ps},text:{...Yo}},"fibonacci-retracement":{...Yn,strokes:$p,rangeStroke:ci,handle:{...ps},text:{...Yo,position:"center"},label:{...oC,color:void 0,fontSize:{$round:[{$mul:[{$ref:"fontSize"},10/12]}]}}},"fibonacci-retracement-trend-based":{...Yn,strokes:$p,rangeStroke:ci,handle:{...ps},text:{...Yo,position:"center"},label:{...oC,color:void 0,fontSize:{$round:[{$mul:[{$ref:"fontSize"},10/12]}]}}},callout:{...Yn,...Ov,color:{$ref:"textColor"},handle:{...ps},fill:Ni,fillOpacity:.2},comment:{...Ov,color:"white",fontWeight:700,handle:{...ps},fill:ci},note:{...Ov,color:Vf,fill:ci,stroke:{$ref:"backgroundColor"},strokeWidth:1,strokeOpacity:1,handle:{...ps},background:{fill:Hf,stroke:jf,strokeWidth:1}},text:{...Ov,handle:{...ps}},arrow:{...Yn,handle:{...ps},text:{...Yo}},"arrow-up":{fill:kf,handle:{...ps,stroke:ci}},"arrow-down":{fill:Pf,handle:{...ps,stroke:ci}},"date-range":{...X0},"price-range":{...X0},"date-price-range":{...X0},"quick-date-price-range":{up:{...Yn,fill:Ni,fillOpacity:.2,handle:{...ps},statistics:{...rD,color:"#fff",fill:Ni,strokeWidth:0,divider:{stroke:"#fff",strokeWidth:1,strokeOpacity:.5}}},down:{...Yn,stroke:Kp,fill:Yp,fillOpacity:.2,handle:{...ps,stroke:Kp},statistics:{...rD,color:"#fff",fill:Yp,strokeWidth:0,divider:{stroke:"#fff",strokeWidth:1,strokeOpacity:.5}}}},axesButtons:{enabled:!0}},Sue=["ohlc","line","step-line","hlc","high-low","candlestick","hollow-candlestick"],wue=[{icon:"trend-line-drawing",tooltip:"toolbarAnnotationsLineAnnotations",value:"line-menu"},{icon:"fibonacci-retracement-drawing",tooltip:"toolbarAnnotationsFibonacciAnnotations",value:"fibonacci-menu"},{icon:"text-annotation",tooltip:"toolbarAnnotationsTextAnnotations",value:"text-menu"},{icon:"arrow-drawing",tooltip:"toolbarAnnotationsShapeAnnotations",value:"shape-menu"},{icon:"measurer-drawing",tooltip:"toolbarAnnotationsMeasurerAnnotations",value:"measurer-menu"},{icon:"delete",tooltip:"toolbarAnnotationsClearAll",value:"clear"}];function xue(e,t,i){const{dateKey:s="date",highKey:n="high",openKey:r="open",lowKey:o="low",closeKey:a="close",volumeKey:l="volume",chartType:d="candlestick",navigator:h=!1,volume:p=!0,rangeButtons:f=!0,statusBar:v=!0,toolbar:y=!0,zoom:S=!0,theme:w,data:b,...x}=e,D=Due(d,s,n,o,r,a),E=Mue(i,r,a,p,l),k={navigator:{enabled:h,...p?{miniChart:{enabled:h,series:[{type:"line",xKey:s,yKey:l,stroke:fb,marker:{enabled:!1}}]},height:40,minHandle:{height:46},maxHandle:{height:46}}:null}},P={annotations:{enabled:y,optionsToolbar:{enabled:y},snap:!0,toolbar:{enabled:y,buttons:wue,padding:0},data:b,xKey:s,volumeKey:p?l:void 0}},O=v?{statusBar:{enabled:!0,data:b,highKey:n,openKey:r,lowKey:o,closeKey:a,volumeKey:p?l:void 0}}:null,F={zoom:{enabled:S,autoScaling:{enabled:!0},enableIndependentAxes:!0}},z={ranges:{enabled:f}},V=p?[{type:"number",position:"left",keys:[l],label:{enabled:!1},crosshair:{enabled:!1},gridLine:{enabled:!1},nice:!1,layoutConstraints:{stacked:!1,width:20,unit:"percent",align:"end"}}]:[];return{theme:{baseTheme:typeof w=="string"?w:"ag-financial",...Je(typeof w=="object"?w:null,{overrides:{common:{title:{padding:4},padding:{top:6,right:8,bottom:5},chartToolbar:{enabled:y},annotations:{...bue},axes:{number:{interval:{maxSpacing:45},label:{format:".2f"}}}},bar:{series:{fillOpacity:.5}},line:{series:{marker:{enabled:!1},...bO(d,{hlc:{stroke:hb,strokeWidth:2},line:{stroke:Jd},"step-line":{stroke:Jd,interpolation:{type:"step"}}})}},candlestick:{series:{...bO(d,{"hollow-candlestick":{item:{up:{fill:"transparent"}}}})}},"range-area":{series:{fillOpacity:.3,strokeWidth:2}}}})},animation:{enabled:!1},legend:{enabled:!1},series:[...E,...D],axes:[{type:"number",position:"right",keys:[r,a,n,o],crosshair:{enabled:!0,snap:!1},layoutConstraints:{stacked:!1,width:100,unit:"percent",align:"start"}},...V,{type:"ordinal-time",position:"bottom",line:{enabled:!1},label:{enabled:!0},crosshair:{enabled:!0}}],tooltip:{enabled:!1},data:b,...P,...k,...O,...F,...z,...x}}function Mue(e,t,i,s,n){return s?[{type:"bar",xKey:"date",yKey:n,tooltip:{enabled:!1},itemStyler({datum:r}){const{up:o,down:a}=e().palette;return{fill:r[t]<r[i]?o==null?void 0:o.fill:a==null?void 0:a.fill}},focusPriority:1,fastDataProcessing:!0,highlight:{enabled:!1}}]:[]}var yO="range-area";function Due(e,t,i,s,n,r){const o={xKey:t,openKey:n,closeKey:r,highKey:i,lowKey:s},a={xKey:t,yKey:r},l={pickOutsideVisibleMinorAxis:!0};switch(e??"candlestick"){case"ohlc":return Rue(l,o);case"line":case"step-line":return Eue(l,a);case"hlc":return Aue(l,a,o);case"high-low":return Tue(l,o);case"candlestick":case"hollow-candlestick":return CO(l,o);default:return me.warnOnce(`unknown chart type: ${e}; expected one of: ${Sue.join(", ")}`),CO(l,o)}}function Rue(e,t){return[{type:"ohlc",focusPriority:0,...e,...t}]}function Eue(e,t){return[{type:"line",focusPriority:0,...e,...t}]}function Aue(e,t,{xKey:i,highKey:s,closeKey:n,lowKey:r}){return[{type:yO,focusPriority:0,...e,xKey:i,yHighKey:s,yLowKey:n,fill:kf,stroke:cb},{type:yO,focusPriority:0,...e,xKey:i,yHighKey:n,yLowKey:r,fill:Pf,stroke:ub},{type:"line",...e,...t}]}function Tue(e,{xKey:t,highKey:i,lowKey:s}){return[{type:"range-bar",...e,xKey:t,yHighKey:i,yLowKey:s,fill:db,stroke:Jd,tooltip:{range:"nearest"},focusPriority:0,fastDataProcessing:!0}]}function CO(e,t){return[{type:"candlestick",focusPriority:0,...e,...t}]}function bO(e,t){return t[e]??t.default}var NG={title:{enabled:!1},label:{enabled:!1},line:{enabled:!1},gridLine:{enabled:!1},crosshair:{enabled:!1,stroke:pb,lineDash:[0],label:{enabled:!1}}},Q0={...NG,nice:!1},Fv={mode:"compact",position:{anchorTo:"node",placement:["right","left"]},showArrow:!1},J0={style:[{stroke:{$ref:"gridLineColor"}}],width:2},Iue={number:{gridLine:J0},time:{gridLine:J0},category:{gridLine:J0}},Lue={overrides:{common:{animation:{enabled:!1},contextMenu:{enabled:!1},keyboard:{enabled:!1},background:{visible:!1},navigator:{enabled:!1},padding:{top:0,right:0,bottom:0,left:0},axes:{number:{...Q0,interval:{values:[0]}},log:{...Q0},time:{...Q0},category:{...NG}}},bar:{series:{crisp:!1,label:{placement:"inside-end",padding:4},sparklineMode:!0},tooltip:{...Fv,position:{...Fv.position,anchorTo:"pointer"},range:"nearest"},axes:Iue},line:{seriesArea:{padding:{top:2,right:2,bottom:2,left:2}},series:{sparklineMode:!0,strokeWidth:1,marker:{enabled:!1,size:3}},tooltip:Fv},area:{seriesArea:{padding:{top:1,right:0,bottom:1,left:0}},series:{strokeWidth:1,fillOpacity:.4},tooltip:Fv}}},zG=Os(kue);function kue(e,t){return typeof e=="string"?{...t,baseTheme:e}:e!=null?{...e,baseTheme:zG(e.baseTheme,t)}:t}function BG(e){if(Array.isArray(e)&&e.length!==0){const t=e[0];if(typeof t=="number")return{data:e.map((s,n)=>({x:n,y:s})),series:[{xKey:"x",yKey:"y"}],datumKey:"y"};if(Array.isArray(t))return{data:e.map(s=>({x:s[0],y:s[1],datum:s})),series:[{xKey:"x",yKey:"y"}],datumKey:"datum"}}return{data:e}}function Pue(e,t){switch(e==null?void 0:e.type){case"number":{const{type:i,min:s,max:n,reverse:r}=e;return Mn(e,{type:i,reverse:r,min:s,max:n})}case"time":{const{type:i,min:s,max:n,reverse:r}=e;return Mn(e,{type:i,reverse:r,min:s,max:n})}case"category":{const{type:i,paddingInner:s,paddingOuter:n,reverse:r}=e;return Mn(e,{type:i,reverse:r,paddingInner:s,paddingOuter:n})}}return{type:t}}function Oue(e,t,i){const s={};return(e==null?void 0:e.stroke)!=null&&(s.style=[{stroke:e==null?void 0:e.stroke}],s.enabled??(s.enabled=!0)),(e==null?void 0:e.strokeWidth)!=null&&(s.width=e==null?void 0:e.strokeWidth,s.enabled??(s.enabled=!0)),i.type==="bar"&&i.direction!=="horizontal"&&(s.enabled??(s.enabled=!0)),(e==null?void 0:e.visible)!=null&&(s.enabled=e.visible),s.enabled??(s.enabled=t),s}var Fue=Os((e,t,i)=>s=>{var l;const n=s.datum[s.xKey],r=s.datum[s.yKey],o=i!=null?s.datum[i]:s.datum,a=(l=t==null?void 0:t.renderer)==null?void 0:l.call(t,{context:e,datum:o,xValue:n,yValue:r});return typeof a=="string"?a:{heading:void 0,title:void 0,data:[{label:a==null?void 0:a.title,value:(a==null?void 0:a.content)??r.toFixed(2)}]}});function Nue(e){const{background:t,container:i,height:s,listeners:n,locale:r,minHeight:o,minWidth:a,overrideDevicePixelRatio:l,padding:d,width:h,theme:p,data:f,crosshair:v,axis:y,min:S,max:w,tooltip:b,context:x,...D}=e,E=Mn(e,{background:t,container:i,height:s,listeners:n,locale:r,minHeight:o,minWidth:a,overrideDevicePixelRatio:l,padding:d,width:h,tooltip:tn,context:tn,data:tn,crosshair:tn,axis:tn,min:tn,max:tn,theme:tn}),{data:T,series:[k]=[],datumKey:P}=BG(f),O=D;k!=null&&Object.assign(O,k),O.tooltip={...b,renderer:Fue(x,b,P)},E.theme=zG(p,Lue),E.data=T,E.series=[O];const F=O.type!=="bar"||O.direction!=="horizontal",[z,V]=F?["bottom","left"]:["left","bottom"],U={...Pue(y,"category"),position:z,...Mn(e,{crosshair:v})},J={type:"number",gridLine:Oue(y,!1,e),position:V,...Mn(e,{min:S,max:w})};return E.axes=F?[J,U]:[U,J],E}var zue={"price-volume":xue,gauge:Cue,sparkline:Nue},Bue={sparkline:BG};function SO(e,t){var o,a,l,d;let i=[];const s=bE(e),n=Ca(e),r=n?Xt.get(n):"unknown";for(const h of Mf)if(!(r!=="unknown"&&!h.chartTypes.includes(r))){if(h.type==="root"||h.type==="legend"){const p=e[h.optionsKey];if(p==null)continue;h.optionsInnerKey?p[h.optionsInnerKey]&&(i.push(`${h.optionsKey}.${h.optionsInnerKey}`),delete p[h.optionsInnerKey]):(i.push(h.optionsKey),delete e[h.optionsKey])}else if(h.type==="axis"){if(!("axes"in e)||!$e(e.axes)||!((o=e.axes)!=null&&o.some(p=>p.type===h.identifier)))continue;i.push(`axis[type=${h.identifier}]`),e.axes=e.axes.filter(p=>p.type!==h.identifier)}else if(h.type==="axis-option"){if(!("axes"in e)||!$e(e.axes)||!((a=e.axes)!=null&&a.some(p=>p[h.optionsKey])))continue;i.push(`axis.${h.optionsKey}`),e.axes.forEach(p=>{p[h.optionsKey]&&delete p[h.optionsKey]})}else if(h.type==="series"){if(h.community||!$e(e.series)||!((l=e.series)!=null&&l.some(p=>p.type===h.identifier)))continue;i.push(`series[type=${h.identifier}]`),e.series=e.series.filter(p=>p.type!==h.identifier)}else if(h.type==="series-option"){if(!$e(e.series)||!((d=e.series)!=null&&d.some(p=>p[h.optionsKey])))continue;i.push(`series.${h.optionsKey}`),e.series.forEach(p=>{p[h.optionsKey]&&delete p[h.optionsKey]})}}if(i.length&&!t){s&&(i=["AgCharts.createGauge"]);let h="ag-charts-enterprise",p="https://www.ag-grid.com/charts/javascript/installation/";e.mode==="integrated"&&(h="ag-grid-charts-enterprise' or 'ag-grid-enterprise/charts-enterprise",p="https://www.ag-grid.com/javascript-data-grid/integrated-charts-installation/"),me.warnOnce([`unable to use these enterprise features as '${h}' has not been loaded:`,"",...i,"",`See: ${p}`].join(`
`))}}function Gue(e){const t="mode"in e&&e.mode==="integrated";for(const i of oo.byType("root","legend")){const s=e[i.optionsKey],n=s!=null&&s.enabled===!1,r=!("removable"in i)||i.removable===!0||i.removable==="standalone-only"&&!t;n&&r&&delete e[i.optionsKey]}}function GG(e){return e!=null&&e.up||e!=null&&e.down||e!=null&&e.neutral?"user-full":e!=null&&e.fills||e!=null&&e.strokes?"user-indexed":"inbuilt"}var ex="white",oD={get cartesian(){return{seriesTypes:Xt.cartesianTypes,commonOptions:["zoom","navigator"]}},get polar(){return{seriesTypes:Xt.polarTypes,commonOptions:[]}},get hierarchy(){return{seriesTypes:Xt.hierarchyTypes,commonOptions:[]}},get topology(){return{seriesTypes:Xt.topologyTypes,commonOptions:[]}},get"flow-proportion"(){return{seriesTypes:Xt.flowProportionTypes,commonOptions:[]}},get standalone(){return{seriesTypes:Xt.standaloneTypes,commonOptions:[]}},get gauge(){return{seriesTypes:Xt.gaugeTypes,commonOptions:[]}}},Hue={"radial-gauge":!0,"linear-gauge":!0};function wO(e){return Hue[e]===!0}var jue=Object.values(oD).reduce((e,{commonOptions:t})=>e.concat(t),[]),Kn=class ip{static getDefaultColors(){return{fills:mi,fillsFallback:Object.values(mi),strokes:Qr,sequentialColors:On(mi),divergingColors:[mi.ORANGE,mi.YELLOW,mi.GREEN],hierarchyColors:["#fff","#e0e5ea","#c1ccd5","#a3b4c1","#859cad"],secondSequentialColors:yt.interpolate([yt.fromHexString(mi.BLUE),yt.fromHexString("#cbdef5")],8).map(t=>t.toString()),secondDivergingColors:[mi.GREEN,mi.YELLOW,mi.RED],secondHierarchyColors:["#fff","#c5cbd1","#a4b1bd","#8498a9","#648096"],up:{fill:mi.GREEN,stroke:Qr.GREEN},down:{fill:mi.RED,stroke:Qr.RED},neutral:{fill:mi.GRAY,stroke:Qr.GRAY},altUp:{fill:mi.BLUE,stroke:Qr.BLUE},altDown:{fill:mi.ORANGE,stroke:Qr.ORANGE},altNeutral:{fill:mi.GRAY,stroke:Qr.GRAY}}}static getDefaultPublicParameters(){return{accentColor:"#2196f3",axisColor:{$foregroundBackgroundMix:[.675]},backgroundColor:ex,borderColor:{$foregroundBackgroundMix:[.818]},foregroundColor:"#464646",fontFamily:"Verdana, sans-serif",fontSize:12,fontWeight:400,gridLineColor:{$foregroundBackgroundAccentMix:[.93,.085]},padding:20,subtleTextColor:{$mix:[{$ref:"textColor"},{$ref:"backgroundColor"},.38]},textColor:{$ref:"foregroundColor"},chromeBackgroundColor:{$foregroundBackgroundMix:[.975]},chromeFontFamily:{$ref:"fontFamily"},chromeFontSize:{$ref:"fontSize"},chromeFontWeight:{$ref:"fontWeight"},chromeTextColor:"#181d1f",chromeSubtleTextColor:{$mix:[{$ref:"chromeTextColor"},{$ref:"backgroundColor"},.38]},inputBackgroundColor:{$ref:"backgroundColor"},inputTextColor:{$ref:"textColor"},crosshairLabelBackgroundColor:{$ref:"foregroundColor"},crosshairLabelTextColor:{$ref:"backgroundColor"}}}static getAxisDefaults(t,i=!0){return Je(t,i&&{title:{enabled:!1,text:"Axis Title",spacing:25,fontWeight:{$ref:"fontWeight"},fontSize:{$rem:[1.0833333333333333]},fontFamily:{$ref:"fontFamily"},color:{$ref:"textColor"}}},{label:{fontSize:{$ref:"fontSize"},fontFamily:{$ref:"fontFamily"},fontWeight:{$ref:"fontWeight"},spacing:11,color:{$ref:"textColor"},avoidCollisions:!0},line:{enabled:!0,width:1,stroke:{$ref:"axisColor"}},tick:{enabled:!1,width:1,stroke:{$ref:"axisColor"}},gridLine:{enabled:!0,style:[{stroke:{$ref:"gridLineColor"},lineDash:[]}]},crossLines:{enabled:!0,fill:{$ref:"foregroundColor"},stroke:{$ref:"foregroundColor"},fillOpacity:.1,strokeWidth:1,label:{fontSize:{$ref:"fontSize"},fontFamily:{$ref:"fontFamily"},fontWeight:{$ref:"fontWeight"},padding:5,color:{$ref:"textColor"}}}})}getChartDefaults(){return{minHeight:300,minWidth:300,background:{visible:!0,fill:{$ref:"backgroundColor"}},padding:{top:{$ref:"padding"},right:{$ref:"padding"},bottom:{$ref:"padding"},left:{$ref:"padding"}},seriesArea:{padding:{top:0,right:0,bottom:0,left:0}},keyboard:{enabled:!0},title:{enabled:!1,text:"Title",spacing:{$if:[{$path:"../subtitle/enabled"},10,20]},fontWeight:{$ref:"fontWeight"},fontSize:{$rem:[1.4166666666666667]},fontFamily:{$ref:"fontFamily"},color:{$ref:"textColor"},wrapping:"hyphenate",layoutStyle:ul,textAlign:dl},subtitle:{enabled:!1,text:"Subtitle",spacing:20,fontWeight:{$ref:"fontWeight"},fontSize:{$rem:[1.0833333333333333]},fontFamily:{$ref:"fontFamily"},color:{$ref:"subtleTextColor"},wrapping:"hyphenate",layoutStyle:ul,textAlign:dl},footnote:{enabled:!1,text:"Footnote",spacing:20,fontSize:{$rem:[1.0833333333333333]},fontFamily:{$ref:"fontFamily"},fontWeight:{$ref:"fontWeight"},color:{$ref:"subtleTextColor"},wrapping:"hyphenate",layoutStyle:ul,textAlign:dl},legend:{position:"bottom",orientation:{$if:[{$or:[{$eq:[{$path:"./position"},"left"]},{$eq:[{$path:"./position"},"right"]}]},"vertical","horizontal"]},spacing:30,listeners:{},toggleSeries:!0,item:{paddingX:16,paddingY:8,marker:{size:15,padding:8},showSeriesStroke:!0,label:{color:{$ref:"textColor"},fontSize:{$ref:"fontSize"},fontFamily:{$ref:"fontFamily"},fontWeight:{$ref:"fontWeight"}}},reverseOrder:!1,pagination:{marker:{size:12},activeStyle:{fill:{$ref:"foregroundColor"}},inactiveStyle:{fill:{$ref:"subtleTextColor"}},highlightStyle:{fill:{$ref:"foregroundColor"}},label:{color:{$ref:"textColor"}}}},tooltip:{enabled:!0,darkTheme:Pd,delay:0,pagination:!1},overlays:{darkTheme:Pd},listeners:{}}}constructor(t={}){const{overrides:i,palette:s}=Vt(t),n=this.createChartConfigPerChartType(this.getDefaults()),r={};i&&this.mergeOverrides(n,r,i);const{fills:o,strokes:a,sequentialColors:l,...d}=this.getDefaultColors();this.palette=jc(Je(s,{fills:Object.values(o),strokes:Object.values(a),sequentialColors:Object.values(l),...d})),this.paletteType=GG(s),this.config=jc(this.templateTheme(n)),this.presets=jc(r)}mergeOverrides(t,i,s){for(const{seriesTypes:n,commonOptions:r}of Object.values(oD)){const o={...s.common};for(const a of jue)r.includes(a)||delete o[a];if(o)for(const a of n){const l=a;wO(l)||(t[l]=Je(o,t[l]))}}Xt.seriesTypes.forEach(n=>{const r=n,o=s[r];wO(r)?i[r]=o:t[r]=Je(o,t[r])})}createChartConfigPerChartType(t){for(const[i,{seriesTypes:s}]of Tr(oD)){const n=VM.get(i);for(const r of s)t[r]??(t[r]=Vt(n))}return t}getDefaults(){const t=(i,s)=>{const n={},r={axes:{},...oE.getThemeTemplates(),...this.getChartDefaults(),...VM.get(i)};for(const o of s){n[o]=Je(qn.getThemeTemplate(o),n[o]??Vt(r));const{axes:a}=n[o];for(const l of Vc.keys())a[l]=Je(a[l],Vc.getThemeTemplate(l),ip.axisDefault[l])}return n};return Je(t("cartesian",Xt.cartesianTypes),t("polar",Xt.polarTypes),t("hierarchy",Xt.hierarchyTypes),t("topology",Xt.topologyTypes),t("flow-proportion",Xt.flowProportionTypes),t("standalone",Xt.standaloneTypes),t("gauge",Xt.gaugeTypes))}static applyTemplateTheme(t,i,s){if($e(t))for(let n=0;n<t.length;n++){const r=t[n];typeof r=="symbol"&&(s!=null&&s.has(r))&&(t[n]=s.get(r))}else for(const n of Object.keys(t)){const r=t[n];typeof r=="symbol"&&(s!=null&&s.has(r))&&(t[n]=s.get(r))}}templateTheme(t,i=!0){const s=i?Vt(t):t,n=this.getTemplateParameters();return Zo(s,ip.applyTemplateTheme,void 0,void 0,n),s}getDefaultColors(){return ip.getDefaultColors()}getPublicParameters(){return ip.getDefaultPublicParameters()}getTemplateParameters(){var n,r,o,a,l,d,h,p,f,v,y,S;const{isEnterprise:t}=Fs,i=new Map;i.set(Pd,!1),i.set(NE,t),i.set(FE,!t),i.set(Lf,"#d9d9d9"),i.set(Gl,"#00000080"),i.set(pb,"#aaa"),i.set(ul,"block"),i.set(dl,"center"),i.set($p,["#797b86","#e24c4a","#f49d2d","#65ab58","#409682","#4db9d2","#5090dc","#3068f9","#e24c4a","#913aac","#d93e64"]),i.set(gb,ex),i.set(ci,mi.BLUE),i.set(Ni,mi.BLUE),i.set(Of,mi.BLUE),i.set(Ff,ex),i.set(Nf,"#fafafa"),i.set(zf,"#ddd"),i.set(Bf,"#000"),i.set(Gf,"#181d1f"),i.set(Yp,"#e35c5c"),i.set(Kp,"#e35c5c"),i.set(Hf,"#fafafa"),i.set(jf,"#ddd"),i.set(Vf,"#000"),i.set(_f,"top"),i.set(to,!1);const s=this.getDefaultColors();return i.set(cb,((n=this.palette.up)==null?void 0:n.stroke)??s.up.stroke),i.set(kf,((r=this.palette.up)==null?void 0:r.fill)??s.up.fill),i.set(ub,((o=this.palette.down)==null?void 0:o.stroke)??s.down.stroke),i.set(Pf,((a=this.palette.down)==null?void 0:a.fill)??s.down.fill),i.set(Jd,((l=this.palette.neutral)==null?void 0:l.stroke)??s.neutral.stroke),i.set(db,((d=this.palette.neutral)==null?void 0:d.fill)??s.neutral.fill),i.set(zE,((h=this.palette.altUp)==null?void 0:h.stroke)??s.up.stroke),i.set(GE,((p=this.palette.altUp)==null?void 0:p.fill)??s.up.fill),i.set(BE,((f=this.palette.altDown)==null?void 0:f.stroke)??s.down.stroke),i.set(HE,((v=this.palette.altDown)==null?void 0:v.fill)??s.down.fill),i.set(jE,((y=this.palette.altNeutral)==null?void 0:y.fill)??s.altNeutral.fill),i.set(hb,((S=this.palette.altNeutral)==null?void 0:S.stroke)??s.altNeutral.stroke),i}};Kn.axisDefault={number:Kn.getAxisDefaults({keys:[],line:{enabled:!1},crosshair:{enabled:!0}}),log:Kn.getAxisDefaults({keys:[],base:10,line:{enabled:!1},crosshair:{enabled:!0}}),category:Kn.getAxisDefaults({keys:[],groupPaddingInner:.1,label:{autoRotate:!0},gridLine:{enabled:to},crosshair:{enabled:!1}}),"grouped-category":Kn.getAxisDefaults({keys:[],tick:{enabled:!0,stroke:Lf},label:{spacing:10,rotation:270},paddingInner:.4,groupPaddingInner:.2,crosshair:{enabled:!1}}),time:Kn.getAxisDefaults({keys:[],gridLine:{enabled:to},crosshair:{enabled:!0}}),"ordinal-time":Kn.getAxisDefaults({keys:[],groupPaddingInner:0,label:{autoRotate:!1},gridLine:{enabled:to},crosshair:{enabled:!0}}),"angle-category":Kn.getAxisDefaults({label:{spacing:5},gridLine:{enabled:to},shape:{$path:["./shape",void 0,{$find:[{$not:[{$isOperation:"./shape"}]},{$path:".."}]}]}},!1),"angle-number":Kn.getAxisDefaults({label:{spacing:5},gridLine:{enabled:to}},!1),"radius-category":Kn.getAxisDefaults({positionAngle:0,line:{enabled:!1}}),"radius-number":Kn.getAxisDefaults({positionAngle:0,line:{enabled:!1},shape:{$path:["./shape",void 0,{$find:[{$not:[{$isOperation:"./shape"}]},{$path:".."}]}]}})};var zr=Kn,tx="#192232",cs={BLUE:"#5090dc",ORANGE:"#ffa03a",GREEN:"#459d55",CYAN:"#34bfe1",YELLOW:"#e1cc00",VIOLET:"#9669cb",GRAY:"#b5b5b5",MAGENTA:"#bd5aa7",BROWN:"#8a6224",RED:"#ef5452"},cc={BLUE:"#74a8e6",ORANGE:"#ffbe70",GREEN:"#6cb176",CYAN:"#75d4ef",YELLOW:"#f6e559",VIOLET:"#aa86d8",GRAY:"#a1a1a1",MAGENTA:"#ce7ab9",BROWN:"#997b52",RED:"#ff7872"},kh=class extends zr{getDefaultColors(){return{fills:cs,fillsFallback:Object.values(cs),strokes:cc,sequentialColors:On(cs),divergingColors:[cs.ORANGE,cs.YELLOW,cs.GREEN],hierarchyColors:["#192834","#253746","#324859","#3f596c","#4d6a80"],secondSequentialColors:["#5090dc","#4882c6","#4073b0","#38659a","#305684","#28486e","#203a58","#182b42"],secondDivergingColors:[cs.GREEN,cs.YELLOW,cs.RED],secondHierarchyColors:["#192834","#3b5164","#496275","#577287","#668399"],up:{fill:cs.GREEN,stroke:cc.GREEN},down:{fill:cs.RED,stroke:cc.RED},neutral:{fill:cs.GRAY,stroke:cc.GRAY},altUp:{fill:cs.BLUE,stroke:cc.BLUE},altDown:{fill:cs.ORANGE,stroke:cc.ORANGE},altNeutral:{fill:cs.GRAY,stroke:cc.GRAY}}}getPublicParameters(){return{...super.getPublicParameters(),axisColor:{$foregroundBackgroundMix:[.263]},backgroundColor:tx,borderColor:{$foregroundBackgroundMix:[.784]},chromeBackgroundColor:{$foregroundBackgroundMix:[.93]},foregroundColor:"#fff",gridLineColor:{$foregroundBackgroundAccentMix:[.743,.01]},subtleTextColor:{$mix:[{$ref:"textColor"},{$ref:"backgroundColor"},.57]},chromeTextColor:{$ref:"textColor"},crosshairLabelBackgroundColor:{$foregroundBackgroundAccentMix:[.35,.1]}}}getTemplateParameters(){const e=super.getTemplateParameters();return e.set(Pd,!0),e.set(gb,tx),e.set(Lf,"#7f8389"),e.set(ci,cs.BLUE),e.set(Of,"#fff"),e.set(Ni,cs.BLUE),e.set(Ff,tx),e.set(Nf,"#28313e"),e.set(zf,"#4b525d"),e.set(Bf,"#fff"),e.set(Gf,"#fff"),e.set(Hf,"#28313e"),e.set(jf,"#4b525d"),e.set(Vf,"#fff"),e}constructor(e){super(e)}},Qs={GREEN:"#089981",RED:"#F23645",BLUE:"#5090dc",GRAY:"#A9A9A9"},uc={GREEN:"#089981",RED:"#F23645",BLUE:"#5090dc",GRAY:"#909090"},Vue=class extends kh{getDefaultColors(){return{...super.getDefaultColors(),fills:{...Qs},fillsFallback:Object.values({...Qs}),strokes:{...uc},sequentialColors:On(Qs),divergingColors:[Qs.GREEN,Qs.BLUE,Qs.RED],secondSequentialColors:["#5090dc","#4882c6","#4073b0","#38659a","#305684","#28486e","#203a58","#182b42"],up:{fill:Qs.GREEN,stroke:uc.GREEN},down:{fill:Qs.RED,stroke:uc.RED},neutral:{fill:Qs.BLUE,stroke:uc.BLUE},altUp:{fill:Qs.GREEN,stroke:uc.GREEN},altDown:{fill:Qs.RED,stroke:uc.RED},altNeutral:{fill:Qs.GRAY,stroke:uc.GRAY}}}getPublicParameters(){return{...super.getPublicParameters(),gridLineColor:{$foregroundBackgroundAccentMix:[.88,.01]},padding:0}}getTemplateParameters(){const e=super.getTemplateParameters();return e.set(ci,Qs.BLUE),e.set(Ni,Qs.BLUE),e.set(ul,"overlay"),e.set(dl,"left"),e.set(_f,"bottom"),e.set(to,!0),e}},Js={GREEN:"#089981",RED:"#F23645",BLUE:"#5090dc",GRAY:"#A9A9A9"},dc={GREEN:"#089981",RED:"#F23645",BLUE:"#5090dc",GRAY:"#909090"},_ue=class extends zr{getDefaultColors(){return{...super.getDefaultColors(),fills:{...Js},fillsFallback:Object.values({...Js}),strokes:{...dc},sequentialColors:On(Js),divergingColors:[Js.GREEN,Js.BLUE,Js.RED],up:{fill:Js.GREEN,stroke:dc.GREEN},down:{fill:Js.RED,stroke:dc.RED},neutral:{fill:Js.BLUE,stroke:dc.BLUE},altUp:{fill:Js.GREEN,stroke:dc.GREEN},altDown:{fill:Js.RED,stroke:dc.RED},altNeutral:{fill:Js.GRAY,stroke:dc.GRAY}}}getPublicParameters(){return{...super.getPublicParameters(),gridLineColor:{$foregroundBackgroundAccentMix:[.94,.01]},padding:0}}getTemplateParameters(){const e=super.getTemplateParameters();return e.set(ci,Js.BLUE),e.set(Ni,Js.BLUE),e.set(ul,"overlay"),e.set(dl,"left"),e.set(_f,"bottom"),e.set(to,!0),e}},us={BLUE:"#2196F3",ORANGE:"#FF9800",GREEN:"#4CAF50",CYAN:"#00BCD4",YELLOW:"#FFEB3B",VIOLET:"#7E57C2",GRAY:"#9E9E9E",MAGENTA:"#F06292",BROWN:"#795548",RED:"#F44336"},hc={BLUE:"#90CAF9",ORANGE:"#FFCC80",GREEN:"#A5D6A7",CYAN:"#80DEEA",YELLOW:"#FFF9C4",VIOLET:"#B39DDB",GRAY:"#E0E0E0",MAGENTA:"#F48FB1",BROWN:"#A1887F",RED:"#EF9A9A"},Wue=class extends kh{getDefaultColors(){return{...super.getDefaultColors(),fills:us,fillsFallback:Object.values(us),strokes:hc,sequentialColors:On(us),divergingColors:[us.ORANGE,us.YELLOW,us.GREEN],secondSequentialColors:["#2196f3","#208FEC","#1E88E5","#1C7FDC","#1976d2","#176EC9","#1565c0"],secondDivergingColors:[us.GREEN,us.YELLOW,us.RED],up:{fill:us.GREEN,stroke:hc.GREEN},down:{fill:us.RED,stroke:hc.RED},neutral:{fill:us.GRAY,stroke:hc.GRAY},altUp:{fill:us.BLUE,stroke:hc.BLUE},altDown:{fill:us.RED,stroke:hc.RED},altNeutral:{fill:us.GRAY,stroke:hc.GRAY}}}getTemplateParameters(){const e=super.getTemplateParameters();return e.set(ci,us.BLUE),e.set(Ni,us.BLUE),e}},ds={BLUE:"#2196F3",ORANGE:"#FF9800",GREEN:"#4CAF50",CYAN:"#00BCD4",YELLOW:"#FFEB3B",VIOLET:"#7E57C2",GRAY:"#9E9E9E",MAGENTA:"#F06292",BROWN:"#795548",RED:"#F44336"},gc={BLUE:"#1565C0",ORANGE:"#E65100",GREEN:"#2E7D32",CYAN:"#00838F",YELLOW:"#F9A825",VIOLET:"#4527A0",GRAY:"#616161",MAGENTA:"#C2185B",BROWN:"#4E342E",RED:"#B71C1C"},Uue=class extends zr{getDefaultColors(){return{...super.getDefaultColors(),fills:ds,fillsFallback:Object.values(ds),strokes:gc,sequentialColors:On(ds),divergingColors:[ds.ORANGE,ds.YELLOW,ds.GREEN],secondSequentialColors:["#2196f3","#329EF4","#42a5f5","#53ADF6","#64b5f6","#7AC0F8","#90caf9"],secondDivergingColors:[ds.GREEN,ds.YELLOW,ds.RED],up:{fill:ds.GREEN,stroke:gc.GREEN},down:{fill:ds.RED,stroke:gc.RED},neutral:{fill:ds.GRAY,stroke:gc.GRAY},altUp:{fill:ds.BLUE,stroke:gc.BLUE},altDown:{fill:ds.RED,stroke:gc.RED},altNeutral:{fill:ds.GRAY,stroke:gc.GRAY}}}getTemplateParameters(){const e=super.getTemplateParameters();return e.set(ci,ds.BLUE),e.set(Ni,ds.BLUE),e}},ni={BLUE:"#436ff4",PURPLE:"#9a7bff",MAGENTA:"#d165d2",PINK:"#f0598b",RED:"#f47348",ORANGE:"#f2a602",YELLOW:"#e9e201",GREEN:"#21b448",CYAN:"#00b9a2",MODERATE_BLUE:"#00aee4",GRAY:"#bbbbbb"},pc={BLUE:"#6698ff",PURPLE:"#c0a3ff",MAGENTA:"#fc8dfc",PINK:"#ff82b1",RED:"#ff9b70",ORANGE:"#ffcf4e",YELLOW:"#ffff58",GREEN:"#58dd70",CYAN:"#51e2c9",MODERATE_BLUE:"#4fd7ff",GRAY:"#eeeeee"},$ue=class extends kh{getDefaultColors(){return{fills:ni,fillsFallback:Object.values(ni),strokes:pc,sequentialColors:On(ni),divergingColors:[ni.BLUE,ni.RED],hierarchyColors:[],secondSequentialColors:[ni.BLUE,ni.PURPLE,ni.MAGENTA,ni.PINK,ni.RED,ni.ORANGE,ni.YELLOW,ni.GREEN],secondDivergingColors:[ni.BLUE,ni.RED],secondHierarchyColors:[],up:{fill:ni.GREEN,stroke:pc.GREEN},down:{fill:ni.RED,stroke:pc.RED},neutral:{fill:ni.GRAY,stroke:pc.GRAY},altUp:{fill:ni.BLUE,stroke:pc.BLUE},altDown:{fill:ni.RED,stroke:pc.RED},altNeutral:{fill:ni.GRAY,stroke:pc.GRAY}}}getTemplateParameters(){const e=super.getTemplateParameters();return e.set(ci,ni.BLUE),e.set(Ni,ni.BLUE),e}},ri={BLUE:"#436ff4",PURPLE:"#9a7bff",MAGENTA:"#d165d2",PINK:"#f0598b",RED:"#f47348",ORANGE:"#f2a602",YELLOW:"#e9e201",GREEN:"#21b448",CYAN:"#00b9a2",MODERATE_BLUE:"#00aee4",GRAY:"#bbbbbb"},fc={BLUE:"#2346c9",PURPLE:"#7653d4",MAGENTA:"#a73da9",PINK:"#c32d66",RED:"#c84b1c",ORANGE:"#c87f00",YELLOW:"#c1b900",GREEN:"#008c1c",CYAN:"#00927c",MODERATE_BLUE:"#0087bb",GRAY:"#888888"},Yue=class extends zr{getDefaultColors(){return{...super.getDefaultColors(),fills:ri,fillsFallback:Object.values(ri),strokes:fc,sequentialColors:On(ri),divergingColors:[ri.BLUE,ri.RED],hierarchyColors:[],secondSequentialColors:[ri.BLUE,ri.PURPLE,ri.MAGENTA,ri.PINK,ri.RED,ri.ORANGE,ri.YELLOW,ri.GREEN],secondDivergingColors:[ri.BLUE,ri.RED],secondHierarchyColors:[],up:{fill:ri.GREEN,stroke:fc.GREEN},down:{fill:ri.RED,stroke:fc.RED},neutral:{fill:ri.GRAY,stroke:fc.GRAY},altUp:{fill:ri.BLUE,stroke:fc.BLUE},altDown:{fill:ri.RED,stroke:fc.RED},altNeutral:{fill:ri.GRAY,stroke:fc.GRAY}}}getTemplateParameters(){const e=super.getTemplateParameters();return e.set(ci,ri.BLUE),e.set(Ni,ri.BLUE),e}},Oi={BLUE:"#4472C4",ORANGE:"#ED7D31",GRAY:"#A5A5A5",YELLOW:"#FFC000",MODERATE_BLUE:"#5B9BD5",GREEN:"#70AD47",DARK_GRAY:"#7B7B7B",DARK_BLUE:"#264478",VERY_DARK_GRAY:"#636363",DARK_YELLOW:"#997300"},tl={BLUE:"#6899ee",ORANGE:"#ffa55d",GRAY:"#cdcdcd",YELLOW:"#ffea53",MODERATE_BLUE:"#82c3ff",GREEN:"#96d56f",DARK_GRAY:"#a1a1a1",DARK_BLUE:"#47689f",VERY_DARK_GRAY:"#878787",DARK_YELLOW:"#c0993d"},Kue=class extends kh{getDefaultColors(){return{...super.getDefaultColors(),fills:{...Oi,RED:Oi.ORANGE},fillsFallback:Object.values({...Oi,RED:Oi.ORANGE}),strokes:{...tl,RED:tl.ORANGE},sequentialColors:On({...Oi,RED:Oi.ORANGE}),divergingColors:[Oi.ORANGE,Oi.YELLOW,Oi.GREEN],secondSequentialColors:["#5090dc","#4882c6","#4073b0","#38659a","#305684","#28486e","#203a58","#182b42"],secondDivergingColors:[Oi.GREEN,Oi.YELLOW,Oi.ORANGE],up:{fill:Oi.GREEN,stroke:tl.GREEN},down:{fill:Oi.ORANGE,stroke:tl.ORANGE},neutral:{fill:Oi.GRAY,stroke:tl.GRAY},altUp:{fill:Oi.BLUE,stroke:tl.BLUE},altDown:{fill:Oi.ORANGE,stroke:tl.ORANGE},altNeutral:{fill:Oi.GRAY,stroke:tl.GRAY}}}getTemplateParameters(){const e=super.getTemplateParameters();return e.set(ci,Oi.BLUE),e.set(Ni,Oi.BLUE),e}},Hi={BLUE:"#5281d5",ORANGE:"#ff8d44",GRAY:"#b5b5b5",YELLOW:"#ffd02f",MODERATE_BLUE:"#6aabe6",GREEN:"#7fbd57",DARK_GRAY:"#8a8a8a",DARK_BLUE:"#335287",VERY_DARK_GRAY:"#717171",DARK_YELLOW:"#a98220"},Uo={BLUE:"#214d9b",ORANGE:"#c25600",GRAY:"#7f7f7f",YELLOW:"#d59800",MODERATE_BLUE:"#3575ac",GREEN:"#4b861a",DARK_GRAY:"#575757",DARK_BLUE:"#062253",VERY_DARK_GRAY:"#414141",DARK_YELLOW:"#734f00"},que=class extends zr{getDefaultColors(){return{...super.getDefaultColors(),fills:{...Hi,RED:Hi.ORANGE},fillsFallback:Object.values({...Hi,RED:Hi.ORANGE}),strokes:{...Uo,RED:Uo.ORANGE},sequentialColors:On({...Hi,RED:Hi.ORANGE}),divergingColors:[Hi.ORANGE,Hi.YELLOW,Hi.GREEN],secondSequentialColors:["#5090dc","#629be0","#73a6e3","#85b1e7","#96bcea","#a8c8ee","#b9d3f1","#cbdef5"],secondDivergingColors:[Hi.GREEN,Hi.YELLOW,Hi.ORANGE],secondHierarchyColors:[],up:{fill:Hi.GREEN,stroke:Uo.GREEN},down:{fill:Hi.ORANGE,stroke:Uo.ORANGE},neutral:{fill:Uo.GRAY,stroke:Uo.GRAY},altUp:{fill:Hi.BLUE,stroke:Uo.BLUE},altDown:{fill:Hi.ORANGE,stroke:Uo.ORANGE},altNeutral:{fill:Hi.GRAY,stroke:Uo.GRAY}}}getTemplateParameters(){const e=super.getTemplateParameters();return e.set(ci,Hi.BLUE),e.set(Ni,Hi.BLUE),e}},hs={BLUE:"#0083ff",ORANGE:"#ff6600",GREEN:"#00af00",CYAN:"#00ccff",YELLOW:"#f7c700",VIOLET:"#ac26ff",GRAY:"#a7a7b7",MAGENTA:"#e800c5",BROWN:"#b54300",RED:"#ff0000"},mc={BLUE:"#67b7ff",ORANGE:"#ffc24d",GREEN:"#5cc86f",CYAN:"#54ebff",VIOLET:"#fff653",YELLOW:"#c18aff",GRAY:"#aeaeae",MAGENTA:"#f078d4",BROWN:"#ba8438",RED:"#ff726e"},Zue=class extends kh{getDefaultColors(){return{fills:hs,fillsFallback:Object.values(hs),strokes:mc,sequentialColors:On(hs),divergingColors:[hs.ORANGE,hs.YELLOW,hs.GREEN],hierarchyColors:[],secondSequentialColors:["#0083ff","#0076e6","#0069cc","#005cb3","#004f99","#004280","#003466","#00274c"],secondDivergingColors:[hs.GREEN,hs.YELLOW,hs.RED],secondHierarchyColors:[],up:{fill:hs.GREEN,stroke:mc.GREEN},down:{fill:hs.RED,stroke:mc.RED},neutral:{fill:hs.GRAY,stroke:mc.GRAY},altUp:{fill:hs.BLUE,stroke:mc.BLUE},altDown:{fill:hs.ORANGE,stroke:mc.ORANGE},altNeutral:{fill:hs.GRAY,stroke:mc.GRAY}}}getTemplateParameters(){const e=super.getTemplateParameters();return e.set(ci,hs.BLUE),e.set(Ni,hs.BLUE),e}},gs={BLUE:"#0083ff",ORANGE:"#ff6600",GREEN:"#00af00",CYAN:"#00ccff",YELLOW:"#f7c700",VIOLET:"#ac26ff",GRAY:"#a7a7b7",MAGENTA:"#e800c5",BROWN:"#b54300",RED:"#ff0000"},vc={BLUE:"#0f68c0",ORANGE:"#d47100",GREEN:"#007922",CYAN:"#009ac2",VIOLET:"#bca400",YELLOW:"#753cac",GRAY:"#646464",MAGENTA:"#9b2685",BROWN:"#6c3b00",RED:"#cb0021"},Xue=class extends zr{getDefaultColors(){return{...super.getDefaultColors(),fills:gs,fillsFallback:Object.values(gs),strokes:vc,sequentialColors:On(gs),divergingColors:[gs.ORANGE,gs.YELLOW,gs.GREEN],hierarchyColors:[],secondSequentialColors:["#0083ff","#1a8fff","#339cff","#4da8ff","#66b5ff","#80c1ff","#99cdff","#b3daff"],secondDivergingColors:[gs.GREEN,gs.YELLOW,gs.RED],secondHierarchyColors:[],up:{fill:gs.GREEN,stroke:vc.GREEN},down:{fill:gs.RED,stroke:vc.RED},neutral:{fill:gs.GRAY,stroke:vc.GRAY},altUp:{fill:gs.BLUE,stroke:vc.BLUE},altDown:{fill:gs.ORANGE,stroke:vc.ORANGE},altNeutral:{fill:gs.GRAY,stroke:vc.GRAY}}}getTemplateParameters(){const e=super.getTemplateParameters();return e.set(ci,gs.BLUE),e.set(Ni,gs.BLUE),e}},Fd=Os(()=>new zr),Que=Os(()=>new kh),Jue=ht.create(!0,"perf"),Sr=(e,t,i)=>{Jue("[CACHE] ChartTheme",e,t.name,i)},vA={"ag-default-dark":Que,"ag-sheets-dark":Os(()=>new Kue,Sr),"ag-polychroma-dark":Os(()=>new $ue,Sr),"ag-vivid-dark":Os(()=>new Zue,Sr),"ag-material-dark":Os(()=>new Wue,Sr),"ag-financial-dark":Os(()=>new Vue,Sr),null:Fd,undefined:Fd,"ag-default":Fd,"ag-sheets":Os(()=>new que,Sr),"ag-polychroma":Os(()=>new Yue,Sr),"ag-vivid":Os(()=>new Xue,Sr),"ag-material":Os(()=>new Uue,Sr),"ag-financial":Os(()=>new _ue,Sr)},aC=Os(ede,Sr);function ede(e){if(e instanceof zr)return e;if(e==null||typeof e=="string"){const i=vA[e];return i?i():(me.warnOnce(`the theme [${e}] is invalid, using [ag-default] instead.`),Fd())}const{errors:t}=Mr(e,HG,"theme");if(!t.length){const i=tde(e),s=i.baseTheme?aC(i.baseTheme):Fd();return new s.constructor(i)}for(const{message:i}of t)me.warnOnce(i);return Fd()}function tde(e){let t=e,i,s;const n=[];for(;typeof t=="object";)i??(i=t.palette),s??(s=t.params),t.overrides&&n.push(t.overrides),t=t.baseTheme;return{baseTheme:t,overrides:Je(...n),params:s,palette:i}}var HG={baseTheme:ai(Me,Op),overrides:Op,params:{accentColor:Ye,axisColor:Ye,backgroundColor:Ye,borderColor:Ye,foregroundColor:Ye,fontFamily:Me,fontSize:ke,fontWeight:ai(Me,ke),gridLineColor:Ye,padding:ke,subtleTextColor:Ye,textColor:Ye,chromeBackgroundColor:Ye,chromeFontFamily:Me,chromeFontSize:ke,chromeFontWeight:ai(Me,ke),chromeSubtleTextColor:Ye,chromeTextColor:Ye,inputBackgroundColor:Ye,inputTextColor:Ye,crosshairLabelBackgroundColor:Ye,crosshairLabelTextColor:Ye},palette:{fills:Jt(CR),strokes:Jt(Ye),up:{fill:ai(Ye,E0),stroke:Ye},down:{fill:ai(Ye,E0),stroke:Ye},neutral:{fill:ai(Ye,E0),stroke:Ye}}},xO=e=>`'${e}'`,Ph=class Ri{constructor(t,i,s,n,r,o,a=!1){this.themeParameters={},this.optionMetadata=r??{},this.processedOverrides=s??{};let l=null;t instanceof Ri?(l=t,this.specialOverrides=l.specialOverrides,o===void 0&&(o=yo(l.userOptions,i,Ri.JSON_DIFF_OPTS)),this.userOptions=Vt(zp(o,l.userOptions),Ri.OPTIONS_CLONE_OPTS)):(this.userOptions=Vt(t??i,Ri.OPTIONS_CLONE_OPTS),this.specialOverrides=this.specialOverridesDefaults({...n})),a&&this.removeLeftoverSymbols(this.userOptions);let d,h,p,f,v,y;!a&&o!==void 0&&Ri.isFastPathDelta(o)&&l!=null?({activeTheme:d,processedOptions:h,defaultAxes:p,fastDelta:f}=this.fastSetup(o,l),v=l.themeParameters,y=l.annotationThemes):(Ri.perfDebug("ChartOptions.slowSetup()"),{activeTheme:d,processedOptions:h,defaultAxes:p,themeParameters:v,annotationThemes:y}=this.slowSetup(s,o,a)),this.activeTheme=d,this.processedOptions=h,this.defaultAxes=p,this.fastDelta=f??void 0,this.themeParameters=v,this.annotationThemes=y,ht.inDevelopmentMode(()=>jc(this))}static isFastPathDelta(t){for(const i of Object.keys(t??{}))if(!this.FAST_PATH_OPTIONS.has(i))return Ri.perfDebug("ChartOptions.isFastPathDelta() - slow path required due to presence of: ",i),!1;return Ri.perfDebug("ChartOptions.isFastPathDelta() - fast path possible."),!0}fastSetup(t,i){const{activeTheme:s,defaultAxes:n,processedOptions:r}=i,{presetType:o}=this.optionMetadata,a=o?Bue[o]:void 0;if(o!=null&&(t==null?void 0:t.data)!=null&&a!=null){const{series:d,data:h}=a(t.data);t=Je({series:d,data:h},t)}this.fastSeriesSetup(t,r);const l=Je(t,r);return Ri.debug("ChartOptions.fastSetup() - processed options",l),{activeTheme:s,defaultAxes:n,processedOptions:l,fastDelta:t}}fastSeriesSetup(t,i){var s;t!=null&&t.series&&((s=t.series)!=null&&s.every((n,r)=>{var o;return S3(n,((o=i.series)==null?void 0:o[r])??{})})?delete t.series:t.series=t.series.map((n,r)=>{var o;return zp(n,((o=i.series)==null?void 0:o[r])??{})}))}slowSetup(t,i,s=!1){var x,D;let n=Vt(this.userOptions,Ri.OPTIONS_CLONE_OPTS);i&&(n=Je(i,n),s&&this.removeLeftoverSymbols(n));const{presetType:r}=this.optionMetadata;if(r!=null){const E=zue[r],T=n,k=n.type,P=k!=null?aC(n.theme).presets[k]:void 0;Ri.debug(">>> AgCharts.createOrUpdate() - applying preset",T),n=(E==null?void 0:E(T,P,()=>this.activeTheme))??n}this.soloSeriesIntegrity(n),Fs.isEnterprise||SO(n);const o=aC(n.theme);if(r!=null&&o.templateTheme(n,!1),this.validateSeriesOptions(n),this.chartDef=yn.detectChartDefinition(n),!this.chartDef.placeholder){const{valid:E,errors:T}=Mr(n,this.chartDef.options);T.forEach(k=>me.warn(k)),n=E}this.validatePluginOptions(n),this.validateAxesOptions(n),this.removeDisabledOptions(n);const a=this.optionsType(n),{annotations:l={},axes:d={},series:h,...p}=this.getSeriesThemeConfig(a,o),[f,v]=this.splitAnnotationsOptions(l),y=Vt(v),S=this.getDefaultAxes(n,h);let w=Je(t,n,f,p,S);this.processAxesOptions(w,d),this.processSeriesOptions(w,o),w=Vt(w,Ri.OPTIONS_CLONE_OPTS),(yE(w)||CE(w)||hae(w))&&((x=w.legend)==null?void 0:x.enabled)==null&&(w.legend??(w.legend={}),w.legend.enabled=w.series.length>1),this.enableConfiguredOptions(w,n);const b=this.getThemeParameters(o,w);return b.__palette=Vt(o.palette),b.__palette.type=Ci(n.theme)?GG((D=n.theme)==null?void 0:D.palette):"inbuilt",this.resolveThemeOperations(b,b),this.resolveThemeOperations(b,w),this.resolveThemeOperations(b,y),this.processMiniChartSeriesOptions(w),o.templateTheme(w,!1),Gue(w),Fs.isEnterprise||SO(w,!0),this.validateSeriesOptions(w),this.validateAxesOptions(w),Ri.debug(()=>["ChartOptions.slowSetup() - processed options",Vt(w)]),{activeTheme:o,processedOptions:w,defaultAxes:S,themeParameters:b,annotationThemes:y}}validatePluginOptions(t){var i;for(const s of yn.listModulesByType(Uv.Plugin)){const n=s.name;if(n in t&&(!s.chartType||s.chartType===((i=this.chartDef)==null?void 0:i.name))){const{valid:r,errors:o}=Mr(t[n],s.options,s.name);o.forEach(a=>me.warn(a)),t[n]=r}}}validateSeriesOptions(t){var o,a;const i=(o=this.chartDef)==null?void 0:o.name,s=[],n=((a=t.series)==null?void 0:a.length)??0;let r;for(let l=0;l<n;l++){const d=`series[${l}]`,h=t.series[l],p=yn.getSeriesModule(h.type??"line");if(p==null){r??(r=DM(Array.from(yn.listModulesByType(Uv.Series)).filter(S=>!i||S.chartType===i).map(S=>S.name),"or",xO)),me.warn(`Unknown type \`${h.type}\` at \`${d}.type\`; expecting ${r}, ignoring.`);continue}else if(i&&p.chartType!==i){me.warn(`Series type \`${p.name}\` at \`${d}.type\` is not supported by chart type \`${i}\`, ignoring.`);continue}const{validate:f=Mr}=p,{valid:v,errors:y}=f(h,p.options,d);y.forEach(S=>me.warn(S)),y.some(S=>S.required&&S.path===d)||s.push(v)}t.series=s}validateAxesOptions(t){var o;if(!("axes"in t)||!t.axes)return;const i=(o=this.chartDef)==null?void 0:o.name,s=[],n=t.axes.length??0;let r;for(let a=0;a<n;a++){const l=`axes[${a}]`,d=t.axes[a],h=yn.getAxisModule(d.type);if(h==null){r??(r=DM(Array.from(yn.listModulesByType(Uv.Axis)).filter(y=>y.chartType===i).map(y=>y.name),"or",xO)),me.warn(`Unknown type \`${d.type}\` at  \`${l}.type\`; expecting one of ${r}, ignoring all axes options.`),delete t.axes;break}else if(h.chartType!==i){me.warn(`Axis type \`${h.name}\` at  \`${l}.type\` is not supported by chart type \`${i}\`, ignoring.`);break}const{validate:p=Mr}=h,{valid:f,errors:v}=p(d,h.options,l);v.forEach(y=>me.warn(y)),v.some(y=>y.required&&y.path===l)||s.push(f)}t.axes=s}diffOptions(t){return this===t?{}:t==null?this.processedOptions:this.fastDelta??yo(t.processedOptions,this.processedOptions,Ri.JSON_DIFF_OPTS)}getSeriesThemeConfig(t,i){return(i==null?void 0:i.config[t])??{}}getDefaultAxes(t,i){var o;const s=this.optionsType(t),n=((o=t.series)==null?void 0:o.find(a=>(a.type??"line")===s))??{},r=qn.cloneDefaultAxes(s);return Hy(r,{},void 0,Je(n,i)),r}optionsType(t){var i,s;return((s=(i=t.series)==null?void 0:i[0])==null?void 0:s.type)??"line"}splitAnnotationsOptions(t){const{axesButtons:i=null,enabled:s=null,optionsToolbar:n=null,toolbar:r=null,...o}=t;return i==null&&s==null&&n==null&&r==null?[{},o]:[{annotations:{axesButtons:i,enabled:s,optionsToolbar:n,toolbar:r}},o]}processAxesOptions(t,i){var s;"axes"in t&&(t.axes=(s=t.axes)==null?void 0:s.map(n=>{var v,y,S;const{crossLines:r,...o}=Je((v=i[n.type])==null?void 0:v[n.position],i[n.type]);n.crossLines&&(n.crossLines=Oy(n.crossLines,r));const a=(y=o.gridLine)==null?void 0:y.style;(S=n.gridLine)!=null&&S.style&&(a!=null&&a.length)&&(n.gridLine.style=n.gridLine.style.map((w,b)=>w.stroke!=null||w.lineDash!=null?Je(w,a.at(b%a.length)):w));const{top:l,right:d,bottom:h,left:p,...f}=Je(n,o);return f}))}processSeriesOptions(t,i){var r;const s=this.getTooltipPositionDefaults(t),n=(r=t.series)==null?void 0:r.map(o=>{o.type??(o.type="line");const{innerLabels:a,...l}=this.getSeriesThemeConfig(o.type,i).series??{},d=yn.getSeriesModule(o.type),h=!!(d!=null&&d.options.tooltip),p=!!(d!=null&&d.options.visible),f=h&&this.getTooltipRangeDefaults(t,o.type),v=Je(this.getSeriesGroupingOptions(o),o,h&&s,f,l,p&&{visible:!0});return v.innerLabels&&(v.innerLabels=Oy(v.innerLabels,a)),v});t.series=this.setSeriesGroupingOptions(n??[])}processMiniChartSeriesOptions(t){var s,n;let i=(n=(s=t.navigator)==null?void 0:s.miniChart)==null?void 0:n.series;i!=null&&(i=i.map(r=>(r.type??(r.type="line"),r)),t.navigator.miniChart.series=this.setSeriesGroupingOptions(i))}getThemeParameters(t,i){const s=t.getPublicParameters();if(!bi(i.theme)||!i.theme.params)return s;const{valid:n,errors:r}=Mr(i.theme.params,HG.params);for(const{message:o}of r)me.warnOnce(o);return Je(n,s)}resolveThemeOperations(t,i){const s=Hy(i,t,new Set(["palette","data","theme"]));Ri.debug("ChartOptions.resolveTheme()",s)}getSeriesGroupingOptions(t){const i=qn.isGroupable(t.type),s=qn.isStackable(t.type),n=qn.isStackedByDefault(t.type);t.grouped&&!i&&me.warnOnce(`unsupported grouping of series type "${t.type}".`),(t.stacked||t.stackGroup)&&!s&&me.warnOnce(`unsupported stacking of series type "${t.type}".`);let{grouped:r,stacked:o}=t;return o??(o=(n||t.stackGroup!=null)&&!(i&&r)),r??(r=!0),{stacked:s&&o,grouped:i&&r&&!(s&&o)}}setSeriesGroupingOptions(t){const i=this.getSeriesGrouping(t);Ri.debug("ChartOptions.setSeriesGroupingOptions() - series grouping: ",i);const s={},n=i.reduce((r,o)=>{var a;return o.groupType==="default"||(r[a=o.seriesType]??(r[a]=0),r[o.seriesType]+=o.groupType==="stack"?1:o.series.length),r},{});return i.flatMap(r=>{var o;switch(s[o=r.seriesType]??(s[o]=0),r.groupType){case"stack":{const a=s[r.seriesType]++;return r.series.map((l,d)=>Object.assign(l,{seriesGrouping:{groupId:r.groupId,groupIndex:a,groupCount:n[r.seriesType],stackIndex:d,stackCount:r.series.length}}))}case"group":return r.series.map(a=>Object.assign(a,{seriesGrouping:{groupId:r.groupId,groupIndex:s[r.seriesType]++,groupCount:n[r.seriesType],stackIndex:0,stackCount:0}}))}return r.series}).map(({stacked:r,grouped:o,...a})=>a)}getSeriesGroupId(t){return[t.type,t.xKey,t.stacked?t.stackGroup??"stacked":"grouped"].filter(Boolean).join("-")}getSeriesGrouping(t){const i=new Map;return t.reduce((s,n)=>{const r=n.type;if(!n.stacked&&!n.grouped)s.push({groupType:"default",seriesType:r,series:[n],groupId:"__default__"});else{const o=this.getSeriesGroupId(n);if(!i.has(o)){const l={groupType:n.stacked?"stack":"group",seriesType:r,series:[],groupId:o};i.set(o,l),s.push(l)}i.get(o).series.push(n)}return s},[])}getTooltipPositionDefaults(t){var d;const i=(d=t.tooltip)==null?void 0:d.position;if(!bi(i))return;const{type:s,anchorTo:n,placement:r,xOffset:o,yOffset:a}=i,l={};return es(s)&&D0(OG,s)&&(l.type=s),es(n)&&D0(kG,n)&&(l.anchorTo=n),es(r)&&D0(PG,r)&&(l.placement=r),lt(o)&&(l.xOffset=o),lt(a)&&(l.yOffset=a),{tooltip:{position:l}}}getTooltipRangeDefaults(t,i){var s,n;return{tooltip:{range:((s=t.tooltip)==null?void 0:s.range)??((n=qn.getTooltipDefauls(i))==null?void 0:n.range)}}}soloSeriesIntegrity(t){if(!$e(t.series))return;const i=t.series;if(i&&i.length>1&&i.some(s=>qn.isSolo(s.type))){const s=this.optionsType(t);if(qn.isSolo(s))me.warn(`series[0] of type '${s}' is incompatible with other series types. Only processing series[0]`),t.series=i.slice(0,1);else{const{solo:n,nonSolo:r}=bR(i,a=>qn.isSolo(a.type)?"solo":"nonSolo"),o=Ote(n.map(a=>a.type)).join(", ");me.warn(`Unable to mix these series types with the lead series type: ${o}`),t.series=r}}}static enableConfiguredJsonOptions(t,i){typeof i=="object"&&"enabled"in i&&!i._enabledFromTheme&&t.enabled==null&&(i.enabled=!0)}static cleanupEnabledFromThemeJsonOptions(t){t._enabledFromTheme!=null&&delete t._enabledFromTheme}enableConfiguredOptions(t,i){Zo(i,Ri.enableConfiguredJsonOptions,new Set(["data","theme"]),t),Zo(t,Ri.cleanupEnabledFromThemeJsonOptions,new Set(["data","theme"]))}static removeDisabledOptionJson(t){"enabled"in t&&t.enabled===!1&&Object.keys(t).forEach(i=>{i!=="enabled"&&delete t[i]})}removeDisabledOptions(t){Zo(t,Ri.removeDisabledOptionJson,new Set(["data","theme"]))}static removeLeftoverSymbolsJson(t){if(!(!t||!Ci(t)))for(const i of Object.keys(t)){const s=t[i];bte(s)&&delete t[i]}}removeLeftoverSymbols(t){Zo(t,Ri.removeLeftoverSymbolsJson,new Set(["data"]))}specialOverridesDefaults(t){if(t.window==null?t.window=Pt():fte(t.window),t.document==null?t.document=ua():pte(t.document),t.window==null)throw new Error("AG Charts - unable to resolve global window");if(t.document==null)throw new Error("AG Charts - unable to resolve global document");return t}};Ph.OPTIONS_CLONE_OPTS={shallow:new Set(["data","container"]),assign:new Set(["context","theme"])};Ph.JSON_DIFF_OPTS=new Set(["data"]);Ph.perfDebug=ht.create(!0,"perf");Ph.FAST_PATH_OPTIONS=new Set(["data","width","height","container"]);Ph.debug=ht.create(!0,"opts");var aD=Ph,ide=1e3,yA=class rl{constructor(t,i,s,n,r,o=ide){this.name=t,this.buildItem=i,this.releaseItem=s,this.destroyItem=n,this.maxPoolSize=r,this.cleanupTimeMs=o,this.freePool=[],this.busyPool=new Set}static getPool(t,i,s,n,r){return this.pools.has(t)||this.pools.set(t,new rl(t,i,s,n,r)),this.pools.get(t)}isFull(){return this.freePool.length+this.busyPool.size>=this.maxPoolSize}hasFree(){return this.freePool.length>0}obtain(t){if(!this.hasFree()&&this.isFull())throw new Error("AG Charts - pool exhausted");let i=this.freePool.pop();return i==null?(i=this.buildItem(t),rl.debug(()=>[`Pool[name=${this.name}]: Created instance (${this.freePool.length} / ${this.busyPool.size+1} / ${this.maxPoolSize})`,i])):rl.debug(()=>[`Pool[name=${this.name}]: Re-used instance (${this.freePool.length} / ${this.busyPool.size+1} / ${this.maxPoolSize})`,i]),this.busyPool.add(i),{item:i,release:()=>this.release(i)}}obtainFree(){const t=this.freePool.pop();if(t==null)throw new Error("AG Charts - pool has no free instances");return rl.debug(()=>[`Pool[name=${this.name}]: Re-used instance (${this.freePool.length} / ${this.busyPool.size+1} / ${this.maxPoolSize})`,t]),this.busyPool.add(t),{item:t,release:()=>this.release(t)}}release(t){if(!this.busyPool.has(t))throw new Error("AG Charts - cannot free item from pool which is not tracked as busy.");rl.debug(()=>[`Pool[name=${this.name}]: Releasing instance (${this.freePool.length} / ${this.busyPool.size} / ${this.maxPoolSize})`,t]),this.releaseItem(t),this.busyPool.delete(t),this.freePool.push(t),rl.debug(()=>[`Pool[name=${this.name}]: Returned instance to free pool (${this.freePool.length} / ${this.busyPool.size} / ${this.maxPoolSize})`,t]);const i=Date.now(),s=i+this.cleanupTimeMs*.5;this.cleanPoolTimer&&(this.cleanPoolDue??1/0)<s&&(clearTimeout(this.cleanPoolTimer),this.cleanPoolTimer=void 0),this.cleanPoolTimer||(this.cleanPoolDue=i+this.cleanupTimeMs,this.cleanPoolTimer=setTimeout(this.cleanPool.bind(this),this.cleanupTimeMs))}cleanPool(){const t=this.freePool.splice(0);for(const i of t)this.destroyItem(i);rl.debug(()=>[`Pool[name=${this.name}]: Cleaned pool of ${t.length} items (${this.freePool.length} / ${this.busyPool.size} / ${this.maxPoolSize})`])}destroy(){this.cleanPool();for(const t of this.busyPool.values())this.destroyItem(t);this.busyPool.clear()}};yA.pools=new Map;yA.debug=ht.create(!0,"pool");var sde=yA;yn.registerMany(pue);var qo=ht.create(!0,"opts"),gl=class{static licenseCheck(t){var i,s;this.licenseChecked||(this.licenseManager=(i=Fs.licenseManager)==null?void 0:i.call(Fs,t),(s=this.licenseManager)==null||s.validateLicense(),this.licenseChecked=!0)}static getLicenseDetails(t){var i;return(i=Fs.licenseManager)==null?void 0:i.call(Fs,{}).getLicenseDetails(t)}static getInstance(t){return MO.getInstance(t)}static create(t,i){return qo.group("AgCharts.create()",()=>{var n,r;t=ht.inDevelopmentMode(()=>jc(Vt(t)))??t,this.licenseCheck(t);const s=MO.createOrUpdate({userOptions:t,licenseManager:this.licenseManager,optionsMetadata:i});return(n=this.licenseManager)!=null&&n.isDisplayWatermark()&&this.licenseManager&&((r=Fs.injectWatermark)==null||r.call(Fs,s.chart.ctx.domManager,this.licenseManager.getWatermarkMessage())),s})}static createFinancialChart(t){return qo.group("AgCharts.createFinancialChart()",()=>this.create(t,{presetType:"price-volume"}))}static createGauge(t){return qo.group("AgCharts.createGauge()",()=>this.create(t,{presetType:"gauge"}))}static __createSparkline(t){return qo.group("AgCharts.__createSparkline()",()=>{const{pool:i,...s}=t;return this.create(s,{presetType:"sparkline",pool:i??!0,domMode:"minimal"})})}};gl.licenseChecked=!1;var io=class ol{static getInstance(t){const i=sb.getInstance(t);return i?ZP.chartInstances.get(i):void 0}static initialiseModules(){ol.initialised||(zce(),Bce(),ol.initialised=!0)}static createOrUpdate(t){var P,O,F,z,V;let{proxy:i}=t;const{userOptions:s,licenseManager:n,processedOverrides:r=((P=i==null?void 0:i.chart)==null?void 0:P.chartOptions.processedOverrides)??{},specialOverrides:o=((O=i==null?void 0:i.chart)==null?void 0:O.chartOptions.specialOverrides)??{},optionsMetadata:a=((F=i==null?void 0:i.chart)==null?void 0:F.chartOptions.optionMetadata)??{},deltaOptions:l,stripSymbols:d=!1}=t,h=Fs.styles!=null?[["ag-charts-enterprise",Fs.styles]]:[],{presetType:p}=a;ol.initialiseModules(),qo(()=>[">>> AgCharts.createOrUpdate() user options",Vt(s)]);let f=s;gl.optionsMutationFn&&f&&(f=gl.optionsMutationFn(Vt(f),p),qo(()=>[">>> AgCharts.createOrUpdate() MUTATED user options",Vt(f)]));const v=this.getPool(a);let y=!1,S,w=i==null?void 0:i.chart;w==null&&(v!=null&&v.hasFree())&&(S=v.obtainFree(),w=S.item);const{document:b,window:x,styleContainer:D,...E}=f??{},T=w==null?void 0:w.getChartOptions(),k=new aD(T,E,r,{...o,document:b,window:x,styleContainer:D},a,l,d);return(w==null||yn.detectChartDefinition(k.processedOptions)!==yn.detectChartDefinition(w.chartOptions.processedOptions))&&(S==null||S.release(),S=(z=this.getPool(k.optionMetadata))==null?void 0:z.obtain(k),S?w=S.item:(y=!0,w=ol.createChartInstance(k,w))),h.forEach(([U,J])=>{w.ctx.domManager.addStyles(U,J)}),i==null?(i=new ZP(w,ol.callbackApi,n),i.releaseChart=S==null?void 0:S.release):(S||y)&&((V=i.releaseChart)==null||V.call(i),i.chart=w,i.releaseChart=S==null?void 0:S.release),qo.check()&&typeof window<"u"&&(window.agChartInstances??(window.agChartInstances={}),window.agChartInstances[w.id]=w),w.queuedUserOptions.push(k.userOptions),w.queuedChartOptions.push(k),w.requestFactoryUpdate(U=>{qo.group(">>>> Chart.applyOptions()",()=>{U.applyOptions(k);const J=U.queuedUserOptions.indexOf(k.userOptions)+1;U.queuedUserOptions.splice(0,J),U.queuedChartOptions.splice(0,J)})}),i}static markRemovedProperties(t,i,s=!1){if(typeof t!="object")return s;for(const n of Object.keys(t))typeof t[n]>"u"&&(Object.assign(t,{[n]:Symbol("UNSET")}),s||(s=!0));return s}static updateUserDelta(t,i){i=Vt(i,aD.OPTIONS_CLONE_OPTS);const s=Zo(i,ol.markRemovedProperties,new Set(["data"]),void 0,void 0,!1);qo(()=>[">>> AgCharts.updateUserDelta() user delta",Vt(i)]),ol.createOrUpdate({proxy:t,deltaOptions:i,stripSymbols:s})}static createChartInstance(t,i){const s=i==null?void 0:i.destroy({keepTransferableResources:!0});return yn.detectChartDefinition(t.processedOptions).create(t,s)}static getPool(t){if(t.pool===!0)return sde.getPool(t.presetType??"default",this.createChartInstance,this.detachAndClear,this.destroy,1/0)}};io.caretaker=new L3(_y);io.initialised=!1;io.callbackApi={caretaker:io.caretaker,create(e,t,i,s){return io.createOrUpdate({userOptions:e,processedOverrides:t,specialOverrides:i,optionsMetadata:s})},update(e,t){return io.createOrUpdate({userOptions:e,proxy:t})},updateUserDelta(e,t){return io.updateUserDelta(e,t)}};io.detachAndClear=e=>e.detachAndClear();io.destroy=e=>e.destroy();var MO=io,nde={};Gr(nde,{Arc:()=>Ao,BBox:()=>De,Caption:()=>Kt,CategoryScale:()=>Tf,Group:()=>Ne,Line:()=>kn,LinearScale:()=>Pr,Marker:()=>_i,Path:()=>Ws,RadialColumnShape:()=>pr,Rect:()=>Ts,Scene:()=>YC,Sector:()=>rs,Shape:()=>cr,TranslatableGroup:()=>Bs,getRadialColumnWidth:()=>jG,toRadians:()=>Yt});var Ao=class extends Ws{constructor(){super(),this.centerX=0,this.centerY=0,this.radius=10,this.startAngle=0,this.endAngle=Math.PI*2,this.counterClockwise=!1,this.type=0,this.restoreOwnStyles()}get fullPie(){return Jr(Bt(this.startAngle),Bt(this.endAngle))}updatePath(){const e=this.path;e.clear(),e.arc(this.centerX,this.centerY,this.radius,this.startAngle,this.endAngle,this.counterClockwise),this.type===1?e.closePath():this.type===2&&!this.fullPie&&(e.lineTo(this.centerX,this.centerY),e.closePath())}computeBBox(){return new De(this.centerX-this.radius,this.centerY-this.radius,this.radius*2,this.radius*2)}isPointInPath(e,t){const i=this.getBBox();return this.type!==0&&i.containsPoint(e,t)&&this.path.isPointInPath(e,t)}};Ao.className="Arc";R([Ve()],Ao.prototype,"centerX",2);R([Ve()],Ao.prototype,"centerY",2);R([Ve()],Ao.prototype,"radius",2);R([Ve()],Ao.prototype,"startAngle",2);R([Ve()],Ao.prototype,"endAngle",2);R([Ve()],Ao.prototype,"counterClockwise",2);R([Ve()],Ao.prototype,"type",2);function ix(e,t,i){const s=Math.sqrt(e**2+t**2),r=Math.atan2(t,e)+i;return{x:Math.cos(r)*s,y:Math.sin(r)*s}}var pr=class extends Ws{constructor(){super(...arguments),this.isBeveled=!0,this.columnWidth=0,this.startAngle=0,this.endAngle=0,this.outerRadius=0,this.innerRadius=0,this.axisInnerRadius=0,this.axisOuterRadius=0,this.isRadiusAxisReversed=!1}set cornerRadius(e){}computeBBox(){const{innerRadius:e,outerRadius:t,columnWidth:i}=this,s=this.getRotation(),n=-i/2,r=i/2,o=-t,a=-e;let l=1/0,d=1/0,h=-1/0,p=-1/0;for(let f=0;f<4;f+=1){const{x:v,y}=ix(f%2===0?n:r,f<2?o:a,s);l=Math.min(v,l),d=Math.min(y,d),h=Math.max(v,h),p=Math.max(y,p)}return new De(l,d,h-l,p-d)}getRotation(){const{startAngle:e,endAngle:t}=this,i=FC(e,t);return Bt(e+i/2+Math.PI/2)}updatePath(){const{isBeveled:e}=this;e?this.updateBeveledPath():this.updateRectangularPath(),this.checkPathDirty()}updateRectangularPath(){const{columnWidth:e,innerRadius:t,outerRadius:i,path:s}=this,n=-e/2,r=e/2,o=-i,a=-t,l=this.getRotation(),d=[[n,a],[n,o],[r,o],[r,a]].map(([h,p])=>ix(h,p,l));s.clear(!0),s.moveTo(d[0].x,d[0].y),s.lineTo(d[1].x,d[1].y),s.lineTo(d[2].x,d[2].y),s.lineTo(d[3].x,d[3].y),s.closePath()}updateBeveledPath(){const{columnWidth:e,path:t,outerRadius:i,innerRadius:s,axisInnerRadius:n,axisOuterRadius:r,isRadiusAxisReversed:o}=this,a=Jr(s,n),l=Math.asin(e/2/s),d=this.getRotation(),h=(O,F)=>ix(O,F,d),p=(O,F)=>Math.sqrt(O**2+F**2),f=(O,F)=>F>O?0:Math.sqrt(O**2-F**2),v=(O,F,z)=>z?O<F:O>F,y=a&&!isNaN(l)&&l<Math.PI/6;let S=-e/2,w=e/2;const b=-i,x=-s*(y?Math.cos(l):1),D=v(r,p(s,e/2),!o);if(D){const O=f(r,s);S=-O,w=O}t.clear(!0);const E=h(S,x);t.moveTo(E.x,E.y);const T=Jr(s,i),k=v(r,p(i,e/2),!o);if(T&&y)t.arc(0,0,s,Bt(-l-Math.PI/2)+d,Bt(l-Math.PI/2)+d,!1);else if(k){const O=-f(r,e/2),F=f(r,i);if(!D){const z=h(S,O);t.lineTo(z.x,z.y)}if(t.arc(0,0,r,Math.atan2(O,S)+d,Math.atan2(b,-F)+d,!1),!Jr(F,0)){const z=h(F,b);t.lineTo(z.x,z.y)}t.arc(0,0,r,Math.atan2(b,F)+d,Math.atan2(O,w)+d,!1)}else{const O=h(S,b),F=h(w,b);t.lineTo(O.x,O.y),t.lineTo(F.x,F.y)}const P=h(w,x);if(t.lineTo(P.x,P.y),y)t.arc(0,0,s,Bt(l-Math.PI/2)+d,Bt(-l-Math.PI/2)+d,!0);else{const O=h(S,x);t.lineTo(O.x,O.y)}t.closePath()}};pr.className="RadialColumnShape";R([Ve()],pr.prototype,"isBeveled",2);R([Ve()],pr.prototype,"columnWidth",2);R([Ve()],pr.prototype,"startAngle",2);R([Ve()],pr.prototype,"endAngle",2);R([Ve()],pr.prototype,"outerRadius",2);R([Ve()],pr.prototype,"innerRadius",2);R([Ve()],pr.prototype,"axisInnerRadius",2);R([Ve()],pr.prototype,"axisOuterRadius",2);R([Ve()],pr.prototype,"isRadiusAxisReversed",2);function jG(e,t,i,s,n){const r=FC(e,t),o=r*(1-s)/2;if(e+=o,t-=o,r<.001)return 2*i*n;if(r>=2*Math.PI){const v=e+r/2;e=v-Math.PI,t=v+Math.PI}const a=i*Math.cos(e),l=i*Math.sin(e),d=i*Math.cos(t),h=i*Math.sin(t),p=Math.floor(Math.sqrt((a-d)**2+(l-h)**2)),f=2*i*n;return Math.max(1,Math.min(f,p))}var rde={};Gr(rde,{ChartTheme:()=>zr,DEFAULT_ANNOTATION_HANDLE_FILL:()=>Ff,DEFAULT_ANNOTATION_STATISTICS_COLOR:()=>Bf,DEFAULT_ANNOTATION_STATISTICS_DIVIDER_STROKE:()=>Gf,DEFAULT_ANNOTATION_STATISTICS_DOWN_FILL:()=>Yp,DEFAULT_ANNOTATION_STATISTICS_DOWN_STROKE:()=>Kp,DEFAULT_ANNOTATION_STATISTICS_FILL:()=>Nf,DEFAULT_ANNOTATION_STATISTICS_STROKE:()=>zf,DEFAULT_CAPTION_ALIGNMENT:()=>dl,DEFAULT_CAPTION_LAYOUT_STYLE:()=>ul,DEFAULT_FIBONACCI_STROKES:()=>$p,DEFAULT_FINANCIAL_CHARTS_ANNOTATION_BACKGROUND_FILL:()=>Ni,DEFAULT_FINANCIAL_CHARTS_ANNOTATION_COLOR:()=>ci,DEFAULT_GRIDLINE_ENABLED:()=>to,DEFAULT_POLAR_SERIES_STROKE:()=>gb,DEFAULT_SEPARATION_LINES_COLOUR:()=>Lf,DEFAULT_SHADOW_COLOUR:()=>Gl,DEFAULT_SPARKLINE_CROSSHAIR_STROKE:()=>pb,DEFAULT_TEXTBOX_COLOR:()=>Vf,DEFAULT_TEXTBOX_FILL:()=>Hf,DEFAULT_TEXTBOX_STROKE:()=>jf,DEFAULT_TEXT_ANNOTATION_COLOR:()=>Of,DEFAULT_TOOLBAR_POSITION:()=>_f,IS_COMMUNITY:()=>FE,IS_DARK_THEME:()=>Pd,IS_ENTERPRISE:()=>NE,PALETTE_ALT_DOWN_FILL:()=>HE,PALETTE_ALT_DOWN_STROKE:()=>BE,PALETTE_ALT_NEUTRAL_FILL:()=>jE,PALETTE_ALT_NEUTRAL_STROKE:()=>hb,PALETTE_ALT_UP_FILL:()=>GE,PALETTE_ALT_UP_STROKE:()=>zE,PALETTE_DOWN_FILL:()=>Pf,PALETTE_DOWN_STROKE:()=>ub,PALETTE_NEUTRAL_FILL:()=>db,PALETTE_NEUTRAL_STROKE:()=>Jd,PALETTE_UP_FILL:()=>kf,PALETTE_UP_STROKE:()=>cb,getChartTheme:()=>aC,resolveOperation:()=>ade,themeNames:()=>ode,themeSymbols:()=>OE,themes:()=>vA});var ode=Object.keys(vA);function ade(e){const t=zr.getDefaultPublicParameters();t.__palette=zr.getDefaultColors();const i={operation:e};return Hy(i,t),i.operation}var lde={};Gr(lde,{Color:()=>yt,interpolateColor:()=>$3});var cde={};Gr(cde,{AND:()=>kl,ARRAY:()=>IR,ARRAY_OF:()=>Wi,AbstractBarSeries:()=>uG,AbstractBarSeriesProperties:()=>oA,ActionOnSet:()=>an,AnchoredPopover:()=>UG,Animation:()=>Z3,AnimationManager:()=>J3,Arc:()=>Ao,Axis:()=>pE,AxisGroupZIndexMap:()=>Uz,AxisInterval:()=>uu,AxisLabel:()=>$i,AxisTick:()=>vh,AxisTickGenerator:()=>Yz,AxisTicks:()=>Lde,BBox:()=>De,BBoxValues:()=>LC,BOOLEAN:()=>a3,BOOLEAN_ARRAY:()=>xie,Background:()=>xh,BackgroundModule:()=>OB,BandScale:()=>xf,BarSeries:()=>Kf,BarSeriesModule:()=>pG,BaseModuleInstance:()=>IC,BaseProperties:()=>Ge,BaseToolbar:()=>MA,ButtonWidget:()=>Sf,COLOR_GRADIENT:()=>Do,COLOR_PATTERN:()=>Ro,COLOR_STRING:()=>Tn,COLOR_STRING_ARRAY:()=>PR,CachedTextMeasurer:()=>E3,CachedTextMeasurerPool:()=>fa,Caption:()=>Kt,CartesianAxis:()=>Rf,CartesianSeries:()=>Hl,CartesianSeriesNodeEvent:()=>WE,CartesianSeriesProperties:()=>Ra,CategoryAxis:()=>du,CategoryScale:()=>Tf,ChangeDetectableProperties:()=>TE,Chart:()=>sb,ChartAxisDirection:()=>_R,ChartEventManager:()=>ez,ChartOptions:()=>aD,ChartUpdateType:()=>mp,CollapseMode:()=>XB,Color:()=>yt,ColorScale:()=>fh,ConicGradient:()=>s3,ContextMenuRegistry:()=>tz,ContinuousScale:()=>wt,DATE:()=>LR,DATE_ARRAY:()=>Rie,DATE_OR_DATETIME_MS:()=>kR,DEFAULT_CARTESIAN_DIRECTION_KEYS:()=>pu,DEFAULT_CARTESIAN_DIRECTION_NAMES:()=>fu,DEFAULT_TOOLTIP_CLASS:()=>Qi,DEFAULT_TOOLTIP_DARK_CLASS:()=>oB,DIRECTION:()=>Gie,DIRECTION_SWAP_AXES:()=>VB,DOMManager:()=>G3,DataController:()=>kz,DataModel:()=>Iz,DataModelSeries:()=>_E,DataService:()=>KC,Debug:()=>ht,Deprecated:()=>sB,DeprecatedAndRenamedTo:()=>Dae,DragInterpreter:()=>rz,DraggablePopover:()=>$G,DropShadow:()=>Vr,ExtendedPath2D:()=>$d,FILL_PATTERN_DEFAULTS:()=>Rl,FONT_SIZE_RATIO:()=>PE,FONT_STYLE:()=>Pie,FONT_WEIGHT:()=>Oie,FUNCTION:()=>bie,FillGradientDefaults:()=>hr,FillPatternDefaults:()=>gi,FloatingToolbar:()=>Hde,GREATER_THAN:()=>HC,Gradient:()=>zC,Group:()=>Ne,GroupedCategoryAxis:()=>hu,HdpiCanvas:()=>XR,HierarchyNode:()=>Ede,HierarchySeries:()=>Ade,HierarchySeriesProperties:()=>To,HighlightManager:()=>iz,HighlightProperties:()=>IE,HighlightStyle:()=>If,INTERACTION_RANGE:()=>jie,INTERPOLATION_STEP_POSITION:()=>_le,INTERPOLATION_TYPE:()=>Vle,Image:()=>Oh,InteractionManager:()=>Q3,InteractionState:()=>X3,InterpolationProperties:()=>Rh,Invalidating:()=>ph,LABEL_PLACEMENT:()=>Vie,LARGEST_KEY_INTERVAL:()=>DB,LESS_THAN:()=>GC,LINE_CAP:()=>Aie,LINE_DASH:()=>Lie,LINE_JOIN:()=>Tie,LINE_STYLE:()=>Iie,Label:()=>Ui,LayoutElement:()=>WR,LayoutManager:()=>T3,LegendMarkerLabel:()=>gr,Line:()=>kn,LineSeries:()=>Zf,LineSeriesModule:()=>CG,LinearGradient:()=>n3,LinearScale:()=>Pr,Listeners:()=>ma,LogScale:()=>AE,LonLatBBox:()=>Tde,MARKER_SHAPE:()=>Tle,MATCHING_CROSSLINE_TYPE:()=>dE,MAX_SPACING:()=>Wie,MIN_SPACING:()=>_ie,Marker:()=>_i,Menu:()=>zde,MercatorScale:()=>Ide,ModuleRegistry:()=>yn,Motion:()=>zM,NAN:()=>BC,NODE_UPDATE_STATE_TO_PHASE_MAPPING:()=>Er,NUMBER:()=>An,NUMBER_ARRAY:()=>Mie,NUMBER_OR_NAN:()=>TR,NativeWidget:()=>qd,NewAreaSeriesModule:()=>cG,NewBarSeriesModule:()=>fG,NewBubbleSeriesModule:()=>vG,NewHistogramSeriesModule:()=>yG,NewLineSeriesModule:()=>bG,NewScatterSeriesModule:()=>wG,NiceMode:()=>jz,Node:()=>da,NumberAxis:()=>xa,OBJECT:()=>o3,OBJECT_ARRAY:()=>Eie,OR:()=>Cs,OVERFLOW_STRATEGY:()=>Bie,ObserveChanges:()=>Ol,OrdinalTimeScale:()=>sa,PHASE_METADATA:()=>jp,PHASE_ORDER:()=>fd,PLACEMENT:()=>Hie,PLAIN_OBJECT:()=>Cie,POSITION:()=>kie,POSITION_TOP_COORDINATES:()=>qy,POSITIVE_NUMBER:()=>AR,PREV_NEXT_KEYS:()=>kd,Padding:()=>Pl,ParallelStateMachine:()=>_oe,Path:()=>Ws,PointerEvents:()=>X2,PolarAxis:()=>eh,PolarSeries:()=>Rb,PolarZIndexMap:()=>EG,Popover:()=>xA,PropertiesArray:()=>Cf,ProxyInteractionService:()=>_3,ProxyOnWrite:()=>Nse,ProxyProperty:()=>Et,ProxyPropertyOnWrite:()=>ss,QUICK_TRANSITION:()=>Wy,RATIO:()=>wie,REAL_NUMBER:()=>Sie,RENDER_TO_OFFSCREEN_CANVAS_THRESHOLD:()=>eC,RadialColumnShape:()=>pr,Range:()=>Hr,Rect:()=>Ts,RepeatType:()=>q3,Rotatable:()=>mh,RotatableGroup:()=>ose,RotatableText:()=>A3,SAFE_FILLS_OPERATION:()=>VE,SAFE_FILL_OPERATION:()=>Ole,SAFE_RANGE2_OPERATION:()=>Fle,SAFE_STROKE_FILL_OPERATION:()=>fb,SKIP_JS_BUILTINS:()=>RR,SMALLEST_KEY_INTERVAL:()=>MB,SORT_DOMAIN_GROUPS:()=>RB,STRING:()=>l3,STRING_ARRAY:()=>Die,Scalable:()=>NR,ScalableGroup:()=>rse,Scene:()=>YC,SceneChangeDetection:()=>Re,ScenePathChangeDetection:()=>Ve,Sector:()=>rs,SectorBox:()=>xG,Selection:()=>Ai,Series:()=>ib,SeriesContentZIndexMap:()=>tB,SeriesGroupingChangedEvent:()=>SE,SeriesItemHighlightStyle:()=>Ma,SeriesMarker:()=>ns,SeriesNodeEvent:()=>Ef,SeriesNodePickMode:()=>iB,SeriesProperties:()=>Pn,SeriesTooltip:()=>Is,SeriesZIndexMap:()=>eB,Shape:()=>cr,SimpleTextMeasurer:()=>jR,SliderWidget:()=>ZR,StateMachine:()=>Df,StateMachineProperty:()=>Voe,StopProperties:()=>OR,SvgPath:()=>wA,TEXT_ALIGN:()=>Nie,TEXT_WRAP:()=>Fie,TICK_INTERVAL:()=>eae,TempValidate:()=>A,Text:()=>Vi,TextUtils:()=>Wt,TextWrapper:()=>VR,ThemeConstants:()=>NB,ThemeSymbols:()=>OE,TimeScale:()=>Sz,Toolbar:()=>Bde,ToolbarButtonProperties:()=>Qf,ToolbarButtonWidget:()=>YG,ToolbarWidget:()=>$C,Tooltip:()=>dr,TooltipManager:()=>Uy,TooltipPosition:()=>ba,Transformable:()=>hi,TransformableText:()=>Yd,Translatable:()=>au,TranslatableGroup:()=>Bs,TranslatableLine:()=>Xy,UNION:()=>Mt,UpdateService:()=>Dz,VERTICAL_ALIGN:()=>zie,Validate:()=>yie,Vec2:()=>md,Vec4:()=>Wp,WIDGET_HTML_EVENTS:()=>GR,Widget:()=>Eo,WidgetEventUtil:()=>ia,ZIndexMap:()=>U3,ZoomManager:()=>xz,accumulateGroup:()=>EB,accumulateStack:()=>AB,accumulatedValue:()=>mB,accumulativeValueProperty:()=>Up,addHitTestersToQuadtree:()=>nA,adjustLabelPlacement:()=>gG,angleBetween:()=>FC,animationValidation:()=>bh,applyShapeFillBBox:()=>tb,applyShapeStyle:()=>tu,areScalingEqual:()=>Od,area:()=>XM,autoSizedLabelOptionsDefs:()=>lce,buildFormatter:()=>wf,buildResetPathFn:()=>QE,calculateDefaultTimeTickFormat:()=>fz,calculateDerivativeExtrema:()=>LM,calculateDerivativeExtremaXY:()=>g3,calculateLabelChartPadding:()=>Gz,calculateLabelTranslation:()=>UM,calculatePlacement:()=>nB,cartesianAxisCrosshairOptions:()=>Th,cartesianAxisLabelOptionsDefs:()=>Eh,cartesianAxisOptionsDefs:()=>Ah,cartesianChartOptionsDefs:()=>IG,cartesianCrossLineOptionsDefs:()=>aG,checkCrisp:()=>dG,clampArray:()=>GM,clippedRoundRect:()=>Xv,collapsedStartingBarPosition:()=>Jp,commonAxisLabelOptionsDefs:()=>eA,commonAxisOptionsDefs:()=>yb,commonChartOptionsDefs:()=>Us,commonCrossLineLabelOptionsDefs:()=>JE,commonCrossLineOptionsDefs:()=>oG,commonSeriesOptionsDefs:()=>_r,compareDates:()=>lz,computeBarFocusBounds:()=>lA,computeMarkerFocusBounds:()=>Uf,continuousAxisOptions:()=>Cb,countExpandingSearch:()=>nz,createButton:()=>kde,createCheckbox:()=>Pde,createDatumId:()=>ts,createDeprecationWarning:()=>wE,createElementId:()=>use,createIcon:()=>WG,createId:()=>En,createSelect:()=>Ode,createTextArea:()=>Fde,dateToNumber:()=>Ds,datesSortOrder:()=>eE,datumKeys:()=>Yy,datumStylerProperties:()=>ml,deconstructSelectionsOrNodes:()=>qC,deepClone:()=>Vt,deepFreeze:()=>jc,defaultTimeTickFormat:()=>iE,diff:()=>Sh,drawCorner:()=>tp,drawMarkerUnitPolygon:()=>ep,easing:()=>zM,enterpriseModule:()=>Fs,errorBarOptionsDefs:()=>bb,evaluateBezier:()=>Ny,extent:()=>Sa,extractDecoratedProperties:()=>J2,findMinMax:()=>Ti,findQuadtreeMatch:()=>rA,findRangeExtent:()=>Zd,fixNumericExtent:()=>on,flowProportionChartOptionsDefs:()=>Uce,focusCursorAtEnd:()=>lse,formatNumber:()=>V3,formatPercent:()=>j3,formatValue:()=>ha,fromToMotion:()=>li,gaugeChartOptionsDefs:()=>$ce,generateUUID:()=>AM,getAngleRatioRadians:()=>t3,getColorStops:()=>d3,getCrossLineValue:()=>zz,getDateTicksForInterval:()=>nE,getDatumRefPoint:()=>JR,getElementBBox:()=>C3,getIconClassNames:()=>VC,getLastFocus:()=>YR,getMissCount:()=>rE,getPath:()=>Ud,getPathComponents:()=>Tz,getRadialColumnWidth:()=>jG,getSequentialColors:()=>On,getShapeFill:()=>_c,getShapeStyle:()=>ao,groupAccumulativeValueProperty:()=>vl,groupAverage:()=>fB,groupCount:()=>ZM,groupStackValueProperty:()=>xB,groupSum:()=>pB,hasNoModifiers:()=>UC,hierarchyChartOptionsDefs:()=>Wce,initMenuKeyNav:()=>F3,initRovingTabIndex:()=>O3,interpolatePoints:()=>tC,interpolationValidator:()=>sA,isAgFlowProportionChartOptions:()=>Jz,isAgGaugeChartOptions:()=>bE,isAgHierarchyChartOptions:()=>Xz,isAgStandaloneChartOptions:()=>CE,isAgTopologyChartOptions:()=>Qz,isBetweenAngles:()=>ll,isButtonClickEvent:()=>$R,isContinuous:()=>QC,isDecoratedObject:()=>yf,isDenseInterval:()=>Qd,isGradientFill:()=>Fr,isGradientOrPatternFill:()=>nse,isInputPending:()=>b3,isPatternFill:()=>Qc,isProperties:()=>vo,isScaleValid:()=>Zp,jsonApply:()=>pp,jsonDiff:()=>yo,jsonPropertyCompare:()=>S3,jsonResolveOperations:()=>Hy,jsonWalk:()=>Zo,keyProperty:()=>kr,labelDirectionHandling:()=>Hz,legendSymbolSvg:()=>rB,lineDistanceSquared:()=>gp,listDecoratedProperties:()=>fl,makeAccessibleClickListener:()=>une,mapValues:()=>e3,markerFadeInAnimation:()=>Xp,markerOptionsDefs:()=>$f,markerScaleInAnimation:()=>qE,markerSwipeScaleInAnimation:()=>ZE,merge:()=>zp,mergeArrayDefaults:()=>Oy,mergeDefaults:()=>Je,midpointStartingBarPosition:()=>dce,moduleRegistry:()=>oo,motion:()=>Vde,nearestSquared:()=>PC,nearestSquaredInContainer:()=>eie,normaliseGroupTo:()=>rb,normalisePropertyTo:()=>Wc,normalisedExtentWithMetadata:()=>DE,normalizeAngle180:()=>Bp,normalizeAngle360:()=>Bt,normalizeAngle360Inclusive:()=>pie,numberFormatValidator:()=>vb,objectsEqual:()=>mo,objectsEqualWith:()=>DR,pairUpSpans:()=>Cp,partialAssign:()=>IM,pathFadeInAnimation:()=>iC,pathMotion:()=>Jy,pathSwipeInAnimation:()=>XE,pickByMatchingAngle:()=>pA,plotAreaPathFill:()=>sG,plotInterpolatedAreaSeriesFillSpans:()=>Jv,plotInterpolatedLinePathStroke:()=>Qv,plotLinePathStroke:()=>$E,polarChartOptionsDefs:()=>LG,predicateWithMessage:()=>xt,prepareAreaFillAnimationFns:()=>nG,prepareAreaPathAnimation:()=>rG,prepareAxisAnimationContext:()=>Zy,prepareAxisAnimationFunctions:()=>Vz,prepareBarAnimationFunctions:()=>ef,prepareLinePathAnimation:()=>iG,prepareLinePathPropertyAnimation:()=>KE,prepareLinePathStrokeAnimationFns:()=>YE,preparePieSeriesAnimationFunctions:()=>Uc,range:()=>_p,rangedValueProperty:()=>RE,resetAxisGroupFn:()=>_z,resetAxisLabelSelectionFn:()=>gE,resetAxisLineSelectionFn:()=>Wz,resetAxisSelectionFn:()=>hE,resetBarSelectionsFn:()=>tf,resetIds:()=>sie,resetLabelFn:()=>Da,resetMarkerFn:()=>Wf,resetMarkerPositionFn:()=>Qp,resetMotion:()=>Xi,resetPieSelectionsFn:()=>gA,rowCountProperty:()=>SB,scale:()=>Ms,sectorBox:()=>MG,seriesLabelFadeInAnimation:()=>ft,seriesLabelFadeOutAnimation:()=>hl,seriesLabelOptionsDefs:()=>jl,setAttribute:()=>kt,setAttributes:()=>Jc,setElementBBox:()=>Gy,setElementStyle:()=>Rr,setPath:()=>ER,shadowOptionsDefs:()=>Yf,shallowClone:()=>BR,solveBezier:()=>zy,sortAndUniqueDates:()=>HM,splitBezier:()=>By,standaloneChartOptionsDefs:()=>_ce,staticFromToMotion:()=>va,stopPageScrolling:()=>N3,sum:()=>Zae,sumValues:()=>nb,toDegrees:()=>fie,toRadians:()=>Yt,toolbarButtonOptionsDefs:()=>sD,tooltipContentAriaLabel:()=>lB,tooltipHtml:()=>uB,tooltipOptionsDefs:()=>Ea,topologyChartOptionsDefs:()=>Vce,trailingAccumulatedValue:()=>vB,trailingAccumulatedValueProperty:()=>ele,updateClipPath:()=>sC,updateLabelNode:()=>hG,validateCrossLineValue:()=>Bz,valueProperty:()=>et,visibleRangeIndices:()=>sz,without:()=>Ml});var md={add:ude,angle:mde,apply:Dde,equal:xde,distance:gde,distanceSquared:pde,from:Mde,gradient:yde,intercept:Cde,intersectAtX:Sde,intersectAtY:bde,length:bA,lengthSquared:hde,multiply:dde,normalized:fde,origin:VG,required:Rde,rotate:vde,round:wde,sub:CA};function ude(e,t){return typeof t=="number"?{x:e.x+t,y:e.y+t}:{x:e.x+t.x,y:e.y+t.y}}function CA(e,t){return typeof t=="number"?{x:e.x-t,y:e.y-t}:{x:e.x-t.x,y:e.y-t.y}}function dde(e,t){return typeof t=="number"?{x:e.x*t,y:e.y*t}:{x:e.x*t.x,y:e.y*t.y}}function bA(e){return Math.sqrt(e.x*e.x+e.y*e.y)}function hde(e){return e.x*e.x+e.y*e.y}function gde(e,t){const i=CA(e,t);return Math.sqrt(i.x*i.x+i.y*i.y)}function pde(e,t){const i=CA(e,t);return i.x*i.x+i.y*i.y}function fde(e){const t=bA(e);return{x:e.x/t,y:e.y/t}}function mde(e,t){return t==null?Math.atan2(e.y,e.x):Math.atan2(e.y,e.x)-Math.atan2(t.y,t.x)}function vde(e,t,i=VG()){const s=bA(e);return{x:i.x+s*Math.cos(t),y:i.y+s*Math.sin(t)}}function yde(e,t,i){const s=t.x-e.x;return(i==null?t.y-e.y:i-t.y-(i-e.y))/s}function Cde(e,t,i){return(i==null?e.y:i-e.y)-t*e.x}function bde(e,t,i=0,s){return{x:e===1/0?1/0:(i-t)/e,y:s==null?i:s-i}}function Sde(e,t,i=0,s){const n=e===1/0?1/0:e*i+t;return{x:i,y:s==null?n:s-n}}function wde(e,t=2){return{x:Kk(e.x,t),y:Kk(e.y,t)}}function xde(e,t){return e.x===t.x&&e.y===t.y}function Mde(e,t){if(typeof e=="number")return{x:e,y:t};if("currentX"in e)return{x:e.currentX,y:e.currentY};if("offsetWidth"in e)return{x:e.offsetWidth,y:e.offsetHeight};if("width"in e)return[{x:e.x,y:e.y},{x:e.x+e.width,y:e.y+e.height}];if("x1"in e)return[{x:e.x1,y:e.y1},{x:e.x2,y:e.y2}];throw new Error(`Values can not be converted into a vector: [${JSON.stringify(e)}] [${t}]`)}function Dde(e,t){return e.x=t.x,e.y=t.y,e}function Rde(e){return{x:(e==null?void 0:e.x)??0,y:(e==null?void 0:e.y)??0}}function VG(){return{x:0,y:0}}var _G=class ey{constructor(t,i,s,n,r,o,a,l,d){this.series=t,this.datumIndex=i,this.datum=s,this.sizeValue=n,this.colorValue=r,this.sumSize=o,this.depth=a,this.parent=l,this.children=d,this.midPoint={x:0,y:0}}get hasChildren(){return this.children.length>0}walk(t,i=ey.Walk.PreOrder){i===ey.Walk.PreOrder&&t(this),this.children.forEach(s=>{s.walk(t,i)}),i===ey.Walk.PostOrder&&t(this)}*[Symbol.iterator](){yield this;for(const t of this.children)yield*t}};_G.Walk={PreOrder:0,PostOrder:1};var Ede=_G,Ade=class extends ib{constructor(e){super({moduleCtx:e,pickModes:[1,0]}),this.colorDomain=[0,0],this.maxDepth=0,this.colorScale=new fh,this.animationState=new Df("empty",{empty:{update:{target:"ready",action:t=>this.animateEmptyUpdateReady(t)},reset:"empty",skip:"ready"},ready:{updateData:"waiting",clear:"clearing",highlight:t=>this.animateReadyHighlight(t),resize:t=>this.animateReadyResize(t),reset:"empty",skip:"ready"},waiting:{update:{target:"ready",action:t=>this.animateWaitingUpdateReady(t)},reset:"empty",skip:"ready"},clearing:{update:{target:"empty",action:t=>this.animateClearingUpdateEmpty(t)},reset:"empty",skip:"ready"}},()=>this.checkProcessedDataAnimatable())}resetAnimation(e){e==="initial"?this.animationState.transition("reset"):e==="ready"&&this.animationState.transition("skip")}processData(){const{NodeClass:e}=this,{childrenKey:t,sizeKey:i,colorKey:s,colorRange:n}=this.properties;let r=0,o=1/0,a=-1/0;const l=(f,v,y)=>{const S=y.depth!=null?y.depth+1:0,w=t!=null?f[t]:void 0,b=w==null||w.length===0;let x=i!=null?f[i]:void 0;Number.isFinite(x)?x=Math.max(x,0):x=b?1:0;const D=x;r=Math.max(r,S);const E=s!=null?f[s]:void 0;return typeof E=="number"&&(o=Math.min(o,E),a=Math.max(a,E)),d(new e(this,v,f,x,E,D,S,y,[]),w)},d=(f,v)=>{const{datumIndex:y}=f;return v==null||v.forEach((S,w)=>{const b=l(S,y.concat(w),f);f.children.push(b),f.sumSize+=b.sumSize}),f},h=d(new e(this,[],void 0,0,void 0,0,void 0,void 0,[]),this.data),p=[o,a];this.colorScale.domain=o<a?[o,a]:[0,1],this.colorScale.range=n??["black"],this.colorScale.update(),this.rootNode=h,this.maxDepth=r,this.colorDomain=p}update({seriesRect:e}){this.updateSelections(),this.updateNodes();const t=this.getAnimationData();this.checkResize(e)&&this.animationState.transition("resize",t),this.animationState.transition("update",t)}resetAllAnimation(e){this.ctx.animationManager.stopByAnimationGroupId(this.id)}animateEmptyUpdateReady(e){this.ctx.animationManager.skipCurrentBatch(),this.resetAllAnimation(e)}animateWaitingUpdateReady(e){this.ctx.animationManager.skipCurrentBatch(),this.resetAllAnimation(e)}animateReadyHighlight(e){}animateReadyResize(e){this.resetAllAnimation(e)}animateClearingUpdateEmpty(e){this.ctx.animationManager.skipCurrentBatch(),this.resetAllAnimation(e)}getAnimationData(){return{}}isProcessedDataAnimatable(){return!0}checkProcessedDataAnimatable(){this.isProcessedDataAnimatable()||this.ctx.animationManager.skipCurrentBatch()}getSeriesDomain(){return[NaN,NaN]}getSeriesRange(e,t){return[NaN,NaN]}getLegendData(e){const{colorKey:t,colorName:i,colorRange:s}=this.properties,{id:n,ctx:{legendManager:r},visible:o}=this;return e==="gradient"&&t!=null&&s!=null?[{legendType:"gradient",enabled:o&&r.getItemEnabled({seriesId:n}),seriesId:n,colorName:i,colorRange:s,colorDomain:this.colorDomain}]:[]}getDatumIdFromData(e){return e.datumIndex.join(":")}getDatumId(e){return this.getDatumIdFromData(e)}removeMeIndexPathForIndex(e){var t;return((t=this.datumSelection.at(e+1))==null?void 0:t.datum.datumIndex)??[]}removeMeIndexForIndexPath(e){for(const{index:t,datum:i}of this.datumSelection)if(ro(i.datumIndex,e))return t-1;return 0}pickFocus(e){var l;if(!((l=this.rootNode)!=null&&l.children.length))return;const t=Be(0,e.datumIndex-e.datumIndexDelta,this.datumSelection.length-1),{datumIndexDelta:i,otherIndexDelta:s}=e;let n=this.removeMeIndexPathForIndex(t);const r=n.reduce((d,h)=>d.children[h],this.rootNode);if(s>0&&r.hasChildren)n=[...n,0];else if(s<0&&n.length>1)n=n.slice(0,-1);else if(s===0&&i!==0){const d=r.parent.children.length-1;n=n.slice(),n[n.length-1]=Be(0,n[n.length-1]+i,d)}const o=n.reduce((d,h)=>d.children[h],this.rootNode),a=this.computeFocusBounds(this.datumSelection.at(t+1));if(a!=null)return{datum:o,datumIndex:this.removeMeIndexForIndexPath(n),otherIndex:o.depth,bounds:a,clipFocusBox:!0}}getDatumAriaText(e,t){if(!(e instanceof this.NodeClass)){me.error(`datum is not HierarchyNode: ${JSON.stringify(e)}`);return}return this.ctx.localeManager.t("ariaAnnounceHierarchyDatum",{level:(e.depth??-1)+1,count:e.children.length,description:t})}getCategoryValue(e){}datumIndexForCategoryValue(e){}},To=class extends Pn{constructor(){super(...arguments),this.childrenKey="children",this.fills=Object.values(mi),this.fillGradientDefaults=new hr,this.fillPatternDefaults=new gi,this.strokes=Object.values(Qr)}};R([A()],To.prototype,"childrenKey",2);R([A()],To.prototype,"sizeKey",2);R([A()],To.prototype,"colorKey",2);R([A()],To.prototype,"colorName",2);R([A(Wi(Cs(Do,Ro,Tn)))],To.prototype,"fills",2);R([A()],To.prototype,"fillGradientDefaults",2);R([A()],To.prototype,"fillPatternDefaults",2);R([A()],To.prototype,"strokes",2);R([A()],To.prototype,"colorRange",2);var Tde=class{constructor(e,t,i,s){this.lon0=e,this.lat0=t,this.lon1=i,this.lat1=s}merge(e){this.lon0=Math.min(this.lon0,e.lon0),this.lat0=Math.min(this.lat0,e.lat0),this.lon1=Math.max(this.lon1,e.lon1),this.lat1=Math.max(this.lat1,e.lat1)}},kb=Math.PI/180,sx=e=>e*kb,nx=e=>-Math.log(Math.tan(Math.PI*.25+e*kb*.5)),rx=e=>e/kb,ox=e=>(Math.atan(Math.exp(-e))-Math.PI*.25)/(kb*.5),Ide=class lD extends NC{constructor(t,i){super(),this.domain=t,this.range=i,this.type="mercator",this.bounds=lD.bounds(t)}static bounds(t){const[[i,s],[n,r]]=t,o=sx(i),a=nx(s),l=sx(n),d=nx(r);return new De(Math.min(o,l),Math.min(a,d),Math.abs(l-o),Math.abs(d-a))}static fixedScale(){return new lD([[rx(0),ox(0)],[rx(1),ox(1)]],[[0,0],[1,1]])}toDomain(){}normalizeDomains(...t){let i=-1/0,s=1/0,n=-1/0,r=1/0;for(const o of t)for(const[a,l]of o)i=Math.min(a,i),s=Math.max(a,s),n=Math.min(l,n),r=Math.max(l,r);return{domain:[[i,n],[s,r]],animatable:!0}}convert([t,i]){const[[s,n],[r,o]]=this.range,a=(r-s)/this.bounds.width,l=(o-n)/this.bounds.height;return[(sx(t)-this.bounds.x)*a+s,(nx(i)-this.bounds.y)*l+n]}invert([t,i]){const[[s,n],[r,o]]=this.range,a=(r-s)/this.bounds.width,l=(o-n)/this.bounds.height;return[rx((t-s)/a+this.bounds.x),ox((i-n)/l+this.bounds.y)]}},SA=class cD{constructor(){this.id=En(this),this.axisGroup=new Bs({name:`${this.id}-AxisTicks`,zIndex:2}),this.labelSelection=Ai.select(this.axisGroup,Vi),this.interval=new uu,this.label=new $i,this.scale=new Pr,this.position="bottom",this.translationX=0,this.translationY=0,this.padding=0}attachAxis(t){t.appendChild(this.axisGroup)}calculateLayout(){const t=[],i=this.generateTicks(),{translationX:s,translationY:n}=this;return this.labelSelection.update(i.ticks.map(r=>this.createLabelDatum(r)),void 0,r=>r.tickId),this.labelSelection.each((r,o)=>{r.setProperties(o),o.visible&&t.push(r.getBBox())}),this.axisGroup.setProperties({translationX:s,translationY:n}),t.length>0?De.merge(t):void 0}getLabelParams(t){const{padding:i}=this,{translate:s}=t;switch(this.position){case"top":case"bottom":return{x:s,y:i,textAlign:"center",textBaseline:"top"};case"left":case"right":return{x:i,y:s,textAlign:"start",textBaseline:"middle"}}}inRange(t,i=.001){const[s,n]=Ti(this.scale.range);return t>=s-i&&t<=n+i}createLabelDatum(t){const{x:i,y:s,textBaseline:n,textAlign:r}=this.getLabelParams(t);return{visible:!!t.tickLabel,tickId:t.tickId,fill:this.label.color,fontFamily:this.label.fontFamily,fontSize:this.label.fontSize,fontStyle:this.label.fontStyle,fontWeight:this.label.fontWeight,rotation:0,rotationCenterX:0,text:t.tickLabel,textAlign:r,textBaseline:n,x:i,y:s}}generateTicks(){const{minSpacing:t,maxSpacing:i}=this.interval,{maxTickCount:s,minTickCount:n,tickCount:r}=bz(Zd(this.scale.range),1,t,i,cD.DefaultTickCount,cD.DefaultMinSpacing),o=this.getTicksData({nice:!0,interval:this.interval.step,tickCount:r,minTickCount:n,maxTickCount:s});if(this.position==="bottom"||this.position==="top"){const a=fa.getMeasurer({font:this.label}),{domain:l}=this.scale,h=l[0]>l[1]?-1:1;let p=-1/0*h;o.ticks=o.ticks.filter(f=>Math.sign(f.translate-p)!==h?!1:(p=f.translate+a.textWidth(f.tickLabel,!0)*h,!0))}return o}getTicksData(t){var d,h;const i=[],s=t.nice?this.scale.niceDomain(t):this.scale.domain,n=this.scale.ticks(t,s),r=n.reduce((p,f)=>Math.max(p,wR(f)),0),o=[],a=fE(),l=this.label.format?this.scale.tickFormatter({domain:s,ticks:n,fractionDigits:r,specifier:this.label.format}):p=>ha(p,r);for(let p=0;p<n.length;p++){const f=n[p],v=this.scale.convert(f);if(!this.inRange(v))continue;const y=((h=(d=this.label).formatter)==null?void 0:h.call(d,{value:f,index:p,domain:s,fractionDigits:r,boundSeries:o}))??l(f),S=a(y);i.push({tick:f,tickId:S,tickLabel:y,translate:v})}return{rawTicks:n,fractionDigits:r,ticks:i}}};SA.DefaultTickCount=5;SA.DefaultMinSpacing=10;var Lde=SA;function kde(e,t){const i=qe("button",Pb("ag-charts-input ag-charts-button",t));return e.label!==void 0?i.append(e.label):(i.append(WG(e.icon)),i.ariaLabel=e.altText),i.addEventListener("click",e.onPress),Jc(i,t),i}function Pde(e,t){const i=qe("input",Pb("ag-charts-input ag-charts-checkbox",t));return i.type="checkbox",i.checked=e.checked,i.addEventListener("change",s=>e.onChange(i.checked,s)),i.addEventListener("keydown",s=>{$R(s)&&(s.preventDefault(),i.click())}),Jc(i,t),i}function Ode(e,t){const i=qe("select",Pb("ag-charts-input ag-charts-select",t));return i.append(...e.options.map(s=>{const n=qe("option");return n.value=s.value,n.textContent=s.label,n})),kt(i,"data-preventdefault",!1),i.value=e.value,i.addEventListener("change",s=>e.onChange(i.value,s)),Jc(i,t),i}function Fde(e,t){const i=qe("textarea",Pb("ag-charts-input ag-charts-textarea",t));return i.value=e.value,i.addEventListener("input",s=>e.onChange(i.value,s)),Jc(i,t),kt(i,"data-preventdefault",!1),i}function WG(e){const t=qe("span",`ag-charts-icon ag-charts-icon-${e}`);return kt(t,"aria-hidden",!0),t}function Pb(e,t){return t==null?e:`${e} ${t.class}`}var wA=class extends Ws{constructor(e=""){super(),this.x=0,this.y=0,this.commands=[],this._d="",this.d=e}get d(){return this._d}set d(e){if(e!==this._d){this._d=e,this.commands.length=0;for(const[t,i,s]of e.matchAll(/([A-Z])([0-9. ]*)/g)){const n=s.split(/\s+/g).map(Number);this.commands.push([i,n])}this.checkPathDirty()}}updatePath(){const{path:e,x:t,y:i}=this;e.clear();let s=t,n=i;for(const[r,o]of this.commands)switch(r){case"M":e.moveTo(t+o[0],i+o[1]),s=t+o[0];break;case"C":e.cubicCurveTo(t+o[0],i+o[1],t+o[2],i+o[3],t+o[4],i+o[5]),s=t+o[4],n=i+o[5];break;case"H":e.lineTo(t+o[0],n),s=i+o[0];break;case"L":e.lineTo(t+o[0],i+o[1]),s=t+o[0],n=i+o[1];break;case"V":e.lineTo(s,i+o[0]),n=i+o[0];break;case"Z":e.closePath();break;default:throw new Error(`Could not translate command '${r}' with '${o.join(" ")}'`)}e.closePath()}};R([Ve()],wA.prototype,"x",2);R([Ve()],wA.prototype,"y",2);var Oh=class extends da{constructor(e){super(),this.sourceImage=e,this.x=0,this.y=0,this.width=0,this.height=0,this.opacity=1}render(e){const{ctx:t}=e,i=this.sourceImage;i&&(t.globalAlpha=this.opacity,t.drawImage(i,0,0,i.width,i.height,this.x,this.y,this.width,this.height)),super.render(e)}};R([Re()],Oh.prototype,"x",2);R([Re()],Oh.prototype,"y",2);R([Re()],Oh.prototype,"width",2);R([Re()],Oh.prototype,"height",2);R([Re()],Oh.prototype,"opacity",2);var Nde={};Gr(Nde,{ButtonWidget:()=>Sf,NativeWidget:()=>qd,SliderWidget:()=>ZR,ToolbarWidget:()=>$C,WIDGET_HTML_EVENTS:()=>GR,Widget:()=>Eo,WidgetEventUtil:()=>ia});var DO="canvas-overlay",xA=class extends IC{constructor(e,t,i){super(),this.ctx=e,this.hideFns=[],this.moduleId=`popover-${t}`,i!=null&&i.detached?this.element=qe("div"):this.element=e.domManager.addChild(DO,this.moduleId),this.element.setAttribute("role","presentation"),this.destroyFns.push(()=>e.domManager.removeChild(DO,this.moduleId))}attachTo(e){this.element.parentElement||e.element.append(this.element)}hide(e){const{lastFocus:t=this.lastFocus}=e??{};this.element.children.length!==0&&(this.hideFns.forEach(i=>i()),t==null||t.focus(),this.lastFocus=void 0)}removeChildren(){this.element.replaceChildren()}showWithChildren(e,t){if(!this.element.parentElement)throw new Error("Can not show popover that has not been attached to a parent.");const i=qe("div","ag-charts-popover");if(t.ariaLabel!=null&&i.setAttribute("aria-label",t.ariaLabel),t.class!=null&&i.classList.add(t.class),i.replaceChildren(...e),this.element.replaceChildren(i),this.hideFns.push(()=>this.removeChildren()),t.onHide&&this.hideFns.push(t.onHide),t.initialFocus&&t.sourceEvent){const s=YR(t.sourceEvent);s!==void 0&&(this.lastFocus=s,this.initialFocus=t.initialFocus)}return i}getPopoverElement(){return this.element.firstElementChild}updatePosition(e){var i;const t=this.getPopoverElement();t&&(t.style.setProperty("right","unset"),t.style.setProperty("bottom","unset"),e.x!=null&&t.style.setProperty("left",`${Math.floor(e.x)}px`),e.y!=null&&t.style.setProperty("top",`${Math.floor(e.y)}px`),(i=this.initialFocus)==null||i.focus(),this.initialFocus=void 0)}},UG=class extends xA{setAnchor(e,t){this.anchor=e,this.fallbackAnchor=t,this.updatePosition(e),this.repositionWithinBounds()}showWithChildren(e,t){const i=t.anchor??this.anchor,s=t.fallbackAnchor??this.fallbackAnchor,n=super.showWithChildren(e,t);return i&&this.setAnchor(i,s),Pt().requestAnimationFrame(()=>{this.repositionWithinBounds()}),n}repositionWithinBounds(){const{anchor:e,ctx:t,fallbackAnchor:i}=this,s=this.getPopoverElement();if(!e||!s)return;const n=t.domManager.getBoundingClientRect(),{offsetWidth:r,offsetHeight:o}=s;let a=Be(0,e.x,n.width-r),l=Be(0,e.y,n.height-o);a!==e.x&&(i==null?void 0:i.x)!=null&&(a=Be(0,i.x-r,n.width-r)),l!==e.y&&(i==null?void 0:i.y)!=null&&(l=Be(0,i.y-o,n.height-o)),this.updatePosition({x:a,y:l})}},zde=class extends UG{show(e){const t=e.items.map(s=>this.createRow(e,s)),i=this.showWithChildren(t,e);i.classList.add("ag-charts-menu"),i.setAttribute("role","menu"),this.menuCloser=F3({orientation:"vertical",menu:i,buttons:t,sourceEvent:e.sourceEvent,closeCallback:()=>this.hide()}),this.hideFns.push(()=>{var s;(s=this.menuCloser)==null||s.finishClosing(),this.menuCloser=void 0})}createRow(e,t){const{menuItemRole:i="menuitem"}=e,s=t.value===e.value,n=qe("div","ag-charts-menu__row");if(n.setAttribute("role",i),i==="menuitemradio"&&n.setAttribute("aria-checked",(e.value===t.value).toString()),typeof t.value=="string"&&(n.dataset.popoverId=t.value),n.classList.toggle("ag-charts-menu__row--active",s),t.icon!=null){const l=qe("span",`ag-charts-menu__icon ${VC(t.icon)}`);n.appendChild(l)}const r=t.strokeWidth!=null;if(r&&(n.classList.toggle("ag-charts-menu__row--stroke-width-visible",r),n.style.setProperty("--strokeWidth",r?`${t.strokeWidth}px`:null)),t.label!=null){const l=qe("span","ag-charts-menu__label");l.textContent=this.ctx.localeManager.t(t.label),n.appendChild(l)}"altText"in t&&(n.ariaLabel=this.ctx.localeManager.t(t.altText));const o=()=>{var l;(l=e.onPress)==null||l.call(e,t)},a=l=>{$R(l)&&(o(),l.preventDefault(),l.stopPropagation())};return n.addEventListener("keydown",a),n.addEventListener("click",a),n.addEventListener("mousemove",()=>{n.focus({preventScroll:!0})}),n}},$G=class extends xA{constructor(){super(...arguments),this.dragged=!1}setDragHandle(e){e.addListener("drag-start",t=>{e.addClass(this.dragHandleDraggingClass),this.onDragStart(t)}),e.addListener("drag-move",this.onDragMove.bind(this)),e.addListener("drag-end",()=>{e.removeClass(this.dragHandleDraggingClass),this.onDragEnd.bind(this)})}onDragStart(e){const t=this.getPopoverElement();t&&(e.sourceEvent.preventDefault(),this.dragged=!0,this.dragStartState={client:md.from(e.clientX,e.clientY),position:md.from(Number(t.style.getPropertyValue("left").replace("px","")),Number(t.style.getPropertyValue("top").replace("px","")))})}onDragMove(e){const{dragStartState:t}=this,i=this.getPopoverElement();if(!t||!i)return;const s=md.sub(md.from(e.clientX,e.clientY),t.client),n=md.add(t.position,s),r=this.ctx.domManager.getBoundingClientRect(),o={};n.x>=0&&n.x+i.offsetWidth<=r.width&&(o.x=n.x),n.y>=0&&n.y+i.offsetHeight<=r.height&&(o.y=n.y),this.updatePosition(o)}onDragEnd(){this.dragStartState=void 0}},Qf=class extends Ge{};R([A()],Qf.prototype,"icon",2);R([A()],Qf.prototype,"label",2);R([A()],Qf.prototype,"ariaLabel",2);R([A()],Qf.prototype,"tooltip",2);var YG=class extends Sf{constructor(e){super(),this.localeManager=e}update(e){const{localeManager:t}=this;e.tooltip&&(this.elem.title=t.t(e.tooltip));let i="";if(e.icon!=null&&(i=`<span class="${VC(e.icon)} ag-charts-toolbar__icon"></span>`),e.label!=null){const s=t.t(e.label);i=`${i}<span class="ag-charts-toolbar__label">${s}</span>`}this.elem.innerHTML=i}setChecked(e){kt(this.elem,"aria-checked",e)}},RO="ag-charts-toolbar__button--active",MA=class extends $C{constructor(e,t="horizontal"){super(t),this.localeManager=e,this.horizontalSpacing=10,this.verticalSpacing=10,this.events=new ma,this.hasPrefix=!1,this.buttonWidgets=[],this.addClass("ag-charts-toolbar"),this.toggleClass("ag-charts-toolbar--horizontal",t==="horizontal"),this.toggleClass("ag-charts-toolbar--vertical",t==="vertical")}addToolbarListener(e,t){return this.events.addListener(e,t)}clearButtons(){for(const e of this.buttonWidgets)e.destroy();this.buttonWidgets.splice(0)}updateButtons(e){const{buttonWidgets:t}=this;for(const[i,s]of e.entries())(this.buttonWidgets.at(i)??this.createButton(i,s)).update(s);for(let i=e.length;i<t.length;i++){const s=this.buttonWidgets.at(i);s==null||s.destroy()}this.buttonWidgets.splice(e.length),this.refreshButtonClasses()}updateButtonByIndex(e,t){var i;(i=this.buttonWidgets.at(e))==null||i.update(t)}clearActiveButton(){for(const e of this.buttonWidgets)e.toggleClass(RO,!1)}toggleActiveButtonByIndex(e){if(e!==-1)for(const[t,i]of this.buttonWidgets.entries())i.toggleClass(RO,e!=null&&e===t)}toggleButtonEnabledByIndex(e,t){var i;e!==-1&&((i=this.buttonWidgets.at(e))==null||i.setEnabled(t))}toggleSwitchCheckedByIndex(e,t){var i;e!==-1&&((i=this.buttonWidgets.at(e))==null||i.setChecked(t))}getButtonBounds(){return this.buttonWidgets.map(e=>this.getButtonWidgetBounds(e))}setButtonHiddenByIndex(e,t){var i;(i=this.buttonWidgets.at(e))==null||i.setHidden(t)}getButtonWidgetBounds(e){const t=this.getBounds(),i=e.getBounds();return new De(i.x+t.x,i.y+t.y,i.width,i.height)}refreshButtonClasses(){var r;const{buttonWidgets:e,hasPrefix:t}=this;let i,s,n;for(const[o,a]of e.entries())i=!t&&o===0||n!=a.section,s=o===e.length-1||a.section!=((r=e.at(o+1))==null?void 0:r.section),a.toggleClass("ag-charts-toolbar__button--first",i),a.toggleClass("ag-charts-toolbar__button--last",s),a.toggleClass("ag-charts-toolbar__button--gap",o>0&&i),n=a.section}createButton(e,t){const i=this.createButtonWidget();return i.addClass("ag-charts-toolbar__button"),i.addListener("click",s=>{const n={index:e,...t instanceof Ge?t.toJson():t},r=this.getButtonWidgetBounds(i);this.events.dispatch("button-pressed",{event:s,button:n,buttonBounds:r})}),i.addListener("focus",()=>{this.events.dispatch("button-focused",{button:{index:e}})}),t.section&&(i.section=t.section),this.buttonWidgets.push(i),this.addChild(i),i}},Bde=class extends MA{createButtonWidget(){return new YG(this.localeManager)}},Gde=class extends $G{constructor(e,t,i){super(e,t),this.onPopoverMoved=i,this.dragHandleDraggingClass="ag-charts-floating-toolbar__drag-handle--dragging"}show(e,t={}){this.showWithChildren(e,{...t,class:"ag-charts-floating-toolbar"})}hide(){this.dragged=!1,super.hide()}getBounds(){const e=this.getPopoverElement();return new De((e==null?void 0:e.offsetLeft)??0,(e==null?void 0:e.offsetTop)??0,(e==null?void 0:e.offsetWidth)??0,(e==null?void 0:e.offsetHeight)??0)}hasBeenDragged(){return this.dragged}setAnchor(e,t,i){const s=this.getPopoverElement();if(!s)return;const n=e.position??"above",{offsetWidth:r,offsetHeight:o}=s;let a=e.y-o-i,l=e.x-r/2;n==="below"?a=e.y+i:n==="right"?(a=e.y-o/2,l=e.x+t):n==="above-left"&&(l=e.x),this.updatePosition({x:l,y:a})}ignorePointerEvents(){const e=this.getPopoverElement();e&&(e.style.pointerEvents="none")}capturePointerEvents(){const e=this.getPopoverElement();e&&(e.style.pointerEvents="unset")}updatePosition(e){const t=this.getBounds(),i=this.ctx.domManager.getBoundingClientRect();e.x=Math.floor(Be(0,e.x,i.width-t.width)),e.y=Math.floor(Be(0,e.y,i.height-t.height)),super.updatePosition(e),this.onPopoverMoved()}},Hde=class extends MA{constructor(e,t){super(e.localeManager),this.hasPrefix=!0,this.popover=new Gde(e,t,this.onPopoverMoved.bind(this)),this.dragHandle=new jde(e.localeManager.t("toolbarAnnotationsDragHandle")),this.popover.setDragHandle(this.dragHandle)}show(e={}){this.popover.show([this.dragHandle.getElement(),this.getElement()],e)}hide(){this.popover.hide()}setAnchor(e){this.popover.setAnchor(e,this.horizontalSpacing,this.verticalSpacing)}hasBeenDragged(){return this.popover.hasBeenDragged()}ignorePointerEvents(){this.popover.ignorePointerEvents()}capturePointerEvents(){this.popover.capturePointerEvents()}onPopoverMoved(){var i;const e=this.popover.getBounds();if((i=this.popoverBounds)!=null&&i.equals(e))return;this.popoverBounds=e.clone();const t=this.getButtonBounds();this.events.dispatch("toolbar-moved",{popoverBounds:e,buttonBounds:t})}getButtonWidgetBounds(e){const t=this.popover.getBounds(),i=super.getButtonWidgetBounds(e),s=this.dragHandle.getBounds();return new De(i.x+t.x-s.width,i.y+t.y,i.width,i.height)}},jde=class extends qd{constructor(e){super(qe("div","ag-charts-floating-toolbar__drag-handle"));const t=new qd(qe("span",`${VC("drag-handle")} ag-charts-toolbar__icon`));t.setAriaHidden(!0),this.addChild(t),this.elem.title=e}},Vde={...Oz,...Fz};gl.create.bind(gl),gl.__createSparkline.bind(gl);function EO(e,t){return{...e,container:t.current}}function _de(e,t){const i=I.forwardRef(function(n,r){const{options:o,style:a,className:l}=n,d=I.useRef(null),h=I.useRef();I.useLayoutEffect(()=>{const f=e(EO(o,d));return h.current=f,()=>{f.destroy()}},[]);const p=h.current===void 0;return I.useEffect(()=>{var f;p||(f=h.current)==null||f.update(EO(o,d)).catch(v=>console.error(v))},[o]),I.useImperativeHandle(r,()=>h.current,[]),I.useMemo(()=>I.createElement("div",{ref:d,style:a,className:l}),[a,l])});return i.displayName=t,i}var Wde=_de(e=>gl.create(e),"AgCharts");function Ude({data:e}){const t=new Date().getFullYear(),[i,s]=I.useState({theme:"ag-material-dark",background:{fill:"#242424"},title:{text:"Ratings over Time"},subtitle:{text:"via IMDb"},series:[{type:"scatter",xKey:"year",xName:"Year",yKey:"rating",yName:"Rating",data:[]}],axes:[{type:"number",position:"bottom",title:{text:"Year"},max:t},{type:"number",position:"left",title:{text:"Rating"},min:0,max:10}]});return I.useEffect(()=>{if(!e||e.length===0)return;(async()=>{const r=e.map(async a=>{try{const l=await fetch(`${El}/movies/data/${a.movieId}`);if(!l.ok)throw new Error("failed fetching movie data!");return{year:(await l.json()).year,rating:a.imdbRating}}catch{return null}}),o=(await Promise.all(r)).filter(Boolean);s(a=>({...a,series:[{...a.series[0],data:o}]}))})()},[e]),oe.jsx(Wde,{options:i})}Cn.registerModules([EC]);function $de(){const{user:e,authFetch:t}=yC(),i=mC(),s=ga(),[n,r]=I.useState(""),o=I.useRef(),a=100,l=10,d=async()=>{try{const y=await t(`${El}${s.pathname}`);if(!y.ok)throw new Error("fetch failed");const S=await y.json();r(S)}catch(y){console.error("Failed to retrieve person data:",y)}},h=y=>{i(`/movies/${y.movieId}`)},[p,f]=I.useState([{field:"movieName",headerName:"Movie",width:250,cellRenderer:y=>oe.jsx("span",{style:{color:"white",cursor:"pointer",textDecoration:"underline"},onClick:()=>h(y.data),children:y.value})},{field:"category",width:"150px",headerName:"Role",cellStyle:{textTransform:"capitalize"}},{field:"characters"},{field:"imdbRating",width:"75px",headerName:"Rating"}]),v={resizable:!1,cellStyle:{textAlign:"left"},sortable:!1};return I.useEffect(()=>{if(o.current&&n.roles){const y={getRows:S=>{S.successCallback(n.roles,n.roles.length)}};o.current.api.setGridOption("datasource",y)}},[n.roles]),I.useEffect(()=>{e!=null?d():i("/not-found")},[s.pathname,e]),oe.jsxs("div",{children:[oe.jsx("h2",{children:n.name}),oe.jsx("div",{style:{textAlign:"center"},children:n.birthYear?`${n.birthYear} - ${n.deathYear||""}`:""}),oe.jsxs("div",{style:{display:"flex"},children:[oe.jsx("div",{style:{height:"400px",width:"700px",marginRight:"10px"},children:oe.jsx(pR,{ref:o,theme:lR.withPart(aR),rowModelType:"infinite",cacheBlockSize:a,maxBlocksInCache:l,columnDefs:p,defaultColDef:v})}),oe.jsx("div",{style:{height:"400px",width:"500px"},children:oe.jsx(Ude,{data:n.roles})})]})]})}function Yde(){return oe.jsxs("div",{children:[oe.jsx("h1",{children:"404 - page not found"}),"The page you're looking for doesn't exist or could not be loaded."]})}function Kde(){const[e,t]=I.useState(!1),[i,s]=I.useState(!1),n=()=>t(!e),r=()=>s(!i);return oe.jsx(oe.Fragment,{children:oe.jsxs(dU,{children:[oe.jsxs("div",{children:[oe.jsx("h1",{children:"movie browser"}),oe.jsx("div",{children:oe.jsx(SU,{toggleRegister:n,toggleLogin:r})}),oe.jsx(wU,{isOpen:e,toggle:n}),oe.jsx(xU,{isOpen:i,toggle:r})]}),oe.jsx("div",{style:{padding:"15px"},children:oe.jsxs(j5,{children:[oe.jsx(hd,{path:"/",element:oe.jsx(DU,{})}),oe.jsx(hd,{path:"/movies",element:oe.jsx(Uk,{})}),oe.jsx(hd,{path:"/movies/:id",element:oe.jsx(Uk,{})}),oe.jsx(hd,{path:"/people/:id",element:oe.jsx($de,{})}),oe.jsx(hd,{path:"*",element:oe.jsx(Yde,{})})]})}),oe.jsx("div",{children:oe.jsx("p",{className:"info",children:"Jayden Weaver - n10807144 - April 2025"})})]})})}const El="http://4.237.58.241:3000";yj.createRoot(document.getElementById("root")).render(oe.jsx(I.StrictMode,{children:oe.jsx(bU,{children:oe.jsx(Kde,{})})}));
